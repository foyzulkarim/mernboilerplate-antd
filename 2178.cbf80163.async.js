(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2178],{72178:function(xt,S,d){"use strict";d.d(S,{sg:function(){return k0},yi:function(){return R0},aC:function(){return z0},x1:function(){return K0},Kj:function(){return Q0},Ex:function(){return im},Fk:function(){return om},TZ:function(){return fm},m:function(){return bm},cQ:function(){return Sm},kB:function(){return Am}});var w={};d.r(w),d.d(w,{Base:function(){return wa},Circle:function(){return uw},Ellipse:function(){return hw},Image:function(){return vw},Line:function(){return pw},Marker:function(){return mw},Path:function(){return pf},Polygon:function(){return _w},Polyline:function(){return Ow},Rect:function(){return Dw},Text:function(){return Rw}});var O={};d.r(O),d.d(O,{Canvas:function(){return vv},Event:function(){return De.Event},Group:function(){return cf},Shape:function(){return w},__esModule:function(){return Nw.X},version:function(){return Vw}});var I={};d.r(I),d.d(I,{Base:function(){return ha},Circle:function(){return Kw},Dom:function(){return Qw},Ellipse:function(){return qw},Image:function(){return eS},Line:function(){return nS},Marker:function(){return aS},Path:function(){return sS},Polygon:function(){return uS},Polyline:function(){return hS},Rect:function(){return gS},Text:function(){return SS}});var L={};d.r(L),d.d(L,{Canvas:function(){return Sv},Event:function(){return De.Event},Group:function(){return yf},Shape:function(){return I},version:function(){return HS}});var P={};d.r(P),d.d(P,{Chart:function(){return hb},ComponentController:function(){return Ho},DIRECTION:function(){return Tt},Event:function(){return Fr},Facet:function(){return Pr},Geometry:function(){return Za},GeometryLabel:function(){return al},Interaction:function(){return Ia},InteractionAction:function(){return tn},LAYER:function(){return mt},Types:function(){return Gb},Util:function(){return ud},VERSION:function(){return zb},View:function(){return qu},getActionClass:function(){return Vi},getAnimation:function(){return ef},getEngine:function(){return rt},getFacet:function(){return Hr},getGeometryLabel:function(){return Rc},getGeometryLabelLayout:function(){return Nc},getInteraction:function(){return ka},getShapeFactory:function(){return nf},getTheme:function(){return St},registerAction:function(){return Mr},registerAnimation:function(){return qn},registerComponentController:function(){return nn},registerEngine:function(){return et},registerFacet:function(){return zr},registerGeometry:function(){return ba},registerGeometryLabel:function(){return ys},registerGeometryLabelLayout:function(){return Eo},registerInteraction:function(){return ln},registerShape:function(){return fn},registerShapeFactory:function(){return lo},registerTheme:function(){return Dt}});var T={};d.r(T),d.d(T,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var M={};d.r(M),d.d(M,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var E={};d.r(E),d.d(E,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var p={};d.r(p),d.d(p,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var b={};d.r(b),d.d(b,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var m={};d.r(m),d.d(m,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var x={};d.r(x),d.d(x,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var g={};d.r(g),d.d(g,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var C={};d.r(C),d.d(C,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var _={};d.r(_),d.d(_,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var B={};d.r(B),d.d(B,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var D={};d.r(D),d.d(D,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var W={};d.r(W),d.d(W,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var Z={};d.r(Z),d.d(Z,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var X={};d.r(X),d.d(X,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var j={};d.r(j),d.d(j,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var it={};d.r(it),d.d(it,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var tt={};d.r(tt),d.d(tt,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var yt={};d.r(yt),d.d(yt,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var dt={};d.r(dt),d.d(dt,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var Ct={};d.r(Ct),d.d(Ct,{EVENT_MAP:function(){return on},onEvent:function(){return $n}});var F={};d.r(F),d.d(F,{calculationItemsBBox:function(){return _m},cloneEvent:function(){return nu},formatPadding:function(){return Nh},isNaN:function(){return eo},isViewportChanged:function(){return Pm},processParallelEdges:function(){return PR}});var z={};d.r(z),d.d(z,{getColorsWithSubjectColor:function(){return Rm},mixColor:function(){return Da}});var G={};d.r(G),d.d(G,{Line:function(){return Fo},applyMatrix:function(){return Fs},distance:function(){return Rs},floydWarshall:function(){return Vh},fractionToLine:function(){return Uh},getAdjMatrix:function(){return Hh},getBBoxBoundLine:function(){return jh},getCircleCenterByPoints:function(){return Xh},getCircleIntersectByPoint:function(){return Qm},getDegree:function(){return lu},getEllipseIntersectByPoint:function(){return Jm},getLineIntersect:function(){return Ds},getPointsCenter:function(){return ax},getRectIntersectByPoint:function(){return $m},intersectBBox:function(){return nx},invertMatrix:function(){return qm},isPointInPolygon:function(){return Ns},isPointsOverlap:function(){return Zh},isPolygonsIntersect:function(){return Wh},itemIntersectByLine:function(){return ix},move:function(){return rx},pointLineSquareDist:function(){return ox},pointRectSquareDist:function(){return sx},rotate:function(){return l3},scale:function(){return s3},scaleMatrix:function(){return tx},squareDist:function(){return uu},translate:function(){return ex}});var Y={};d.r(Y),d.d(Y,{getClosedSpline:function(){return Kh},getControlPoint:function(){return fu},getSpline:function(){return lx},paddedHull:function(){return dx},pathToPoints:function(){return hu},pointsToPolygon:function(){return ux},roundedHull:function(){return vx}});var q={};d.r(q),d.d(q,{getBBox:function(){return vu},getChartRegion:function(){return k3},getComboBBox:function(){return tc},getLabelPosition:function(){return du},getLetterWidth:function(){return Tx},getLoopCfgs:function(){return Cx},getTextSize:function(){return Px},plainCombosToTrees:function(){return Jh},radialLayout:function(){return Ax},reconstructTree:function(){return qh},traverseTree:function(){return zi},traverseTreeUp:function(){return va}});var $={};d.r($),d.d($,{adjMatrix:function(){return Bu},breadthFirstSearch:function(){return A9},degree:function(){return v1},depthFirstSearch:function(){return U1},detectAllCycles:function(){return _9},detectAllDirectedCycle:function(){return Q1},detectAllUndirectedCycle:function(){return $1},detectDirectedCycle:function(){return L9},findAllPath:function(){return D9},findShortestPath:function(){return B9},floydWarshall:function(){return y1},getConnectedComponents:function(){return K1},getPageRank:function(){return H9},minimumSpanningTree:function(){return X9}});var J=d(67294),U=d(67984),K=d(80123),f=d(49242),mt;(function(i){i.FORE="fore",i.MID="mid",i.BG="bg"})(mt||(mt={}));var Tt;(function(i){i.TOP="top",i.TOP_LEFT="top-left",i.TOP_RIGHT="top-right",i.RIGHT="right",i.RIGHT_TOP="right-top",i.RIGHT_BOTTOM="right-bottom",i.LEFT="left",i.LEFT_TOP="left-top",i.LEFT_BOTTOM="left-bottom",i.BOTTOM="bottom",i.BOTTOM_LEFT="bottom-left",i.BOTTOM_RIGHT="bottom-right",i.RADIUS="radius",i.CIRCLE="circle",i.NONE="none"})(Tt||(Tt={}));var at;(function(i){i.AXIS="axis",i.GRID="grid",i.LEGEND="legend",i.TOOLTIP="tooltip",i.ANNOTATION="annotation",i.OTHER="other"})(at||(at={}));var Pt={FORE:3,MID:2,BG:1},wt;(function(i){i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_PAINT="beforepaint",i.AFTER_PAINT="afterpaint",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata",i.BEFORE_CLEAR="beforeclear",i.AFTER_CLEAR="afterclear",i.BEFORE_DESTROY="beforedestroy"})(wt||(wt={}));var Et;(function(i){i.MOUSE_ENTER="plot:mouseenter",i.MOUSE_DOWN="plot:mousedown",i.MOUSE_MOVE="plot:mousemove",i.MOUSE_UP="plot:mouseup",i.MOUSE_LEAVE="plot:mouseleave",i.TOUCH_START="plot:touchstart",i.TOUCH_MOVE="plot:touchmove",i.TOUCH_END="plot:touchend",i.TOUCH_CANCEL="plot:touchcancel",i.CLICK="plot:click",i.DBLCLICK="plot:dblclick",i.CONTEXTMENU="plot:contextmenu",i.LEAVE="plot:leave",i.ENTER="plot:enter"})(Et||(Et={}));var Rt;(function(i){i.ACTIVE="active",i.INACTIVE="inactive",i.SELECTED="selected",i.DEFAULT="default"})(Rt||(Rt={}));var Nt=["color","shape","size"],kt="_origin",_t=1,ht=1,ft=.25,Mt={};function rt(i){var r=Mt[i];if(!r)throw new Error("G engine '"+i+"' is not exist, please register it at first.");return r}function et(i,r){Mt[i]=r}var lt=d(6056),st=d(45442);function At(i){var r=getComputedStyle(i);return{width:(i.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(i.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function Ot(i){return typeof i=="number"&&!isNaN(i)}function Qt(i,r,t,e){var n=t,a=e;if(r){var o=At(i);n=o.width?o.width:n,a=o.height?o.height:a}return{width:Math.max(Ot(n)?n:_t,_t),height:Math.max(Ot(a)?a:ht,ht)}}function ve(i){var r=i.parentNode;r&&r.removeChild(i)}var fe=d(90494),ce=function(i){(0,K.__extends)(r,i);function r(t){var e=i.call(this)||this;e.destroyed=!1;var n=t.visible,a=n===void 0?!0:n;return e.visible=a,e}return r.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},r.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(fe.default),Ae=ce,De=d(65722),rr=d(68060),Je=d(25228),Er=d(58368),Jr=d(13541),Ar=d(72469),Qr=d(51441),Un=Qr.Axis.Line,ii=Qr.Axis.Circle,wi=Qr.Grid.Line,Si=Qr.Grid.Circle,Wt=Qr.Legend.Category,Kt=Qr.Legend.Continuous,re=Qr.Tooltip.Html,oe=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function me(i){var r="linear";return oe.test(i)?r="time":(0,f.isString)(i)&&(r="cat"),r}function be(i,r,t){var e=r||[];if((0,f.isNumber)(i)||(0,f.isNil)((0,f.firstValue)(e,i))&&(0,f.isEmpty)(t)){var n=(0,Ar.getScale)("identity");return new n({field:i.toString(),values:[i]})}var a=(0,f.valuesOfKey)(e,i),o=(0,f.get)(t,"type",me(a[0])),s=(0,Ar.getScale)(o);return new s((0,K.__assign)({field:i,values:a},t))}function we(i,r){if(i.type!=="identity"&&r.type!=="identity"){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);i.change(t)}}function Ee(i){return i.alias||i.field}var de=d(31437);function Xe(i){var r,t;switch(i){case Tt.TOP:r={x:0,y:1},t={x:1,y:1};break;case Tt.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case Tt.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case Tt.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}function ke(i){var r,t;return i.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}function qe(i,r){var t={start:{x:0,y:0},end:{x:0,y:0}};i.isRect?t=Xe(r):i.isPolar&&(t=ke(i));var e=t.start,n=t.end;return{start:i.convert(e),end:i.convert(n)}}function ir(i,r){if(i.isRect)return i.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(r)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(r)?-1:1;if(i.isPolar){var t=i.x.start;return t<0?-1:1}return 1}function er(i){var r=i.start,t=i.end;return r.x===t.x}function or(i,r){var t=i.start,e=i.end,n=er(i);return n?(t.y-e.y)*(r.x-t.x)>0?1:-1:(e.x-t.x)*(t.y-r.y)>0?-1:1}function sr(i,r){return(0,f.get)(i,["components","axis",r],{})}function gr(i){var r=i.x,t=i.y,e=i.circleCenter,n=t.start>t.end,a=i.isTransposed?i.convert({x:n?0:1,y:0}):i.convert({x:0,y:n?0:1}),o=[a.x-e.x,a.y-e.y],s=[1,0],l=a.y>e.y?de.angle(o,s):de.angle(o,s)*-1,u=l+(r.end-r.start),h=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2));return{center:e,radius:h,startAngle:l,endAngle:u}}function Qe(i,r){return(0,f.isBoolean)(i)?i===!1?!1:{}:(0,f.get)(i,[r])}function wr(i,r){return(0,f.get)(i,"position",r)}function Ir(i,r){return(0,f.get)(r,["title","text"],Ee(i))}var Pr=function(){function i(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=(0,f.deepMix)({},this.getDefaultCfg(),t)}return i.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},i.prototype.render=function(){this.renderViews()},i.prototype.update=function(){},i.prototype.clear=function(){this.clearFacetViews()},i.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},i.prototype.facetToView=function(r){var t=r.region,e=r.data,n=r.padding,a=n===void 0?this.cfg.padding:n,o=this.view.createView({region:t,padding:a});o.data(e||[]),r.view=o,this.beforeEachView(o,r);var s=this.cfg.eachView;return s&&s(o,r),this.afterEachView(o,r),o},i.prototype.createContainer=function(){var r=this.view.getLayer(mt.FORE);return r.addGroup()},i.prototype.renderViews=function(){this.createFacetViews()},i.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},i.prototype.clearFacetViews=function(){var r=this;(0,f.each)(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},i.prototype.getFieldValues=function(r,t){var e=[],n={};return(0,f.each)(r,function(a){var o=a[t];!(0,f.isNil)(o)&&!n[o]&&(e.push(o),n[o]=!0)}),e},i.prototype.getRegion=function(r,t,e,n){var a=1/(t===0?1:t),o=1/(r===0?1:r),s={x:a*e,y:o*n},l={x:a*(e+1),y:o*(n+1)};return{start:s,end:l}},i.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},i.prototype.getDefaultTitleCfg=function(){var r=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:r}}},i.prototype.processAxis=function(r,t){var e=r.getOptions(),n=e.coordinate,a=r.geometries,o=(0,f.get)(n,"type","rect");if(o==="rect"&&a.length){(0,f.isNil)(e.axes)&&(e.axes={});var s=e.axes,l=a[0].getXYFields(),u=l[0],h=l[1],c=Qe(s,u),v=Qe(s,h);c!==!1&&(e.axes[u]=this.getXAxisOption(u,s,c,t)),v!==!1&&(e.axes[h]=this.getYAxisOption(h,s,v,t))}},i.prototype.getFacetDataFilter=function(r){return function(t){return(0,f.every)(r,function(e){var n=e.field,a=e.value;return!(0,f.isNil)(a)&&n?t[n]===a:!0})}},i}(),kr={},Hr=function(i){return kr[(0,f.lowerCase)(i)]},zr=function(i,r){kr[(0,f.lowerCase)(i)]=r},Nn=function(){function i(r,t){this.context=r,this.cfg=t,r.addAction(this)}return i.prototype.applyCfg=function(r){(0,f.assign)(this,r)},i.prototype.init=function(){this.applyCfg(this.cfg)},i.prototype.destroy=function(){this.context.removeAction(this),this.context=null},i}(),tn=Nn,zn=function(i){(0,K.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.callback=null},r}(tn),ai=zn,Qn={};function Ri(i,r){var t=Qn[i],e=null;if(t){var n=t.ActionClass,a=t.cfg;e=new n(r,a),e.name=i,e.init()}return e}function Vi(i){var r=Qn[i];return(0,f.get)(r,"ActionClass")}function Mr(i,r,t){Qn[i]={ActionClass:r,cfg:t}}function ui(i){delete Qn[i]}function fi(i,r){var t=new ai(r);return t.callback=i,t.name="callback",t}function ti(i){if((0,f.isEmpty)(i))return null;var r=i[0].x,t=i[0].x,e=i[0].y,n=i[0].y;return(0,f.each)(i,function(a){r=r>a.x?a.x:r,t=t<a.x?a.x:t,e=e>a.y?a.y:e,n=n<a.y?a.y:n}),{minX:r,maxX:t,minY:e,maxY:n,centerX:(r+t)/2,centerY:(e+n)/2}}function Sn(i,r,t,e){return{x:i+t*Math.cos(e),y:r+t*Math.sin(e)}}function hi(i,r,t,e,n,a){a===void 0&&(a=0);var o=Sn(i,r,t,e),s=Sn(i,r,t,n),l=Sn(i,r,a,e),u=Sn(i,r,a,n);if(n-e==Math.PI*2){var h=Sn(i,r,t,e+Math.PI),c=Sn(i,r,a,e+Math.PI),v=[["M",o.x,o.y],["A",t,t,0,1,1,h.x,h.y],["A",t,t,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(v.push(["A",a,a,0,1,0,c.x,c.y]),v.push(["A",a,a,0,1,0,u.x,u.y])),v.push(["M",o.x,o.y]),v.push(["Z"]),v}var y=n-e<=Math.PI?0:1,A=[["M",o.x,o.y],["A",t,t,0,y,1,s.x,s.y],["L",u.x,u.y]];return a&&A.push(["A",a,a,0,y,0,l.x,l.y]),A.push(["L",o.x,o.y]),A.push(["Z"]),A}function Hi(i,r,t,e,n){var a=Sn(i,r,t,e),o=Sn(i,r,t,n);if((0,f.isNumberEqual)(n-e,Math.PI*2)){var s=Sn(i,r,t,e+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var l=n-e<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,l,1,o.x,o.y]]}function _i(i,r){var t=i.points,e=ti(t),n,a,o=r.startAngle,s=r.endAngle,l=s-o;return r.isTransposed?(n=e.maxY*l,a=e.minY*l):(n=e.maxX*l,a=e.minX*l),n+=o,a+=o,{startAngle:a,endAngle:n}}function Ni(i,r){if((0,f.isNumber)(i)&&(0,f.isNumber)(r))return[i,r];for(var t=-1,e=0,n=0,a,o=i.length-1,s,l=0;++t<i.length;)a=o,o=t,l+=s=i[a]*r[o]-i[o]*r[a],e+=(i[a]+i[o])*s,n+=(r[a]+r[o])*s;return l*=3,[e/l,n/l]}function Zn(i,r){var t=i.attr(),e=r.attr();return(0,f.each)(t,function(n,a){e[a]===void 0&&(e[a]=void 0)}),e}function ea(i,r,t){var e=Math.min(r,t),n=Math.max(r,t);return i>=e&&i<=n}function pa(i,r,t){if((0,f.isString)(i))return i.padEnd(r,t);if((0,f.isArray)(i)){var e=i.length;if(e<r)for(var n=r-e,a=0;a<n;a++)i.push(t)}return i}function Xn(i,r){return r.forEach(function(t){delete i[t]}),i}function ci(i,r,t){r===void 0&&(r=[]),t===void 0&&(t={});for(var e=0,n=i;e<n.length;e++){var a=n[e];t[a]||(r.push(a),t[a]=!0)}return r}function Li(i){if(i.isPolar&&!i.isTransposed)return(i.endAngle-i.startAngle)*i.getRadius();var r=i.convert({x:0,y:0}),t=i.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function ia(i){if(i.isPolar){var r=i.startAngle,t=i.endAngle;return t-r==Math.PI*2}return!1}function Oi(i,r){var t=i.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function ga(i,r){var t=!1;if(i)if(i.type==="theta"){var e=i.start,n=i.end;t=ea(r.x,e.x,n.x)&&ea(r.y,e.y,n.y)}else{var a=i.invert(r);t=ea(a.x,0,1)&&ea(a.y,0,1)}return t}function vi(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function La(i,r){r===void 0&&(r=0);var t=i.start,e=i.end,n=i.getWidth(),a=i.getHeight();if(i.isPolar){var o=i.startAngle,s=i.endAngle,l=i.getCenter(),u=i.getRadius();return{type:"path",startState:{path:hi(l.x,l.y,u+r,o,o)},endState:function(c){var v=(s-o)*c+o,y=hi(l.x,l.y,u+r,o,v);return{path:y}},attrs:{path:hi(l.x,l.y,u+r,o,s)}}}var h;return i.isTransposed?h={height:a+r*2}:h={width:n+r*2},{type:"rect",startState:{x:t.x-r,y:e.y-r,width:i.isTransposed?n+r*2:0,height:i.isTransposed?0:a+r*2},endState:h,attrs:{x:t.x-r,y:e.y-r,width:n+r*2,height:a+r*2}}}function aa(i,r){var t=[];if(i.length){t.push(["M",i[0].x,i[0].y]);for(var e=1,n=i.length;e<n;e+=1){var a=i[e];t.push(["L",a.x,a.y])}r&&t.push(["Z"])}return t}function oa(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convert({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function Wa(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],u=e?"y":"x",h=Math.abs(s[u]-o[u])*(a-n),c=s[u]>=o[u]?1:0,v=h>Math.PI?1:0,y=t.convert(s),A=Oi(t,y);if(A>=.5)if(h===Math.PI*2){var k={x:(s.x+o.x)/2,y:(s.y+o.y)/2},R=t.convert(k);l.push(["A",A,A,0,v,c,R.x,R.y]),l.push(["A",A,A,0,v,c,y.x,y.y])}else l.push(["A",A,A,0,v,c,y.x,y.y]);return l}function Yt(i){(0,f.each)(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var Zt=function(i,r,t,e){var n=[],a,o,s=!!e,l,u;if(s){l=[Infinity,Infinity],u=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=de.min([0,0],l,v),u=de.max([0,0],u,v)}l=de.min([0,0],l,e[0]),u=de.max([0,0],u,e[1])}for(var h=0,y=i.length;h<y;h++){var v=i[h];if(t)a=i[h?h-1:y-1],o=i[(h+1)%y];else if(h===0||h===y-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var A=[0,0];A=de.sub(A,o,a),A=de.scale(A,A,r);var k=de.distance(v,a),R=de.distance(v,o),H=k+R;H!==0&&(k/=H,R/=H);var V=de.scale([0,0],A,-k),ot=de.scale([0,0],A,R),ut=de.add([0,0],v,V),bt=de.add([0,0],v,ot);s&&(ut=de.max([0,0],ut,l),ut=de.min([0,0],ut,u),bt=de.max([0,0],bt,l),bt=de.min([0,0],bt,u)),n.push(ut),n.push(bt)}return t&&n.push(n.shift()),n};function Jt(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=Zt(n,.4,e,t),l=n.length,u=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return e&&(h=s[l],c=s[l+1],v=n[0],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),u}function ge(i,r){return aa(i,r)}function ye(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return ge(i,r);for(var o=0,s=i.length;o<s;o++){var l=i[o];(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)}var u=t||[[0,0],[1,1]],h=Jt(e,r,u);return h.unshift(["M",n.x,n.y]),h}function Ce(i,r){var t=[];return(0,f.each)(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(oa(e,i));break;case"z":default:t.push(e);break}}),t}function We(i,r){var t=[],e,n,a,o;return(0,f.each)(r,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(oa(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(Wa(e,n,i)):t.push(oa(s,i));break;case"z":default:t.push(s);break}}),Yt(t),t}var Ke=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.x=r,this.y=t,this.height=n,this.width=e}return i.fromRange=function(r,t,e,n){return new i(r,t,e-r,n-t)},Object.defineProperty(i.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,f.each)(r,function(n){e.x=Math.min(n.x,e.x),e.y=Math.min(n.y,e.y),e.width=Math.max(n.maxX,e.maxX)-e.x,e.height=Math.max(n.maxY,e.maxY)-e.y}),e},i.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,f.each)(r,function(n){e.x=Math.max(n.x,e.x),e.y=Math.max(n.y,e.y),e.width=Math.min(n.maxX,e.maxX)-e.x,e.height=Math.min(n.maxY,e.maxY)-e.y}),e},i.prototype.cut=function(r,t){var e=r.width,n=r.height;switch(t){case Tt.TOP:case Tt.TOP_LEFT:case Tt.TOP_RIGHT:return i.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case Tt.RIGHT:case Tt.RIGHT_TOP:case Tt.RIGHT_BOTTOM:return i.fromRange(this.minX,this.minY,this.maxX-e,this.maxY);case Tt.BOTTOM:case Tt.BOTTOM_LEFT:case Tt.BOTTOM_RIGHT:return i.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case Tt.LEFT:case Tt.LEFT_TOP:case Tt.LEFT_BOTTOM:return i.fromRange(this.minX+e,this.minY,this.maxX,this.maxY);default:return this}},i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return new i(this.x+a,this.y+t,this.width-a-e,this.height-t-n)},i.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},i.prototype.size=function(){return this.width*this.height},i}(),Lt=function(i,r){var t=r.start,e=r.end;return new Ke(i.x+i.width*t.x,i.y+i.height*t.y,i.width*Math.abs(e.x-t.x),i.height*Math.abs(e.y-t.y))};function vt(i){return[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}var nt=d(70146);function pt(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?n:null}function Bt(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?e.attr("path"):null}function jt(i){var r=i.event,t,e=r.target;return e&&(t=e.get("element")),t}function ie(i){var r=i.event,t=r.target,e;return t&&(e=t.get("delegateObject")),e}function le(i){var r=i.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function ae(i){return i&&i.component&&i.component.isList()}function _e(i){return i&&i.component&&i.component.isSlider()}function Ie(i){var r=i.event,t=r.target;return t&&t.get("name")==="mask"}function Fe(i,r){var t=i.event.target;if(t.get("type")==="path"){var e=Bt(i,r);return e?tr(i.view,e):void 0}var n=pt(i,r);return n?Gr(i.view,n):null}function nr(i,r,t){var e=pt(i,t);if(!e)return null;var n=i.view,a=di(n,r,{x:e.x,y:e.y}),o=di(n,r,{x:e.maxX,y:e.maxY}),s={minX:a.x,minY:a.y,maxX:o.x,maxY:o.y};return Gr(r,s)}function Ne(i){var r=i.geometries,t=[];return(0,f.each)(r,function(e){var n=e.elements;t=t.concat(n)}),i.views&&i.views.length&&(0,f.each)(i.views,function(e){t=t.concat(Ne(e))}),t}function Be(i,r,t){var e=Ne(i);return e.filter(function(n){return mr(n,r)===t})}function yr(i,r){var t=i.geometries,e=[];return(0,f.each)(t,function(n){var a=n.getElementsBy(function(o){return o.hasState(r)});e=e.concat(a)}),e}function mr(i,r){var t=i.getModel(),e=t.data,n;return(0,f.isArray)(e)?n=e[0][r]:n=e[r],n}function Nr(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function Gr(i,r){var t=Ne(i),e=[];return(0,f.each)(t,function(n){var a=n.shape,o=a.getCanvasBBox();Nr(r,o)&&e.push(n)}),e}function fr(i){var r=[];return(0,f.each)(i,function(t){var e=t[0];if(e!=="A")for(var n=1;n<t.length;n=n+2)r.push([t[n],t[n+1]]);else{var a=t.length;r.push([t[a-2],t[a-1]])}}),r}function tr(i,r){var t=Ne(i),e=fr(r),n=t.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=fr(o.attr("path"));else{var l=o.getCanvasBBox();s=vt(l)}return(0,nt.default)(e,s)});return n}function Yr(i){return i.getComponents().map(function(r){return r.component})}function hn(i,r){var t=r.x-i.x,e=r.y-i.y;return Math.sqrt(t*t+e*e)}function Tn(i,r){if(i.length<=2)return ge(i,!1);var t=i[0],e=[];(0,f.each)(i,function(a){e.push(a.x),e.push(a.y)});var n=Jt(e,r,null);return n.unshift(["M",t.x,t.y]),n}function Kn(i,r){return i.x<=r.x&&i.maxX>=r.x&&i.y<=r.y&&i.maxY>r.y}function Jn(i){var r=i.parent,t=null;return r&&(t=r.views.filter(function(e){return e!==i})),t}function Oa(i,r){var t=i.getCoordinate();return t.invert(r)}function di(i,r,t){var e=Oa(i,t);return r.getCoordinate().convert(e)}function ao(i,r,t,e){var n=!1;return(0,f.each)(i,function(a){if(a[t]===r[t]&&a[e]===r[e])return n=!0,!1}),n}function sa(i,r){var t=i.getScaleByField(r);return!t&&i.views&&(0,f.each)(i.views,function(e){if(t=sa(e,r),t)return!1}),t}var Mo=function(){function i(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return i.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)return this.cacheMap[r[0]];r.length===2&&(this.cacheMap[r[0]]=r[1])},i.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},i.prototype.addAction=function(r){this.actions.push(r)},i.prototype.removeAction=function(r){var t=this.actions,e=this.actions.indexOf(r);e>=0&&t.splice(e,1)},i.prototype.getCurrentPoint=function(){var r=this.event;if(r)if(r.target instanceof HTMLElement){var t=this.view.getCanvas(),e=t.getPointByClient(r.clientX,r.clientY);return e}else return{x:r.x,y:r.y};return null},i.prototype.getCurrentShape=function(){return(0,f.get)(this.event,["gEvent","shape"])},i.prototype.isInPlot=function(){var r=this.getCurrentPoint();return r?this.view.isPointInPlot(r):!1},i.prototype.isInShape=function(r){var t=this.getCurrentShape();return t?t.get("name")===r:!1},i.prototype.isInComponent=function(r){var t=Yr(this.view),e=this.getCurrentPoint();return e?!!t.find(function(n){var a=n.getBBox();return r?n.get("name")===r&&Kn(a,e):Kn(a,e)}):!1},i.prototype.destroy=function(){this.view=null,this.event=null,(0,f.each)(this.actions.slice(),function(r){r.destroy()}),this.actions=null,this.cacheMap=null},i}(),oo=Mo,Vo=function(){function i(r,t){this.view=r,this.cfg=t}return i.prototype.init=function(){this.initEvents()},i.prototype.initEvents=function(){},i.prototype.clearEvents=function(){},i.prototype.destroy=function(){this.clearEvents()},i}(),Ia=Vo;function ja(i,r){var t=i.split(":"),e=t[0],n=r.getAction(e)||Ri(e,r);if(!n)throw new Error("There is no action named "+e);var a=t[1];return{action:n,methodName:a}}function ya(i){var r=i.action,t=i.methodName;if(r[t])r[t]();else throw new Error("Action("+r.name+") doesn't have a method called "+t)}var oi={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},la=function(i){(0,K.__extends)(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.callbackCaches={},n.emitCaches={},n.steps=e,n}return r.prototype.init=function(){this.initContext(),i.prototype.init.call(this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;(0,f.each)(this.steps,function(e,n){(0,f.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.bindEvent(a.trigger,o)})})},r.prototype.clearEvents=function(){var t=this;(0,f.each)(this.steps,function(e,n){(0,f.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.offEvent(a.trigger,o)})})},r.prototype.initContext=function(){var t=this.view,e=new oo(t);this.context=e;var n=this.steps;(0,f.each)(n,function(a){(0,f.each)(a,function(o){if((0,f.isFunction)(o.action))o.actionObject={action:fi(o.action,e),methodName:"execute"};else if((0,f.isString)(o.action))o.actionObject=ja(o.action,e);else if((0,f.isArray)(o.action)){var s=o.action;o.actionObject=[],(0,f.each)(s,function(l){o.actionObject.push(ja(l,e))})}})})},r.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t||t===oi.SHOW_ENABLE)return!0;if(t===oi.PROCESSING)return e===oi.START;if(t===oi.START)return e!==oi.PROCESSING;if(t===oi.END)return e===oi.PROCESSING||e===oi.START;if(t===oi.ROLLBACK){if(n[oi.END])return e===oi.END;if(e===oi.START)return!0}return!1},r.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return e.once&&this.emitCaches[n]?!1:e.isEnable?e.isEnable(this.context):!0}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,e){t!==oi.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},r.prototype.getKey=function(t,e){return t+e.trigger+e.action},r.prototype.getActionCallback=function(t,e){var n=this,a=this.context,o=this.callbackCaches,s=e.actionObject;if(e.action&&s){var l=this.getKey(t,e);if(!o[l]){var u=function(h){a.event=h,n.isAllowExcute(t,e)?((0,f.isArray)(s)?(0,f.each)(s,function(c){a.event=h,ya(c)}):(a.event=h,ya(s)),n.afterExecute(t,e),e.callback&&(a.event=h,e.callback(a))):a.event=null};e.debounce?o[l]=(0,f.debounce)(u,e.debounce.wait,e.debounce.immediate):e.throttle?o[l]=(0,f.throttle)(u,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):o[l]=u}return o[l]}return null},r.prototype.bindEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.addEventListener(n[1],e):n[0]==="document"?document.addEventListener(n[1],e):this.view.on(t,e)},r.prototype.offEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.removeEventListener(n[1],e):n[0]==="document"?document.removeEventListener(n[1],e):this.view.off(t,e)},r}(Ia),so=la,Ua={};function ka(i){return Ua[(0,f.lowerCase)(i)]}function ln(i,r){Ua[(0,f.lowerCase)(i)]=r}function Co(i,r,t){var e=ka(i);if(!e)return null;if((0,f.isPlainObject)(e)){var n=(0,f.mix)((0,f.clone)(e),t);return new so(r,n)}else{var a=e;return new a(r,t)}}var ei=d(7755),yn=d(31506);function ma(i){var r,t={point:{default:{fill:i.pointFillColor,r:i.pointSize,stroke:i.pointBorderColor,lineWidth:i.pointBorder,fillOpacity:i.pointFillOpacity},active:{stroke:i.pointActiveBorderColor,lineWidth:i.pointActiveBorder},selected:{stroke:i.pointSelectedBorderColor,lineWidth:i.pointSelectedBorder},inactive:{fillOpacity:i.pointInactiveFillOpacity,strokeOpacity:i.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:i.hollowPointFillColor,lineWidth:i.hollowPointBorder,stroke:i.hollowPointBorderColor,strokeOpacity:i.hollowPointBorderOpacity,r:i.hollowPointSize},active:{stroke:i.hollowPointActiveBorderColor,strokeOpacity:i.hollowPointActiveBorderOpacity},selected:{lineWidth:i.hollowPointSelectedBorder,stroke:i.hollowPointSelectedBorderColor,strokeOpacity:i.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:i.hollowPointInactiveBorderOpacity}},area:{default:{fill:i.areaFillColor,fillOpacity:i.areaFillOpacity,stroke:null},active:{fillOpacity:i.areaActiveFillOpacity},selected:{fillOpacity:i.areaSelectedFillOpacity},inactive:{fillOpacity:i.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:i.hollowAreaBorderColor,lineWidth:i.hollowAreaBorder,strokeOpacity:i.hollowAreaBorderOpacity},active:{fill:null,lineWidth:i.hollowAreaActiveBorder},selected:{fill:null,lineWidth:i.hollowAreaSelectedBorder},inactive:{strokeOpacity:i.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:i.intervalFillColor,fillOpacity:i.intervalFillOpacity},active:{stroke:i.intervalActiveBorderColor,lineWidth:i.intervalActiveBorder},selected:{stroke:i.intervalSelectedBorderColor,lineWidth:i.intervalSelectedBorder},inactive:{fillOpacity:i.intervalInactiveFillOpacity,strokeOpacity:i.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:i.hollowIntervalFillColor,stroke:i.hollowIntervalBorderColor,lineWidth:i.hollowIntervalBorder,strokeOpacity:i.hollowIntervalBorderOpacity},active:{stroke:i.hollowIntervalActiveBorderColor,lineWidth:i.hollowIntervalActiveBorder,strokeOpacity:i.hollowIntervalActiveBorderOpacity},selected:{stroke:i.hollowIntervalSelectedBorderColor,lineWidth:i.hollowIntervalSelectedBorder,strokeOpacity:i.hollowIntervalSelectedBorderOpacity},inactive:{stroke:i.hollowIntervalInactiveBorderColor,lineWidth:i.hollowIntervalInactiveBorder,strokeOpacity:i.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:i.lineBorderColor,lineWidth:i.lineBorder,strokeOpacity:i.lineBorderOpacity,fill:null,lineAppendWidth:10},active:{lineWidth:i.lineActiveBorder},selected:{lineWidth:i.lineSelectedBorder},inactive:{strokeOpacity:i.lineInactiveBorderOpacity}}},e={title:{autoRotate:!0,position:"center",style:{fill:i.axisTitleTextFillColor,fontSize:i.axisTitleTextFontSize,lineHeight:i.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},label:{autoRotate:!0,autoEllipsis:!0,autoHide:!0,offset:16,style:{fill:i.axisLabelFillColor,fontSize:i.axisLabelFontSize,lineHeight:i.axisLabelLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},line:{style:{lineWidth:i.axisLineBorder,stroke:i.axisLineBorderColor}},tickLine:{style:{lineWidth:i.axisTickLineBorder,stroke:i.axisTickLineBorderColor},alignTick:!0,length:i.axisTickLineLength},subTickLine:null,animate:!0},n={line:{type:"line",style:{stroke:i.axisGridBorderColor,lineWidth:i.axisGridBorder,lineDash:i.axisGridLineDash}},alignTick:!0,animate:!0},a={title:null,marker:{symbol:"circle",style:{r:i.legendCircleMarkerSize,fill:i.legendMarkerColor}},itemName:{spacing:5,style:{fill:i.legendItemNameFillColor,fontFamily:i.fontFamily,fontSize:i.legendItemNameFontSize,lineHeight:i.legendItemNameLineHeight,fontWeight:i.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1,maxItemWidth:.2};return{background:i.backgroundColor,defaultColor:i.brandColor,padding:"auto",fontFamily:i.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:i.paletteQualitative10,colors20:i.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(o){var s=o.geometry.coordinate;if(s.isPolar&&s.isTransposed){var l=_i(o.getModel(),s),u=l.startAngle,h=l.endAngle,c=(u+h)/2,v=7.5,y=v*Math.cos(c),A=v*Math.sin(c);return{matrix:yn.transform(null,[["t",y,A]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,K.__assign)((0,K.__assign)({},t.line.default),{lineDash:[1,1]})},active:{style:(0,K.__assign)((0,K.__assign)({},t.line.active),{lineDash:[1,1]})},inactive:{style:(0,K.__assign)((0,K.__assign)({},t.line.inactive),{lineDash:[1,1]})},selected:{style:(0,K.__assign)((0,K.__assign)({},t.line.selected),{lineDash:[1,1]})}},dash:{default:{style:(0,K.__assign)((0,K.__assign)({},t.line.default),{lineDash:[5.5,1]})},active:{style:(0,K.__assign)((0,K.__assign)({},t.line.active),{lineDash:[5.5,1]})},inactive:{style:(0,K.__assign)((0,K.__assign)({},t.line.inactive),{lineDash:[5.5,1]})},selected:{style:(0,K.__assign)((0,K.__assign)({},t.line.selected),{lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}}},components:{axis:{top:(0,f.deepMix)({},e,{position:"top",grid:null,title:null,verticalLimitLength:1/2}),bottom:(0,f.deepMix)({},e,{position:"bottom",grid:null,title:null,verticalLimitLength:1/2}),left:(0,f.deepMix)({},e,{position:"left",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),right:(0,f.deepMix)({},e,{position:"right",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),circle:(0,f.deepMix)({},e,{title:null,label:{offset:8},grid:(0,f.deepMix)({},n,{line:{type:"line"}})}),radius:(0,f.deepMix)({},e,{title:null,label:{offset:8},grid:(0,f.deepMix)({},n,{line:{type:"circle"}})})},legend:{right:(0,f.deepMix)({},a,{layout:"vertical"}),left:(0,f.deepMix)({},a,{layout:"vertical"}),top:(0,f.deepMix)({},a,{layout:"horizontal"}),bottom:(0,f.deepMix)({},a,{layout:"horizontal"}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:i.sliderRailHeight,defaultLength:i.sliderRailWidth,style:{fill:i.sliderRailFillColor,stroke:i.sliderRailBorderColor,lineWidth:i.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:i.sliderLabelTextFillColor,fontSize:i.sliderLabelTextFontSize,lineHeight:i.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},handler:{size:i.sliderHandlerWidth,style:{fill:i.sliderHandlerFillColor,stroke:i.sliderHandlerBorderColor}},slidable:!0},margin:[0,0,0,0]},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:i.tooltipCrosshairsBorderColor,lineWidth:i.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r[""+ei.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:i.tooltipContainerFillColor,opacity:i.tooltipContainerFillOpacity,boxShadow:i.tooltipContainerShadow,borderRadius:i.tooltipContainerBorderRadius+"px",color:i.tooltipTextFillColor,fontSize:i.tooltipTextFontSize+"px",fontFamily:i.fontFamily,lineHeight:i.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},r[""+ei.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},r[""+ei.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},r[""+ei.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r[""+ei.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r[""+ei.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:i.annotationArcBorderColor,lineWidth:i.annotationArcBorder},animate:!0},line:{style:{stroke:i.annotationLineBorderColor,lineDash:i.annotationLineDash,lineWidth:i.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textAlign:"start",fontFamily:i.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:i.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:i.annotationRegionBorder,stroke:i.annotationRegionBorderColor,fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:i.brandColor,lineWidth:2}},line:{style:{stroke:i.annotationLineBorderColor,lineWidth:i.annotationLineBorder},length:i.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},animate:!0}}},labels:{offset:12,style:{fill:i.labelFillColor,fontSize:i.labelFontSize,fontFamily:i.fontFamily,stroke:i.labelBorderColor,lineWidth:i.labelBorder},autoRotate:!0},innerLabels:{style:{fill:i.innerLabelFillColor,fontSize:i.innerLabelFontSize,fontFamily:i.fontFamily,stroke:i.innerLabelBorderColor,lineWidth:i.innerLabelBorder},autoRotate:!0},pieLabels:{labelHeight:14,offset:30,labelLine:{style:{lineWidth:i.labelLineBorder}},autoRotate:!0}}}var pn={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},xa={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Ht=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],gt=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],N={backgroundColor:"transparent",brandColor:Ht[0],paletteQualitative10:Ht,paletteQualitative20:gt,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:pn[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:pn[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:pn[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:pn[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:pn[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:pn[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:pn[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Ht[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:pn[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:pn[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:pn[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:pn[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:pn[25],annotationArcBorderColor:pn[15],annotationArcBorder:.5,annotationLineBorderColor:pn[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:pn[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:xa[95],annotationTextBorder:1.5,annotationRegionFillColor:pn[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:pn[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:pn[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:pn[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:xa[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:pn[25],pointFillColor:Ht[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:xa[100],pointBorderOpacity:1,pointActiveBorderColor:pn[100],pointSelectedBorder:2,pointSelectedBorderColor:pn[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Ht[0],hollowPointBorderOpacity:.95,hollowPointFillColor:xa[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:pn[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:pn[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Ht[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Ht[0],areaFillOpacity:.25,areaActiveFillColor:Ht[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Ht[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Ht[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:pn[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:pn[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Ht[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:pn[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:pn[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Ht[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:xa[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:pn[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:pn[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},Q=ma(N),ct={default:Q};function St(i){return(0,f.get)(ct,(0,f.lowerCase)(i),ct.default)}function Dt(i,r){ct[(0,f.lowerCase)(i)]=(0,f.deepMix)({},ct.default,r)}function Vt(i,r,t){var e=t.translate(i),n=t.translate(r);return(0,f.isNumberEqual)(e,n)}function ee(i,r){var t=r.coordinate,e=r.getXScale(),n=e.range,a=n[n.length-1],o=n[0],s=t.invert(i),l=s.x;return t.isPolar&&l>(1+a)/2&&(l=o),e.translate(e.invert(l))}function ne(i,r,t){var e=t.coordinate,n=t.getYScale(),a=n.field,o=e.invert(r),s=n.invert(o.y),l=(0,f.find)(i,function(u){var h=u[kt];return h[a][0]<=s&&h[a][1]>=s});return l||i[i.length-1]}var pe=(0,f.memoize)(function(i){if(i.isCategory)return 1;for(var r=i.values,t=r.length,e=i.translate(r[0]),n=e,a=0;a<t;a++){var o=r[a],s=i.translate(o);s<e&&(e=s),s>n&&(n=s)}return(n-e)/(t-1)});function Se(i,r,t){var e=t;if(!t){var n=r.getAttribute("position"),a=n.getFields();e=a[0]}var o=r.scales;return o[e]?o[e].getText(i[e]):(0,f.hasKey)(i,e)?i[e]:e}function Re(i){var r=(0,f.values)(i.attributes);return(0,f.filter)(r,function(t){return(0,f.contains)(Nt,t.type)})}function He(i){for(var r=Re(i),t,e=0,n=r;e<n.length;e++){var a=n[e],o=a.getScale(a.type);if(o&&o.isLinear){t=o;break}}var s=i.getXScale(),l=i.getYScale();return t||l||s}function hr(i,r){var t=r.field,e=i[t];if((0,f.isArray)(e)){var n=e.map(function(a){return r.getText(a)});return n.join("-")}return r.getText(e)}function Br(i,r){var t,e=r.getGroupScales();if(e.length&&(t=e[0]),t){var n=t.field;return t.getText(i[n])}var a=He(r);return Ee(a)}function Cr(i,r,t){if(r.length===0)return null;var e=t.type,n=t.getXScale(),a=t.getYScale(),o=n.field,s=a.field,l=null;if(e==="heatmap"||e==="point"){for(var u=t.coordinate,h=u.invert(i),c=n.invert(h.x),v=a.invert(h.y),y=Infinity,A=0;A<r.length;A++){var k=r[A],R=k[kt],H=Math.pow(R[o]-c,2)+Math.pow(R[s]-v,2);H<y&&(y=H,l=k)}return l}var V=r[0],ot=r[r.length-1],ut=ee(i,t),bt=V[kt][o],Ft=V[kt][s],Xt=ot[kt][o],Ut=a.isLinear&&(0,f.isArray)(Ft);if((0,f.isArray)(bt)){for(var A=0;A<r.length;A++){var Gt=r[A],R=Gt[kt];if(n.translate(R[o][0])<=ut&&n.translate(R[o][1])>=ut)if(Ut)(0,f.isArray)(l)||(l=[]),l.push(Gt);else{l=Gt;break}}(0,f.isArray)(l)&&(l=ne(l,i,t))}else{var te=void 0;if(!n.isLinear&&n.type!=="timeCat"){for(var A=0;A<r.length;A++){var Gt=r[A],R=Gt[kt];if(Vt(R[o],ut,n))if(Ut)(0,f.isArray)(l)||(l=[]),l.push(Gt);else{l=Gt;break}else n.translate(R[o])<=ut&&(ot=Gt,te=r[A+1])}(0,f.isArray)(l)&&(l=ne(l,i,t))}else{if((ut>n.translate(Xt)||ut<n.translate(bt))&&(ut>n.max||ut<n.min))return null;for(var ue=0,se=r.length-1,Me=void 0;ue<=se;){Me=Math.floor((ue+se)/2);var Pe=r[Me][kt][o];if(Vt(Pe,ut,n))return r[Me];n.translate(Pe)<=n.translate(ut)?(ue=Me+1,ot=r[Me],te=r[Me+1]):(se===0&&(ot=r[0]),se=Me-1)}}ot&&te&&Math.abs(n.translate(ot[kt][o])-ut)>Math.abs(n.translate(te[kt][o])-ut)&&(ot=te)}var Te=pe(t.getXScale());return!l&&Math.abs(n.translate(ot[kt][o])-ut)<=Te/2&&(l=ot),l}function rn(i,r,t){t===void 0&&(t="");var e=i[kt],n=Se(e,r,t),a=r.tooltipOption,o=r.theme.defaultColor,s=[],l,u;function h(Ft,Xt){if(!(0,f.isNil)(Xt)&&Xt!==""){var Ut={title:n,data:e,mappingData:i,name:Ft,value:Xt,color:i.color||o,marker:!0};s.push(Ut)}}if((0,f.isObject)(a)){var c=a.fields,v=a.callback;if(v){var y=c.map(function(Ft){return i[kt][Ft]}),A=v.apply(void 0,y),k=(0,K.__assign)({data:i[kt],mappingData:i,title:n,color:i.color||o,marker:!0},A);s.push(k)}else for(var R=r.scales,H=0,V=c;H<V.length;H++){var ot=V[H];if(!(0,f.isNil)(e[ot])){var ut=R[ot];l=Ee(ut),u=ut.getText(e[ot]),h(l,u)}}}else{var bt=He(r);(0,f.isNil)(e[bt.field])||(u=hr(e,bt),l=Br(e,r),h(l,u))}return s}var an={};function nn(i,r){an[i]=r}function It(i){delete an[i]}function qt(){return Object.keys(an)}function he(i){return an[i]}var xe=function(){function i(r){this.option=this.wrapperOption(r)}return i.prototype.update=function(r){return this.option=this.wrapperOption(r),this},i.prototype.hasAction=function(r){var t=this.option.actions;return(0,f.some)(t,function(e){return e[0]===r})},i.prototype.create=function(r,t){var e=this.option,n=e.type,a=e.cfg,o=n==="theta",s=(0,K.__assign)({start:r,end:t},a),l=(0,Jr.getCoordinate)(o?"polar":n);return this.coordinate=new l(s),this.coordinate.type=n,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},i.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},i.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},i.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},i.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},i.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},i.prototype.getOption=function(){return this.option},i.prototype.getCoordinate=function(){return this.coordinate},i.prototype.wrapperOption=function(r){return(0,K.__assign)({type:"rect",actions:[],cfg:{}},r)},i.prototype.execActions=function(r){var t=this,e=this.option.actions;(0,f.each)(e,function(n){var a,o=n[0],s=n.slice(1),l=(0,f.isNil)(r)?!0:r.includes(o);l&&(a=t.coordinate)[o].apply(a,s)})},i}(),Oe=xe,ar=function(){function i(r,t,e){this.view=r,this.gEvent=t,this.data=e,this.type=t.type}return Object.defineProperty(i.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),i.prototype.toString=function(){return"[Event (type="+this.type+")]"},i.prototype.clone=function(){return new i(this.view,this.gEvent,this.data)},i}(),Fr=ar;function mn(i){return!(0,f.isNumber)(i)&&!(0,f.isArray)(i)}function pi(i){i===void 0&&(i=0);var r=(0,f.isArray)(i)?i:[i];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=(0,K.__spreadArrays)(r,r);break;case 3:r=(0,K.__spreadArrays)(r,[r[1]]);break;default:r=r.slice(0,4);break}return r}var Qi=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.top=r,this.right=t,this.bottom=e,this.left=n}return i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return this.top+=t,this.right+=e,this.bottom+=n,this.left+=a,this},i.prototype.inc=function(r,t){var e=r.width,n=r.height;switch(t){case Tt.TOP:case Tt.TOP_LEFT:case Tt.TOP_RIGHT:this.top+=n;break;case Tt.RIGHT:case Tt.RIGHT_TOP:case Tt.RIGHT_BOTTOM:this.right+=e;break;case Tt.BOTTOM:case Tt.BOTTOM_LEFT:case Tt.BOTTOM_RIGHT:this.bottom+=n;break;case Tt.LEFT:case Tt.LEFT_TOP:case Tt.LEFT_BOTTOM:this.left+=e;break;default:break}return this},i.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},i}();function ra(i){var r=i.padding;if(!mn(r))return pi(r);var t=i.viewBBox,e=i.autoPadding,n=new Qi;(0,f.each)(i.getComponents(),function(s){var l=s.component,u=s.type;if(!(u===at.GRID||u===at.TOOLTIP)){var h=l.getLayoutBBox(),c=new Ke(h.x,h.y,h.width,h.height);if(u===at.AXIS){var v=c.exceed(t);n.shrink(v)}else{var y=s.direction;n.inc(c,y)}}});var a=n.getPadding();if(e){var o=pi(i.appendPadding);return[Math.max(e[0]-o[0],a[0]),Math.max(e[1]-o[1],a[1]),Math.max(e[2]-o[2],a[2]),Math.max(e[3]-o[3],a[3])]}return a}function gs(i){var r=i.getController("axis"),t=i.getController("legend"),e=i.getController("annotation"),n=i.getController("slider"),a=ra(i);i.coordinateBBox=i.viewBBox.shrink(a).shrink(pi(i.appendPadding)),i.adjustCoordinate(),[r,n,t,e].forEach(function(o){o&&o.layout()})}var ub=function(){function i(){this.scales=new Map,this.syncScales=new Map}return i.prototype.createScale=function(r,t,e,n){var a=e,o=this.getScaleMeta(n);if(t.length===0&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=(0,f.deepMix)(l,o.scaleDef,e)}var u=be(r,t,a);return this.cacheScale(u,e,n),u},i.prototype.sync=function(){var r=this;this.syncScales.forEach(function(t,e){var n=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,o=[];(0,f.each)(t,function(s){var l=r.getScale(s);a=(0,f.isNumber)(l.max)?Math.max(a,l.max):a,n=(0,f.isNumber)(l.min)?Math.min(n,l.min):n,(0,f.each)(l.values,function(u){o.includes(u)||o.push(u)})}),(0,f.each)(t,function(s){var l=r.getScale(s);l.isContinuous?l.change({min:n,max:a,values:o}):l.isCategory&&l.change({values:o})})})},i.prototype.cacheScale=function(r,t,e){var n=this.getScaleMeta(e);n&&n.scale.type===r.type?(we(n.scale,r),n.scaleDef=t):(n={key:e,scale:r,scaleDef:t},this.scales.set(e,n));var a=this.getSyncKey(n);if(n.syncKey=a,this.removeFromSyncScales(e),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(e)}},i.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var e=(0,f.last)(r.split("-")),n=this.syncScales.get(e);n&&n.length&&(t=this.getScaleMeta(n[0]))}return t&&t.scale},i.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var e=t.syncKey,n=this.syncScales.get(e);if(n&&n.length){var a=n.indexOf(r);a!==-1&&n.splice(a,1)}}this.scales.delete(r)},i.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},i.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(e,n){var a=e.indexOf(r);if(a!==-1)return e.splice(a,1),e.length===0&&t.syncScales.delete(n),!1})},i.prototype.getSyncKey=function(r){var t=r.scale,e=r.scaleDef,n=t.field,a=(0,f.get)(e,["sync"]);return a===!0?n:a===!1?void 0:a},i.prototype.getScaleMeta=function(r){return this.scales.get(r)},i}(),Tc=function(i){(0,K.__extends)(r,i);function r(t){var e=i.call(this,{visible:t.visible})||this;e.id=(0,f.uniqueId)("view"),e.views=[],e.geometries=[],e.controllers=[],e.interactions={},e.limitInPlot=!1,e.options={data:[],animate:!0},e.usedControllers=qt(),e.scalePool=new ub,e.layoutFunc=gs,e.isPreMouseInPlot=!1,e.isDataChanged=!1,e.isCoordinateChanged=!1,e.createdScaleKeys=new Map,e.onCanvasEvent=function(R){var H=R.name;if(!H.includes(":")){var V=e.createViewEvent(R);e.doPlotEvent(V),e.emit(H,V)}},e.onDelegateEvents=function(R){var H=R.name;if(!!H.includes(":")){var V=e.createViewEvent(R);e.emit(H,V)}};var n=t.parent,a=t.canvas,o=t.backgroundGroup,s=t.middleGroup,l=t.foregroundGroup,u=t.region,h=u===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:u,c=t.padding,v=t.appendPadding,y=t.theme,A=t.options,k=t.limitInPlot;return e.parent=n,e.canvas=a,e.backgroundGroup=o,e.middleGroup=s,e.foregroundGroup=l,e.region=h,e.padding=c,e.appendPadding=v,e.options=(0,K.__assign)((0,K.__assign)({},e.options),A),e.limitInPlot=k,e.themeObject=(0,f.isObject)(y)?(0,f.deepMix)({},St("default"),y):St(y),e.init(),e}return r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new Oe(this.options.coordinate),this.initOptions();for(var t=this.views,e=0;e<t.length;e++)t[e].init()},r.prototype.render=function(t){t===void 0&&(t=!1),this.emit(wt.BEFORE_RENDER),this.paint(t),this.emit(wt.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(wt.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear();this.geometries=[];for(var a=this.controllers,n=0;n<a.length;n++)a[n].clear();this.createdScaleKeys.forEach(function(s,l){t.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();for(var o=this.views,n=0;n<o.length;n++)o[n].clear();this.emit(wt.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(wt.BEFORE_DESTROY);var t=this.interactions;(0,f.each)(t,function(s){s&&s.destroy()}),this.clear();for(var e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.geometries,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}for(var s=this.controllers,n=0,a=s.length;n<a;n++){var l=s[n];l.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return(0,f.set)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,e){return(0,f.isFunction)(e)?((0,f.set)(this.options,["filters",t],e),this):(!e&&(0,f.get)(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,e){return(0,f.isBoolean)(t)?(0,f.set)(this.options,["axes"],t):(0,f.set)(this.options,["axes",t],e),this},r.prototype.legend=function(t,e){return(0,f.isBoolean)(t)?(0,f.set)(this.options,["legends"],t):(0,f.isString)(t)?(0,f.set)(this.options,["legends",t],e):(0,f.set)(this.options,["legends"],t),this},r.prototype.scale=function(t,e){var n=this;return(0,f.isString)(t)?(0,f.set)(this.options,["scales",t],e):(0,f.isObject)(t)&&(0,f.each)(t,function(a,o){(0,f.set)(n.options,["scales",o],a)}),this},r.prototype.tooltip=function(t){return(0,f.set)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,e){return(0,f.isString)(t)?(0,f.set)(this.options,"coordinate",{type:t,cfg:e}):(0,f.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},r.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=Hr(t);if(!n)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new n(this,(0,K.__assign)((0,K.__assign)({},e),{type:t})),this},r.prototype.animate=function(t){return(0,f.set)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),(0,f.mix)(this.options,t),this.initOptions(),this},r.prototype.option=function(t,e){if(r.prototype[t])throw new Error(`Can't use built in variable name "`+t+'", please change another one.');return(0,f.set)(this.options,t,e),this},r.prototype.theme=function(t){return this.themeObject=(0,f.isObject)(t)?(0,f.deepMix)({},this.themeObject,t):St(t),this},r.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var a=Co(t,this,e);return a&&(a.init(),this.interactions[t]=a),this},r.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(wt.BEFORE_CHANGE_DATA),this.data(t),this.paint(!0);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.changeData(t)}this.emit(wt.AFTER_CHANGE_DATA)},r.prototype.createView=function(t){var e={data:this.options.data,scales:(0,f.clone)(this.options.scales),axes:(0,f.clone)(this.options.axes),coordinate:(0,f.clone)(this.coordinateController.getOption()),tooltip:(0,f.clone)(this.options.tooltip),legends:(0,f.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},n=new r((0,K.__assign)((0,K.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:Pt.BG}),middleGroup:this.middleGroup.addGroup({zIndex:Pt.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:Pt.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,K.__assign)((0,K.__assign)({},e),(0,f.get)(t,"options",{}))}));return this.views.push(n),n},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var e=(0,f.remove)(this.views,function(n){return n===t})[0];return e&&e.destroy(),e},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={};return this.geometries.map(function(e){var n=e.getYScale(),a=n.field;if(!t[a])return t[a]=!0,n})},r.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},a=0,o=e.length;a<o;a++){var s=e[a],l=t==="x"?s.getXScale():s.getYScale();l&&!n[l.field]&&(n[l.field]=l)}return n},r.prototype.getScaleByField=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getLayer=function(t){return t===mt.BG?this.backgroundGroup:t===mt.MID?this.middleGroup:t===mt.FORE?this.foregroundGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return ga(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return(0,f.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(e){return e.getGroupScales()});return ci((0,f.flatten)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},r.prototype.getXY=function(t){var e=this.getCoordinate(),n=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if((0,f.each)(t,function(l,u){n[u]&&(o=n[u].scale(l)),a[u]&&(s=a[u].scale(l))}),!(0,f.isNil)(o)&&!(0,f.isNil)(s))return e.convert({x:o,y:s})},r.prototype.getController=function(t){return(0,f.find)(this.controllers,function(e){return e.name===t})},r.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],a=0,o=e.length;a<o;a++){var s=e[a],l=s.dataArray;s.sort(l);for(var u=void 0,h=0,c=l.length;h<c;h++){var v=l[h];u=Cr(t,v,s),u&&n.push(u)}}for(var y=this.views,a=0,o=y.length;a<o;a++){var A=y[a],k=A.getSnapRecords(t);n=n.concat(k)}return n},r.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];t=t.concat(o.getComponents())}return t},r.prototype.filterData=function(t){var e=this.options.filters;return(0,f.size)(e)===0?t:(0,f.filter)(t,function(n,a){var o=Object.keys(e);return o.every(function(s){var l=e[s];return l(n[s],n,a)})})},r.prototype.filterFieldData=function(t,e){var n=this.options.filters,a=(0,f.get)(n,t);return(0,f.isUndefined)(a)?e:e.filter(function(o,s){return a(o[t],o,s)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if((0,f.isEqual)(e,a)&&(0,f.isEqual)(n,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(wt.BEFORE_PAINT),this.renderBackgroundStyleShape(),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit(wt.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,f.get)(this.themeObject,"background");if(t){this.backgruondStyleRectShape||(this.backgruondStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{zIndex:-1}}));var e=this.viewBBox,n=e.x,a=e.y,o=e.width,s=e.height;this.backgruondStyleRectShape.attr({fill:t,x:n,y:a,width:o,height:s})}else this.backgruondStyleRectShape&&(this.backgruondStyleRectShape.remove(!0),this.backgruondStyleRectShape=void 0)}},r.prototype.renderLayoutRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.doLayout();var e=this.viewBBox,n=this.coordinateBBox;mn(this.padding)&&(this.autoPadding=[n.tl.y-e.tl.y,e.tr.x-n.tr.x,e.bl.y-n.bl.y,n.tl.x-e.tl.x]);for(var a=this.views,o=0,s=a.length;o<s;o++){var l=a[o];l.renderLayoutRecursive(t)}},r.prototype.renderPaintRecursive=function(t){if(this.limitInPlot){var e=this.middleGroup,n=La(this.coordinateInstance),a=n.type,o=n.attrs;e.setClip({type:a,attrs:o})}this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,l=0,u=s.length;l<u;l++){var h=s[l];h.renderPaintRecursive(t)}},r.prototype.createScale=function(t,e,n,a){var o=(0,f.get)(this.options.scales,[t]),s=(0,K.__assign)((0,K.__assign)({},o),n);return this.parent?this.parent.createScale(t,e,s,a):this.scalePool.createScale(t,e,s,a)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.renderDataRecursive(t)}},r.prototype.calculateViewBBox=function(){var t,e,n,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,e=o.y,n=o.width,a=o.height}else t=0,e=0,n=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,u=s.end,h=new Ke(t+n*l.x,e+a*l.y,n*(u.x-l.x),a*(u.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(h))&&(this.viewBBox=new Ke(t+n*l.x,e+a*l.y,n*(u.x-l.x),a*(u.y-l.y)),this.coordinateBBox=this.viewBBox)},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var a=t[e],o=he(a);o&&this.controllers.push(new o(this))}},r.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,a=e?e.get("origin"):null,o=new Fr(this,t,a);return o.type=n,o},r.prototype.doPlotEvent=function(t){var e=t.type,n=t.x,a=t.y,o={x:n,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(e)){var l=this.isPointInPlot(o);if(l){var u="plot:"+e;t.type=u,this.emit(u,t),(e==="mouseleave"||e==="touchend")&&(this.isPreMouseInPlot=!1)}e==="mousemove"||e==="touchmove"?(this.isPreMouseInPlot&&!l?(e==="mousemove"&&(t.type=Et.MOUSE_LEAVE,this.emit(Et.MOUSE_LEAVE,t)),t.type=Et.LEAVE,this.emit(Et.LEAVE,t)):!this.isPreMouseInPlot&&l&&(e==="mousemove"&&(t.type=Et.MOUSE_ENTER,this.emit(Et.MOUSE_ENTER,t)),t.type=Et.ENTER,this.emit(Et.ENTER,t)),this.isPreMouseInPlot=l):(e==="mouseleave"||e==="touchend")&&this.isPreMouseInPlot&&(e==="mouseleave"&&(t.type=Et.MOUSE_LEAVE,this.emit(Et.MOUSE_LEAVE,t)),t.type=Et.LEAVE,this.emit(Et.LEAVE,t),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=(0,f.get)(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var u={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?l.update(u):l.init(u)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),a=n.data,o=n.scales,s=o===void 0?{}:o,l=this.filteredData,u=0,h=t.length;u<h;u++){var c=t[u],v=s[c],y=this.getScaleKey(c);this.createScale(c,e.includes(c)?a:l,v,y),this.createdScaleKeys.set(y,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync()},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var a=t[n];e[a]=this.getScaleByField(a)}return e},r.prototype.getScaleFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getScaleFields();ci(s,t,e)}return t},r.prototype.getGroupedFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getGroupFields();ci(s,t,e)}return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,e=(0,K.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function(o){return!!o}),n=this.getCoordinate(),a=this.options.scales;(0,f.each)(e,function(o){var s=o.field,l=o.values,u=o.isCategory,h=o.isIdentity;if((u||h)&&l&&!(0,f.get)(a,[s,"range"])){var c=l.length,v=void 0;if(c===1)v=[.5,1];else{var y=1,A=0;ia(n)?n.isTransposed?(y=(0,f.get)(t.theme,"widthRatio.multiplePie",1/1.3),A=1/c*y,v=[A/2,1-A/2]):v=[0,1-1/c]:(A=1/c/2,v=[A,1-A])}o.range=v}})},r.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var a=e[n];t?a.update():(a.clear(),a.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},r.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=n,l.canvasRegion=a,e||l.animate(!1),l.paint(t)}},r.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++){var n=this.getComponents()[e];n.component.render()}},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){for(var t=this.options,e=t.geometries,n=e===void 0?[]:e,a=t.interactions,o=a===void 0?[]:a,s=t.views,l=s===void 0?[]:s,u=t.annotations,h=u===void 0?[]:u,c=0;c<n.length;c++){var v=n[c];this.createGeometry(v)}for(var y=0;y<o.length;y++){var A=o[y],k=A.type,R=A.cfg;this.interaction(k,R)}for(var H=0;H<l.length;H++){var V=l[H];this.createView(V)}for(var ot=this.getController("annotation"),ut=0;ut<h.length;ut++){var bt=h[ut];ot.annotation(bt)}},r.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,a=n===void 0?{}:n;if(this[e]){var o=this[e](a);(0,f.each)(t,function(s,l){(0,f.isFunction)(o[l])&&o[l](s)})}},r.prototype.getScaleKey=function(t){return this.id+"-"+t},r}(Ae);function ba(i,r){Tc.prototype[i.toLowerCase()]=function(t){t===void 0&&(t={});var e=(0,K.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),n=new r(e);return this.geometries.push(n),n}}var qu=Tc,fb=function(i){(0,K.__extends)(r,i);function r(t){var e=this,n=t.container,a=t.width,o=t.height,s=t.autoFit,l=s===void 0?!1:s,u=t.padding,h=t.appendPadding,c=t.renderer,v=c===void 0?"canvas":c,y=t.pixelRatio,A=t.localRefresh,k=A===void 0?!0:A,R=t.visible,H=R===void 0?!0:R,V=t.defaultInteractions,ot=V===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:V,ut=t.options,bt=t.limitInPlot,Ft=t.theme,Xt=(0,f.isString)(n)?document.getElementById(n):n,Ut=(0,lt.Z)('<div style="position:relative;"></div>');Xt.appendChild(Ut);var Gt=Qt(Xt,l,a,o),te=rt(v),ue=new te.Canvas((0,K.__assign)({container:Ut,pixelRatio:y,localRefresh:k},Gt));return e=i.call(this,{parent:null,canvas:ue,backgroundGroup:ue.addGroup({zIndex:Pt.BG}),middleGroup:ue.addGroup({zIndex:Pt.MID}),foregroundGroup:ue.addGroup({zIndex:Pt.FORE}),padding:u,appendPadding:h,visible:H,options:ut,limitInPlot:bt,theme:Ft})||this,e.onResize=(0,f.debounce)(function(){e.forceFit()},300),e.ele=Xt,e.canvas=ue,e.width=Gt.width,e.height=Gt.height,e.autoFit=l,e.localRefresh=k,e.renderer=v,e.wrapperElement=Ut,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(ot),e}return r.prototype.initDefaultInteractions=function(t){var e=this;(0,f.each)(t,function(n){e.interaction(n)})},r.prototype.changeSize=function(t,e){return this.width===t&&this.height===e?this:(this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),ve(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return i.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=Qt(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},r.prototype.updateCanvasStyle=function(){(0,st.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(qu),hb=fb,Ho=function(){function i(r){this.visible=!0,this.components=[],this.view=r}return i.prototype.clear=function(){(0,f.each)(this.components,function(r){r.component.destroy()}),this.components=[]},i.prototype.destroy=function(){this.clear()},i.prototype.getComponents=function(){return this.components},i.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},i}(),Pc=0,cb=1/2,vb=1/2,db=.05,pb=function(){function i(r){var t=r.xField,e=r.yField,n=r.adjustNames,a=n===void 0?["x","y"]:n,o=r.dimValuesMap;this.adjustNames=a,this.xField=t,this.yField=e,this.dimValuesMap=o}return i.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},i.prototype.getAdjustRange=function(r,t,e){var n=this.yField,a=e.indexOf(t),o=e.length,s,l;return!n&&this.isAdjust("y")?(s=0,l=1):o>1?(s=e[a===0?0:a-1],l=e[a===o-1?o-1:a+1],a!==0?s+=(t-s)/2:s-=(l-t)/2,a!==o-1?l-=(l-t)/2:l+=(t-e[o-2])/2):(s=t===0?0:t-.5,l=t===0?1:t+.5),{pre:s,next:l}},i.prototype.adjustData=function(r,t){var e=this,n=this.getDimValues(t);f.each(r,function(a,o){f.each(n,function(s,l){e.adjustDim(l,s,a,o)})})},i.prototype.groupData=function(r,t){return f.each(r,function(e){e[t]===void 0&&(e[t]=Pc)}),f.groupBy(r,t)},i.prototype.adjustDim=function(r,t,e,n){},i.prototype.getDimValues=function(r){var t=this,e=t.xField,n=t.yField,a=f.assign({},this.dimValuesMap),o=[];if(e&&this.isAdjust("x")&&o.push(e),n&&this.isAdjust("y")&&o.push(n),o.forEach(function(l){a&&a[l]||(a[l]=f.valuesOfKey(r,l).sort(function(u,h){return u-h}))}),!n&&this.isAdjust("y")){var s="y";a[s]=[Pc,1]}return a},i}(),el=pb,_c={},Lc=function(i){return _c[i.toLowerCase()]},rl=function(i,r){if(Lc(i))throw new Error("Adjust type '"+i+"' existed.");_c[i.toLowerCase()]=r},zt=d(8108),gb=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var n=t.marginRatio,a=n===void 0?cb:n,o=t.dodgeRatio,s=o===void 0?vb:o,l=t.dodgeBy,u=t.intervalPadding,h=t.dodgePadding,c=t.xDimensionLength,v=t.groupNum,y=t.defaultSize,A=t.maxColumnWidth,k=t.minColumnWidth,R=t.columnWidthRatio,H=t.customOffset;return e.marginRatio=a,e.dodgeRatio=s,e.dodgeBy=l,e.intervalPadding=u,e.dodgePadding=h,e.xDimensionLegenth=c,e.groupNum=v,e.defaultSize=y,e.maxColumnWidth=A,e.minColumnWidth=k,e.columnWidthRatio=R,e.customOffset=H,e}return r.prototype.process=function(t){var e=f.clone(t),n=f.flatten(e),a=this.dodgeBy,o=a?f.group(n,a):e;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=n,this.adjustData(o,n),this.adjustDataArray=[],this.mergeData=[],e},r.prototype.adjustDim=function(t,e,n,a){var o=this,s=this.customOffset,l=this.getDistribution(t),u=this.groupData(n,t);return f.each(u,function(h,c){var v;e.length===1?v={pre:e[0]-1,next:e[0]+1}:v=o.getAdjustRange(t,parseFloat(c),e),f.each(h,function(y){var A=y[t],k=l[A],R=k.indexOf(a);if(f.isNil(s))y[t]=o.getDodgeOffset(v,R,k.length);else{var H=v.pre,V=v.next;y[t]=f.isFunction(s)?s(y,v):(H+V)/2+s}})}),[]},r.prototype.getDodgeOffset=function(t,e,n){var a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,u=a.dodgePadding,h=t.pre,c=t.next,v=c-h,y;if(!f.isNil(l)&&f.isNil(u)&&l>=0){var A=this.getIntervalOnlyOffset(n,e);y=h+A}else if(!f.isNil(u)&&f.isNil(l)&&u>=0){var A=this.getDodgeOnlyOffset(n,e);y=h+A}else if(!f.isNil(l)&&!f.isNil(u)&&l>=0&&u>=0){var A=this.getIntervalAndDodgeOffset(n,e);y=h+A}else{var k=v*o/n,R=s*k,A=1/2*(v-n*k-(n-1)*R)+((e+1)*k+e*R)-1/2*k-1/2*v;y=(h+c)/2+A}return y},r.prototype.getIntervalOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.intervalPadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.dodgeRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,y=o/s,A=(1-(l-1)*y)/l*u/(t-1),k=((1-y*(l-1))/l-A*(t-1))/t;if(k=f.isNil(v)?k:1/l/t*v,!f.isNil(h)){var R=h/s;k=Math.min(k,R)}if(!f.isNil(c)){var H=c/s;k=Math.max(k,H)}k=a?a/s:k,A=((1-(l-1)*y)/l-t*k)/(t-1);var V=((1/2+e)*k+e*A+1/2*y)*l-y/2;return V},r.prototype.getDodgeOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.marginRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,y=o/s,A=1*u/(l-1),k=((1-A*(l-1))/l-y*(t-1))/t;if(k=v?1/l/t*v:k,!f.isNil(h)){var R=h/s;k=Math.min(k,R)}if(!f.isNil(c)){var H=c/s;k=Math.max(k,H)}k=a?a/s:k,A=(1-(k*t+y*(t-1))*l)/(l-1);var V=((1/2+e)*k+e*y+1/2*A)*l-A/2;return V},r.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,a=n.intervalPadding,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=a/s,h=o/s,c=((1-u*(l-1))/l-h*(t-1))/t,v=((1/2+e)*c+e*h+1/2*u)*l-u/2;return v},r.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,a=n[t];return a||(a={},f.each(e,function(o,s){var l=f.valuesOfKey(o,t);l.length||l.push(0),f.each(l,function(u){a[u]||(a[u]=[]),a[u].push(s)})}),n[t]=a),a},r}(el),yb=gb;function mb(i,r){return(r-i)*Math.random()+i}var xb=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=f.clone(t),n=f.flatten(e);return this.adjustData(e,n),e},r.prototype.adjustDim=function(t,e,n){var a=this,o=this.groupData(n,t);return f.each(o,function(s,l){return a.adjustGroup(s,t,parseFloat(l),e)})},r.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,a=(n-e)*db;return mb(e+a,n-a)},r.prototype.adjustGroup=function(t,e,n,a){var o=this,s=this.getAdjustRange(e,n,a);return f.each(t,function(l){l[e]=o.getAdjustOffset(s)}),t},r}(el),bb=xb,tf=f.Cache,wb=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this,n=t.adjustNames,a=n===void 0?["y"]:n,o=t.height,s=o===void 0?NaN:o,l=t.size,u=l===void 0?10:l,h=t.reverseOrder,c=h===void 0?!1:h;return e.adjustNames=a,e.height=s,e.size=u,e.reverseOrder=c,e}return r.prototype.process=function(t){var e=this,n=e.yField,a=e.reverseOrder,o=n?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var e=this,n=e.xField,a=e.yField,o=e.reverseOrder,s=o?this.reverse(t):t,l=new tf,u=new tf;return s.map(function(h){return h.map(function(c){var v,y=f.get(c,n,0),A=f.get(c,[a]),k=y.toString();if(A=f.isArray(A)?A[1]:A,!f.isNil(A)){var R=A>=0?l:u;R.has(k)||R.set(k,0);var H=R.get(k),V=A+H;return R.set(k,V),(0,zt.__assign)((0,zt.__assign)({},c),(v={},v[a]=[H,V],v))}return c})})},r.prototype.processOneDimStack=function(t){var e=this,n=this,a=n.xField,o=n.height,s=n.reverseOrder,l="y",u=s?this.reverse(t):t,h=new tf;return u.map(function(c){return c.map(function(v){var y,A=e.size,k=v[a],R=A*2/o;h.has(k)||h.set(k,R/2);var H=h.get(k);return h.set(k,H+R),(0,zt.__assign)((0,zt.__assign)({},v),(y={},y[l]=H,y))})})},r}(el),Sb=wb,Mb=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=f.flatten(t),n=this,a=n.xField,o=n.yField,s=this.getXValuesMaxMap(e),l=Math.max.apply(Math,Object.keys(s).map(function(u){return s[u]}));return f.map(t,function(u){return f.map(u,function(h){var c,v,y=h[o],A=h[a];if(f.isArray(y)){var k=(l-s[A])/2;return(0,zt.__assign)((0,zt.__assign)({},h),(c={},c[o]=f.map(y,function(H){return k+H}),c))}var R=(l-y)/2;return(0,zt.__assign)((0,zt.__assign)({},h),(v={},v[o]=[R,y+R],v))})})},r.prototype.getXValuesMaxMap=function(t){var e=this,n=this,a=n.xField,o=n.yField,s=f.groupBy(t,function(l){return l[a]});return f.mapValues(s,function(l){return e.getDimMaxValue(l,o)})},r.prototype.getDimMaxValue=function(t,e){var n=f.map(t,function(o){return f.get(o,e,[])}),a=f.flatten(n);return Math.max.apply(Math,a)},r}(el),Cb=Mb;rl("Dodge",yb),rl("Jitter",bb),rl("Stack",Sb),rl("Symmetric",Cb);var Oc={};function ef(i){return Oc[i.toLowerCase()]}function qn(i,r){Oc[i.toLowerCase()]=r}var Wo={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},Eb={interval:function(i){return{enter:{animation:i.isRect?i.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:i.isPolar&&i.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},Ic={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",i.isPolar&&i.isTransposed&&(r="wave-in")),{animation:r}},schema:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":r="grow-in-xy",{animation:r}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Ab(i,r){return{delay:(0,f.isFunction)(i.delay)?i.delay(r):i.delay,easing:(0,f.isFunction)(i.easing)?i.easing(r):i.easing,duration:(0,f.isFunction)(i.duration)?i.duration(r):i.duration,callback:i.callback}}function kc(i,r,t){var e=Eb[i];return e&&((0,f.isFunction)(e)&&(e=e(r)),e=(0,f.deepMix)({},Wo,e),t)?e[t]:e}function jo(i,r,t){var e=(0,f.get)(i.get("origin"),"data",kt),n=r.animation,a=Ab(r,e);if(n){var o=ef(n);o&&o(i,a,t)}else i.animate(t.toAttrs,a)}function Tb(i,r,t,e,n){if(Ic[t]){var a=Ic[t](e),o=ef((0,f.get)(a,"animation",""));if(o){var s=(0,K.__assign)((0,K.__assign)((0,K.__assign)({},Wo.appear),a),r);i.stopAnimate(),o(i,s,{coordinate:e,minYPoint:n,toAttrs:null})}}}var Pb=d(31207),_b=function(i){(0,K.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.states=[];var n=t.shapeFactory,a=t.container,o=t.offscreenGroup,s=t.visible,l=s===void 0?!0:s;return e.shapeFactory=n,e.container=a,e.offscreenGroup=o,e.visible=l,e}return r.prototype.draw=function(t,e){e===void 0&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),this.visible===!1&&this.changeVisible(!1)},r.prototype.update=function(t){var e=this,n=e.shapeFactory,a=e.shape;if(!!a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=n.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,this.syncShapeStyle(a,s,"",this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var t=this,e=t.shapeFactory,n=t.shape;if(n){var a=this.getAnimateCfg("leave");a?jo(n,a,{coordinate:e.coordinate,toAttrs:(0,K.__assign)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(e){e.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(e){e.hide()}))},r.prototype.setState=function(t,e){var n=this,a=this,o=a.states,s=a.shapeFactory,l=a.model,u=a.shape,h=a.shapeType,c=o.indexOf(t);if(e){if(c>-1)return;o.push(t),(t==="active"||t==="selected")&&u.toFront()}else{if(c===-1)return;o.splice(c,1),(t==="active"||t==="selected")&&u.toBack()}var v=s.drawShape(h,l,this.getOffscreenGroup());o.length?o.forEach(function(A){n.syncShapeStyle(u,v,A,null)}):this.syncShapeStyle(u,v,"reset",null),v.remove(!0);var y={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",y),(0,Pb.propagationDelegate)(this.shape,"statechange",y)},r.prototype.clearStates=function(){var t=this,e=this.states;(0,f.each)(e,function(n){t.setState(n,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var t=this,e=t.shape,n=t.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return e&&(a=e.getCanvasBBox()),n&&n.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,a=t.shapeFactory,o=n.stateOption,s=a.defaultShapeType,l=a.theme[e]||a.theme[s];this.statesStyle=(0,f.deepMix)({},l,o)}return this.statesStyle},r.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),a=(0,f.get)(n,[t,"style"],{}),o=a[e]||a;return(0,f.isFunction)(o)?o(this):o},r.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},r.prototype.drawShape=function(t,e){e===void 0&&(e=!1);var n=this,a=n.shapeFactory,o=n.container,s=n.shapeType;if(this.shape=a.drawShape(s,t,o),this.shape){this.setShapeInfo(this.shape,t);var l=this.shape.cfg.name;l?(0,f.isString)(l)&&(this.shape.cfg.name=["element",l]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var u=e?"enter":"appear",h=this.getAnimateCfg(u);h&&jo(this.shape,h,{coordinate:a.coordinate,toAttrs:(0,K.__assign)({},this.shape.attr())})}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,e){var n=this;if(t.cfg.origin=e,t.cfg.element=this,t.isGroup()){var a=t.get("children");a.forEach(function(o){n.setShapeInfo(o,e)})}},r.prototype.syncShapeStyle=function(t,e,n,a,o){if(n===void 0&&(n=""),o===void 0&&(o=0),t.isGroup())for(var s=t.get("children"),l=e.get("children"),u=0;u<s.length;u++)this.syncShapeStyle(s[u],l[u],n,a,o+u);else{if(n&&n!=="reset"){var h=t.get("name");(0,f.isArray)(h)&&(h=h[1]);var c=this.getStateStyle(n,h||o);e.attr(c)}var v=Zn(t,e);this.animate?a?jo(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:v,shapeModel:this.model}):n?(t.stopAnimate(),t.animate(v,{duration:300})):t.attr(v):t.attr(v)}},r.prototype.getShapeType=function(t){var e=(0,f.get)(t,"shape");return(0,f.isArray)(e)?e[0]:e},r}(Ae),Bc=_b,Dc={},Fc={};function Rc(i){return Dc[i.toLowerCase()]}function ys(i,r){Dc[i.toLowerCase()]=r}function Nc(i){return Fc[i.toLowerCase()]}function Eo(i,r){Fc[i.toLowerCase()]=r}var nl=d(57350),Lb={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(i,r){var t=this.getShape(i);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(i){var r=this[i]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getMarker:function(i,r){var t=this.getShape(i);if(!t.getMarker){var e=this.defaultShapeType;t=this.getShape(e)}var n=this.theme,a=(0,f.get)(n,[i,"default"],{}),o=t.getMarker(r);return(0,f.deepMix)({},a,o)},drawShape:function(i,r,t){var e=this.getShape(i);return e.draw(r,t)}},Ob={coordinate:null,parsePath:function(i){var r=this.coordinate,t=(0,nl.parsePathString)(i);return r.isPolar?t=We(r,t):t=Ce(r,t),t},parsePoint:function(i){var r=this.coordinate;return r.convert(i)},parsePoints:function(i){var r=this.coordinate;return i.map(function(t){return r.convert(t)})},draw:function(i,r){}},rf={};function lo(i,r){var t=(0,f.upperFirst)(i),e=(0,K.__assign)((0,K.__assign)((0,K.__assign)({},Lb),r),{geometryType:i});return rf[t]=e,e}function fn(i,r,t){var e=(0,f.upperFirst)(i),n=rf[e],a=(0,K.__assign)((0,K.__assign)({},Ob),t);return n[r]=a,a}function nf(i){var r=(0,f.upperFirst)(i);return rf[r]}function Ib(i,r,t){if(t===void 0&&(t={}),!r)return[i];var e=(0,f.groupToMap)(i,r),n=[];if(r.length===1&&t[r[0]])for(var a=t[r[0]],o=0,s=a;o<s.length;o++){var l=s[o],u=e["_"+l];u&&n.push(u)}else for(var h in e)if(e.hasOwnProperty(h)){var c=e[h];n.push(c)}return n}function Yc(i,r){return(0,f.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,f.isEqual)(i[t],r[t])})}function ms(i){return(0,f.isArray)(i)?i:i.split("*")}function kb(i,r){var t=[];return(0,f.each)(r,function(e,n){var a=n.split(" ")[0];a===i&&t.push(e)}),t}var Bb=function(i){(0,K.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1,e.isCoordinateChanged=!1;var n=t.container,a=t.labelsContainer,o=t.coordinate,s=t.data,l=t.sortable,u=l===void 0?!1:l,h=t.visible,c=h===void 0?!0:h,v=t.theme,y=t.scales,A=y===void 0?{}:y,k=t.scaleDefs,R=k===void 0?{}:k;return e.container=n,e.labelsContainer=a,e.coordinate=o,e.data=s,e.sortable=u,e.visible=c,e.userTheme=v,e.scales=A,e.scaleDefs=R,e}return r.prototype.position=function(t){var e=t;(0,f.isPlainObject)(t)||(e={fields:ms(t)});var n=(0,f.get)(e,"fields");return n.length===1&&(n.unshift("1"),(0,f.set)(e,"fields",n)),(0,f.set)(this.attributeOption,"position",e),this},r.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},r.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},r.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},r.prototype.adjust=function(t){var e=t;return((0,f.isString)(t)||(0,f.isPlainObject)(t))&&(e=[t]),(0,f.each)(e,function(n,a){(0,f.isObject)(n)||(e[a]={type:n})}),this.adjustOption=e,this},r.prototype.style=function(t,e){if((0,f.isString)(t)){var n=ms(t);this.styleOption={fields:n,callback:e}}else{var a=t,n=a.fields,o=a.callback,s=a.cfg;n||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},r.prototype.tooltip=function(t,e){if((0,f.isString)(t)){var n=ms(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,e,n){if((0,f.isString)(t)){var a={},o=ms(t);a.fields=o,(0,f.isFunction)(e)?a.callback=e:(0,f.isPlainObject)(e)&&(a.cfg=e),n&&(a.cfg=n),this.labelOption=a}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){t===void 0&&(t={});var e=t.data,n=t.isDataChanged,a=t.isCoordinateChanged,o=this,s=o.attributeOption,l=o.lastAttributeOption;(0,f.isEqual)(s,l)?e&&(n||!(0,f.isEqual)(e,this.data))?(this.setCfg(t),this.processData(e)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},r.prototype.paint=function(t){var e=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,f.deepMix)({},kc(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var n=this.getOffscreenGroup();n.clear();for(var a=this.beforeMappingData,o=this.beforeMapping(a),s=[],l=0,u=o.length;l<u;l++){var h=o[l],c=this.mapping(h);s.push(c),this.createElements(c,l,t)}if(this.canDoGroupAnimation(t)){var v=this.container,y=this.type,A=this.coordinate,k=(0,f.get)(this.animateOption,"appear"),R=this.getYScale(),H=A.convert({x:0,y:R.scale(this.getYMinValue())});Tb(v,k,y,A,H)}this.labelOption&&this.renderLabels((0,f.flatten)(s),t),this.dataArray=s,(0,f.each)(this.lastElementsMap,function(V){V.animate=e.animateOption,V.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=(0,K.__assign)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,a=t.offscreenGroup;e&&e.clear(),n&&n.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,i.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return(0,f.each)(this.attributes,function(e){Nt.includes(e.type)&&t.push(e)}),t},r.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&(0,f.isEmpty)(n.scales)&&(e=n.values[0]),e},r.prototype.getAttributeValues=function(t,e){for(var n=[],a=t.scales,o=0,s=a.length;o<s;o++){var l=a[o],u=l.field;l.isIdentity?n.push(l.values):n.push(e[u])}return t.mapping.apply(t,n)},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getShapeMarker=function(t,e){var n=this.getShapeFactory();return n.getMarker(t,e)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(e){return t(e)})},r.prototype.getElementId=function(t){t=(0,f.isArray)(t)?t[0]:t;var e=t[kt];if(this.idFields.length){for(var n=e[this.idFields[0]],a=1;a<this.idFields.length;a++)n+="-"+e[this.idFields[a]];return n}var o=this.type,s=this.getXScale(),l=this.getYScale(),u=s.field||"x",h=l.field||"y",c=e[h],v;s.type==="identity"?v=s.values[0]:v=e[u];var y;o==="interval"||o==="schema"?y=v:o==="line"||o==="area"||o==="path"?y=o:y=v+"-"+c;for(var A=this.groupScales,a=0,k=A.length;a<k;a++){var R=A[a],H=R.field;y=y+"-"+e[H]}var V=this.getAdjust("dodge");if(V){var ot=V.dodgeBy;ot&&(y=y+"-"+e[ot])}return this.getAdjust("jitter")&&(y=y+"-"+t.x+"-"+t.y),y},r.prototype.getScaleFields=function(){var t=[],e={},n=this,a=n.attributeOption,o=n.labelOption,s=n.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];u.fields?ci(u.fields,t,e):u.values&&ci(u.values,t,e)}return o&&o.fields&&ci(o.fields,t,e),(0,f.isObject)(s)&&s.fields&&ci(s.fields,t,e),t},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.elements,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getGroupFields=function(){for(var t=[],e={},n=0,a=Nt.length;n<a;n++){var o=Nt[n],s=this.attributeOption[o];s&&s.fields&&ci(s.fields,t,e)}return t},r.prototype.getXYFields=function(){var t=this.attributeOption.position.fields,e=t[0],n=t[1];return[e,n]},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,a=0;a<t.length;a++){var o=t[a];o.sort(function(s,l){return e.translate(s[kt][n])-e.translate(l[kt][n])})}this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!nf(t))return this.shapeFactory||(this.shapeFactory=(0,f.clone)(nf(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale(),a=this.normalizeValues(t[e.field],e),o;return n?o=this.normalizeValues(t[n.field],n):o=t.y?t.y:.1,{x:a,y:o,y0:n?n.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,e){e===void 0&&(e=!1);var n=this.container,a=this.getDrawCfg(t),o=this.getShapeFactory(),s=new Bc({shapeFactory:o,container:n,offscreenGroup:this.getOffscreenGroup()});return s.animate=this.animateOption,s.geometry=this,s.draw(a,e),s},r.prototype.getDrawCfg=function(t){var e=t[kt],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),n.shape=a;var o=this.theme.geometries[this.shapeType];n.defaultStyle=(0,f.get)(o,[a,"default"],{}).style;var s=this.styleOption;return s&&(n.style=this.getStyleCfg(s,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);for(var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,u=0,h=t.length;u<h;u++){var c=t[u],v=this.getElementId(c);s[v]&&(v=v+"-"+e+"-"+u);var y=o[v];if(!y)y=this.createElement(c,n);else{var A=this.getDrawCfg(c),k=y.getModel();(this.isCoordinateChanged||Yc(A,k))&&(y.animate=this.animateOption,y.update(A)),delete o[v]}l.push(y),s[v]=y}return l},r.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,a=t.type,o=n.type,s=(0,f.get)(e,["cfg","type"]);return s||(o==="polar"?s="polar":o==="theta"?s="pie":a==="interval"||a==="polygon"?s="interval":s="base"),s},r.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max,a;return e>=0?a=e:n<=0?a=n:a=0,a},r.prototype.createAttrOption=function(t,e,n){if((0,f.isNil)(e)||(0,f.isObject)(e))(0,f.isObject)(e)&&(0,f.isEqual)(Object.keys(e),["values"])?(0,f.set)(this.attributeOption,t,{fields:e.values}):(0,f.set)(this.attributeOption,t,e);else{var a={};(0,f.isNumber)(e)?a.values=[e]:a.fields=ms(e),n&&((0,f.isFunction)(n)?a.callback=n:a.values=n),(0,f.set)(this.attributeOption,t,a)}},r.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,a=e.attributeOption,o=e.theme,s=e.shapeType;this.groupScales=[];var l={},u=function(v){if(a.hasOwnProperty(v)){var y=a[v];if(!y)return{value:void 0};var A=(0,K.__assign)({},y),k=A.callback,R=A.values,H=A.fields,V=H===void 0?[]:H,ot=V.map(function(bt){var Ft=t.scales[bt];return Ft.isCategory&&!l[bt]&&Nt.includes(v)&&(t.groupScales.push(Ft),l[bt]=!0),Ft});A.scales=ot,v!=="position"&&ot.length===1&&ot[0].type==="identity"?A.values=ot[0].values:!k&&!R&&(v==="size"?A.values=o.sizes:v==="shape"?A.values=o.shapes[s]||[]:v==="color"&&(ot.length?A.values=ot[0].values.length<=10?o.colors10:o.colors20:A.values=o.colors10));var ut=(0,Er.getAttribute)(v);n[v]=new ut(A)}};for(var h in a){var c=u(h);if(typeof c=="object")return c.value}},r.prototype.processData=function(t){this.hasSorted=!1;for(var e=this.getAttribute("position").scales,n=e.filter(function(bt){return bt.isCategory}),a=this.groupData(t),o=[],s=0,l=a.length;s<l;s++){for(var u=a[s],h=[],c=0,v=u.length;c<v;c++){var y=u[c],A={};for(var k in y)A[k]=y[k];A[kt]=y;for(var R=0,H=n;R<H.length;R++){var V=H[R],ot=V.field;A[ot]=V.translate(A[ot])}h.push(A)}o.push(h)}var ut=this.adjustData(o);return this.beforeMappingData=ut,ut},r.prototype.adjustData=function(t){var e=this.adjustOption,n=t;if(e)for(var a=this.getXScale(),o=this.getYScale(),s=a.field,l=o?o.field:null,u=0,h=e.length;u<h;u++){var c=e[u],v=(0,K.__assign)({xField:s,yField:l},c),y=c.type;if(y==="dodge"){var A=[];if(a.isCategory||a.type==="identity")A.push("x");else if(!o)A.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");v.adjustNames=A,v.dodgeRatio=this.theme.columnWidthRatio}else if(y==="stack"){var k=this.coordinate;if(!o){v.height=k.getHeight();var R=this.getDefaultValue("size")||3;v.size=R}!k.isTransposed&&(0,f.isNil)(v.reverseOrder)&&(v.reverseOrder=!0)}var H=Lc(y),V=new H(v);n=V.process(n),this.adjusts[y]=V}return n},r.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,a={},o=[],s=0;s<e.length;s++){var l=e[s],u=l.field;o.push(u),(0,f.get)(n,[u,"values"])&&(a[u]=n[u].values)}return Ib(t,o,a)},r.prototype.updateStackRange=function(t,e){for(var n=(0,f.flatten)(e),a=t.field,o=t.min,s=t.max,l=0;l<n.length;l++){var u=n[l],h=Math.min.apply(null,u[a]),c=Math.max.apply(null,u[a]);h<o&&(o=h),c>s&&(s=c)}var v=this.scaleDefs,y={};o<t.min&&!(0,f.get)(v,[a,"min"])&&(y.min=o),s>t.max&&!(0,f.get)(v,[a,"max"])&&(y.max=s),t.change(y)},r.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,a=e.length;n<a;n++){var o=e[n];this.generateShapePoints(o);var s=e[n+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return e},r.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),l=n?this.getAttributeValues(n,o):null,u=e.getShapePoints(l,s);o.points=u}},r.prototype.normalizeValues=function(t,e){var n=[];if((0,f.isArray)(t))for(var a=0;a<t.length;a++){var o=t[a];n.push(e.scale(o))}else n=e.scale(t);return n},r.prototype.mapping=function(t){for(var e=this.attributes,n=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[kt],points:o.points,nextPoints:o.nextPoints};for(var l in e)if(e.hasOwnProperty(l)){var u=e[l],h=u.names,c=this.getAttributeValues(u,o);if(h.length>1)for(var v=0;v<c.length;v+=1){var y=c[v],A=h[v];s[A]=(0,f.isArray)(y)&&y.length===1?y[0]:y}else s[h[0]]=c.length===1?c[0]:c}this.convertPoint(s),n.push(s)}return n},r.prototype.convertPoint=function(t){var e=t.x,n=t.y,a,o,s,l=this.coordinate;if((0,f.isArray)(e)&&(0,f.isArray)(n)){a=[],o=[];for(var u=0,h=0,c=e.length,v=n.length;u<c&&h<v;u+=1,h+=1)s=l.convert({x:e[u],y:n[h]}),a.push(s.x),o.push(s.y)}else if((0,f.isArray)(n)){o=[];for(var y=0;y<n.length;y++){var A=n[y];s=l.convert({x:e,y:A}),a&&a!==s.x?((0,f.isArray)(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if((0,f.isArray)(e)){a=[];for(var y=0;y<e.length;y++){var k=e[y];s=l.convert({x:k,y:n}),o&&o!==s.y?((0,f.isArray)(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var R=l.convert({x:e,y:n});a=R.x,o=R.y}t.x=a,t.y=o},r.prototype.getStyleCfg=function(t,e){var n=t.fields,a=n===void 0?[]:n,o=t.callback,s=t.cfg;if(s)return s;var l=a.map(function(u){return e[u]});return o.apply(void 0,l)},r.prototype.setCfg=function(t){var e=this,n=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;n&&(this.coordinate=n),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],(0,f.each)(s,function(l,u){l&&l.key&&e.idFields.push(u)})),o&&(this.theme=this.userTheme?(0,f.deepMix)({},o,this.userTheme):o)},r.prototype.renderLabels=function(t,e){e===void 0&&(e=!1);var n=this.geometryLabel;if(!n){var a=this.getLabelType(),o=Rc(a);n=new o(this),this.geometryLabel=n}n.render(t,e);var s=n.labelsRenderer.shapesMap;(0,f.each)(this.elementsMap,function(l,u){var h=kb(u,s);if(h.length){l.labelShape=h;for(var c=0;c<h.length;c++)for(var v=h[c],y=v.getChildren(),A=0;A<y.length;A++){var k=y[A];k.cfg.name=["element","label"],k.cfg.element=l}}})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,f.get)(this.animateOption,"appear")===void 0||(0,f.get)(this.animateOption,"appear")&&(0,f.get)(this.animateOption,["appear","animation"])===void 0)},r}(Ae),Za=Bb,il=yn.transform;function af(i,r,t){var e=il(i.getMatrix(),[["t",r,t]]);i.setMatrix(e)}function Gc(i,r){var t=i.attr(),e=t.x,n=t.y,a=il(i.getMatrix(),[["t",-e,-n],["r",r],["t",e,n]]);i.setMatrix(a)}function _Y(){return[1,0,0,0,1,0,0,0,1]}function Db(i,r){var t=i.getBBox(),e=(t.minX+t.maxX)/2,n=(t.minY+t.maxY)/2;i.applyToMatrix([e,n,1]);var a=il(i.getMatrix(),[["t",-e,-n],["s",r,r],["t",e,n]]);i.setMatrix(a)}var Fb=function(){function i(r){this.shapesMap={},this.lastShapesMap={};var t=r.layout,e=r.container;this.layout=t,this.container=e}return i.prototype.render=function(r,t,e){var n=this;e===void 0&&(e=!1),this.shapesMap={};var a=this.container,o=this.createOffscreenGroup();if(r.length){for(var s=0,l=r;s<l.length;s++){var u=l[s];u&&this.renderLabel(u,o)}this.doLayout(r,t),this.renderLabelLine(r),this.adjustLabel(r)}var h=this.lastShapesMap,c=this.shapesMap;(0,f.each)(c,function(v,y){if(v.destroyed)delete c[y];else{if(h[y]){var A=v.get("data"),k=v.get("origin"),R=v.get("coordinate"),H=h[y],V=v.get("animateCfg");H.set("data",A),H.set("origin",k),H.set("animateCfg",V),H.set("coordinate",R);var ot=(0,f.get)(V,"update"),ut=H.getChildren();v.getChildren().map(function(Ft,Xt){var Ut=ut[Xt];Ut.set("data",A),Ut.set("origin",k),Ut.set("animateCfg",V),Ut.set("coordinate",R);var Gt=Zn(Ut,Ft);ot?jo(Ut,ot,{toAttrs:Gt,coordinate:R}):Ut.attr(Gt)}),n.shapesMap[y]=H}else{a.add(v);var bt=(0,f.get)(v.get("animateCfg"),e?"enter":"appear");bt&&jo(v,bt,{toAttrs:(0,K.__assign)({},v.attr()),coordinate:v.get("coordinate")})}delete h[y]}}),(0,f.each)(h,function(v){var y=(0,f.get)(v.get("animateCfg"),"leave");y?jo(v,y,{toAttrs:null,coordinate:v.get("coordinate")}):v.remove(!0)}),this.lastShapesMap=c,o.destroy()},i.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},i.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},i.prototype.renderLabel=function(r,t){var e=r.id,n=r.data,a=r.mappingData,o=r.coordinate,s=r.animate,l=r.content,u={id:e,data:n,origin:a,coordinate:o},h=t.addGroup((0,K.__assign)({name:"label",animateCfg:this.animate===!1||s===null||s===!1?!1:(0,f.deepMix)({},this.animate,s)},u)),c;if(l.isGroup&&l.isGroup()||l.isShape&&l.isShape()){var v=l.getCanvasBBox(),y=v.width,A=v.height,k=(0,f.get)(r,"textAlign","left"),R=r.x,H=r.y-A/2;k==="center"?R=R-y/2:(k==="right"||k==="end")&&(R=R-y),af(l,R,H),c=l,h.add(l)}else c=h.addShape("text",(0,K.__assign)({attrs:(0,K.__assign)({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:(0,f.get)(r,"textBaseline","middle"),text:r.content},r.style)},u));r.rotate&&Gc(c,r.rotate),this.shapesMap[e]=h},i.prototype.doLayout=function(r,t){var e=this;if(this.layout){var n=(0,f.isArray)(this.layout)?this.layout:[this.layout];(0,f.each)(n,function(a){var o=Nc((0,f.get)(a,"type",""));if(o){var s=[],l=[];(0,f.each)(e.shapesMap,function(u,h){s.push(u),l.push(t[h])}),o(r,s,l,e.region,a.cfg)}})}},i.prototype.renderLabelLine=function(r){var t=this;(0,f.each)(r,function(e){var n=(0,f.get)(e,"coordinate");if(!(!e||!n)){var a=n.getCenter(),o=n.getRadius();if(!!e.labelLine){var s=(0,f.get)(e,"labelLine",{}),l=e.id,u=s.path;if(!u){var h=Sn(a.x,a.y,o,e.angle);u=[["M",h.x,h.y],["L",e.x,e.y]]}var c=t.shapesMap[l];c.destroyed||c.addShape("path",{capture:!1,attrs:(0,K.__assign)({path:u,stroke:e.color?e.color:(0,f.get)(e,["style","fill"],"#000"),fill:null},s.style),id:l,origin:e.mappingData,data:e.data,coordinate:e.coordinate})}}})},i.prototype.createOffscreenGroup=function(){var r=this.container,t=r.getGroupBase(),e=new t({});return e},i.prototype.adjustLabel=function(r){var t=this;(0,f.each)(r,function(e){if(e){var n=e.id,a=t.shapesMap[n];if(!a.destroyed){var o=a.find(function(s){return s.get("type")==="text"});o&&(e.offsetX&&o.attr("x",o.attr("x")+e.offsetX),e.offsetY&&o.attr("y",o.attr("y")+e.offsetY))}}})},i}(),Rb=Fb;function Nb(i){var r=0;return(0,f.each)(i,function(t){r+=t}),r/i.length}var Yb=function(){function i(r){this.geometry=r}return i.prototype.getLabelItems=function(r){var t=this,e=[],n=this.getLabelCfgs(r);return(0,f.each)(r,function(a,o){var s=n[o];if(!s||(0,f.isNil)(a.x)||(0,f.isNil)(a.y)){e.push(null);return}var l=(0,f.isArray)(s.content)?s.content:[s.content];s.content=l;var u=l.length;(0,f.each)(l,function(h,c){if((0,f.isNil)(h)||h===""){e.push(null);return}var v=(0,K.__assign)((0,K.__assign)({},s),t.getLabelPoint(s,a,c));v.textAlign||(v.textAlign=t.getLabelAlign(v,c,u)),v.offset<=0&&(v.labelLine=null),e.push(v)})}),e},i.prototype.render=function(r,t){t===void 0&&(t=!1);var e=this.getLabelItems(r),n=this.getLabelsRenderer(),a=this.getGeometryShapes();n.render(e,a,t)},i.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},i.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},i.prototype.getCoordinate=function(){return this.geometry.coordinate},i.prototype.getDefaultLabelCfg=function(){return(0,f.get)(this.geometry.theme,"labels",{})},i.prototype.setLabelPosition=function(r,t,e,n){},i.prototype.getDefaultOffset=function(r){var t=this.getCoordinate(),e=this.getOffsetVector(r);return t.isTransposed?e[0]:e[1]},i.prototype.getLabelOffset=function(r,t,e){var n=this.getDefaultOffset(r.offset),a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",l=o?1:-1,u={x:0,y:0};return t>0||e===1?u[s]=n*l:u[s]=n*l*-1,u},i.prototype.getLabelPoint=function(r,t,e){var n=this.getCoordinate(),a=r.content.length;function o(k,R){var H=k;return(0,f.isArray)(H)&&(r.content.length===1?H.length<=2?H=H[k.length-1]:H=Nb(H):H=H[R]),H}var s={content:r.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"};if(t&&this.geometry.type==="polygon"){var l=Ni(t.x,t.y);s.x=l[0],s.y=l[1]}else s.x=o(t.x,e),s.y=o(t.y,e);var u=(0,f.isArray)(t.shape)?t.shape[0]:t.shape;if(u==="funnel"||u==="pyramid"){var h=(0,f.get)(t,"nextPoints"),c=(0,f.get)(t,"points");if(h){var v=n.convert(c[1]),y=n.convert(h[1]);s.x=(v.x+y.x)/2,s.y=(v.y+y.y)/2}else if(u==="pyramid"){var v=n.convert(c[1]),y=n.convert(c[2]);s.x=(v.x+y.x)/2,s.y=(v.y+y.y)/2}}r.position&&this.setLabelPosition(s,t,e,r.position);var A=this.getLabelOffset(r,e,a);return s.start={x:s.x,y:s.y},s.x+=A.x,s.y+=A.y,s.color=t.color,s},i.prototype.getLabelAlign=function(r,t,e){var n="center",a=this.getCoordinate();if(a.isTransposed){var o=this.getDefaultOffset(r.offset);o<0?n="right":o===0?n="center":n="left",e>1&&t===0&&(n==="right"?n="left":n==="left"&&(n="right"))}return n},i.prototype.getLabelId=function(r){var t=this.geometry,e=t.type,n=t.getXScale(),a=t.getYScale(),o=r[kt],s=t.getElementId(r);return e==="line"||e==="area"?s+=" "+o[n.field]:e==="path"&&(s+=" "+o[n.field]+"-"+o[a.field]),s},i.prototype.getLabelsRenderer=function(){var r=this.geometry,t=r.labelsContainer,e=r.labelOption,n=r.canvasRegion,a=r.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new Rb({container:t,layout:(0,f.get)(e,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=n,s.animate=a?kc("label",o):!1,s},i.prototype.getLabelCfgs=function(r){var t=this,e=this.geometry,n=this.getDefaultLabelCfg(),a=e.type,o=e.theme,s=e.labelOption,l=e.scales,u=e.coordinate,h=s,c=h.fields,v=h.callback,y=h.cfg,A=c.map(function(R){return l[R]}),k=[];return(0,f.each)(r,function(R,H){var V=R[kt],ot=t.getLabelText(V,A),ut;if(v){var bt=c.map(function(Ut){return V[Ut]});if(ut=v.apply(void 0,bt),(0,f.isNil)(ut)){k.push(null);return}}var Ft=(0,K.__assign)((0,K.__assign)({id:t.getLabelId(R),data:V,mappingData:R,coordinate:u},y),ut),Xt=Ft.content;(0,f.isFunction)(Xt)?Ft.content=Xt(V,R,H):(0,f.isUndefined)(Xt)&&(Ft.content=ot[0]),(0,f.isFunction)(Ft.position)&&(Ft.position=Ft.position(V,R,H)),a==="polygon"||Ft.offset<0&&!["line","point","path"].includes(a)?Ft=(0,f.deepMix)({},n,o.innerLabels,Ft):Ft=(0,f.deepMix)({},n,o.labels,Ft),k.push(Ft)}),k},i.prototype.getLabelText=function(r,t){var e=[];return(0,f.each)(t,function(n){var a=r[n.field];(0,f.isArray)(a)?a=a.map(function(o){return n.getText(o)}):a=n.getText(a),(0,f.isNil)(a)||a===""?e.push(null):e.push(a)}),e},i.prototype.getOffsetVector=function(r){r===void 0&&(r=0);var t=this.getCoordinate();return t.isTransposed?t.applyMatrix(r,0):t.applyMatrix(0,r)},i.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return(0,f.each)(r.elementsMap,function(e,n){t[n]=e.shape}),(0,f.each)(r.getOffscreenGroup().getChildren(),function(e){var n=r.getElementId(e.get("origin").mappingData);t[n]=e}),t},i}(),al=Yb,Gb=d(61102),zb="4.0.15",Ao={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},On={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},ua=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Xb=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Vb={backgroundColor:"#141414",brandColor:ua[0],paletteQualitative10:ua,paletteQualitative20:Xb,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:On[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:On[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:On[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:On[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:On[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:On[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:On[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:ua[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:On[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:On[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:On[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Ao[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Ao[25],annotationArcBorderColor:On[15],annotationArcBorder:.5,annotationLineBorderColor:On[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:On[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:Ao[95],annotationTextBorder:1.5,annotationRegionFillColor:On[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:On[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:On[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:On[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Ao[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:On[25],pointFillColor:ua[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Ao[100],pointBorderOpacity:1,pointActiveBorderColor:On[100],pointSelectedBorder:2,pointSelectedBorderColor:On[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:ua[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Ao[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:On[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:On[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:ua[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:ua[0],areaFillOpacity:.25,areaActiveFillColor:ua[0],areaActiveFillOpacity:.5,areaSelectedFillColor:ua[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:ua[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:On[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:On[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:ua[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:On[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:On[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:ua[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Ao[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:On[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:On[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},br=d(70655),Mi=d(73890),gn=d(21830),ol=d(46812),Ci=d(66631),Mn=d(27154),Hb=d(9217),Wb=d(5253),LY=d(39984),jb=d(98229),Ub=d(35755);function Zb(){return window?window.devicePixelRatio:1}function zc(i,r,t,e){var n=i-t,a=r-e;return Math.sqrt(n*n+a*a)}function To(i,r,t,e,n,a){return n>=i&&n<=i+t&&a>=r&&a<=r+e}function of(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function Kb(i,r){return!i||!r?i||r:{minX:Math.min(i.minX,r.minX),minY:Math.min(i.minY,r.minY),maxX:Math.max(i.maxX,r.maxX),maxY:Math.max(i.maxY,r.maxY)}}function Xc(i,r){return i[0]===r[0]&&i[1]===r[1]}var OY=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,IY=/[^\s\,]+/gi,$b=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Qb=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Jb=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Vc=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Hc(i,r){var t=i.match(Vc);(0,Mn.default)(t,function(e){var n=e.split(":");r.addColorStop(n[0],n[1])})}function qb(i,r,t){var e=$b.exec(t),n=parseFloat(e[1])%360*(Math.PI/180),a=e[2],o=r.getBBox(),s,l;n>=0&&n<1/2*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):1/2*Math.PI<=n&&n<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=n&&n<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var u=Math.tan(n),h=u*u,c=(l.x-s.x+u*(l.y-s.y))/(h+1)+s.x,v=u*(l.x-s.x+u*(l.y-s.y))/(h+1)+s.y,y=i.createLinearGradient(s.x,s.y,c,v);return Hc(a,y),y}function tw(i,r,t){var e=Qb.exec(t),n=parseFloat(e[1]),a=parseFloat(e[2]),o=parseFloat(e[3]),s=e[4];if(o===0){var l=s.match(Vc);return l[l.length-1].split(":")[1]}var u=r.getBBox(),h=u.maxX-u.minX,c=u.maxY-u.minY,v=Math.sqrt(h*h+c*c)/2,y=i.createRadialGradient(u.minX+h*n,u.minY+c*a,0,u.minX+h/2,u.minY+c/2,o*v);return Hc(s,y),y}function ew(i,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var e,n,a=Jb.exec(t),o=a[1],s=a[2];function l(){e=i.createPattern(n,o),r.set("pattern",e),r.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return n=new Image,s.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=s,n.complete?l():(n.onload=l,n.src=n.src),e}function rw(i,r,t){if((0,gn.default)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return qb(i,r,t);if(t[0]==="r")return tw(i,r,t);if(t[0]==="p")return ew(i,r,t)}return t}}function nw(i){var r=0,t=0,e=0,n=0;return(0,Ci.default)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,[r,t,e,n]}function sl(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function sf(i,r){return sl(i)*sl(r)?(i[0]*r[0]+i[1]*r[1])/(sl(i)*sl(r)):1}function Wc(i,r){return(i[0]*r[1]<i[1]*r[0]?-1:1)*Math.acos(sf(i,r))}function jc(i,r){var t=r[1],e=r[2],n=(0,Wb.default)((0,Hb.default)(r[3]),Math.PI*2),a=r[4],o=r[5],s=i[0],l=i[1],u=r[6],h=r[7],c=Math.cos(n)*(s-u)/2+Math.sin(n)*(l-h)/2,v=-1*Math.sin(n)*(s-u)/2+Math.cos(n)*(l-h)/2,y=c*c/(t*t)+v*v/(e*e);y>1&&(t*=Math.sqrt(y),e*=Math.sqrt(y));var A=t*t*(v*v)+e*e*(c*c),k=A?Math.sqrt((t*t*(e*e)-A)/A):1;a===o&&(k*=-1),isNaN(k)&&(k=0);var R=e?k*t*v/e:0,H=t?k*-e*c/t:0,V=(s+u)/2+Math.cos(n)*R-Math.sin(n)*H,ot=(l+h)/2+Math.sin(n)*R+Math.cos(n)*H,ut=[(c-R)/t,(v-H)/e],bt=[(-1*c-R)/t,(-1*v-H)/e],Ft=Wc([1,0],ut),Xt=Wc(ut,bt);return sf(ut,bt)<=-1&&(Xt=Math.PI),sf(ut,bt)>=1&&(Xt=0),o===0&&Xt>0&&(Xt=Xt-2*Math.PI),o===1&&Xt<0&&(Xt=Xt+2*Math.PI),{cx:V,cy:ot,rx:Xc(i,[u,h])?0:t,ry:Xc(i,[u,h])?0:e,startAngle:Ft,endAngle:Ft+Xt,xRotation:n,arcFlag:a,sweepFlag:o}}var ll=Math.sin,ul=Math.cos,lf=Math.atan2,fl=Math.PI;function Uc(i,r,t,e,n,a,o){var s=r.stroke,l=r.lineWidth,u=t-n,h=e-a,c=lf(h,u),v=new pf({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*ul(fl/6)+","+10*ll(fl/6)+" L0,0 L"+10*ul(fl/6)+",-"+10*ll(fl/6),stroke:s,lineWidth:l}});v.translate(n,a),v.rotateAtPoint(n,a,c),i.set(o?"startArrowShape":"endArrowShape",v)}function Zc(i,r,t,e,n,a,o){var s=r.startArrow,l=r.endArrow,u=r.stroke,h=r.lineWidth,c=o?s:l,v=c.d,y=c.fill,A=c.stroke,k=c.lineWidth,R=(0,br.__rest)(c,["d","fill","stroke","lineWidth"]),H=t-n,V=e-a,ot=lf(V,H);v&&(n=n-ul(ot)*v,a=a-ll(ot)*v);var ut=new pf({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:(0,br.__assign)((0,br.__assign)({},R),{stroke:A||u,lineWidth:k||h,fill:y})});ut.translate(n,a),ut.rotateAtPoint(n,a,ot),i.set(o?"startArrowShape":"endArrowShape",ut)}function Po(i,r,t,e,n){var a=lf(e-r,t-i);return{dx:ul(a)*n,dy:ll(a)*n}}function uf(i,r,t,e,n,a){typeof r.startArrow=="object"?Zc(i,r,t,e,n,a,!0):r.startArrow?Uc(i,r,t,e,n,a,!0):i.set("startArrowShape",null)}function ff(i,r,t,e,n,a){typeof r.endArrow=="object"?Zc(i,r,t,e,n,a,!1):r.endArrow?Uc(i,r,t,e,n,a,!1):i.set("startArrowShape",null)}var Kc={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Uo(i,r){var t=r.attr();for(var e in t){var n=t[e],a=Kc[e]?Kc[e]:e;a==="matrix"&&n?i.transform(n[0],n[1],n[3],n[4],n[6],n[7]):a==="lineDash"&&i.setLineDash?(0,f.isArray)(n)&&i.setLineDash(n):(a==="strokeStyle"||a==="fillStyle"?n=rw(i,r,n):a==="globalAlpha"&&(n=n*i.globalAlpha),i[a]=n)}}function hf(i,r,t){for(var e=0;e<r.length;e++){var n=r[e];n.get("visible")?n.draw(i,t):n.skipDraw()}}function $c(i,r,t,e){var n=t.path,a=t.startArrow,o=t.endArrow,s=[0,0],l=[0,0],u={dx:0,dy:0};r.beginPath();for(var h=0;h<n.length;h++){var c=n[h],v=c[0];if(h===0&&a&&a.d){var y=i.getStartTangent();u=Po(y[0][0],y[0][1],y[1][0],y[1][1],a.d)}else if(h===n.length-2&&n[h+1][0]==="Z"&&o&&o.d){var A=n[h+1];if(A[0]==="Z"){var y=i.getEndTangent();u=Po(y[0][0],y[0][1],y[1][0],y[1][1],o.d)}}else if(h===n.length-1&&o&&o.d&&n[0]!=="Z"){var y=i.getEndTangent();u=Po(y[0][0],y[0][1],y[1][0],y[1][1],o.d)}var k=u.dx,R=u.dy;switch(v){case"M":r.moveTo(c[1]-k,c[2]-R),l=[c[1],c[2]];break;case"L":r.lineTo(c[1]-k,c[2]-R);break;case"Q":r.quadraticCurveTo(c[1],c[2],c[3]-k,c[4]-R);break;case"C":r.bezierCurveTo(c[1],c[2],c[3],c[4],c[5]-k,c[6]-R);break;case"A":{var H=void 0;e?(H=e[h],H||(H=jc(s,c),e[h]=H)):H=jc(s,c);var V=H.cx,ot=H.cy,ut=H.rx,bt=H.ry,Ft=H.startAngle,Xt=H.endAngle,Ut=H.xRotation,Gt=H.sweepFlag;if(r.ellipse)r.ellipse(V,ot,ut,bt,Ut,Ft,Xt,1-Gt);else{var te=ut>bt?ut:bt,ue=ut>bt?1:ut/bt,se=ut>bt?bt/ut:1;r.translate(V,ot),r.rotate(Ut),r.scale(ue,se),r.arc(0,0,te,Ft,Xt,1-Gt),r.scale(1/ue,1/se),r.rotate(-Ut),r.translate(-V,-ot)}break}case"Z":r.closePath();break;default:break}if(v==="Z")s=l;else{var Me=c.length;s=[c[Me-2],c[Me-1]]}}}function Qc(i,r){var t=i.get("canvas");t&&(r==="remove"&&(i._cacheCanvasBBox=i.get("cacheCanvasBBox")),i.get("hasChanged")||(t.refreshElement(i,r,t),t.get("autoDraw")&&t.draw(),i.set("hasChanged",!0)))}function iw(i){var r;if(i.destroyed)r=i._cacheCanvasBBox;else{var t=i.get("cacheCanvasBBox"),e=t&&!!(t.width&&t.height),n=i.getCanvasBBox(),a=n&&!!(n.width&&n.height);e&&a?r=Kb(t,n):e?r=t:a&&(r=n)}return r}function Jc(i){if(!i.length)return null;var r=[],t=[],e=[],n=[];return(0,f.each)(i,function(a){var o=iw(a);o&&(r.push(o.minX),t.push(o.minY),e.push(o.maxX),n.push(o.maxY))}),{minX:Math.min.apply(null,r),minY:Math.min.apply(null,t),maxX:Math.max.apply(null,e),maxY:Math.max.apply(null,n)}}function aw(i,r){return!i||!r||!of(i,r)?null:{minX:Math.max(i.minX,r.minX),minY:Math.max(i.minY,r.minY),maxX:Math.min(i.maxX,r.maxX),maxY:Math.min(i.maxY,r.maxY)}}var qc=d(41056),ow=function(i){(0,br.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.onCanvasChange=function(t){Qc(this,t)},r.prototype.getShapeBase=function(){return w},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,e){e&&(t.save(),Uo(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getChildren();n.length&&(t.save(),Uo(t,this),this._applyClip(t,this.getClip()),hf(t,n,e),t.restore()),this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(De.AbstractGroup),cf=ow,sw=function(i){(0,br.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,br.__assign)((0,br.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return w},r.prototype.getGroupBase=function(){return cf},r.prototype.onCanvasChange=function(t){Qc(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=(0,qc.b)(t),a=n(this),o=e/2,s=a.x-o,l=a.y-o,u=a.x+a.width+o,h=a.y+a.height+o;return{x:s,minX:s,y:l,minY:l,width:a.width+e,height:a.height+e,maxX:u,maxY:h}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,e){e&&(t.save(),Uo(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getClip();if(e){var a=n?Jc([this,n]):this.getCanvasBBox();if(!of(e,a)){this.set("hasChanged",!1);return}}t.save(),Uo(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype._afterDraw=function(){var t=this.getCanvasBBox(),e=this.getCanvas();if(this.set("cacheCanvasBBox",t),e){var n=e.getViewRange();this.set("isInView",of(t,n))}this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isFill()&&(!(0,Mi.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&n>0&&(!(0,Mi.default)(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,e){var n=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(De.AbstractShape),wa=sw,lw=function(i){(0,br.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,br.__assign)((0,br.__assign)({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,u=s.y,h=s.r,c=o/2,v=zc(l,u,t,e);return a&&n?v<=h+c:a?v<=h:n?v>=h-c&&v<=h+c:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.r;t.beginPath(),t.arc(n,a,o,0,Math.PI*2,!1),t.closePath()},r}(wa),uw=lw;function hl(i,r,t,e){return i/(t*t)+r/(e*e)}var fw=function(i){(0,br.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,br.__assign)((0,br.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=o/2,u=s.x,h=s.y,c=s.rx,v=s.ry,y=(t-u)*(t-u),A=(e-h)*(e-h);return a&&n?hl(y,A,c+l,v+l)<=1:a?hl(y,A,c,v)<=1:n?hl(y,A,c-l,v-l)>=1&&hl(y,A,c+l,v+l)<=1:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.rx,s=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,u=o>s?1:o/s,h=o>s?s/o:1;t.save(),t.translate(n,a),t.scale(u,h),t.arc(0,0,l,0,Math.PI*2),t.restore(),t.closePath()}},r}(wa),hw=fw;function tv(i){return i instanceof HTMLElement&&(0,gn.default)(i.nodeName)&&i.nodeName.toUpperCase()==="CANVAS"}var cw=function(i){(0,br.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,br.__assign)((0,br.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var e=this,n=this.attrs;if((0,gn.default)(t)){var a=new Image;a.onload=function(){if(e.destroyed)return!1;e.attr("img",a),e.set("loading",!1),e._afterLoading();var o=e.get("callback");o&&o.call(e)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):tv(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="img"&&this._setImage(e)},r.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.sx,u=e.sy,h=e.swidth,c=e.sheight,v=e.img;(v instanceof Image||tv(v))&&(!(0,Mi.default)(l)&&!(0,Mi.default)(u)&&!(0,Mi.default)(h)&&!(0,Mi.default)(c)?t.drawImage(v,l,u,h,c,n,a,o,s):t.drawImage(v,n,a,o,s))},r}(wa),vw=cw,Ka=d(23646);function uo(i,r,t,e,n,a,o){var s=Math.min(i,t),l=Math.max(i,t),u=Math.min(r,e),h=Math.max(r,e),c=n/2;return a>=s-c&&a<=l+c&&o>=u-c&&o<=h+c?Ka.default.pointToLine(i,r,t,e,a,o)<=n/2:!1}var dw=function(i){(0,br.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,br.__assign)((0,br.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2,s=t.startArrow,l=t.endArrow;s&&uf(this,t,a,o,e,n),l&&ff(this,t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr(),l=s.x1,u=s.y1,h=s.x2,c=s.y2;return uo(l,u,h,c,o,t,e)},r.prototype.createPath=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2,l=e.startArrow,u=e.endArrow,h={dx:0,dy:0},c={dx:0,dy:0};l&&l.d&&(h=Po(n,a,o,s,e.startArrow.d)),u&&u.d&&(c=Po(n,a,o,s,e.endArrow.d)),t.beginPath(),t.moveTo(n+h.dx,a+h.dy),t.lineTo(o-c.dx,s-c.dy)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ka.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return Ka.default.pointAt(n,a,o,s,t)},r}(wa),pw=dw,ev=d(74479),gw={circle:function(i,r,t){return[["M",i-t,r],["A",t,t,0,1,0,i+t,r],["A",t,t,0,1,0,i-t,r]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["Z"]]},"triangle-down":function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},yw=function(i){(0,br.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return(0,f.isNil)(t.r)?t.radius:t.r},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.symbol||"circle",o=this._getR(t),s,l;return(0,ol.default)(a)?(s=a,l=s(e,n,o),l=(0,ev.Z)(l)):(s=r.Symbols[a],l=s(e,n,o)),s?l:(console.warn(a+" marker is not supported."),null)},r.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");$c(this,t,{path:e},n)},r.Symbols=gw,r}(wa),mw=yw,cl=d(15730),xw=d(49274),bw=d(26632);function rv(i,r,t){var e=(0,bw.getOffScreenContext)();return i.createPath(e),e.isPointInPath(r,t)}var ww=1e-6;function vf(i){return Math.abs(i)<ww?0:i<0?-1:1}function Sw(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}function nv(i,r,t){var e=!1,n=i.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=i[a],s=i[(a+1)%n];if(Sw(o,s,[r,t]))return!0;vf(o[1]-t)>0!=vf(s[1]-t)>0&&vf(r-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(e=!e)}return e}var Mw=d(2879);function xs(i,r,t,e,n,a,o,s){var l=(Math.atan2(s-r,o-i)+Math.PI*2)%(Math.PI*2);if(l<e||l>n)return!1;var u={x:i+t*Math.cos(l),y:r+t*Math.sin(l)};return zc(u.x,u.y,o,s)<=a/2}var df=d(35600),iv=d(77160);function Cw(i){for(var r=!1,t=i.length,e=0;e<t;e++){var n=i[e],a=n[0];if(a==="C"||a==="A"||a==="Q"){r=!0;break}}return r}function Ew(i,r,t,e){for(var n=!1,a=r/2,o=0;o<i.length;o++){var s=i[o],l=s.currentPoint,u=s.params,h=s.prePoint,c=s.box;if(!(c&&!To(c.x-a,c.y-a,c.width+r,c.height+r,t,e))){switch(s.command){case"L":case"Z":n=uo(h[0],h[1],l[0],l[1],r,t,e);break;case"Q":var v=Mw.default.pointDistance(h[0],h[1],u[1],u[2],u[3],u[4],t,e);n=v<=r/2;break;case"C":var y=cl.default.pointDistance(h[0],h[1],u[1],u[2],u[3],u[4],u[5],u[6],t,e);n=y<=r/2;break;case"A":var A=s.arcParams,k=A.cx,R=A.cy,H=A.rx,V=A.ry,ot=A.startAngle,ut=A.endAngle,bt=A.xRotation,Ft=[t,e,1],Xt=[1,0,0,0,1,0,0,0,1],Ut=H>V?H:V,Gt=H>V?1:H/V,te=H>V?V/H:1;df.translate(Xt,Xt,[-k,-R]),df.rotate(Xt,Xt,-bt),df.scale(Xt,Xt,[1/Gt,1/te]),iv.transformMat3(Ft,Ft,Xt),n=xs(0,0,Ut,ot,ut,r,Ft[0],Ft[1]);break;default:break}if(n)break}}return n}function Aw(i){for(var r=i.length,t=[],e=[],n=[],a=0;a<r;a++){var o=i[a],s=o[0];s==="M"?(n.length&&(e.push(n),n=[]),n.push([o[1],o[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([o[1],o[2]])}return n.length>0&&e.push(n),{polygons:t,polylines:e}}var vl=(0,br.__assign)({hasArc:Cw,extractPolygons:Aw,isPointInStroke:Ew},De.PathUtil);function av(i,r,t){for(var e=!1,n=0;n<i.length;n++){var a=i[n];if(e=nv(a,r,t),e)break}return e}var Tw=function(i){(0,br.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,br.__assign)((0,br.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="path"&&this._setPathArr(e),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=(0,ev.Z)(t);var e=vl.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,xw.default)(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var a=this.getStartTangent();uf(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(n){var a=this.getEndTangent();ff(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.getSegments(),l=this.get("hasArc"),u=!1;if(n&&(u=vl.isPointInStroke(s,o,t,e)),!u&&a)if(l)u=rv(this,t,e);else{var h=this.attr("path"),c=vl.extractPolygons(h);u=av(c.polygons,t,e)||av(c.polylines,t,e)}return u},r.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");$c(this,t,e,n)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,f.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var e=this.get("tCache");e||(this._calculateCurve(),this._setTcache(),e=this.get("tCache"));var n,a,o=this.get("curve");if(!e||e.length===0)return o?{x:o[0][1],y:o[0][2]}:null;(0,f.each)(e,function(h,c){t>=h[0]&&t<=h[1]&&(n=(t-h[0])/(h[1]-h[0]),a=c)});var s=o[a];if((0,f.isNil)(s)||(0,f.isNil)(a))return null;var l=s.length,u=o[a+1];return cl.default.pointAt(s[l-2],s[l-1],u[1],u[2],u[3],u[4],u[5],u[6],n)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",vl.pathToCurve(t))},r.prototype._setTcache=function(){var t=0,e=0,n=[],a,o,s,l,u=this.get("curve");if(!!u){if((0,f.each)(u,function(h,c){s=u[c+1],l=h.length,s&&(t+=cl.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,f.each)(u,function(h,c){s=u[c+1],l=h.length,s&&(a=[],a[0]=e/t,o=cl.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),e+=o||0,a[1]=e/t,n.push(a))}),this.set("tCache",n)}},r.prototype.getStartTangent=function(){var t=this.getSegments(),e;if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;e=[],o?(e.push([n[0]-o[0],n[1]-o[1]]),e.push([n[0],n[1]])):(e.push([a[0],a[1]]),e.push([n[0],n[1]]))}return e},r.prototype.getEndTangent=function(){var t=this.getSegments(),e=t.length,n;if(e>1){var a=t[e-2].currentPoint,o=t[e-1].currentPoint,s=t[e-1].endTangent;n=[],s?(n.push([o[0]-s[0],o[1]-s[1]]),n.push([o[0],o[1]])):(n.push([a[0],a[1]]),n.push([o[0],o[1]]))}return n},r}(wa),pf=Tw;function ov(i,r,t,e,n){var a=i.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=i[o][0],l=i[o][1],u=i[o+1][0],h=i[o+1][1];if(uo(s,l,u,h,r,t,e))return!0}if(n){var c=i[0],v=i[a-1];if(uo(c[0],c[1],v[0],v[1],r,t,e))return!0}return!1}var Pw=function(i){(0,br.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr().points,l=!1;return n&&(l=ov(s,o,t,e,!0)),!l&&a&&(l=nv(s,t,e)),l},r.prototype.createPath=function(t){var e=this.attr(),n=e.points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var o=n[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},r}(wa),_w=Pw,sv=d(65386),Lw=function(i){(0,br.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,br.__assign)((0,br.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,a=e.startArrow,o=e.endArrow,s=n.length,l=n[0][0],u=n[0][1],h=n[s-1][0],c=n[s-1][1];a&&uf(this,t,n[1][0],n[1][1],l,u),o&&ff(this,t,n[s-2][0],n[s-2][1],h,c)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr().points;return ov(s,o,t,e,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var e=this.attr(),n=e.points,a=e.startArrow,o=e.endArrow,s=n.length;if(!(n.length<2)){var l=n[0][0],u=n[0][1],h=n[s-1][0],c=n[s-1][1];if(a&&a.d){var v=Po(l,u,n[1][0],n[1][1],a.d);l+=v.dx,u+=v.dy}if(o&&o.d){var v=Po(n[s-2][0],n[s-2][1],h,c,o.d);h-=v.dx,c-=v.dy}t.beginPath(),t.moveTo(l,u);for(var y=0;y<s-1;y++){var A=n[y];t.lineTo(A[0],A[1])}t.lineTo(h,c)}},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,f.isNil)(e)?(this.set("totalLength",sv.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ka.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(l,u){t[u+1]&&(o=[],o[0]=n/e,s=Ka.default.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(wa),Ow=Lw;function Iw(i,r,t,e,n,a,o){var s=n/2;return To(i-s,r-s,t,n,a,o)||To(i+t-s,r-s,n,e,a,o)||To(i+s,r+e-s,t,n,a,o)||To(i-s,r+s,n,e,a,o)}function kw(i,r,t,e,n,a,o,s){var l=a/2;return uo(i+n,r,i+t-n,r,a,o,s)||uo(i+t,r+n,i+t,r+e-n,a,o,s)||uo(i+t-n,r+e,i+n,r+e,a,o,s)||uo(i,r+e-n,i,r+n,a,o,s)||xs(i+t-n,r+n,n,1.5*Math.PI,2*Math.PI,a,o,s)||xs(i+t-n,r+e-n,n,0,.5*Math.PI,a,o,s)||xs(i+n,r+e-n,n,.5*Math.PI,Math.PI,a,o,s)||xs(i+n,r+n,n,Math.PI,1.5*Math.PI,a,o,s)}var Bw=function(i){(0,br.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,br.__assign)((0,br.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,u=s.y,h=s.width,c=s.height,v=s.radius;if(v){var A=!1;return n&&(A=kw(l,u,h,c,v,o,t,e)),!A&&a&&(A=rv(this,t,e)),A}else{var y=o/2;if(a&&n)return To(l-y,u-y,h+y,c+y,t,e);if(a)return To(l,u,h,c,t,e);if(n)return Iw(l,u,h,c,o,t,e)}},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.radius;if(t.beginPath(),l===0)t.rect(n,a,o,s);else{var u=nw(l),h=u[0],c=u[1],v=u[2],y=u[3];t.moveTo(n+h,a),t.lineTo(n+o-c,a),c!==0&&t.arc(n+o-c,a+c,c,-Math.PI/2,0),t.lineTo(n+o,a+s-v),v!==0&&t.arc(n+o-v,a+s-v,v,0,Math.PI/2),t.lineTo(n+y,a+s),y!==0&&t.arc(n+y,a+s-y,y,Math.PI/2,Math.PI),t.lineTo(n,a+h),h!==0&&t.arc(n+h,a+h,h,Math.PI,Math.PI*1.5),t.closePath()}},r}(wa),Dw=Bw,lv=d(8914),Fw=function(i){(0,br.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,br.__assign)((0,br.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,lv.assembleFont)(t)},r.prototype._setText=function(t){var e=null;(0,gn.default)(t)&&t.indexOf(`
`)!==-1&&(e=t.split(`
`)),this.set("textArr",e)},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(e)},r.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=t.fontSize*1;return e?e-n:n*.14},r.prototype._drawTextArr=function(t,e,n){var a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,u=a.fontSize*1,h=this._getSpaceingY(),c=(0,lv.getTextHeight)(a.text,a.fontSize,a.lineHeight),v;(0,Mn.default)(e,function(y,A){v=l+A*(h+u)-c+u,o==="middle"&&(v+=c-u-(c-u)/2),o==="top"&&(v+=c-u),n?t.fillText(y,s,v):t.strokeText(y,s,v)})},r.prototype._drawText=function(t,e){var n=this.attr(),a=n.x,o=n.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,e);else{var l=n.text;e?t.fillText(l,a,o):t.strokeText(l,a,o)}},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isStroke()&&n>0&&(!(0,Mi.default)(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!(0,Mi.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(wa),Rw=Fw,Nw=d(4555),kY=d(85424),Yw=d(22487),uv=d(6052);function Gw(i,r){if(r){var t=(0,uv.U_)(r);return(0,uv.rG)(t,i)}return i}function fv(i,r,t){var e=i.getTotalMatrix();if(e){var n=Gw([r,t,1],e),a=n[0],o=n[1];return[a,o]}return[r,t]}function hv(i,r,t){if(i.isCanvas&&i.isCanvas())return!0;if(!(0,Yw.isAllowCapture)(i)&&i.cfg.isInView===!1)return!1;if(i.cfg.clipShape){var e=fv(i,r,t),n=e[0],a=e[1];if(i.isClipped(n,a))return!1}var o=i.cfg.cacheCanvasBBox;return o||(o=i.getCanvasBBox()),r>=o.minX&&r<=o.maxX&&t>=o.minY&&t<=o.maxY}function cv(i,r,t){if(!hv(i,r,t))return null;for(var e=null,n=i.getChildren(),a=n.length,o=a-1;o>=0;o--){var s=n[o];if(s.isGroup())e=cv(s,r,t);else if(hv(s,r,t)){var l=s,u=fv(s,r,t),h=u[0],c=u[1];l.isInShape(h,c)&&(e=s)}if(e)break}return e}var zw=function(i){(0,br.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return w},r.prototype.getGroupBase=function(){return cf},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Zb();return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},r.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},r.prototype.setDOMSize=function(t,e){i.prototype.setDOMSize.call(this,t,e);var n=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*e,o>1&&n.scale(o,o)},r.prototype.clear=function(){i.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},r.prototype.getShape=function(t,e){return this.get("quickHit")?cv(this,t,e):i.prototype.getShape.call(this,t,e,null)},r.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),e=this.getViewRange(),n;if(t.length&&t[0]===this)n=e;else if(n=Jc(t),n){n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY);var a=this.get("clipView");a&&(n=aw(n,e))}return n},r.prototype.refreshElement=function(t){var e=this.get("refreshElements");e.push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,Ub.default)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),Uo(t,this),hf(t,n),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a&&(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),Uo(t,this),hf(t,n,a),t.restore()),(0,Mn.default)(e,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,jb.default)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},r.prototype.skipDraw=function(){},r}(De.AbstractCanvas),vv=zw,Xw=d(71270),Vw=Xw.version,gf={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},cn={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},BY=null;function fa(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function dv(i){var r=gf[i.type],t=i.getParent();if(!r)throw new Error("the type "+i.type+" is not supported by svg");var e=fa(r);if(i.get("id")&&(e.id=i.get("id")),i.set("el",e),i.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(e)}return e}function pv(i,r){var t=i.get("el"),e=(0,f.toArray)(t.children).sort(r),n=document.createDocumentFragment();e.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function Hw(i,r){var t=i.parentNode,e=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),n=e[r],a=e.indexOf(i);if(n){if(a>r)t.insertBefore(i,n);else if(a<r){var o=e[r+1];o?t.insertBefore(i,o):t.appendChild(i)}}else t.appendChild(i)}function Ww(i,r){var t=i.cfg.el,e=i.attr(),n={dx:e.shadowOffsetX,dy:e.shadowOffsetY,blur:e.shadowBlur,color:e.shadowColor};if(!n.dx&&!n.dy&&!n.blur&&!n.color)t.removeAttribute("filter");else{var a=r.find("filter",n);a||(a=r.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}}function bs(i){var r=i.attr().matrix;if(r){for(var t=i.cfg.el,e=[],n=0;n<9;n+=3)e.push(r[n]+","+r[n+1]);e=e.join(","),e.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+e+")"):console.warn("invalid matrix:",r)}}function ws(i,r){var t=i.getClip(),e=i.get("el");if(!t)e.removeAttribute("clip-path");else if(t&&!e.hasAttribute("clip-path")){dv(t),t.createPath(r);var n=r.addClip(t);e.setAttribute("clip-path","url(#"+n+")")}}function gv(i,r){r.forEach(function(t){t.draw(i)})}function yv(i,r){var t=i.get("canvas");if(t&&t.get("autoDraw")){var e=t.get("context"),n=i.getParent(),a=n?n.getChildren():[t],o=i.get("el");if(r==="remove"){var s=i.get("isClipShape");if(s){var l=o&&o.parentNode,u=l&&l.parentNode;l&&u&&u.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(r==="show")o.setAttribute("visibility","visible");else if(r==="hide")o.setAttribute("visibility","hidden");else if(r==="zIndex")Hw(o,a.indexOf(i));else if(r==="sort"){var h=i.get("children");h&&h.length&&pv(i,function(c,v){return h.indexOf(c)-h.indexOf(v)?1:0})}else r==="clear"?o&&(o.innerHTML=""):r==="matrix"?bs(i):r==="clip"?ws(i,e):r==="attr"||r==="add"&&i.draw(e)}}var jw=function(i){(0,br.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=fa("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.createPath(n,t)}},r.prototype.onCanvasChange=function(t){yv(this,t)},r.prototype.getShapeBase=function(){return I},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),ws(this,t),this.createPath(t),e.length&&gv(t,e))},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){cn[s]&&a.setAttribute(cn[s],o)}),bs(this)},r}(De.AbstractGroup),yf=jw,Uw=function(i){(0,br.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,br.__assign)((0,br.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.draw(n,t)}},r.prototype.getShapeBase=function(){return I},r.prototype.getGroupBase=function(){return yf},r.prototype.onCanvasChange=function(t){yv(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=(0,qc.b)(this.get("type"));n&&(e=n(this))}if(e){var a=e.x,o=e.y,s=e.width,l=e.height,u=this.getHitLineWidth(),h=u/2,c=a-h,v=o-h,y=a+s+h,A=o+l+h;return{x:c,y:v,minX:c,minY:v,maxX:y,maxY:A,width:s+u,height:l+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},r.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||dv(this),ws(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},r.prototype.createPath=function(t,e){},r.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),a=n.fill,o=n.fillStyle,s=n.stroke,l=n.strokeStyle,u=n.fillOpacity,h=n.strokeOpacity,c=n.lineWidth,v=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),u&&v.setAttribute(cn.fillOpacity,u)),this.canStroke&&c>0&&(e?"stroke"in n?this._setColor(t,"stroke",s):"strokeStyle"in n&&this._setColor(t,"stroke",l):this._setColor(t,"stroke",s||l),h&&v.setAttribute(cn.strokeOpacity,h),c&&v.setAttribute(cn.lineWidth,c))},r.prototype._setColor=function(t,e,n){var a=this.get("el");if(!n){a.setAttribute(cn[e],"none");return}if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=t.find("gradient",n);o||(o=t.addGradient(n)),a.setAttribute(cn[e],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=t.find("pattern",n);o||(o=t.addPattern(n)),a.setAttribute(cn[e],"url(#"+o+")")}else a.setAttribute(cn[e],n)},r.prototype.shadow=function(t,e){var n=this.attr(),a=e||n,o=a.shadowOffsetX,s=a.shadowOffsetY,l=a.shadowBlur,u=a.shadowColor;(o||s||l||u)&&Ww(this,t)},r.prototype.transform=function(t){var e=this.attr(),n=(t||e).matrix;n&&bs(this)},r.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},r.prototype.isPointInPath=function(t,e){var n=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,l=e+o.top,u=document.elementFromPoint(s,l);return!!(u&&u.isEqualNode(n))},r.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},r}(De.AbstractShape),ha=Uw,Zw=function(i){(0,br.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,br.__assign)((0,br.__assign)({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):cn[s]&&a.setAttribute(cn[s],o)})},r}(ha),Kw=Zw,$w=function(i){(0,br.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){cn[s]&&a.setAttribute(cn[s],o)}),a.innerHTML=n.html},r}(ha),Qw=$w,Jw=function(i){(0,br.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,br.__assign)((0,br.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):cn[s]&&a.setAttribute(cn[s],o)})},r}(ha),qw=Jw,tS=function(i){(0,br.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,br.__assign)((0,br.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(e||a,function(s,l){l==="img"?n._setImage(a.img):cn[l]&&o.setAttribute(cn[l],s)})},r.prototype.setAttr=function(t,e){this.attrs[t]=e,t==="img"&&this._setImage(e)},r.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if((0,f.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,f.isString)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},r}(ha),eS=tS,rS=function(i){(0,br.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,br.__assign)((0,br.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var l=(0,f.isObject)(o)?t.addArrow(n,cn[s]):t.getDefaultArrow(n,cn[s]);a.setAttribute(cn[s],"url(#"+l+")")}else a.removeAttribute(cn[s]);else cn[s]&&a.setAttribute(cn[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ka.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return Ka.default.pointAt(n,a,o,s,t)},r}(ha),nS=rS,dl={circle:function(i,r,t){return[["M",i,r],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["z"]]},triangleDown:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},mv={get:function(i){return dl[i]},register:function(i,r){dl[i]=r},remove:function(i){delete dl[i]},getAll:function(){return dl}},iS=function(i){(0,br.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t){var e=this.get("el");e.setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return(0,f.isArray)(t)?t.map(function(e){return e.join(" ")}).join(""):t},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return(0,f.isFunction)(o)?s=o:s=mv.get(o),s?s(e,n,a):(console.warn(s+" symbol is not exist."),null)},r.symbolsFactory=mv,r}(ha),aS=iS,oS=function(i){(0,br.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,br.__assign)((0,br.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(e||a,function(s,l){if(l==="path"&&(0,f.isArray)(s))o.setAttribute("d",n._formatPath(s));else if(l==="startArrow"||l==="endArrow")if(s){var u=(0,f.isObject)(s)?t.addArrow(a,cn[l]):t.getDefaultArrow(a,cn[l]);o.setAttribute(cn[l],"url(#"+u+")")}else o.removeAttribute(cn[l]);else cn[l]&&o.setAttribute(cn[l],s)})},r.prototype._formatPath=function(t){var e=t.map(function(n){return n.join(" ")}).join("");return~e.indexOf("NaN")?"":e},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength(),a=e?e.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},r}(ha),sS=oS,lS=function(i){(0,br.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):cn[s]&&a.setAttribute(cn[s],o)})},r}(ha),uS=lS,fS=function(i){(0,br.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,br.__assign)((0,br.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):cn[s]&&a.setAttribute(cn[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,f.isNil)(e)?(this.set("totalLength",sv.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ka.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(l,u){t[u+1]&&(o=[],o[0]=n/e,s=Ka.default.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(ha),hS=fS,cS=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,vS=/[^\s\,]+/gi;function dS(i){var r=0,t=0,e=0,n=0;return(0,f.isArray)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,{r1:r,r2:t,r3:e,r4:n}}function DY(i){if(i=i||[],isArray(i))return i;if(isString(i))return i=i.match(cS),each(i,function(r,t){if(r=r.match(vS),r[0].length>1){var e=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=e}each(r,function(n,a){isNaN(n)||(r[a]=+n)}),i[t]=r}),i}var pS=function(i){(0,br.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,br.__assign)((0,br.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];(0,f.each)(e||a,function(u,h){l.indexOf(h)!==-1&&!s?(o.setAttribute("d",n._assembleRect(a)),s=!0):l.indexOf(h)===-1&&cn[h]&&o.setAttribute(cn[h],u)})},r.prototype._assembleRect=function(t){var e=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+e+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=dS(s);(0,f.isArray)(s)?s.length===1?l.r1=l.r2=l.r3=l.r4=s[0]:s.length===2?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):s.length===3?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;var u=[["M "+(e+l.r1)+","+n],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]];return u.join(" ")},r}(ha),gS=pS,yS=d(56463),xv=.3,mS={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},xS={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},bS={left:"left",start:"left",center:"middle",right:"end",end:"end"},wS=function(i){(0,br.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,br.__assign)((0,br.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");this._setFont(),(0,f.each)(e||a,function(s,l){l==="text"?n._setText(""+s):l==="matrix"&&s?bs(n):cn[l]&&o.setAttribute(cn[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,a=e.textAlign,o=(0,yS.detect)();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",xS[n]||"alphabetic"):t.setAttribute("alignment-baseline",mS[n]||"baseline"),t.setAttribute("text-anchor",bS[a]||"left")},r.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),a=n.x,o=n.textBaseline,s=o===void 0?"bottom":o;if(!t)e.innerHTML="";else if(~t.indexOf(`
`)){var l=t.split(`
`),u=l.length-1,h="";(0,f.each)(l,function(c,v){v===0?s==="alphabetic"?h+='<tspan x="'+a+'" dy="'+-u+'em">'+c+"</tspan>":s==="top"?h+='<tspan x="'+a+'" dy="0.9em">'+c+"</tspan>":s==="middle"?h+='<tspan x="'+a+'" dy="'+-(u-1)/2+'em">'+c+"</tspan>":s==="bottom"?h+='<tspan x="'+a+'" dy="-'+(u+xv)+'em">'+c+"</tspan>":s==="hanging"&&(h+='<tspan x="'+a+'" dy="'+(-(u-1)-xv)+'em">'+c+"</tspan>"):h+='<tspan x="'+a+'" dy="1em">'+c+"</tspan>"}),e.innerHTML=h}else e.innerHTML=t},r}(ha),SS=wS,MS=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,CS=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,ES=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function bv(i){var r=i.match(ES);if(!r)return"";var t="";return r.sort(function(e,n){return e=e.split(":"),n=n.split(":"),Number(e[0])-Number(n[0])}),(0,f.each)(r,function(e){e=e.split(":"),t+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'}),t}function AS(i,r){var t=MS.exec(i),e=(0,f.mod)((0,f.toRadian)(parseFloat(t[1])),Math.PI*2),n=t[2],a,o;e>=0&&e<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=e&&e<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=e&&e<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(e),l=s*s,u=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,h=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;r.setAttribute("x1",a.x),r.setAttribute("y1",a.y),r.setAttribute("x2",u),r.setAttribute("y2",h),r.innerHTML=bv(n)}function TS(i,r){var t=CS.exec(i),e=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];r.setAttribute("cx",e),r.setAttribute("cy",n),r.setAttribute("r",a),r.innerHTML=bv(o)}var PS=function(){function i(r){this.cfg={};var t=null,e=(0,f.uniqueId)("gradient_");return r.toLowerCase()[0]==="l"?(t=fa("linearGradient"),AS(r,t)):(t=fa("radialGradient"),TS(r,t)),t.setAttribute("id",e),this.el=t,this.id=e,this.cfg=r,this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),_S=PS,LS={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},OS={x:"-40%",y:"-40%",width:"200%",height:"200%"},IS=function(){function i(r){this.type="filter",this.cfg={},this.type="filter";var t=fa("filter");return(0,f.each)(OS,function(e,n){t.setAttribute(n,e)}),this.el=t,this.id=(0,f.uniqueId)("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return i.prototype.match=function(r,t){if(this.type!==r)return!1;var e=!0,n=this.cfg;return(0,f.each)(Object.keys(n),function(a){if(n[a]!==t[a])return e=!1,!1}),e},i.prototype.update=function(r,t){var e=this.cfg;return e[LS[r]]=t,this._parseShadow(e,this.el),this},i.prototype._parseShadow=function(r,t){var e=`<feDropShadow
      dx="`+(r.dx||0)+`"
      dy="`+(r.dy||0)+`"
      stdDeviation="`+(r.blur?r.blur/10:0)+`"
      flood-color="`+(r.color?r.color:"#000")+`"
      flood-opacity="`+(r.opacity?r.opacity:1)+`"
      />`;t.innerHTML=e},i}(),kS=IS,BS=function(){function i(r,t){this.cfg={};var e=fa("marker"),n=(0,f.uniqueId)("marker_");e.setAttribute("id",n);var a=fa("path");a.setAttribute("stroke",r.stroke||"none"),a.setAttribute("fill",r.fill||"none"),e.appendChild(a),e.setAttribute("overflow","visible"),e.setAttribute("orient","auto-start-reverse"),this.el=e,this.child=a,this.id=n;var o=r[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(r.lineWidth,a)),this}return i.prototype.match=function(){return!1},i.prototype._setDefaultPath=function(r,t){var e=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),e.setAttribute("refX",""+10*Math.cos(Math.PI/6)),e.setAttribute("refY",""+5)},i.prototype._setMarker=function(r,t){var e=this.el,n=this.cfg.path,a=this.cfg.d;(0,f.isArray)(n)&&(n=n.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",n),e.appendChild(t),a&&e.setAttribute("refX",""+a/r)},i.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},i}(),wv=BS,DS=function(){function i(r){this.type="clip",this.cfg={};var t=fa("clipPath");this.el=t,this.id=(0,f.uniqueId)("clip_"),t.id=this.id;var e=r.cfg.el;return t.appendChild(e),this.cfg=r,this}return i.prototype.match=function(){return!1},i.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},i}(),FS=DS,RS=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,NS=function(){function i(r){this.cfg={};var t=fa("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var e=fa("image");t.appendChild(e);var n=(0,f.uniqueId)("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=r;var a=RS.exec(r),o=a[2];e.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function l(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?l():(s.onload=l,s.src=s.src),this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),YS=NS,GS=function(){function i(r){var t=fa("defs"),e=(0,f.uniqueId)("defs_");t.id=e,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return i.prototype.find=function(r,t){for(var e=this.children,n=null,a=0;a<e.length;a++)if(e[a].match(r,t)){n=e[a].id;break}return n},i.prototype.findById=function(r){for(var t=this.children,e=null,n=0;n<t.length;n++)if(t[n].id===r){e=t[n];break}return e},i.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},i.prototype.getDefaultArrow=function(r,t){var e=r.stroke||r.strokeStyle;if(this.defaultArrow[e])return this.defaultArrow[e].id;var n=new wv(r,t);return this.defaultArrow[e]=n,this.el.appendChild(n.el),this.add(n),n.id},i.prototype.addGradient=function(r){var t=new _S(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addArrow=function(r,t){var e=new wv(r,t);return this.el.appendChild(e.el),this.add(e),e.id},i.prototype.addShadow=function(r){var t=new kS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addPattern=function(r){var t=new YS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addClip=function(r){var t=new FS(r);return this.el.appendChild(t.el),this.add(t),t.id},i}(),zS=GS,XS=function(i){(0,br.__extends)(r,i);function r(t){return i.call(this,(0,br.__assign)((0,br.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return r.prototype.getShapeBase=function(){return I},r.prototype.getGroupBase=function(){return yf},r.prototype.getShape=function(t,e,n){var a=n.target||n.srcElement;if(!gf[a.tagName]){for(var o=a.parentNode;o&&!gf[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},r.prototype.createDom=function(){var t=fa("svg"),e=new zS(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},r.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&pv(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if(t==="clear"){if(n){n.innerHTML="";var o=e.el;o.innerHTML="",n.appendChild(o)}}else t==="matrix"?bs(this):t==="clip"?ws(this,e):t==="changeSize"&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();ws(this,t),e.length&&gv(t,e)},r}(De.AbstractCanvas),Sv=XS,VS=d(23231),HS=VS.version;function mf(i){return i?!1:i==null||isNaN(i)}function Mv(i){if((0,f.isArray)(i))return mf(i[1].y);var r=i.y;return(0,f.isArray)(r)?mf(r[0]):mf(r)}function xf(i,r,t){if(r===void 0&&(r=!1),t===void 0&&(t=!0),!i.length||i.length===1&&!t)return[];if(r){for(var e=[],n=0,a=i.length;n<a;n++){var o=i[n];Mv(o)||e.push(o)}return[e]}for(var s=[],l=[],n=0,a=i.length;n<a;n++){var o=i[n];Mv(o)?l.length&&(l.length===1&&!t||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function gi(i,r,t,e){e===void 0&&(e="");var n=i.style,a=n===void 0?{}:n,o=i.defaultStyle,s=i.color,l=i.size,u=(0,K.__assign)((0,K.__assign)({},o),a);return s&&(r&&(a.stroke||(u.stroke=s)),t&&(a.fill||(u.fill=s))),e&&(0,f.isNil)(a[e])&&!(0,f.isNil)(l)&&(u[e]=l),u}function bf(i){var r=i.x,t=(0,f.isArray)(i.y)?i.y:[i.y];return t.map(function(e,n){return{x:(0,f.isArray)(r)?r[n]:r,y:e}})}var WS={line:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dot:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dash:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},smooth:function(i,r,t){return[["M",i-t,r],["A",t/2,t/2,0,1,1,i,r],["A",t/2,t/2,0,1,0,i+t,r]]},hv:function(i,r,t){return[["M",i-t-1,r-2.5],["L",i,r-2.5],["L",i,r+2.5],["L",i+t+1,r+2.5]]},vh:function(i,r,t){return[["M",i-t-1,r+2.5],["L",i,r+2.5],["L",i,r-2.5],["L",i+t+1,r-2.5]]},hvh:function(i,r,t){return[["M",i-(t+1),r+2.5],["L",i-t/2,r+2.5],["L",i-t/2,r-2.5],["L",i+t/2,r-2.5],["L",i+t/2,r+2.5],["L",i+t+1,r+2.5]]},vhv:function(i,r){return[["M",i-5,r+2.5],["L",i-5,r],["L",i,r],["L",i,r-3],["L",i,r+3],["L",i+6.5,r+3]]}};function Cv(i,r){var t=i.color;return{symbol:WS[r],style:{lineWidth:2,r:6,stroke:t}}}function jS(i,r,t){for(var e=i.isStack,n=i.connectNulls,a=i.isInCircle,o=i.showSinglePoint,s=gi(i,!0,!1,"lineWidth"),l=xf(i.points,n,o),u=[],h=0,c=l.length;h<c;h++){var v=l[h];u=u.concat(ZS(v,a,e,r,t,s))}return s.path=u,s}function wf(i,r,t,e,n){if(i.length===1)return[["M",i[0].x,i[0].y-n.lineWidth/2],["L",i[0].x,i[0].y],["L",i[0].x,i[0].y+n.lineWidth/2]];var a;return t?(r&&i.length&&i.push({x:i[0].x,y:i[0].y}),a=ye(i,!1,e)):(a=ge(i,!1),r&&a.push(["Z"])),a}function US(i,r,t,e,n,a){var o=[],s=[];(0,f.each)(i,function(h){var c=bf(h);o.push(c[1]),s.push(c[0])});var l=wf(o,r,e,n,a),u=wf(s,r,e,n,a);return t?l:l.concat(u)}function ZS(i,r,t,e,n,a){if(i.length){var o=i[0];return(0,f.isArray)(o.y)?US(i,r,t,e,n,a):wf(i,r,e,n,a)}return[]}var FY=lo("line",{defaultShapeType:"line"});(0,f.each)(["line","dot","dash","smooth"],function(i){fn("line",i,{draw:function(r,t){var e=i==="smooth",n;if(e){var a=this.coordinate,o=a.start,s=a.end;n=[[o.x,s.y],[s.x,o.y]]}var l=jS(r,e,n),u=t.addShape({type:"path",attrs:l,name:"line"});return u},getMarker:function(r){return Cv(r,i)}})});var RY=null,KS=function(i){(0,K.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="path",e.shapeType="line";var n=t.connectNulls,a=n===void 0?!1:n,o=t.showSinglePoint,s=o===void 0?!0:o;return e.connectNulls=a,e.showSinglePoint=s,e}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,u=a.container,h=this.getElementId(t),c=this.getShapeInfo(t),v=o[h];if(v){var A=v.getModel();(this.isCoordinateChanged||Yc(A,c))&&(v.animate=this.animateOption,v.update(c)),delete o[h]}else{var y=this.getShapeFactory();v=new Bc({shapeFactory:y,container:u,offscreenGroup:this.getOffscreenGroup()}),v.geometry=this,v.animate=this.animateOption,v.draw(c,n)}return l.push(v),s[h]=v,l},r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push({x:s.x,y:s.y}),n.push(s[kt])}return{points:e,data:n}},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),a=n.points,o=n.data;return e.mappingData=t,e.data=o,e.isStack=!!this.getAdjust("stack"),e.points=a,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},r}(Za),Sf=KS;function $S(i,r,t,e,n){var a=[];if(i.length){for(var o=[],s=[],l=0,u=i.length;l<u;l++){var h=i[l];o.push(h[1]),s.push(h[0])}s=s.reverse(),(0,f.each)([o,s],function(c,v){var y=[],A=e.parsePoints(c),k=A[0];o.length===1&&s.length===1?y=v===0?[["M",k.x-.5,k.y],["L",k.x+.5,k.y]]:[["L",k.x+.5,k.y],["L",k.x-.5,k.y]]:(r&&A.push({x:k.x,y:k.y}),t?y=ye(A,!1,n):y=ge(A,!1),v>0&&(y[0][0]="L")),a=a.concat(y)}),a.push(["Z"])}return a}function pl(i,r,t,e,n){for(var a=gi(i,r,!r,"lineWidth"),o=i.connectNulls,s=i.isInCircle,l=i.points,u=i.showSinglePoint,h=xf(l,o,u),c=[],v=0,y=h.length;v<y;v++){var A=h[v];c=c.concat($S(A,s,t,e,n))}return a.path=c,a}function Ev(i){var r=i.start,t=i.end;return[[r.x,t.y],[t.x,r.y]]}var NY=lo("area",{defaultShapeType:"area",getDefaultPoints:function(i){var r=i.x,t=i.y0,e=(0,f.isArray)(i.y)?i.y:[t,i.y];return e.map(function(n){return{x:r,y:n}})}});fn("area","area",{draw:function(i,r){var t=pl(i,!1,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}});var YY=null,QS=function(i){(0,K.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var n=t.startOnZero,a=n===void 0?!0:n,o=t.sortable,s=o===void 0?!0:o,l=t.showSinglePoint,u=l===void 0?!1:l;return e.startOnZero=a,e.sortable=s,e.showSinglePoint=u,e}return r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push(s.points),n.push(s[kt])}return{points:e,data:n}},r.prototype.getYMinValue=function(){if(this.startOnZero)return i.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},r}(Sf),JS=QS,GY=lo("edge",{defaultShapeType:"line",getDefaultPoints:function(i){return bf(i)}});fn("edge","line",{draw:function(i,r){var t=gi(i,!0,!1,"lineWidth"),e=ge(this.parsePoints(i.points),this.coordinate.isPolar);return r.addShape("path",{attrs:(0,K.__assign)((0,K.__assign)({},t),{path:e})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var zY=null,qS=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return r}(Za),t2=qS,e2=d(55223),r2=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this.prepareRange(t),o=this.prepareSize(),s=(0,f.get)(this.styleOption,["style","shadowBlur"]);return(0,f.isNumber)(s)||(s=o/2),this.prepareGreyScaleBlurredCircle(o,s),this.drawWithRange(t,a,o,s),null},r.prototype.clear=function(){i.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[kt][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,f.isNumber)(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),a=t+e,o=n.getContext("2d");n.width=n.height=a*2,o.clearRect(0,0,n.width,n.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=e,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,Math.PI*2,!0),o.closePath(),o.fill()},r.prototype.drawWithRange=function(t,e,n,a){var o=this.coordinate,s=o.start,l=o.end,u=this.coordinate.getWidth(),h=this.coordinate.getHeight(),c=this.getAttribute("color"),v=c.getFields()[0];this.clearShadowCanvasCtx();var y=this.getShadowCanvasCtx();e&&(t=t.filter(function(Ut){return Ut[kt][v]<=e[1]&&Ut[kt][v]>=e[0]}));for(var A=this.scales[v],k=0,R=t;k<R.length;k++){var H=R[k],V=this.getDrawCfg(H),ot=V.x,ut=V.y,bt=A.scale(H[kt][v]);this.drawGrayScaleBlurredCircle(ot-s.x,ut-l.y,n+a,bt,y)}var Ft=y.getImageData(0,0,u,h);this.clearShadowCanvasCtx(),this.colorize(Ft),y.putImageData(Ft,0,0);var Xt=this.getImageShape();Xt.attr("x",s.x),Xt.attr("y",l.y),Xt.attr("width",u),Xt.attr("height",h),Xt.attr("img",y.canvas),Xt.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if((0,f.isNumber)(s)){var l=a[s]?a[s]:e2.default.rgb2arr(e.gradient(s/256));n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;return t=e.addShape({type:"image",attrs:{}}),this.imageShape=t,t},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,K.__assign)((0,K.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[kt]})},r}(Za),n2=r2;function Mf(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,f.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,u;(0,f.isArray)(t)?(l=t[0],u=t[1]):(l=t-a/2,u=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:u,y:(s+o)/2}):h.push({x:u,y:s},{x:u,y:o}),h}function Cf(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}function Av(i,r,t){var e=[];return(0,f.isNil)(r)?t?e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[2].x,i[2].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),e}var XY=lo("interval",{defaultShapeType:"rect",getDefaultPoints:function(i){return Mf(i)}});fn("interval","rect",{draw:function(i,r){var t=gi(i,!1,!0),e=this.parsePath(Cf(i.points)),n=r.addShape("path",{attrs:(0,K.__assign)((0,K.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});var VY=null;function i2(i,r){var t=i.length,e=i;(0,f.isString)(e[0])&&(e=i.map(function(s){return r.translate(s)}));for(var n=e[1]-e[0],a=2;a<t;a++){var o=e[a]-e[a-1];n>o&&(n=o)}return n}function a2(i,r){if(r){var t=(0,f.flatten)(i),e=(0,f.valuesOfKey)(t,r);return e.length}return i.length}function Tv(i){var r=i.theme,t=i.coordinate,e=i.getXScale(),n=e.values,a=i.beforeMappingData,o=n.length;if(e.isLinear&&n.length>1){n.sort();var s=i2(n,e);o=(e.max-e.min)/s,n.length>o&&(o=n.length)}var l=e.range,u=1/o,h=1;if(t.isPolar?t.isTransposed&&o>1?h=r.multiplePieWidthRatio:h=r.roseWidthRatio:(e.isLinear&&(u*=l[1]-l[0]),h=r.columnWidthRatio),u*=h,i.getAdjust("dodge")){var c=i.getAdjust("dodge"),v=c.dodgeBy,y=a2(a,v);u=u/y}var A=r.maxColumnWidth,k=r.minColumnWidth,R=Li(i.coordinate);if(A){var H=A/R;u>H&&(u=H)}if(k){var V=k/R;u<V&&(u=V)}return u}var o2=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=Li(o);n=n/s}else this.defaultSize||(this.defaultSize=Tv(this)),n=this.defaultSize;return e.size=n,e},r.prototype.adjustScale=function(){i.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,t.values),t.max)});else{var e=this.scaleDefs,n=t.field,a=t.min,o=t.max,s=t.type;s!=="time"&&(a>0&&!(0,f.get)(e,[n,"min"])&&t.change({min:0}),o<=0&&!(0,f.get)(e,[n,"max"])&&t.change({max:0}))}},r}(Za),s2=o2,l2=function(i){(0,K.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="line";var n=t.sortable,a=n===void 0?!0:n;return e.sortable=a,e}return r}(Sf),u2=l2,_o={hexagon:function(i,r,t){var e=t/2*Math.sqrt(3);return[["M",i,r-t],["L",i+e,r-t/2],["L",i+e,r+t/2],["L",i,r+t],["L",i-e,r+t/2],["L",i-e,r-t/2],["Z"]]},bowtie:function(i,r,t){var e=t-1.5;return[["M",i-t,r-e],["L",i+t,r+e],["L",i+t,r-e],["L",i-t,r+e],["Z"]]},cross:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r+t],["M",i+t,r-t],["L",i-t,r+t]]},tick:function(i,r,t){return[["M",i-t/2,r-t],["L",i+t/2,r-t],["M",i,r-t],["L",i,r+t],["M",i-t/2,r+t],["L",i+t/2,r+t]]},plus:function(i,r,t){return[["M",i-t,r],["L",i+t,r],["M",i,r-t],["L",i,r+t]]},hyphen:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},line:function(i,r,t){return[["M",i,r-t],["L",i,r+t]]}},Pv=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],f2=["cross","tick","plus","hyphen","line"];function Ef(i,r,t,e,n){var a=gi(r,n,!n,"r"),o=i.parsePoints(r.points),s=o[0];if(r.isStack)s=o[1];else if(o.length>1){for(var l=t.addGroup(),u=0,h=o;u<h.length;u++){var c=h[u];l.addShape({type:"marker",attrs:(0,K.__assign)((0,K.__assign)((0,K.__assign)({},a),{symbol:_o[e]||e}),c)})}return l}return t.addShape({type:"marker",attrs:(0,K.__assign)((0,K.__assign)((0,K.__assign)({},a),{symbol:_o[e]||e}),s)})}var HY=lo("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(i){return bf(i)}});(0,f.each)(Pv,function(i){fn("point","hollow-"+i,{draw:function(r,t){return Ef(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:_o[i]||i,style:{r:4.5,stroke:t,fill:null}}}})});var WY=null,h2=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return r.prototype.getDrawCfg=function(t){var e=i.prototype.getDrawCfg.call(this,t);return(0,K.__assign)((0,K.__assign)({},e),{isStack:!!this.getAdjust("stack")})},r}(Za),c2=h2;function v2(i){for(var r=i[0],t=1,e=[["M",r.x,r.y]];t<i.length;){var n=i[t];(n.x!==i[t-1].x||n.y!==i[t-1].y)&&(e.push(["L",n.x,n.y]),n.x===r.x&&n.y===r.y&&t<i.length-1&&(r=i[t+1],e.push(["Z"]),e.push(["M",r.x,r.y]),t++)),t++}return(0,f.isEqual)((0,f.last)(e),r)||e.push(["L",r.x,r.y]),e.push(["Z"]),e}var jY=lo("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(i){var r=[];return(0,f.each)(i.x,function(t,e){var n=i.y[e];r.push({x:t,y:n})}),r}});fn("polygon","polygon",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=gi(i,!0,!0),e=this.parsePath(v2(i.points));return r.addShape("path",{attrs:(0,K.__assign)((0,K.__assign)({},t),{path:e}),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var UY=null,d2=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n=e.x,a=e.y,o;if(!((0,f.isArray)(n)&&(0,f.isArray)(a))){var s=this.getXScale(),l=this.getYScale(),u=s.values.length,h=l.values.length,c=.5*1/u,v=.5*1/h;s.isCategory&&l.isCategory?(n=[n-c,n-c,n+c,n+c],a=[a-v,a+v,a+v,a-v]):(0,f.isArray)(n)?(o=n,n=[o[0],o[0],o[1],o[1]],a=[a-v/2,a+v/2,a+v/2,a-v/2]):(0,f.isArray)(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],n=[n-c/2,n-c/2,n+c/2,n+c/2]),e.x=n,e.y=a}return e},r}(Za),p2=d2,ZY=lo("schema",{defaultShapeType:""}),KY=null,g2=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=Li(o);n=n/s}else this.defaultSize||(this.defaultSize=Tv(this)),n=this.defaultSize;return e.size=n,e},r}(Za),y2=g2;fn("area","line",{draw:function(i,r){var t=pl(i,!0,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}}),fn("area","smooth",{draw:function(i,r){var t=this.coordinate,e=pl(i,!1,!0,this,Ev(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}}),fn("area","smooth-line",{draw:function(i,r){var t=this.coordinate,e=pl(i,!0,!0,this,Ev(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}});function Af(i,r){var t=[];t.push({x:i.x,y:i.y*1/2+r.y*1/2}),t.push({x:r.x,y:i.y*1/2+r.y*1/2}),t.push(r);var e=["C"];return(0,f.each)(t,function(n){e.push(n.x,n.y)}),e}function Tf(i,r){var t=[];t.push({x:r.x,y:r.y}),t.push(i);var e=["Q"];return(0,f.each)(t,function(n){e.push(n.x,n.y)}),e}function m2(i,r,t){var e=Tf(r,t),n=[["M",i.x,i.y]];return n.push(e),n}function x2(i,r){var t=Tf(i[1],r),e=Tf(i[3],r),n=[["M",i[0].x,i[0].y]];return n.push(e),n.push(["L",i[3].x,i[3].y]),n.push(["L",i[2].x,i[2].y]),n.push(t),n.push(["L",i[1].x,i[1].y]),n.push(["L",i[0].x,i[0].y]),n.push(["Z"]),n}fn("edge","arc",{draw:function(i,r){var t=gi(i,!0,!1,"lineWidth"),e=i.points,n=e.length>2?"weight":"normal",a;if(i.isInCircle){var o={x:0,y:1};return n==="normal"?a=m2(e[0],e[1],o):(t.fill=t.stroke,a=x2(e,o)),a=this.parsePath(a),r.addShape("path",{attrs:(0,K.__assign)((0,K.__assign)({},t),{path:a})})}else{if(n==="normal")return e=this.parsePoints(e),a=Hi((e[1].x+e[0].x)/2,e[0].y,Math.abs(e[1].x-e[0].x)/2,Math.PI,Math.PI*2),r.addShape("path",{attrs:(0,K.__assign)((0,K.__assign)({},t),{path:a})});var s=Af(e[1],e[3]),l=Af(e[2],e[0]);return a=[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],s,["L",e[3].x,e[3].y],["L",e[2].x,e[2].y],l,["Z"]],a=this.parsePath(a),t.fill=t.stroke,r.addShape("path",{attrs:(0,K.__assign)((0,K.__assign)({},t),{path:a})})}},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});function b2(i,r){var t=Af(i,r),e=[["M",i.x,i.y]];return e.push(t),e}fn("edge","smooth",{draw:function(i,r){var t=gi(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(b2(e[0],e[1]));return r.addShape("path",{attrs:(0,K.__assign)((0,K.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var gl=1/3;function w2(i,r){var t=[];t.push({x:i.x,y:i.y*(1-gl)+r.y*gl}),t.push({x:r.x,y:i.y*(1-gl)+r.y*gl}),t.push(r);var e=[["M",i.x,i.y]];return(0,f.each)(t,function(n){e.push(["L",n.x,n.y])}),e}fn("edge","vhv",{draw:function(i,r){var t=gi(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(w2(e[0],e[1]));return r.addShape("path",{attrs:(0,K.__assign)((0,K.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}}),fn("interval","funnel",{getPoints:function(i){return i.size=i.size*2,Mf(i)},draw:function(i,r){var t=gi(i,!1,!0),e=this.parsePath(Av(i.points,i.nextPoints,!1)),n=r.addShape("path",{attrs:(0,K.__assign)((0,K.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}}),fn("interval","hollow-rect",{draw:function(i,r){var t=gi(i,!0,!1),e=this.parsePath(Cf(i.points)),n=r.addShape("path",{attrs:(0,K.__assign)((0,K.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}});function S2(i){var r=i.x,t=i.y,e=i.y0;return(0,f.isArray)(t)?t.map(function(n,a){return{x:(0,f.isArray)(r)?r[a]:r,y:n}}):[{x:r,y:e},{x:r,y:t}]}fn("interval","line",{getPoints:function(i){return S2(i)},draw:function(i,r){var t=gi(i,!0,!1,"lineWidth"),e=this.parsePath(Cf(i.points,!1)),n=r.addShape("path",{attrs:(0,K.__assign)((0,K.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:r}}}}),fn("interval","pyramid",{getPoints:function(i){return i.size=i.size*2,Mf(i,!0)},draw:function(i,r){var t=gi(i,!1,!0),e=this.parsePath(Av(i.points,i.nextPoints,!0)),n=r.addShape("path",{attrs:(0,K.__assign)((0,K.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function M2(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,f.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s=r+n/2,l=r-n/2;return[{x:r,y:a},{x:r,y:o},{x:l,y:a},{x:s,y:a},{x:l,y:o},{x:s,y:o}]}function C2(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y]]}fn("interval","tick",{getPoints:function(i){return M2(i)},draw:function(i,r){var t=gi(i,!0,!1),e=this.parsePath(C2(i.points)),n=r.addShape("path",{attrs:(0,K.__assign)((0,K.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:r}}}});var E2=function(i,r,t){var e=i.x,n=i.y,a=r.x,o=r.y,s;switch(t){case"hv":s=[{x:a,y:n}];break;case"vh":s=[{x:e,y:o}];break;case"hvh":var l=(a+e)/2;s=[{x:l,y:n},{x:l,y:o}];break;case"vhv":var u=(n+o)/2;s=[{x:e,y:u},{x:a,y:u}];break;default:break}return s};function A2(i,r){var t=[];return(0,f.each)(i,function(e,n){var a=i[n+1];if(t.push(e),a){var o=E2(e,a,r);t=t.concat(o)}}),t}function T2(i){return i.map(function(r,t){return t===0?["M",r.x,r.y]:["L",r.x,r.y]})}function P2(i,r){var t=xf(i.points,i.connectNulls,i.showSinglePoint),e=[];return(0,f.each)(t,function(n){var a=A2(n,r);e=e.concat(T2(a))}),(0,K.__assign)((0,K.__assign)({},gi(i,!0,!1,"lineWidth")),{path:e})}(0,f.each)(["hv","vh","hvh","vhv"],function(i){fn("line",i,{draw:function(r,t){var e=P2(r,i),n=t.addShape({type:"path",attrs:e,name:"line"});return n},getMarker:function(r){return Cv(r,i)}})}),(0,f.each)(f2,function(i){fn("point",i,{draw:function(r,t){return Ef(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:_o[i],style:{r:4.5,stroke:t,fill:null}}}})}),fn("point","image",{draw:function(i,r){var t=gi(i,!1,!1,"r").r,e=this.parsePoints(i.points),n=e[0];if(i.isStack)n=e[1];else if(e.length>1){for(var a=r.addGroup(),o=0,s=e;o<s.length;o++){var l=s[o];a.addShape("image",{attrs:{x:l.x-t/2,y:l.y-t,width:t,height:t,img:i.shape[1]}})}return a}return r.addShape("image",{attrs:{x:n.x-t/2,y:n.y-t,width:t,height:t,img:i.shape[1]}})},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}}),(0,f.each)(Pv,function(i){fn("point",i,{draw:function(r,t){return Ef(this,r,t,i,!1)},getMarker:function(r){var t=r.color;return{symbol:_o[i]||i,style:{r:4.5,fill:t}}}})});function _v(i){var r=(0,f.isArray)(i)?i:[i],t=r[0],e=r[r.length-1],n=r.length>1?r[1]:t,a=r.length>3?r[3]:e,o=r.length>2?r[2]:n;return{min:t,max:e,min1:n,max1:a,median:o}}function Lv(i,r,t){var e=t/2,n;if((0,f.isArray)(r)){var a=_v(r),o=a.min,s=a.max,l=a.median,u=a.min1,h=a.max1,c=i-e,v=i+e;n=[[c,s],[v,s],[i,s],[i,h],[c,u],[c,h],[v,h],[v,u],[i,u],[i,o],[c,o],[v,o],[c,l],[v,l]]}else{r=(0,f.isNil)(r)?.5:r;var y=_v(i),o=y.min,s=y.max,l=y.median,u=y.min1,h=y.max1,A=r-e,k=r+e;n=[[o,A],[o,k],[o,r],[u,r],[u,A],[u,k],[h,k],[h,A],[h,r],[s,r],[s,A],[s,k],[l,A],[l,k]]}return n.map(function(R){return{x:R[0],y:R[1]}})}function _2(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x,i[10].y],["L",i[11].x,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]}fn("schema","box",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return Lv(r,t,e)},draw:function(i,r){var t=gi(i,!0,!1),e=this.parsePath(_2(i.points)),n=r.addShape("path",{attrs:(0,K.__assign)((0,K.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e-6,e-3,e,e+3,e+6],o=Lv(t,a,n);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:r}}}});function L2(i){var r=(0,f.isArray)(i)?i:[i],t=r.sort(function(e,n){return n-e});return pa(t,4,t[t.length-1])}function Ov(i,r,t){var e=L2(r);return[{x:i,y:e[0]},{x:i,y:e[1]},{x:i-t/2,y:e[2]},{x:i-t/2,y:e[1]},{x:i+t/2,y:e[1]},{x:i+t/2,y:e[2]},{x:i,y:e[2]},{x:i,y:e[3]}]}function O2(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]}fn("schema","candle",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return Ov(r,t,e)},draw:function(i,r){var t=gi(i,!0,!0),e=this.parsePath(O2(i.points)),n=r.addShape("path",{attrs:(0,K.__assign)((0,K.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e+7.5,e+3,e-3,e-7.5],o=Ov(t,a,n);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}});function I2(i,r){var t=Math.abs(i[0].x-i[2].x),e=Math.abs(i[0].y-i[2].y),n=Math.min(t,e);r&&(n=(0,f.clamp)(r,0,Math.min(t,e))),n=n/2;var a=(i[0].x+i[2].x)/2,o=(i[0].y+i[2].y)/2;return{x:a-n,y:o-n,width:n*2,height:n*2}}fn("polygon","square",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=gi(i,!0,!0),e=this.parsePoints(i.points);return r.addShape("rect",{attrs:(0,K.__assign)((0,K.__assign)({},t),I2(e,i.size)),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var k2=function(i){(0,K.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setLabelPosition=function(t,e,n,a){var o=this.getCoordinate(),s=o.isTransposed,l=e.points,u=o.convert(l[0]),h=o.convert(l[2]),c=s?-1:1,v=(u.x-h.x)/2*c,y=(u.y-h.y)/2*c;switch(a){case"right":s||(t.x-=v,t.y+=y),t.textAlign=(0,f.get)(t,"textAlign","left");break;case"left":s?t.x-=v*2:(t.x+=v,t.y+=y),t.textAlign=(0,f.get)(t,"textAlign","right");break;case"bottom":s?(t.x-=v,t.y-=y):t.y+=y*2,t.textAlign=(0,f.get)(t,"textAlign","center"),t.textBaseline=(0,f.get)(t,"textBaseline","top");break;case"middle":s?t.x-=v:t.y+=y,t.textAlign=(0,f.get)(t,"textAlign","center");break;case"top":s&&(t.x-=v,t.y+=y),t.textAlign=(0,f.get)(t,"textAlign","center"),t.textBaseline=(0,f.get)(t,"textBaseline","bottom");break;default:break}},r}(al),B2=k2,yl=Math.PI/2,D2=function(i){(0,K.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n;if(t.labelEmit)n=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!e.isTransposed)n="center";else{var a=e.getCenter(),o=this.getDefaultOffset(t.offset);Math.abs(t.x-a.x)<1?n="center":t.angle>Math.PI||t.angle<=0?n=o>0?"left":"right":n=o>0?"right":"left"}return n},r.prototype.getLabelPoint=function(t,e,n){var a=1,o,s=t.content[n];this.isToMiddle(e)?o=this.getMiddlePoint(e.points):(t.content.length===1&&n===0?n=1:n===0&&(a=-1),o=this.getArcPoint(e,n));var l=this.getDefaultOffset(t.offset)*a,u=this.getPointAngle(o),h=t.labelEmit,c=this.getCirclePoint(u,l,o,h);return c.r===0?c.content="":(c.content=s,c.angle=u,c.color=e.color),c.rotate=t.autoRotate?this.getLabelRotate(u,l,h):t.rotate,c.start={x:o.x,y:o.y},c},r.prototype.getArcPoint=function(t,e){return e===void 0&&(e=0),!(0,f.isArray)(t.x)&&!(0,f.isArray)(t.y)?{x:t.x,y:t.y}:{x:(0,f.isArray)(t.x)?t.x[e]:t.x,y:(0,f.isArray)(t.y)?t.y[e]:t.y}},r.prototype.getPointAngle=function(t){return vi(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,e,n,a){var o=this.getCoordinate(),s=o.getCenter(),l=Oi(o,n);if(l===0)return(0,K.__assign)((0,K.__assign)({},s),{r:l});var u=t;if(o.isTransposed&&l>e&&!a){var h=Math.asin(e/(2*l));u=t+h*2}else l=l+e;return{x:s.x+l*Math.cos(u),y:s.y+l*Math.sin(u),r:l}},r.prototype.getLabelRotate=function(t,e,n){var a=t+yl;return n&&(a-=yl),a&&(a>yl?a=a-Math.PI:a<-yl&&(a=a+Math.PI)),a},r.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,a={x:0,y:0};return(0,f.each)(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=n,a.y/=n,a=e.convert(a),a},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(al),Iv=D2,F2=function(i){(0,K.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.defaultLayout="distribute",e}return r.prototype.getDefaultLabelCfg=function(){return(0,f.get)(this.geometry.theme,"pieLabels",{})},r.prototype.getDefaultOffset=function(t){return t||0},r.prototype.getLabelRotate=function(t,e,n){var a;return e<0&&(a=t,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n=e.getCenter(),a;t.angle<=Math.PI/2&&t.x>=n.x?a="left":a="right";var o=this.getDefaultOffset(t.offset);return o<=0&&(a==="right"?a="left":a="right"),a},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var e=this.getCoordinate(),n={x:(0,f.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,f.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=vi(e,n);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var l=vi(e,a);s>=l&&(l=l+Math.PI*2),o=s+(l-s)/2}return o},r.prototype.getCirclePoint=function(t,e,n){var a=this.getCoordinate(),o=a.getCenter(),s=a.getRadius()+e;return(0,K.__assign)((0,K.__assign)({},Sn(o.x,o.y,s,t)),{angle:t,r:s})},r}(Iv),R2=F2,kv=4;function N2(i,r,t,e,n,a){var o=!0,s=e.start,l=e.end,u=Math.min(s.y,l.y),h=Math.abs(s.y-l.y),c,v=0,y=Number.MIN_VALUE,A=r.map(function(bt){return bt.y>v&&(v=bt.y),bt.y<y&&(y=bt.y),{size:t,targets:[bt.y-u]}});for(y-=u,v-u>h&&(h=v-u);o;)for(A.forEach(function(bt){var Ft=(Math.min.apply(y,bt.targets)+Math.max.apply(y,bt.targets))/2;bt.pos=Math.min(Math.max(y,Ft-bt.size/2),h-bt.size)}),o=!1,c=A.length;c--;)if(c>0){var k=A[c-1],R=A[c];k.pos+k.size>R.pos&&(k.size+=R.size,k.targets=k.targets.concat(R.targets),k.pos+k.size>h&&(k.pos=h-k.size),A.splice(c,1),o=!0)}c=0,A.forEach(function(bt){var Ft=u+t/2;bt.targets.forEach(function(){r[c].y=bt.pos+Ft,Ft+=t,c++})});for(var H={},V=0,ot=i;V<ot.length;V++){var ut=ot[V];H[ut.get("id")]=ut}r.forEach(function(bt){var Ft=bt.r*bt.r,Xt=Math.pow(Math.abs(bt.y-n.y),2);if(Ft<Xt)bt.x=n.x;else{var Ut=Math.sqrt(Ft-Xt);a?bt.x=n.x+Ut:bt.x=n.x-Ut}var Gt=H[bt.id];Gt.attr("x",bt.x),Gt.attr("y",bt.y);var te=(0,f.find)(Gt.getChildren(),function(ue){return ue.get("type")==="text"});te&&(te.attr("y",bt.y),te.attr("x",bt.x))})}function Y2(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=14,u=o+n,h=u*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(y){!y||(y.textAlign==="right"?v[0].push(y):v[1].push(y))}),v.forEach(function(y,A){var k=h/l;y.length>k&&(y.sort(function(R,H){return H["..percent"]-R["..percent"]}),y.splice(k,y.length-k)),y.sort(function(R,H){return R.y-H.y}),N2(r,y,l,c,s,A)})}(0,f.each)(i,function(y){if(y&&y.labelLine){var A=y.offset,k=y.angle,R=Sn(s.x,s.y,o,k),H=Sn(s.x,s.y,o+A/2,k),V=y.x+(0,f.get)(y,"offsetX",0),ot=y.y+(0,f.get)(y,"offsetY",0),ut={x:V-Math.cos(k)*kv,y:ot-Math.sin(k)*kv};(0,f.isObject)(y.labelLine)||(y.labelLine={}),y.labelLine.path=["M "+R.x,R.y+" Q"+H.x,H.y+" "+ut.x,ut.y].join(",")}})}var Bv=4;function G2(i,r,t,e,n,a,o){r.sort(function(Gt,te){return Gt.y-te.y});var s=e.start,l=e.end,u=Math.min(s.y,l.y),h=Math.max(s.y,l.y),c,v=r.map(function(Gt){return{content:Gt.content,size:t,pos:Gt.y,targets:[Gt.y]}}),y=Math.max.apply(Math,v.map(function(Gt){return Gt.pos})),A=Math.min.apply(Math,v.map(function(Gt){return Gt.pos}));if(o){for(var k=Math.min(A,h-(v.length-1)*t),R=Math.max(k+v.length*t,y+t),H=!0;H;)for(H=!1,c=v.length;c--;)if(c>0){var V=v[c-1],ot=v[c];V.pos+V.size>ot.pos&&(ot.pos+c*t<R?(V.size+=ot.size,V.targets=V.targets.concat(ot.targets),v.splice(c,1)):V.pos=ot.pos-V.size,H=!0)}}else for(var R=Math.max(u+(v.length-1)*t,y),k=Math.min(A,R-(v.length-1)*t),H=!0;H;)for(H=!1,c=v.length;c--;)if(c>0){var V=v[c-1],ot=v[c];V.pos+V.size>ot.pos&&(V.pos-k>c*t?V.pos-=V.size:(V.size+=ot.size,V.targets=V.targets.concat(ot.targets),v.splice(c,1)),H=!0)}c=0,v.forEach(function(Gt){var te=Gt.pos;Gt.targets.forEach(function(){r[c].y=te,te+=t,c++})});for(var ut={},bt=0,Ft=i;bt<Ft.length;bt++){var Xt=Ft[bt];ut[Xt.get("id")]=Xt}var Ut=(Math.max.apply(Math,r.map(function(Gt){return Gt.y}))-Math.min.apply(Math,r.map(function(Gt){return Gt.y})))/2;Ut=Math.max(Ut,a),r.forEach(function(Gt){var te=ut[Gt.id],ue=te.find(function(Te){return Te.get("type")==="text"});if(ue&&ue.attr("y")!==Gt.y){var se=Ut*Ut,Me=Math.pow(Math.abs(Gt.y-n.y),2);if(se<Me)Gt.x=n.x;else{var Pe=Math.sqrt(se-Me);o?Gt.x=n.x+Pe:Gt.x=n.x-Pe}}te.attr("x",Gt.x),te.attr("y",Gt.y),ue&&(ue.attr("y",Gt.y),ue.attr("x",Gt.x))})}function z2(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=(0,f.get)(i[0],"labelHeight",14),u=o+n,h=u*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(y){!y||(y.x<s.x?v[0].push(y):v[1].push(y))}),v.forEach(function(y,A){var k=h/l;if(y.length>k){y.sort(function(H,V){return V["data.percent"]-H["data.percent"]});var R=y.splice(k,y.length-k+1);R.forEach(function(H){var V=r.findIndex(function(ot){return ot.get("id")===H.id});r[V]&&(r[V].remove(!0),r.splice(V,1))})}G2(r,y,l,c,s,u,A===1)})}(0,f.each)(i,function(y){if(y&&y.labelLine){var A=y.angle,k=Sn(s.x,s.y,o,A),R=y.x+(0,f.get)(y,"offsetX",0)*(Math.cos(A)>0?1:-1),H=y.y+(0,f.get)(y,"offsetY",0)*(Math.sin(A)>0?1:-1),V={x:R-Math.cos(A)*Bv,y:H-Math.sin(A)*Bv},ot=y.labelLine.smooth,ut=[],bt=V.x-s.x,Ft=V.y-s.y,Xt=Math.atan(Ft/bt);if(bt<0&&(Xt+=Math.PI),ot===!1){(0,f.isObject)(y.labelLine)||(y.labelLine={});var Ut=0;(A<0&&A>-Math.PI/2||A>Math.PI*1.5)&&V.y>k.y&&(Ut=1),A>=0&&A<Math.PI/2&&V.y>k.y&&(Ut=1),A>=Math.PI/2&&A<Math.PI&&k.y>V.y&&(Ut=1),(A<-Math.PI/2||A>=Math.PI&&A<Math.PI*1.5)&&k.y>V.y&&(Ut=1);var Gt=n/2>4?4:Math.max(n/2-1,0),te=Sn(s.x,s.y,o+Gt,A),ue=Sn(s.x,s.y,o+n/2,Xt),se=0;ut.push("M "+k.x+" "+k.y),ut.push("L "+te.x+" "+te.y),ut.push("A "+s.x+" "+s.y+" 0 "+se+" "+Ut+" "+ue.x+" "+ue.y),ut.push("L "+V.x+" "+V.y)}else{var te=Sn(s.x,s.y,o+(n/2>4?4:Math.max(n/2-1,0)),A),Me=k.x<s.x?1:-1;ut.push("M "+V.x+" "+V.y);var Pe=(k.y-s.y)/(k.x-s.x),Te=(V.y-s.y)/(V.x-s.x);Math.abs(Pe-Te)>Math.pow(Math.E,-16)&&ut.push.apply(ut,["C",V.x+Me*4,V.y,2*te.x-k.x,2*te.y-k.y,k.x,k.y]),ut.push("L "+k.x+" "+k.y)}y.labelLine.path=ut.join(" ")}})}function X2(i,r,t,e){(0,f.each)(r,function(n){var a=e.minX,o=e.minY,s=e.maxX,l=e.maxY,u=n.getCanvasBBox(),h=u.minX,c=u.minY,v=u.maxX,y=u.maxY,A=u.x,k=u.y,R=u.width,H=u.height,V=A,ot=k;(h<a||v<a)&&(V=a),(c<o||y<o)&&(ot=o),h>s?V=s-R:v>s&&(V=V-(v-s)),c>l?ot=l-H:y>l&&(ot=ot-(y-l)),(V!==A||ot!==k)&&af(n,V-A,ot-k)})}function V2(i,r,t,e){(0,f.each)(r,function(n,a){var o=n.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&n.remove(!0)})}var H2=100,Dv=function(){function i(r){r===void 0&&(r={}),this.bitmap={};var t=r.xGap,e=t===void 0?1:t,n=r.yGap,a=n===void 0?8:n;this.xGap=e,this.yGap=a}return i.prototype.hasGap=function(r){for(var t=!0,e=this.bitmap,n=Math.round(r.minX),a=Math.round(r.maxX),o=Math.round(r.minY),s=Math.round(r.maxY),l=n;l<=a;l+=1){if(!e[l]){e[l]={};continue}if(l===n||l===a){for(var u=o;u<=s;u++)if(e[l][u]){t=!1;break}}else if(e[l][o]||e[l][s]){t=!1;break}}return t},i.prototype.fillGap=function(r){for(var t=this.bitmap,e=Math.round(r.minX),n=Math.round(r.maxX),a=Math.round(r.minY),o=Math.round(r.maxY),s=e;s<=n;s+=1)t[s]||(t[s]={});for(var s=e;s<=n;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)t[s][l]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)t[e][s]=!0,t[n][s]=!0;if(this.xGap!==1)for(var s=e;s<=n;s+=1)t[s][a]=!0,t[s][o]=!0},i.prototype.destroy=function(){this.bitmap={}},i}();function W2(i,r,t){t===void 0&&(t=H2);var e=-1,n=i.attr(),a=n.x,o=n.y,s=i.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),u,h=-e,c=0,v=0,y=function(H){var V=H*.1;return[V*Math.cos(V),V*Math.sin(V)]};if(r.hasGap(s))return r.fillGap(s),!0;for(var A=!1,k=0,R={};Math.min(Math.abs(c),Math.abs(v))<l&&k<t;)if(u=y(h+=e),c=~~u[0],v=~~u[1],!(!c&&!v||R[c+"-"+v])&&(i.attr({x:a+c,y:o+v}),c+v<0&&i.attr("textAlign","right"),k++,r.hasGap(i.getCanvasBBox()))){r.fillGap(i.getCanvasBBox()),A=!0,R[c+"-"+v]=!0;break}return A}function j2(i,r,t,e){var n=i.getCanvasBBox(),a=n.width,o=n.height,s={x:r,y:t,textAlign:"center"};switch(e){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break;default:break}return i.attr(s),i.getCanvasBBox()}function U2(i,r,t,e){var n=new Dv;(0,f.each)(r,function(a){var o=a.find(function(s){return s.get("type")==="text"});W2(o,n)||a.remove(!0)}),n.destroy()}function Z2(i,r,t,e){var n=new Dv;(0,f.each)(r,function(a){for(var o=a.find(function(y){return y.get("type")==="text"}),s=o.attr(),l=s.x,u=s.y,h=!1,c=0;c<=8;c++){var v=j2(o,l,u,c);if(n.hasGap(v)){n.fillGap(v),h=!0;break}}h||a.remove(!0)}),n.destroy()}function K2(i,r,t){var e={fillOpacity:(0,f.isNil)(i.attr("fillOpacity"))?1:i.attr("fillOpacity"),strokeOpacity:(0,f.isNil)(i.attr("strokeOpacity"))?1:i.attr("strokeOpacity"),opacity:(0,f.isNil)(i.attr("opacity"))?1:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),i.animate(e,r)}function $2(i,r,t){var e={fillOpacity:0,strokeOpacity:0,opacity:0},n=r.easing,a=r.duration,o=r.delay;i.animate(e,a,n,function(){i.remove(!0)},o)}function Q2(i,r,t){var e,n=r[0],a=r[1];return i.applyToMatrix([n,a,1]),t==="x"?(i.setMatrix(yn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,1],["t",n,a]])),e=yn.transform(i.getMatrix(),[["t",-n,-a],["s",100,1],["t",n,a]])):t==="y"?(i.setMatrix(yn.transform(i.getMatrix(),[["t",-n,-a],["s",1,.01],["t",n,a]])),e=yn.transform(i.getMatrix(),[["t",-n,-a],["s",1,100],["t",n,a]])):t==="xy"&&(i.setMatrix(yn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])),e=yn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])),e}function Pf(i,r,t,e,n){var a=t.start,o=t.end,s=t.getWidth(),l=t.getHeight(),u,h;n==="y"?(u=a.x+s/2,h=e.y<a.y?e.y:a.y):n==="x"?(u=e.x>a.x?e.x:a.x,h=a.y+l/2):n==="xy"&&(t.isPolar?(u=t.getCenter().x,h=t.getCenter().y):(u=(a.x+o.x)/2,h=(a.y+o.y)/2));var c=Q2(i,[u,h],n);i.animate({matrix:c},r)}function J2(i,r,t){var e=t.coordinate,n=t.minYPoint;Pf(i,r,e,n,"x")}function q2(i,r,t){var e=t.coordinate,n=t.minYPoint;Pf(i,r,e,n,"y")}function tM(i,r,t){var e=t.coordinate,n=t.minYPoint;Pf(i,r,e,n,"xy")}function eM(i,r,t){var e=i.getTotalLength();i.attr("lineDash",[e]),i.animate(function(n){return{lineDashOffset:(1-n)*e}},r)}function rM(i,r,t){var e=t.toAttrs,n=e.x,a=e.y;delete e.x,delete e.y,i.attr(e),i.animate({x:n,y:a},r)}function nM(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=n.points,o=a[0].y-a[1].y>0?e.maxX:e.minX,s=(e.minY+e.maxY)/2;i.applyToMatrix([o,s,1]);var l=yn.transform(i.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);i.setMatrix(l),i.animate({matrix:yn.transform(i.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},r)}function iM(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=(e.minX+e.maxX)/2,o=n.points,s=o[0].y-o[1].y<=0?e.maxY:e.minY;i.applyToMatrix([a,s,1]);var l=yn.transform(i.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);i.setMatrix(l),i.animate({matrix:yn.transform(i.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},r)}var aM=d(84909);function Fv(i,r){var t,e=(0,aM.Z)(i,r),n=e.startAngle,a=e.endAngle;return!(0,f.isNumberEqual)(n,-Math.PI*.5)&&n<-Math.PI*.5&&(n+=Math.PI*2),!(0,f.isNumberEqual)(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),r[5]===0&&(t=[a,n],n=t[0],a=t[1]),(0,f.isNumberEqual)(n,Math.PI*1.5)&&(n=Math.PI*-.5),(0,f.isNumberEqual)(a,Math.PI*-.5)&&(a=Math.PI*1.5),{startAngle:n,endAngle:a}}function Rv(i){var r;return i[0]==="M"||i[0]==="L"?r=[i[1],i[2]]:(i[0]==="a"||i[0]==="A")&&(r=[i[i.length-2],i[i.length-1]]),r}function Nv(i){var r,t,e,n=i.filter(function(ot){return ot[0]==="A"||ot[0]==="a"}),a=n[0],o=n.length>1?n[1]:n[0],s=i.indexOf(a),l=i.indexOf(o),u=Rv(i[s-1]),h=Rv(i[l-1]),c=Fv(u,a),v=c.startAngle,y=c.endAngle,A=Fv(h,o),k=A.startAngle,R=A.endAngle;(0,f.isNumberEqual)(v,k)&&(0,f.isNumberEqual)(y,R)?(t=v,e=y):(t=Math.min(v,k),e=Math.max(y,R));var H=a[1],V=n[n.length-1][1];return H<V?(r=[V,H],H=r[0],V=r[1]):H===V&&(V=0),{startAngle:t,endAngle:e,radius:H,innerRadius:V}}function oM(i,r,t){var e=t.toAttrs,n=t.coordinate,a=e.path,o=a.map(function(V){return V[0]}),s=Nv(a),l=s.startAngle,u=s.endAngle,h=s.radius,c=s.innerRadius,v=Nv(i.attr("path")),y=v.startAngle,A=v.endAngle,k=n.getCenter(),R=l-y,H=u-A;i.animate(function(V){var ot=y+V*R,ut=A+V*H;return(0,K.__assign)((0,K.__assign)({},e),{path:(0,f.isEqual)(o,["M","A","A","Z"])?Hi(k.x,k.y,h,ot,ut):hi(k.x,k.y,h,ot,ut,c)})},(0,K.__assign)((0,K.__assign)({},r),{callback:function(){i.attr("path",a)}}))}function sM(i,r,t){var e=La(t.coordinate,20),n=e.type,a=e.startState,o=e.endState,s=i.setClip({type:n,attrs:a});s.animate(o,(0,K.__assign)((0,K.__assign)({},r),{callback:function(){i&&!i.get("destroyed")&&i.set("clipShape",null),s.remove(!0)}}))}function _f(i,r,t){if(i.isGroup())(0,f.each)(i.getChildren(),function(s){_f(s,r,t)});else{var e=i.getBBox(),n=(e.minX+e.maxX)/2,a=(e.minY+e.maxY)/2;if(i.applyToMatrix([n,a,1]),t==="zoomIn"){var o=yn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]]);i.setMatrix(o),i.animate({matrix:yn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])},r)}else i.animate({matrix:yn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])},(0,K.__assign)((0,K.__assign)({},r),{callback:function(){i.remove(!0)}}))}}function lM(i,r,t){_f(i,r,"zoomIn")}function uM(i,r,t){_f(i,r,"zoomOut")}function $a(i){return[Tt.TOP,Tt.BOTTOM].includes(i)?{offsetX:0,offsetY:i===Tt.TOP?-8:8,style:{textAlign:"center",textBaseline:i===Tt.TOP?"bottom":"top"}}:[Tt.LEFT,Tt.RIGHT].includes(i)?{offsetX:i===Tt.LEFT?-8:8,offsetY:0,style:{textAlign:i===Tt.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Lf(i,r,t){return{x:i.x+r*Math.cos(t),y:i.y+r*Math.sin(t)}}var fM=function(i){(0,K.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,e){var n=1/2,a={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*e,l=n/(1+1/Math.sin(o/2)),u=Lf(a,n-l,s),h=Math.PI*5/4,c=Math.PI*1/4;return{start:Lf(u,l,h),end:Lf(u,l,c)}},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg,a=n.fields,o=n.type,s=a[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,s),u=l.length,h=[];return l.forEach(function(c,v){var y=[{field:s,value:c,values:l}],A=(0,f.filter)(t,e.getFacetDataFilter(y)),k={type:o,data:A,region:e.getRegion(u,v),columnValue:c,columnField:s,columnIndex:v,columnValuesLength:u,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};h.push(k)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},$a(Tt.TOP),t.cfg.title);a.annotation().text(s)})},r}(Pr),hM=fM,cM=function(i){(0,K.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=this.cfg.cols,o=n[0];if(!o)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,o),l=s.length;a=a||l;var u=this.getPageCount(l,a),h=[];return s.forEach(function(c,v){var y=e.getRowCol(v,a),A=y.row,k=y.col,R=[{field:o,value:c,values:s}],H=(0,f.filter)(t,e.getFacetDataFilter(R)),V={type:e.cfg.type,data:H,region:e.getRegion(u,a,k,A),columnValue:c,rowValue:c,columnField:o,rowField:null,columnIndex:k,rowIndex:A,columnValuesLength:a,rowValuesLength:u,total:l};h.push(V)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?(0,K.__assign)((0,K.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,K.__assign)((0,K.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},$a(Tt.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},r.prototype.getRowCol=function(t,e){var n=Math.floor(t/e),a=t%e;return{row:n,col:a}},r}(Pr),vM=cM,dM=function(i){(0,K.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,K.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,K.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,a=e.type,o=n.length,s=o,l=[],u=0;u<s;u++)for(var h=n[u],c=0;c<o;c++){var v=n[c],y={type:a,data:t,region:this.getRegion(o,s,u,c),columnValue:h,rowValue:v,columnField:h,rowField:v,columnIndex:u,rowIndex:c,columnValuesLength:s,rowValuesLength:o};l.push(y)}return l},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,K.__assign)((0,K.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,K.__assign)((0,K.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.rowValuesLength,u=e.columnValue,h=e.rowValue,c=e.view;if(o===0){var v=(0,f.get)(t.cfg.columnTitle,"formatter"),y=(0,f.deepMix)({position:["50%","0%"],content:v?v(u):u},$a(Tt.TOP),t.cfg.columnTitle);c.annotation().text(y)}if(a===s-1){var v=(0,f.get)(t.cfg.rowTitle,"formatter"),y=(0,f.deepMix)({position:["100%","50%"],content:v?v(h):h},$a(Tt.RIGHT),t.cfg.rowTitle);c.annotation().text(y)}})},r}(Pr),pM=dM,gM=function(i){(0,K.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields[0],a=[],o=1,s=1,l=[""],u=[""],h,c;return this.cfg.transpose?(h=n,l=this.getFieldValues(t,h).slice(0,2),o=l.length):(c=n,u=this.getFieldValues(t,c).slice(0,2),s=u.length),l.forEach(function(v,y){u.forEach(function(A,k){var R=[{field:h,value:v,values:l},{field:c,value:A,values:u}],H=(0,f.filter)(t,e.getFacetDataFilter(R)),V={type:e.cfg.type,data:H,region:e.getRegion(s,o,y,k),columnValue:v,rowValue:A,columnField:h,rowField:c,columnIndex:y,rowIndex:k,columnValuesLength:o,rowValuesLength:s};a.push(V)})}),a},r.prototype.getXAxisOption=function(t,e,n,a){return a.columnIndex===1||a.rowIndex===1?(0,K.__assign)((0,K.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnValue,o=e.rowValue,s=e.view,l=(0,f.get)(t.cfg.title,"formatter");if(t.cfg.transpose){var u=(0,f.deepMix)({position:["50%","0%"],content:l?l(a):a},$a(Tt.TOP),t.cfg.title);s.annotation().text(u)}else{var u=(0,f.deepMix)({position:["100%","50%"],content:l?l(o):o},$a(Tt.RIGHT),t.cfg.title);s.annotation().text(u)}})},r}(Pr),yM=gM,mM=function(i){(0,K.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,K.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,K.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=n[0],o=n[1],s=[],l=1,u=1,h=[""],c=[""];return a&&(h=this.getFieldValues(t,a),l=h.length),o&&(c=this.getFieldValues(t,o),u=c.length),h.forEach(function(v,y){c.forEach(function(A,k){var R=[{field:a,value:v,values:h},{field:o,value:A,values:c}],H=(0,f.filter)(t,e.getFacetDataFilter(R)),V={type:e.cfg.type,data:H,region:e.getRegion(u,l,y,k),columnValue:v,rowValue:A,columnField:a,rowField:o,columnIndex:y,rowIndex:k,columnValuesLength:l,rowValuesLength:u};s.push(V)})}),s},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.columnValue,u=e.rowValue,h=e.view;if(o===0){var c=(0,f.get)(t.cfg.columnTitle,"formatter"),v=(0,f.deepMix)({position:["50%","0%"],content:c?c(l):l},$a(Tt.TOP),t.cfg.columnTitle);h.annotation().text(v)}if(a===s-1){var c=(0,f.get)(t.cfg.rowTitle,"formatter"),v=(0,f.deepMix)({position:["100%","50%"],content:c?c(u):u},$a(Tt.RIGHT),t.cfg.rowTitle);h.annotation().text(v)}})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,K.__assign)((0,K.__assign)({},n),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?(0,K.__assign)((0,K.__assign)({},n),{title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,K.__assign)((0,K.__assign)({},n),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?(0,K.__assign)((0,K.__assign)({},n),{title:null}):n},r}(Pr),xM=mM,bM=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.init=function(){i.prototype.init.call(this),this.view.on(wt.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){var e=this.cfg.fields;if(!e.length)throw new Error("Please specify for the fields for rootFacet!");var n=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return n.push(a),a.children=this.getChildFacets(t,1,n),this.setRegion(n),n},r.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(n){n.region=e.getRegion(n.rowValuesLength,n.columnValuesLength,n.columnIndex,n.rowIndex)})},r.prototype.getRegion=function(t,e,n,a){var o=1/e,s=1/t,l={x:o*n,y:s*a},u={x:l.x+o,y:l.y+s*2/3};return{start:l,end:u}},r.prototype.forceColIndex=function(t){var e=this,n=[],a=0;t.forEach(function(v){e.isLeaf(v)&&(n.push(v),v.columnIndex=a,a++)}),n.forEach(function(v){v.columnValuesLength=n.length});for(var o=this.cfg.fields.length,s=o-1;s>=0;s--)for(var l=this.getFacetsByLevel(t,s),u=0,h=l;u<h.length;u++){var c=h[u];this.isLeaf(c)||(c.originColIndex=c.columnIndex,c.columnIndex=this.getRegionIndex(c.children),c.columnValuesLength=n.length)}},r.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach(function(a){a.rowIndex===e&&n.push(a)}),n},r.prototype.getRegionIndex=function(t){var e=t[0],n=t[t.length-1];return(n.columnIndex-e.columnIndex)/2+e.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,e,n){var a=this,o=this.cfg.fields,s=o.length;if(!(s<e)){var l=[],u=o[e-1],h=this.getFieldValues(t,u);return h.forEach(function(c,v){var y=[{field:u,value:c,values:h}],A=t.filter(a.getFacetDataFilter(y));if(A.length){var k={type:a.cfg.type,data:A,region:null,columnValue:c,rowValue:"",columnField:u,rowField:"",columnIndex:v,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:e,children:a.getChildFacets(A,e+1,n)};l.push(k),n.push(k)}}),l}},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},$a(Tt.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.drawLines=function(t){var e=this;t.forEach(function(n){if(!e.isLeaf(n)){var a=n.children;e.addFacetLines(n,a)}})},r.prototype.addFacetLines=function(t,e){var n=this,a=t.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};e.forEach(function(l){var u=l.view.coordinateBBox,h={x:u.bl.x+(u.tr.x-u.bl.x)/2,y:u.tr.y},c={x:s.x,y:s.y+(h.y-s.y)/2},v={x:h.x,y:c.y};n.drawLine([s,c,v,h])})},r.prototype.getPath=function(t){var e=[],n=this.cfg.line.smooth;return n?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){o===0?e.push(["M",a.x,a.y]):e.push(["L",a.x,a.y])}),e},r.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:(0,f.assign)({path:e},n)})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,K.__assign)((0,K.__assign)({},n),{title:null,label:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.originColIndex!==0&&a.columnIndex!==0?(0,K.__assign)((0,K.__assign)({},n),{title:null,label:null}):n},r}(Pr),wM=bM,SM=function(i){(0,K.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(mt.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(mt.BG).addGroup(),e.option=[],e}return Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){var t=this,e=this.getComponents(),n=function(o){var s=o.component,l=o.extra,u=l.type,h=t.getAnnotationTheme(u);s.update(t.getAnnotationCfg(u,l,h))},a=function(o){var s=t.createAnnotation(o);s&&(s.component.init(),o.type==="regionFilter"&&s.component.render(),t.cache.set(o,s))};e.length?(0,f.each)(e,function(o){var s=o.component;s.get("type")==="regionFilter"?t.view.getRootView().once(wt.AFTER_RENDER,function(){n(o)}):n(o)}):(0,f.each)(this.option,function(o){o.type==="regionFilter"?t.view.getRootView().once(wt.AFTER_RENDER,function(){a(o)}):a(o)})},r.prototype.render=function(){},r.prototype.update=function(){var t=this,e=new WeakMap,n=function(a){var o=a.type,s=t.getAnnotationTheme(o),l=t.getAnnotationCfg(o,a,s),u=t.cache.get(a);if(u)Xn(l,["container"]),u.component.update(l),e.set(a,!0);else{var h=t.createAnnotation(a);h&&(h.component.init(),a.type==="regionFilter"&&h.component.render(),t.cache.set(a,h),e.set(a,!0))}};this.view.once(wt.AFTER_RENDER,function(){(0,f.each)(t.option,function(o){o.type==="regionFilter"&&n(o)});var a=new Map;t.cache.forEach(function(o,s){e.has(s)?a.set(s,o):o.component.destroy()}),t.cache=a}),(0,f.each)(this.option,function(a){a.type!=="regionFilter"&&n(a)})},r.prototype.clear=function(t){t===void 0&&(t=!1),i.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.createAnnotation=function(t){var e=t.type,n=Qr.Annotation[(0,f.upperFirst)(e)];if(n){var a=this.getAnnotationTheme(e),o=this.getAnnotationCfg(e,t,a),s=new n(o);return{component:s,layer:this.isTop(o)?mt.FORE:mt.BG,direction:Tt.NONE,type:at.ANNOTATION,extra:t}}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation((0,K.__assign)({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation((0,K.__assign)({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation((0,K.__assign)({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation((0,K.__assign)({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation((0,K.__assign)({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation((0,K.__assign)({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation((0,K.__assign)({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation((0,K.__assign)({type:"regionFilter"},t))},r.prototype.parsePosition=function(t){var e=this.view.getXScale(),n=this.view.getScalesByDim("y"),a=(0,f.isFunction)(t)?t.call(null,e,n):t,o=0,s=0;if((0,f.isArray)(a)){var l=a[0],u=a[1];if((0,f.isString)(l)&&l.indexOf("%")!==-1&&!isNaN(l.slice(0,-1)))return this.parsePercentPosition(a);o=this.getNormalizedValue(l,e),s=this.getNormalizedValue(u,Object.values(n)[0])}else if(!(0,f.isNil)(a))for(var h=0,c=(0,f.keys)(a);h<c.length;h++){var v=c[h],y=a[v];v===e.field&&(o=this.getNormalizedValue(y,e)),n[v]&&(s=this.getNormalizedValue(y,n[v]))}return this.view.getCoordinate().convert({x:o,y:s})},r.prototype.getRegionPoints=function(t,e){var n=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,u=this.view.getData(),h=(0,f.isArray)(t)?t[0]:t[l],c=(0,f.isArray)(e)?e[0]:e[l],v=[],y;return(0,f.each)(u,function(A,k){if(A[l]===h&&(y=k),k>=y){var R=n.parsePosition([A[l],A[s.field]]);R&&v.push(R)}if(A[l]===c)return!1}),v},r.prototype.getNormalizedValue=function(t,e){var n,a;switch(t){case"start":n=0;break;case"end":n=1;break;case"median":{a=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,n=e.scale(a);break}case"min":case"max":e.isCategory?a=t==="min"?0:e.values.length-1:a=e[t],n=e.scale(a);break;default:n=e.scale(t)}return n},r.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},u=a.getWidth()*e+l.x,h=a.getHeight()*n+l.y;return{x:u,y:h}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},r.prototype.getAnnotationCfg=function(t,e,n){var a=this.view.getCoordinate(),o={};if((0,f.isNil)(e))return null;if(t==="arc"){var s=e,l=s.start,u=s.end,h=this.parsePosition(l),c=this.parsePosition(u),v=vi(a,h),y=vi(a,c);v>y&&(y=Math.PI*2+y),o={center:a.getCenter(),radius:Oi(a,h),startAngle:v,endAngle:y}}else if(t==="image"){var A=e,l=A.start,u=A.end;o={start:this.parsePosition(l),end:this.parsePosition(u),src:e.src}}else if(t==="line"){var k=e,l=k.start,u=k.end;o={start:this.parsePosition(l),end:this.parsePosition(u),text:(0,f.get)(e,"text",null)}}else if(t==="region"){var R=e,l=R.start,u=R.end;o={start:this.parsePosition(l),end:this.parsePosition(u)}}else if(t==="text"){var H=this.view.getData(),V=e,ot=V.position,ut=V.content,bt=(0,K.__rest)(V,["position","content"]),Ft=ut;(0,f.isFunction)(ut)&&(Ft=ut(H)),o=(0,K.__assign)((0,K.__assign)((0,K.__assign)({},this.parsePosition(ot)),bt),{content:Ft})}else if(t==="dataMarker"){var Xt=e,ot=Xt.position,Ut=Xt.point,Gt=Xt.line,te=Xt.text,ue=Xt.autoAdjust,se=Xt.direction;o=(0,K.__assign)((0,K.__assign)({},this.parsePosition(ot)),{coordinateBBox:this.getCoordinateBBox(),point:Ut,line:Gt,text:te,autoAdjust:ue,direction:se})}else if(t==="dataRegion"){var Me=e,l=Me.start,u=Me.end,Pe=Me.region,te=Me.text,Te=Me.lineLength;o={points:this.getRegionPoints(l,u),region:Pe,text:te,lineLength:Te}}else if(t==="regionFilter"){var Ve=e,l=Ve.start,u=Ve.end,je=Ve.apply,Ue=Ve.color,Ge=this.view.geometries,ze=[],ur=function(cr){!cr||(cr.isGroup()?cr.getChildren().forEach(function(Tr){return ur(Tr)}):ze.push(cr))};(0,f.each)(Ge,function(cr){je?(0,f.contains)(je,cr.type)&&(0,f.each)(cr.elements,function(Tr){ur(Tr.shape)}):(0,f.each)(cr.elements,function(Tr){ur(Tr.shape)})}),o={color:Ue,shapes:ze,start:this.parsePosition(l),end:this.parsePosition(u)}}var lr=(0,f.deepMix)({},n,(0,K.__assign)((0,K.__assign)({},o),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return lr.container=this.getComponentContainer(lr),lr.animate=this.view.getOptions().animate&&lr.animate&&(0,f.get)(e,"animate",lr.animate),lr.animateOption=(0,f.deepMix)({},Wo,lr.animateOption,e.animateOption),lr},r.prototype.isTop=function(t){return(0,f.get)(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return(0,f.get)(this.view.getTheme(),["components","annotation",t],{})},r}(Ho),MM=SM;function Yv(i,r){return(0,f.get)(i,["components","axis",r,"grid"],{})}function ml(i,r,t,e){var n=[],a=r.getTicks();return i.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var u=s.value;if(e)n.push({points:[i.convert(t==="y"?{x:0,y:u}:{x:u,y:0}),i.convert(t==="y"?{x:1,y:u}:{x:u,y:1})]});else if(l){var h=o.value,c=(h+u)/2;n.push({points:[i.convert(t==="y"?{x:0,y:c}:{x:c,y:0}),i.convert(t==="y"?{x:1,y:c}:{x:c,y:1})]})}return s},a[0]),n}function Of(i,r,t,e,n){var a=r.values.length,o=[],s=t.getTicks();return s.reduce(function(l,u){var h=l?l.value:u.value,c=u.value,v=(h+c)/2;return n==="x"?o.push({points:[i.convert({x:e?c:v,y:0}),i.convert({x:e?c:v,y:1})]}):o.push({points:(0,f.map)(Array(a+1),function(y,A){return i.convert({x:A/a,y:e?c:v})})}),u},s[0]),o}function Gv(i,r){var t=(0,f.get)(r,"grid");if(t===null)return!1;var e=(0,f.get)(i,"grid");return!(t===void 0&&e===null)}var fo=["container"],zv=(0,K.__assign)((0,K.__assign)({},Wo),{appear:null}),CM=function(i){(0,K.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(mt.BG).addGroup(),e.axisContainer=e.view.getLayer(mt.BG).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,f.each)(this.getComponents(),function(n){var a=n.component,o=n.direction,s=n.type,l=n.extra,u=l.dim,h=l.scale,c=l.alignTick,v;if(s===at.AXIS)e.isPolar?u==="x"?v=e.isTransposed?qe(e,o):gr(e):u==="y"&&(v=e.isTransposed?gr(e):qe(e,o)):v=qe(e,o);else if(s===at.GRID)if(e.isPolar){var y=void 0;e.isTransposed?y=u==="x"?Of(e,t.view.getYScales()[0],h,c,u):ml(e,h,u,c):y=u==="x"?ml(e,h,u,c):Of(e,t.view.getXScale(),h,c,u),v={items:y,center:t.view.getCoordinate().getCenter()}}else v={items:ml(e,h,u,c)};a.update(v)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach(function(n,a){t.has(a)?e.set(a,n):n.component.destroy()}),this.cache=e},r.prototype.clear=function(){i.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(!(!e||e.isIdentity)){var n=Qe(this.option,e.field);if(n!==!1){var a=wr(n,Tt.BOTTOM),o=mt.BG,s="x",l=this.view.getCoordinate(),u=this.getId("axis",e.field),h=this.getId("grid",e.field);if(l.isRect){var c=this.cache.get(u);if(c){var v=this.getLineAxisCfg(e,n,a);Xn(v,fo),c.component.update(v),t.set(u,c)}else c=this.createLineAxis(e,n,o,a,s),this.cache.set(u,c),t.set(u,c);var y=this.cache.get(h);if(y){var v=this.getLineGridCfg(e,n,a,s);Xn(v,fo),y.component.update(v),t.set(h,y)}else y=this.createLineGrid(e,n,o,a,s),y&&(this.cache.set(h,y),t.set(h,y))}else if(l.isPolar){var c=this.cache.get(u);if(c){var v=l.isTransposed?this.getLineAxisCfg(e,n,Tt.RADIUS):this.getCircleAxisCfg(e,n,a);Xn(v,fo),c.component.update(v),t.set(u,c)}else{if(l.isTransposed){if((0,f.isUndefined)(n))return;c=this.createLineAxis(e,n,o,Tt.RADIUS,s)}else c=this.createCircleAxis(e,n,o,a,s);this.cache.set(u,c),t.set(u,c)}var y=this.cache.get(h);if(y){var v=l.isTransposed?this.getCircleGridCfg(e,n,Tt.RADIUS,s):this.getLineGridCfg(e,n,Tt.CIRCLE,s);Xn(v,fo),y.component.update(v),t.set(h,y)}else{if(l.isTransposed){if((0,f.isUndefined)(n))return;y=this.createCircleGrid(e,n,o,Tt.RADIUS,s)}else y=this.createLineGrid(e,n,o,Tt.CIRCLE,s);y&&(this.cache.set(h,y),t.set(h,y))}}}}},r.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();(0,f.each)(n,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,l=Qe(e.option,s);if(l!==!1){var u=mt.BG,h="y",c=e.getId("axis",s),v=e.getId("grid",s),y=e.view.getCoordinate();if(y.isRect){var A=wr(l,o===0?Tt.LEFT:Tt.RIGHT),k=e.cache.get(c);if(k){var R=e.getLineAxisCfg(a,l,A);Xn(R,fo),k.component.update(R),t.set(c,k)}else k=e.createLineAxis(a,l,u,A,h),e.cache.set(c,k),t.set(c,k);var H=e.cache.get(v);if(H){var R=e.getLineGridCfg(a,l,A,h);Xn(R,fo),H.component.update(R),t.set(v,H)}else H=e.createLineGrid(a,l,u,A,h),H&&(e.cache.set(v,H),t.set(v,H))}else if(y.isPolar){var k=e.cache.get(c);if(k){var R=y.isTransposed?e.getCircleAxisCfg(a,l,Tt.CIRCLE):e.getLineAxisCfg(a,l,Tt.RADIUS);Xn(R,fo),k.component.update(R),t.set(c,k)}else{if(y.isTransposed){if((0,f.isUndefined)(l))return;k=e.createCircleAxis(a,l,u,Tt.CIRCLE,h)}else k=e.createLineAxis(a,l,u,Tt.RADIUS,h);e.cache.set(c,k),t.set(c,k)}var H=e.cache.get(v);if(H){var R=y.isTransposed?e.getLineGridCfg(a,l,Tt.CIRCLE,h):e.getCircleGridCfg(a,l,Tt.RADIUS,h);Xn(R,fo),H.component.update(R),t.set(v,H)}else{if(y.isTransposed){if((0,f.isUndefined)(l))return;H=e.createLineGrid(a,l,u,Tt.CIRCLE,h)}else H=e.createCircleGrid(a,l,u,Tt.RADIUS,h);H&&(e.cache.set(v,H),t.set(v,H))}}}}})},r.prototype.createLineAxis=function(t,e,n,a,o){var s={component:new Un(this.getLineAxisCfg(t,e,a)),layer:n,direction:a===Tt.RADIUS?Tt.NONE:a,type:at.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createLineGrid=function(t,e,n,a,o){var s=this.getLineGridCfg(t,e,a,o);if(s){var l={component:new wi(s),layer:n,direction:Tt.NONE,type:at.GRID,extra:{dim:o,scale:t,alignTick:(0,f.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.createCircleAxis=function(t,e,n,a,o){var s={component:new ii(this.getCircleAxisCfg(t,e,a)),layer:n,direction:a,type:at.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createCircleGrid=function(t,e,n,a,o){var s=this.getCircleGridCfg(t,e,a,o);if(s){var l={component:new Si(s),layer:n,direction:Tt.NONE,type:at.GRID,extra:{dim:o,scale:t,alignTick:(0,f.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.getLineAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=qe(o,n),l=Ir(t,e),u=sr(this.view.getTheme(),n),h=(0,f.get)(e,["title"])?(0,f.deepMix)({title:{style:{text:l}}},e):e,c=(0,f.deepMix)((0,K.__assign)((0,K.__assign)({container:a},s),{ticks:t.getTicks().map(function(ot){return{id:""+ot.tickValue,name:ot.text,value:ot.value}}),verticalFactor:o.isPolar?or(s,o.getCenter())*-1:or(s,o.getCenter())}),u,h),v=this.getAnimateCfg(c),y=v.animate,A=v.animateOption;c.animateOption=A,c.animate=y;var k=er(s),R=(0,f.get)(c,"verticalLimitLength",k?1/3:1/2);if(R<=1){var H=this.view.getCanvas().get("width"),V=this.view.getCanvas().get("height");c.verticalLimitLength=R*(k?H:V)}return c},r.prototype.getLineGridCfg=function(t,e,n,a){if(!!Gv(sr(this.view.getTheme(),n),e)){var o=Yv(this.view.getTheme(),n),s=(0,f.deepMix)({container:this.gridContainer},o,(0,f.get)(e,"grid"),this.getAnimateCfg(e));return s.items=ml(this.view.getCoordinate(),t,a,(0,f.get)(s,"alignTick",!0)),s}},r.prototype.getCircleAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(k){return{id:""+k.tickValue,name:k.text,value:k.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.pop();var l=Ir(t,e),u=sr(this.view.getTheme(),Tt.CIRCLE),h=(0,f.get)(e,["title"])?(0,f.deepMix)({title:{style:{text:l}}},e):e,c=(0,f.deepMix)((0,K.__assign)((0,K.__assign)({container:a},gr(this.view.getCoordinate())),{ticks:s,verticalFactor:1}),u,h),v=this.getAnimateCfg(c),y=v.animate,A=v.animateOption;return c.animate=y,c.animateOption=A,c},r.prototype.getCircleGridCfg=function(t,e,n,a){if(!!Gv(sr(this.view.getTheme(),n),e)){var o=Yv(this.view.getTheme(),Tt.RADIUS),s=(0,f.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,f.get)(e,"grid"),this.getAnimateCfg(e)),l=(0,f.get)(s,"alignTick",!0),u=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=Of(this.view.getCoordinate(),u,t,l,a),s}},r.prototype.getId=function(t,e){var n=this.view.getCoordinate();return t+"-"+e+"-"+n.type},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,f.get)(t,"animate"),animateOption:t&&t.animateOption?(0,f.deepMix)({},zv,t.animateOption):zv}},r}(Ho),EM=CM;function xl(i,r,t){return t===Tt.TOP?[i.minX+i.width/2-r.width/2,i.minY]:t===Tt.BOTTOM?[i.minX+i.width/2-r.width/2,i.maxY-r.height]:t===Tt.LEFT?[i.minX,i.minY+i.height/2-r.height/2]:t===Tt.RIGHT?[i.maxX-r.width,i.minY+i.height/2-r.height/2]:t===Tt.TOP_LEFT||t===Tt.LEFT_TOP?[i.tl.x,i.tl.y]:t===Tt.TOP_RIGHT||t===Tt.RIGHT_TOP?[i.tr.x-r.width,i.tr.y]:t===Tt.BOTTOM_LEFT||t===Tt.LEFT_BOTTOM?[i.bl.x,i.bl.y-r.height]:t===Tt.BOTTOM_RIGHT||t===Tt.RIGHT_BOTTOM?[i.br.x-r.width,i.br.y-r.height]:[0,0]}function AM(i,r){if(r.isTransposed)switch(i){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return i}function Xv(i){return i===DIRECTION.LEFT?DIRECTION.RIGHT:i===DIRECTION.RIGHT?DIRECTION.LEFT:i}function Vv(i){return i===DIRECTION.TOP?DIRECTION.BOTTOM:i===DIRECTION.BOTTOM?DIRECTION.TOP:i}function TM(i,r){var t=r.matrix[0],e=r.matrix[4],n=i;return t<0&&(n=Xv(n)),e<0&&(n=Vv(n)),n}function PM(i,r){var t=i;return r.isReflect("x")&&(t=Xv(t)),r.isReflect("y")&&(t=Vv(t)),t}function $Y(i,r){var t=i;return t=AM(t,r),t=TM(t,r),t=PM(t,r),t}function Hv(i,r,t){if(!i)return t;var e;if(i.callback&&i.callback.length>1){var n=Array(i.callback.length-1).fill("");e=i.mapping.apply(i,(0,K.__spreadArrays)([r],n)).join("")}else e=i.mapping(r).join("");return e||t}function Wv(i){var r=i.symbol;(0,f.isString)(r)&&_o[r]&&(i.symbol=_o[r])}function If(i){return i.startsWith(Tt.LEFT)||i.startsWith(Tt.RIGHT)?"vertical":"horizontal"}function _M(i,r,t,e,n){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=r.getAttribute("color"),l=r.getAttribute("shape"),u=i.getTheme().defaultColor,h=r.coordinate.isPolar;return a.getTicks().map(function(c){var v,y=c.text,A=c.value,k=y,R=a.invert(A),H=i.filterFieldData(o,[(v={},v[o]=R,v)]).length===0,V=Hv(s,R,u),ot=Hv(l,R,"point"),ut=r.getShapeMarker(ot,{color:V,isInPolar:h});return ut=(0,f.deepMix)({},e,ut,n),Wv(ut),{id:R,name:k,value:R,marker:ut,unchecked:H}})}return[]}function LM(i,r,t){return t.map(function(e){var n=(0,f.deepMix)({},i,r,e.marker);return Wv(n),e.marker=n,e})}function jv(i,r){return(0,f.isBoolean)(i)?i===!1?!1:{}:(0,f.get)(i,[r],i)}function Ss(i){return(0,f.get)(i,"position",Tt.BOTTOM)}var OM=function(i){(0,K.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.container=e.view.getLayer(mt.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){var t=this;this.option=this.view.getOptions().legends;var e=function(s,l,u){var h=t.createFieldLegend(s,l,u);h&&(h.component.init(),t.components.push(h))};if((0,f.get)(this.option,"custom")){var n=this.createCustomLegend(void 0,void 0,void 0,this.option);if(n){n.init();var a=mt.FORE,o=Ss(this.option);this.components.push({id:"global-custom",component:n,layer:a,direction:o,type:at.LEGEND,extra:void 0})}}else this.loopLegends(e)},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox;var e=(0,f.get)(this.view.getTheme(),["components","legend","margin"],[0,0,0,0]);(0,f.each)(this.components,function(n){var a=n.component,o=n.direction,s=If(o),l=t.getCategoryLegendSizeCfg(s),u=a.get("maxWidth"),h=a.get("maxHeight");a.update({maxWidth:Math.min(l.maxWidth,u||0),maxHeight:Math.min(l.maxHeight,h||0)});var c=a.getLayoutBBox(),v=new Ke(c.x,c.y,c.width,c.height),y=xl(t.view.viewBBox,v,o),A=y[0],k=y[1],R=xl(t.layoutBBox,v,o),H=R[0],V=R[1],ot=0,ut=0;o.startsWith("top")||o.startsWith("bottom")?(ot=A,ut=V):(ot=H,ut=k),o.indexOf("left")>=0&&(ot+=e[3]),o.indexOf("right")>=0&&(ot-=e[1]),o.indexOf("top")>=0&&(ut+=e[0]),o.indexOf("bottom")>=0&&(ut-=e[2]),a.update({x:ot,y:ut}),t.layoutBBox=t.layoutBBox.cut(v,o)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={},n=function(v,y,A){var k=t.getId(A.field),R=t.getComponentById(k);if(R){var H=void 0,V=jv(t.option,A.field);V!==!1&&((0,f.get)(V,"custom")?H=t.getCategoryCfg(v,y,A,V,!0):A.isLinear?H=t.getContinuousCfg(v,y,A,V):A.isCategory&&(H=t.getCategoryCfg(v,y,A,V))),H&&(Xn(H,["container"]),R.direction=Ss(V),R.component.update(H),e[k]=!0)}else{var ot=t.createFieldLegend(v,y,A);ot&&(ot.component.init(),t.components.push(ot),e[k]=!0)}};if((0,f.get)(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);Xn(s,["container"]),o.component.update(s),e[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var u=mt.FORE,h=Ss(this.option);this.components.push({id:a,component:l,layer:u,direction:h,type:at.LEGEND,extra:void 0}),e[a]=!0}}}else this.loopLegends(n);var c=[];(0,f.each)(this.getComponents(),function(v){e[v.id]?c.push(v):v.component.destroy()}),this.components=c},r.prototype.clear=function(){i.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var e=this,n=t.geometries;return(0,f.each)(t.views,function(a){n=n.concat(e.getGeometries(a))}),n},r.prototype.loopLegends=function(t){var e=this.view.getRootView()===this.view;if(!!e){var n=this.getGeometries(this.view),a={};(0,f.each)(n,function(o){var s=o.getGroupAttributes();(0,f.each)(s,function(l){var u=l.getScale(l.type);!u||u.type==="identity"||a[u.field]||(t(o,l,u),a[u.field]=!0)})})}},r.prototype.createFieldLegend=function(t,e,n){var a,o=jv(this.option,n.field),s=mt.FORE,l=Ss(o);if(o!==!1&&((0,f.get)(o,"custom")?a=this.createCustomLegend(t,e,n,o):n.isLinear?a=this.createContinuousLegend(t,e,n,o):n.isCategory&&(a=this.createCategoryLegend(t,e,n,o))),a)return a.set("field",n.field),{id:this.getId(n.field),component:a,layer:s,direction:l,type:at.LEGEND,extra:{scale:n}}},r.prototype.createCustomLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a,!0);return new Wt(o)},r.prototype.createContinuousLegend=function(t,e,n,a){var o=this.getContinuousCfg(t,e,n,a);return new Kt(o)},r.prototype.createCategoryLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a);return new Wt(o)},r.prototype.getContinuousCfg=function(t,e,n,a){var o=n.getTicks(),s=(0,f.find)(o,function(k){return k.value===0}),l=(0,f.find)(o,function(k){return k.value===1}),u=o.map(function(k){var R=k.value,H=k.tickValue,V=e.mapping(n.invert(R)).join("");return{value:H,attrValue:V,color:V,scaleValue:R}});s||u.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),l||u.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),u.sort(function(k,R){return k.value-R.value});var h={min:(0,f.head)(u).value,max:(0,f.last)(u).value,colors:[],rail:{type:e.type},track:{}};e.type==="size"&&(h.track={style:{fill:e.type==="size"?this.view.getTheme().defaultColor:void 0}}),e.type==="color"&&(h.colors=u.map(function(k){return k.attrValue}));var c=this.container,v=Ss(a),y=If(v),A=(0,f.get)(a,"title");return A&&(A=(0,f.deepMix)({text:Ee(n)},A)),h.container=c,h.layout=y,h.title=A,h.animateOption=Wo,this.mergeLegendCfg(h,a,"continuous")},r.prototype.getCategoryCfg=function(t,e,n,a,o){var s=this.container,l=(0,f.get)(a,"position",Tt.BOTTOM),u=(0,f.get)(this.view.getTheme(),["components","legend",l,"marker"]),h=(0,f.get)(a,"marker"),c=If(l),v=o?LM(u,h,a.items):_M(this.view,t,e,u,h),y=(0,f.get)(a,"title");y&&(y=(0,f.deepMix)({text:n?Ee(n):""},y));var A=this.getCategoryLegendSizeCfg(c);A.container=s,A.layout=c,A.items=v,A.title=y,A.animateOption=Wo;var k=this.mergeLegendCfg(A,a,l);k.reversed&&k.items.reverse();var R=(0,f.get)(k,"maxItemWidth");return R&&R<=1&&(k.maxItemWidth=this.view.viewBBox.width*R),k},r.prototype.mergeLegendCfg=function(t,e,n){var a=n.split("-")[0],o=(0,f.get)(this.view.getTheme(),["components","legend",a],{});return(0,f.deepMix)({},o,t,e)},r.prototype.getId=function(t){return this.name+"-"+t},r.prototype.getComponentById=function(t){return(0,f.find)(this.components,function(e){return e.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t){var e=this.view.viewBBox,n=e.width,a=e.height;return t==="vertical"?{maxWidth:n*ft,maxHeight:a}:{maxWidth:n,maxHeight:a*ft}},r}(Ho),IM=OM,kM=function(i){(0,K.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.onValueChanged=function(n){var a=n[0],o=n[1];e.updateMinMaxText(a,o),e.view.render(!0)},e.container=e.view.getLayer(mt.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){if(this.option=this.view.getOptions().slider,this.option){this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged));var t=this.slider.component.get("start")||0,e=this.slider.component.get("end")||1;this.updateMinMaxText(t,e)}else this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){if(this.slider){var t=this.view.coordinateBBox.width,e=this.slider.component.getLayoutBBox(),n=new Ke(e.x,e.y,Math.min(e.width,t),e.height),a=xl(this.view.viewBBox,n,Tt.BOTTOM),o=a[0],s=a[1],l=xl(this.view.coordinateBBox,n,Tt.BOTTOM),u=l[0],h=l[1];this.slider.component.update({x:u,y:s,width:t})}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new Qr.Slider((0,K.__assign)({container:this.container},t));return e.init(),{component:e,layer:mt.FORE,direction:Tt.BOTTOM,type:at.OTHER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();return Xn(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},r.prototype.getSliderCfg=function(){if((0,f.isObject)(this.option)){var t=(0,K.__assign)({data:this.getData()},(0,f.get)(this.option,"trendCfg",{})),e=0,n=0,a=this.view.coordinateBBox.width,o=(0,f.deepMix)({},{x:e,y:n,width:a},this.option);return(0,K.__assign)((0,K.__assign)({},o),{trendCfg:t})}return{}},r.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0],n=this.view.getGroupScales();if(n.length){var a=n[0],o=a.field,s=a.ticks;return t.reduce(function(l,u){return u[o]===s[0]&&l.push(u[e.field]),l},[])}return t.map(function(l){return l[e.field]||0})},r.prototype.updateMinMaxText=function(t,e){var n=this.view.getOptions().data,a=this.view.getXScale(),o=(0,f.size)(n);if(!(!a||!o)){var s=a.field,l=n.reduce(function(k,R){return k.includes(R[s])||k.push(R[s]),k},[]),u=(0,f.size)(l),h=Math.floor(t*(u-1)),c=Math.floor(e*(u-1)),v=(0,f.get)(l,[h]),y=(0,f.get)(l,[c]),A=this.getSliderCfg().formatter;A&&(v=A(v,n[h],h),y=A(y,n[c],c)),this.slider.component.update({minText:v,maxText:y,start:t,end:e}),this.view.filter(a.field,function(k,R){var H=l.indexOf(k);return H>-1?ea(H,h,c):!0})}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r}(Ho),BM=kM;function DM(i){for(var r=[],t=function(n){var a=i[n],o=(0,f.find)(r,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||r.push(a)},e=0;e<i.length;e++)t(e);return r}var FM=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(!n.length){this.hideTooltip();return}var a=this.getTitle(n),o={x:n[0].x,y:n[0].y};e.emit("tooltip:show",(0,K.__assign)({items:n,title:a},t));var s=this.getTooltipCfg(),l=s.follow,u=s.showMarkers,h=s.showCrosshairs,c=s.showContent,v=s.marker,y=this.items,A=this.title;if(!(0,f.isEqual)(A,a)||!(0,f.isEqual)(y,n)?(e.emit("tooltip:change",(0,K.__assign)({items:n,title:a},t)),c&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,f.mix)({},s,{items:n,title:a},l?t:{})),this.tooltip.show()),u&&this.renderTooltipMarkers(n,v)):(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=n,this.title=a,h){var k=(0,f.get)(s,["crosshairs","follow"],!1);this.renderCrosshairs(k?t:o,s)}}},r.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var e=this.tooltipMarkersGroup;e&&e.hide();var n=this.xCrosshair,a=this.yCrosshair;n&&n.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",{}),this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),a&&a.clear(),o&&o.clear()},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,a=e.tooltipMarkersGroup,o=e.xCrosshair,s=e.yCrosshair;t?(n&&n.show(),a&&a.show(),o&&o.show(),s&&s.show()):(n&&n.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){e=(0,f.flatten)(e);for(var n=0,a=e;n<a.length;n++)for(var o=a[n],s=0,l=o;s<l.length;s++){var u=l[s],h=u.mappingData,c=h.x,v=h.y;u.x=(0,f.isArray)(c)?c[c.length-1]:c,u.y=(0,f.isArray)(v)?v[v.length-1]:v}var y=this.getTooltipCfg().shared;if(y===!1&&e.length>1){for(var A=e[0],k=Math.abs(t.y-A[0].y),R=0,H=e;R<H.length;R++){var V=H[R],ot=Math.abs(t.y-V[0].y);ot<=k&&(A=V,k=ot)}e=[A]}return DM((0,f.flatten)(e))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=t.getTheme(),a=(0,f.get)(n,["components","tooltip"],{}),o=(0,f.isUndefined)((0,f.get)(e,"enterable"))?a.enterable:(0,f.get)(e,"enterable");return(0,f.deepMix)({},a,e,{capture:!!(o||this.isLocked)})},r.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),a=new re((0,K.__assign)((0,K.__assign)({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},r.prototype.renderTooltipMarkers=function(t,e){for(var n=this.getTooltipMarkersGroup(),a=0,o=t;a<o.length;a++){var s=o[a],l=s.x,u=s.y,h=(0,K.__assign)((0,K.__assign)({fill:s.color,symbol:"circle",shadowColor:s.color},e),{x:l,y:u});n.addShape("marker",{attrs:h})}},r.prototype.renderCrosshairs=function(t,e){var n=(0,f.get)(e,["crosshairs","type"],"x");n==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):n==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):n==="xy"&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},r.prototype.renderXCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!ga(n,t)){var a,o;if(n.isRect)n.isTransposed?(a={x:n.start.x,y:t.y},o={x:n.end.x,y:t.y}):(a={x:t.x,y:n.end.y},o={x:t.x,y:n.start.y});else{var s=vi(n,t),l=n.getCenter(),u=n.getRadius();o=Sn(l.x,l.y,u,s),a=l}var h=(0,f.deepMix)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},(0,f.get)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete h.type;var c=this.xCrosshair;c?c.update(h):(c=new Qr.Crosshair.Line(h),c.init()),c.render(),c.show(),this.xCrosshair=c}},r.prototype.renderYCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!ga(n,t)){var a,o;if(n.isRect){var s=void 0,l=void 0;n.isTransposed?(s={x:t.x,y:n.end.y},l={x:t.x,y:n.start.y}):(s={x:n.start.x,y:t.y},l={x:n.end.x,y:t.y}),a={start:s,end:l},o="Line"}else a={center:n.getCenter(),radius:Oi(n,t),startAngle:n.startAngle,endAngle:n.endAngle},o="Circle";a=(0,f.deepMix)({container:this.getTooltipCrosshairsGroup()},a,(0,f.get)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e)),delete a.type;var u=this.yCrosshair;u?n.isRect&&u.get("type")==="circle"||!n.isRect&&u.get("type")==="line"?(u=new Qr.Crosshair[o](a),u.init()):u.update(a):(u=new Qr.Crosshair[o](a),u.init()),u.render(),u.show(),this.yCrosshair=u}},r.prototype.getCrosshairsText=function(t,e,n){var a=(0,f.get)(n,["crosshairs","text"]),o=(0,f.get)(n,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),u=s[0],h=l.getXScale(),c=l.getYScales()[0],v=void 0,y=void 0;if(o){var A=this.view.getCoordinate().invert(e);v=h.invert(A.x),y=c.invert(A.y)}else v=u.data[h.field],y=u.data[c.field];var k=t==="x"?v:y;return(0,f.isFunction)(a)?a=a(t,k,s,e):a.content=k,{text:a}}},r.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.getTooltipItemsByHitShape=function(t,e,n){var a=[],o=t.container,s=o.getShape(e.x,e.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,u=rn(l,t,n);u.length&&a.push(u)}return a},r.prototype.getTooltipItemsByFindData=function(t,e,n){var a=[],o=t.dataArray;t.sort(o);for(var s=0,l=o;s<l.length;s++){var u=l[s],h=Cr(e,u,t);if(h){var c=t.getElementId(h),v=t.elementsMap[c];if(t.type==="heatmap"||v.visible){var y=rn(h,t,n);y.length&&a.push(y)}}}return a},r.prototype.findItemsFromView=function(t,e){if(t.getOptions().tooltip===!1)return[];for(var n=[],a=t.geometries,o=this.getTooltipCfg(),s=o.shared,l=o.title,u=0,h=a;u<h.length;u++){var c=h[u];if(c.visible&&c.tooltipOption!==!1){var v=c.type,y=void 0;["point","edge","polygon"].includes(v)?y=this.getTooltipItemsByHitShape(c,e,l):["area","line","path","heatmap"].includes(v)?y=this.getTooltipItemsByFindData(c,e,l):s!==!1?y=this.getTooltipItemsByFindData(c,e,l):y=this.getTooltipItemsByHitShape(c,e,l),y.length&&n.push(y)}}for(var A=0,k=t.views;A<k.length;A++){var R=k[A];n=n.concat(this.findItemsFromView(R,e))}return n},r.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,f.find)(t.views,function(n){return e.getViewWithGeometry(n)})},r}(Ho),RM=FM,NM=function(i){(0,K.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.context.view,e=this.context.event,n=t.getTooltipItems({x:e.x,y:e.y});if(!(0,f.isEqual)(n,this.items)&&(this.items=n,n.length)){var a=t.getXScale().field,o=n[0].data[a],s=[],l=t.geometries;if((0,f.each)(l,function(Me){if(Me.type==="interval"||Me.type==="schema"){var Pe=Me.getElementsBy(function(Te){var Ve=Te.getData();return Ve[a]===o});s=s.concat(Pe)}}),s.length){var u=t.getCoordinate(),h=s[0].shape.getCanvasBBox(),c=s[0].shape.getCanvasBBox(),v=h;(0,f.each)(s,function(Me){var Pe=Me.shape.getCanvasBBox();u.isTransposed?(Pe.minY<h.minY&&(h=Pe),Pe.maxY>c.maxY&&(c=Pe)):(Pe.minX<h.minX&&(h=Pe),Pe.maxX>c.maxX&&(c=Pe)),v.x=Math.min(Pe.minX,v.minX),v.y=Math.min(Pe.minY,v.minY),v.width=Math.max(Pe.maxX,v.maxX)-v.x,v.height=Math.max(Pe.maxY,v.maxY)-v.y});var y=t.backgroundGroup,A=t.coordinateBBox,k=void 0;if(u.isRect){var R=t.getXScale(),H=R.isLinear?0:.25,V=void 0,ot=void 0,ut=void 0,bt=void 0;u.isTransposed?(V=A.minX,ot=Math.min(c.minY,h.minY)-H*c.height,ut=A.width,bt=v.height+H*2*c.height):(V=Math.min(h.minX,c.minX)-H*h.width,ot=Math.min(A.minY,h.minY),ut=v.width+H*2*h.width,bt=A.height),k=[["M",V,ot],["L",V+ut,ot],["L",V+ut,ot+bt],["L",V,ot+bt],["Z"]]}else{var Ft=(0,f.head)(s),Xt=(0,f.last)(s),Ut=_i(Ft.getModel(),u).startAngle,Gt=_i(Xt.getModel(),u).endAngle,te=u.getCenter(),ue=u.getRadius(),se=u.innerRadius*ue;k=hi(te.x,te.y,ue,Ut,Gt,se)}this.regionPath?(this.regionPath.attr("path",k),this.regionPath.show()):this.regionPath=y.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:k,fill:"#CCD6EC",opacity:.3}})}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),i.prototype.destroy.call(this)},r}(tn),YM=NM,GM=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.context,e=t.event,n=t.view,a=n.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date;if(s-o>16){var l=this.location,u={x:e.x,y:e.y};(!l||!(0,f.isEqual)(l,u))&&this.showTooltip(n,u),this.timeStamp=s,this.location=u}}},r.prototype.hide=function(){var t=this.context.view,e=t.isTooltipLocked();e||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,e){t.showTooltip(e)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(tn),Uv=GM,zM=function(i){(0,K.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.showTooltip=function(t,e){var n=Jn(t);(0,f.each)(n,function(a){var o=di(t,a,e);a.showTooltip(o)})},r.prototype.hideTooltip=function(t){var e=Jn(t);(0,f.each)(e,function(n){n.hideTooltip()})},r}(Uv),XM=zM,VM=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.destroy=function(){i.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var t=this.context,e=t.event,n=this.timeStamp,a=+new Date;if(a-n>16){var o=this.location,s={x:e.x,y:e.y};(!o||!(0,f.isEqual)(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var e=this.context,n=e.event,a=n.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update((0,K.__assign)({title:o},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t=this.context.view,e=t.canvas,n={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},a=t.getTheme(),o=(0,f.get)(a,["components","tooltip","domStyles"],{}),s=new re({parent:e.get("el").parentNode,region:n,visible:!1,crosshairs:null,domStyles:o});s.init(),s.setCapture(!1),this.tooltip=s},r}(tn),HM=VM,WM=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t}return r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},r.prototype.clearViewState=function(t){var e=this,n=yr(t,this.stateName);(0,f.each)(n,function(a){e.setElementState(a,!1)})},r}(tn),kf=WM;function Zv(i){return(0,f.get)(i.get("delegateObject"),"item")}var jM=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return r.prototype.isItemIgnore=function(t,e){var n=this.ignoreListItemStates,a=n.filter(function(o){return e.hasState(t,o)});return!!a.length},r.prototype.setStateByComponent=function(t,e,n){var a=this.context.view,o=t.get("field"),s=Ne(a);this.setElementsStateByItem(s,o,e,n)},r.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},r.prototype.isMathItem=function(t,e,n){var a=this.context.view,o=sa(a,e),s=mr(t,e);return!(0,f.isNil)(s)&&n.name===o.getText(s)},r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this;(0,f.each)(t,function(s){o.isMathItem(s,e,n)&&s.setState(o.stateName,a)})},r.prototype.setStateEnable=function(t){var e=jt(this.context);if(e)le(this.context)&&this.setStateByElement(e,t);else{var n=ie(this.context);if(ae(n)){var a=n.item,o=n.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&Zv(s.fromShape)===Zv(s.toShape))return;this.setStateByComponent(o,a,t)}}}},r.prototype.toggle=function(){var t=jt(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(kf),Bf=jM,UM=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Bf),ZM=UM,KM=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.cache={},t}return r.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");if(!n)return null;var a=t.getScaleByField(n.getFields()[0]);return a},r.prototype.getLinkPath=function(t,e){var n=t.shape.getCanvasBBox(),a=e.shape.getCanvasBBox(),o=[["M",n.maxX,n.minY],["L",a.minX,a.minY],["L",a.minX,a.maxY],["L",n.maxX,n.maxY],["Z"]];return o},r.prototype.addLinkShape=function(t,e,n){t.addShape({type:"path",attrs:{opacity:.4,fill:e.shape.attr("fill"),path:this.getLinkPath(e,n)}})},r.prototype.linkByElement=function(t){var e=this,n=this.context.view,a=this.getColorScale(n,t);if(!!a){var o=mr(t,a.field);if(!this.cache[o]){var s=Be(n,a.field,o),l=this.linkGroup,u=l.addGroup();this.cache[o]=u;var h=s.length;(0,f.each)(s,function(c,v){if(v<h-1){var y=s[v+1];e.addLinkShape(u,c,y)}})}}},r.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(!!e){var n=mr(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},r.prototype.link=function(){var t=this.context;this.linkGroup||(this.linkGroup=t.view.foregroundGroup.addGroup({capture:!1}));var e=jt(t);e&&this.linkByElement(e)},r.prototype.unlink=function(){var t=jt(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(tn),$M=KM,QM=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(Ie(this.context))t=Fe(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var a={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)},o=this.context.view;t=Gr(o,a)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=Ne(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,e){var n=this,a=this.context.view,o=Jn(a),s=t.map(function(h){return h.getModel().data}),l=a.getXScale().field,u=a.getYScales()[0].field;(0,f.each)(o,function(h){var c=Ne(h),v=c.filter(function(y){var A=y.getModel().data;return ao(s,A,l,u)});n.setElementsState(v,e,c)})},r.prototype.setSiblingsState=function(t){var e=this,n=this.context.view,a=Jn(n);Ie(this.context)&&(0,f.each)(a,function(o){var s=Ne(o),l=nr(e.context,o,10);l&&l.length?e.setElementsState(l,t,s):e.clearViewState(o)})},r.prototype.setElementsState=function(t,e,n){var a=this;(0,f.each)(n,function(o){t.includes(o)?a.setElementState(o,e):a.setElementState(o,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var n=Jn(e);(0,f.each)(n,function(a){t.clearViewState(a)})}else this.clearViewState(e)},r}(kf),Df=QM,JM=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Df),qM=JM,tC=function(i){(0,K.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateEnable=function(t){var e=jt(this.context);if(e){if(!le(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},r.prototype.toggle=function(){var t=jt(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(kf),Ff=tC,eC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Ff),rC=eC,Ms="inactive",Cs="active";function Rf(i){var r=Ne(i);(0,f.each)(r,function(t){t.hasState(Cs)&&t.setState(Cs,!1),t.hasState(Ms)&&t.setState(Ms,!1)})}function Kv(i,r,t){(0,f.each)(i,function(e){r(e)?(e.hasState(Ms)&&e.setState(Ms,!1),e.setState(Cs,t)):(e.hasState(Cs)&&e.setState(Cs,!1),e.setState(Ms,t))})}var Lo=Rt.INACTIVE,Qa=Rt.ACTIVE,nC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=Qa,t}return r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this,s=function(l){return o.isMathItem(l,e,n)};this.setHighlightBy(t,s,a)},r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(Lo)&&t.setState(Lo,!1),t.setState(Qa,!0)):t.hasState(Qa)||t.setState(Lo,!0)},r.prototype.setHighlightBy=function(t,e,n){var a=this;if(n)(0,f.each)(t,function(l){a.setElementHighlight(l,e)});else{var o=yr(this.context.view,Qa),s=!0;(0,f.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,f.each)(t,function(l){e(l)&&(l.hasState(Qa)&&l.setState(Qa,!1),l.setState(Lo,!0))})}},r.prototype.setElementState=function(t,e){var n=this.context.view,a=Ne(n);this.setHighlightBy(a,function(o){return t===o},e)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.context.view;Rf(t)},r}(Bf),Nf=nC,iC=function(i){(0,K.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=t.geometry.getAttribute("color");if(!!a){var o=n.getScaleByField(a.getFields()[0]),s=mr(t,o.field),l=Ne(n),u=l.filter(function(h){return mr(h,o.field)===s});this.setHighlightBy(l,function(h){return u.includes(h)},e)}},r}(Nf),aC=iC,oC=function(i){(0,K.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(Lo)&&t.setState(Lo,!1),t.setState(Qa,!0)):(t.setState(Lo,!0),t.hasState(Qa)&&t.setState(Qa,!1))},r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=n.getXScale(),o=mr(t,a.field),s=Ne(n),l=s.filter(function(u){return mr(u,a.field)===o});this.setHighlightBy(s,function(u){return l.includes(u)},e)},r.prototype.toggle=function(){var t=jt(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},r}(Nf),sC=oC,lC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.clearViewState=function(t){Rf(t)},r.prototype.highlight=function(){this.setState()},r.prototype.setElementsState=function(t,e,n){Kv(n,function(a){return t.indexOf(a)>=0},e)},r}(Df),$v=lC,uC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,e){var n=this.context.view,a=Ne(n);Kv(a,function(o){return t===o},e)},r.prototype.clear=function(){var t=this.context.view;Rf(t)},r}(Ff),fC=uC,hC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Df),cC=hC,vC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Bf),dC=vC,pC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Ff),gC=pC,yC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return r.prototype.getTriggerListInfo=function(){var t=ie(this.context),e=null;return ae(t)&&(e={item:t.item,list:t.component}),e},r.prototype.getAllowComponents=function(){var t=this,e=this.context.view,n=Yr(e),a=[];return(0,f.each)(n,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},r.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,f.each)(e,function(n){n.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(this.cfg.componentNames.indexOf(n)===-1)return!1}var a=this.context.view,o=sa(a,e);return o&&o.isCategory},r.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;if(n.length){var a=n.filter(function(o){return e.hasState(t,o)});return a.length===0}return!0},r.prototype.setStateByElement=function(t,e,n){var a=t.get("field"),o=this.context.view,s=sa(o,a),l=mr(e,a),u=s.getText(l);this.setItemsState(t,u,n)},r.prototype.setStateEnable=function(t){var e=this,n=jt(this.context);if(n){var a=this.getAllowComponents();(0,f.each)(a,function(u){e.setStateByElement(u,n,t)})}else{var o=ie(this.context);if(ae(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,t)}}},r.prototype.setItemsState=function(t,e,n){var a=this,o=t.getItems();(0,f.each)(o,function(s){s.name===e&&a.setItemState(t,s,n)})},r.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,a=this.hasState(e,n);this.setItemState(e,n,!a)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(tn),bl=yC,mC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(bl),xC=mC,Qv="inactive",Jv="active";function bC(i){var r=i.getItems();(0,f.each)(r,function(t){i.hasState(t,Jv)&&i.setItemState(t,Jv,!1),i.hasState(t,Qv)&&i.setItemState(t,Qv,!1)})}var Es="inactive",Oo="active",wC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=Oo,t.ignoreItemStates=["unchecked"],t}return r.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,function(a){return a.name===e},n)},r.prototype.setItemState=function(t,e,n){var a=t.getItems();this.setHighlightBy(t,function(o){return o===e},n)},r.prototype.setHighlightBy=function(t,e,n){var a=t.getItems();if(n)(0,f.each)(a,function(l){e(l)?(t.hasState(l,Es)&&t.setItemState(l,Es,!1),t.setItemState(l,Oo,!0)):t.hasState(l,Oo)||t.setItemState(l,Es,!0)});else{var o=t.getItemsByState(Oo),s=!0;(0,f.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,f.each)(a,function(l){e(l)&&(t.hasState(l,Oo)&&t.setItemState(l,Oo,!1),t.setItemState(l,Es,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)bC(t.list);else{var e=this.getAllowComponents();(0,f.each)(e,function(n){n.clearItemsState(Oo),n.clearItemsState(Es)})}},r}(bl),Yf=wC,SC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(bl),MC=SC,CC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="unchecked",t}return r.prototype.unchecked=function(){this.setState()},r}(bl),EC=CC,AC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var e="mask:"+t,n=this.context.view,a=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},r.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs(),n=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,K.__assign)({fill:"#C5D4EB",opacity:.3},e)});return n},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,a=t.y-e.y,o=this.points;(0,f.each)(o,function(s){s.x+=n,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(){var t=this.getMaskAttrs();this.maskShape.attr(t)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,i.prototype.destroy.call(this)},r}(tn),Gf=AC,TC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="circle",t}return r.prototype.getMaskAttrs=function(){var t=this.points,e=(0,f.last)(this.points),n=0,a=0,o=0;if(t.length){var s=t[0];n=hn(s,e)/2,a=(e.x+s.x)/2,o=(e.y+s.y)/2}return{x:a,y:o,r:n}},r}(Gf),PC=TC,_C=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="rect",t}return r.prototype.getRegion=function(){var t=this.points;return{start:(0,f.head)(t),end:(0,f.last)(t)}},r.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,n=t.end,a=Math.min(e.x,n.x),o=Math.min(e.y,n.y),s=Math.abs(n.x-e.x),l=Math.abs(n.y-e.y);return{x:a,y:o,width:s,height:l}},r}(Gf),qv=_C;function td(i){i.x=(0,f.clamp)(i.x,0,1),i.y=(0,f.clamp)(i.y,0,1)}var LC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return r.prototype.getRegion=function(){var t=null,e=null,n=this.points,a=this.dim,o=this.context.view.getCoordinate(),s=o.invert((0,f.head)(n)),l=o.invert((0,f.last)(n));return this.inPlot&&(td(s),td(l)),a==="x"?(t=o.convert({x:s.x,y:0}),e=o.convert({x:l.x,y:1})):(t=o.convert({x:0,y:s.y}),e=o.convert({x:1,y:l.y})),{start:t,end:e}},r}(qv),ed=LC,OC=function(i){(0,K.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points,e=[];return t.length&&((0,f.each)(t,function(n,a){a===0?e.push(["M",n.x,n.y]):e.push(["L",n.x,n.y])}),e.push(["L",t[0].x,t[0].y])),e},r.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},r.prototype.addPoint=function(){this.resize()},r}(Gf),rd=OC,IC=function(i){(0,K.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points;return Tn(t,!0)},r}(rd),kC=IC,BC=function(i){(0,K.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setCursor=function(t){var e=this.context.view;e.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r}(tn),DC=BC,FC=function(i){(0,K.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&(0,f.each)(t.views,function(o){a.filterView(o,e,n)})},r.prototype.filter=function(){var t=ie(this.context);if(t){var e=this.context.view,n=t.component,a=n.get("field");if(ae(t)){if(a){var o=n.getItemsByState("unchecked"),s=sa(e,a),l=o.map(function(v){return v.name});l.length?this.filterView(e,a,function(v){var y=s.getText(v);return!l.includes(y)}):this.filterView(e,a,null),e.render(!0)}}else if(_e(t)){var u=n.getValue(),h=u[0],c=u[1];this.filterView(e,a,function(v){return v>=h&&v<=c}),e.render(!0)}}},r}(tn),RC=FC;function nd(i,r,t,e){var n=Math.min(t[r],e[r]),a=Math.max(t[r],e[r]),o=i.range,s=o[0],l=o[1];if(n<s&&(n=s),a>l&&(a=l),n===l&&a===l)return null;var u=i.invert(n),h=i.invert(a);if(i.isCategory){var c=i.values.indexOf(u),v=i.values.indexOf(h),y=i.values.slice(c,v+1);return function(A){return y.includes(A)}}else return function(A){return A>=u&&A<=h}}var NC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,e;if(Ie(this.context)){var n=this.context.event.target,a=n.getCanvasBBox();t={x:a.x,y:a.y},e={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var o=this.context.view,s=o.getCoordinate(),l=s.invert(e),u=s.invert(t);if(this.hasDim("x")){var h=o.getXScale(),c=nd(h,"x",l,u);this.filterView(o,h.field,c)}if(this.hasDim("y")){var v=o.getYScales()[0],c=nd(v,"y",l,u);this.filterView(o,v.field,c)}this.reRender(o)}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t)},r.prototype.filterView=function(t,e,n){t.filter(e,n)},r.prototype.reRender=function(t){t.render(!0)},r}(tn),wl=NC,YC=function(i){(0,K.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=Jn(t);(0,f.each)(a,function(o){o.filter(e,n)})},r.prototype.reRender=function(t){var e=Jn(t);(0,f.each)(e,function(n){n.render(!0)})},r}(wl),zf=YC,GC=function(i){(0,K.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filter=function(){var t=ie(this.context),e=this.context.view,n=Ne(e);if(Ie(this.context)){var a=Fe(this.context,10);a&&(0,f.each)(n,function(A){a.includes(A)?A.show():A.hide()})}else if(t){var o=t.component,s=o.get("field");if(ae(t)){if(s){var l=o.getItemsByState("unchecked"),u=sa(e,s),h=l.map(function(A){return A.name});(0,f.each)(n,function(A){var k=mr(A,s),R=u.getText(k);h.indexOf(R)>=0?A.hide():A.show()})}}else if(_e(t)){var c=o.getValue(),v=c[0],y=c[1];(0,f.each)(n,function(A){var k=mr(A,s);k>=v&&k<=y?A.show():A.hide()})}}},r.prototype.clear=function(){var t=Ne(this.context.view);(0,f.each)(t,function(e){e.show()})},r.prototype.reset=function(){this.clear()},r}(tn),zC=GC,XC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.byRecord=!1,t}return r.prototype.filter=function(){Ie(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,e=Fe(this.context,10);if(!!e){var n=t.getXScale().field,a=t.getYScales()[0].field,o=e.map(function(l){return l.getModel().data}),s=Jn(t);(0,f.each)(s,function(l){var u=Ne(l);(0,f.each)(u,function(h){var c=h.getModel().data;ao(o,c,n,a)?h.show():h.hide()})})}},r.prototype.filterByBBox=function(){var t=this,e=this.context.view,n=Jn(e);(0,f.each)(n,function(a){var o=nr(t.context,a,10),s=Ne(a);o&&(0,f.each)(s,function(l){o.includes(l)?l.show():l.hide()})})},r.prototype.reset=function(){var t=Jn(this.context.view);(0,f.each)(t,function(e){var n=Ne(e);(0,f.each)(n,function(a){a.show()})})},r}(tn),id=XC,VC=10,HC=5,WC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return r.prototype.getButtonCfg=function(){return(0,f.deepMix)(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:(0,K.__assign)({text:t.text},t.textStyle)}),a=n.getBBox(),o=pi(t.padding),s=e.addShape({type:"rect",name:"button-rect",attrs:(0,K.__assign)({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),e.on("mouseenter",function(){s.attr(t.activeStyle)}),e.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=e},r.prototype.resetPosition=function(){var t=this.context.view,e=t.getCoordinate(),n=e.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=yn.transform(null,[["t",n.x-o.width-VC,n.y+o.height+HC]]);a.setMatrix(s)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),i.prototype.destroy.call(this)},r}(tn),jC=WC,UC=4,ZC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):hn(t,this.startPoint)>UC&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},r}(tn),KC=ZC,$C=5,QC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(!!this.starting){var t=this.startPoint,e=this.context.getCurrentPoint(),n=hn(t,e);if(n>$C&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=yn.transform(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(tn),JC=QC,ad="x",od="y",qC=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=[ad,od],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var e=this.context.view;return t==="x"?e.getXScale():e.getYScales()[0]},r.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim(ad),this.resetDim(od);var t=this.context.view;t.render(!0)},r}(tn),sd=qC,tE=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;(0,f.each)(e,function(n){var a=t.getScale(n),o=a.min,s=a.max,l=a.values;t.startCache[n]={min:o,max:s,values:l}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(!!this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=n.invert(e),s=n.invert(a),l=s.x-o.x,u=s.y-o.y,h=this.context.view,c=this.dims;(0,f.each)(c,function(v){t.translateDim(v,{x:l*-1,y:u*-1})}),h.render(!0)}},r.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},r.prototype.translateLinear=function(t,e,n){var a=this.context.view,o=this.startCache[t],s=o.min,l=o.max,u=l-s,h=n[t]*u;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:s,max:l}),a.scale(e.field,{nice:!1,min:s+h,max:l+h})},r.prototype.reset=function(){i.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}(sd),eE=tE,rE=function(i){(0,K.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.zoomRatio=.05,t}return r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var e=this,n=this.dims;(0,f.each)(n,function(a){e.zoomDim(a,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},r.prototype.zoomLinear=function(t,e,n){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,l=e.min,u=e.max,h=n*s,c=l-h,v=u+h,y=v-c,A=y/s;v>c&&A<100&&A>.01&&a.scale(e.field,{nice:!1,min:l-h,max:u+h})},r}(sd),nE=rE;Dt("dark",ma(Vb)),et("canvas",O),et("svg",L),ba("Polygon",p2),ba("Interval",s2),ba("Schema",y2),ba("Path",Sf),ba("Point",c2),ba("Line",u2),ba("Area",JS),ba("Edge",t2),ba("Heatmap",n2),ys("base",al),ys("interval",B2),ys("pie",R2),ys("polar",Iv),Eo("overlap",Z2),Eo("distribute",Y2),Eo("fixed-overlap",U2),Eo("limit-in-shape",V2),Eo("limit-in-canvas",X2),Eo("pie-outer",z2),qn("fade-in",K2),qn("fade-out",$2),qn("grow-in-x",J2),qn("grow-in-xy",tM),qn("grow-in-y",q2),qn("scale-in-x",nM),qn("scale-in-y",iM),qn("wave-in",sM),qn("zoom-in",lM),qn("zoom-out",uM),qn("position-update",rM),qn("sector-path-update",oM),qn("path-in",eM),zr("rect",xM),zr("mirror",yM),zr("list",vM),zr("matrix",pM),zr("circle",hM),zr("tree",wM),nn("axis",EM),nn("legend",IM),nn("tooltip",RM),nn("annotation",MM),nn("slider",BM),Mr("tooltip",Uv),Mr("sibling-tooltip",XM),Mr("ellipsis-text",HM),Mr("element-active",ZM),Mr("element-single-active",rC),Mr("element-range-active",qM),Mr("element-highlight",Nf),Mr("element-highlight-by-x",sC),Mr("element-highlight-by-color",aC),Mr("element-single-highlight",fC),Mr("element-range-highlight",$v),Mr("element-sibling-highlight",$v,{effectSiblings:!0,effectByRecord:!0}),Mr("element-selected",dC),Mr("element-single-selected",gC),Mr("element-range-selected",cC),Mr("element-link-by-color",$M),Mr("active-region",YM),Mr("list-active",xC),Mr("list-selected",MC),Mr("list-highlight",Yf),Mr("list-unchecked",EC),Mr("legend-item-highlight",Yf,{componentNames:["legend"]}),Mr("axis-label-highlight",Yf,{componentNames:["axis"]}),Mr("rect-mask",qv),Mr("x-rect-mask",ed,{dim:"x"}),Mr("y-rect-mask",ed,{dim:"y"}),Mr("circle-mask",PC),Mr("path-mask",rd),Mr("smooth-path-mask",kC),Mr("cursor",DC),Mr("data-filter",RC),Mr("brush",wl),Mr("brush-x",wl,{dims:["x"]}),Mr("brush-y",wl,{dims:["y"]}),Mr("sibling-filter",zf),Mr("sibling-x-filter",zf),Mr("sibling-y-filter",zf),Mr("element-filter",zC),Mr("element-sibling-filter",id),Mr("element-sibling-filter-record",id,{byRecord:!0}),Mr("view-drag",KC),Mr("view-move",JC),Mr("scale-translate",eE),Mr("scale-zoom",nE),Mr("reset-button",jC,{name:"reset-button",text:"reset"});function ho(i){return i.isInPlot()}ln("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),ln("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),ln("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),ln("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),ln("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),ln("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),ln("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),ln("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),ln("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),ln("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),ln("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),ln("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(i){return!i.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(i){return!i.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),ln("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ho,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:ho,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ho,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),ln("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),ln("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ho,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:ho,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ho,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),ln("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ho,action:"path-mask:start"},{trigger:"mousedown",isEnable:ho,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),ln("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),ln("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),ln("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),ln("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),ln("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),ln("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function ld(i){return i.gEvent.preventDefault(),i.gEvent.originalEvent.deltaY>0}ln("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(i){return ld(i.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(i){return!ld(i.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),ln("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var ud={translate:af,rotate:Gc,zoom:Db,transform:il,getAngle:_i,polarToCartesian:Sn},Sl=function(){function i(r){this.EVENT="gesture",this.gm=r}return i.prototype.do=function(r){var t=r.type;switch(t){case"touchstart":this.onTouchStart(r);break;case"touchmove":this.onTouchMove(r);break;case"touchend":this.onTouchEnd(r);break;case"touchcancel":this.onTouchCancel(r);break;default:return}},i.prototype.emit=function(r){this.gm.emit(this.EVENT,r)},i}(),iE=function(i){(0,br.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="pan",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=e-this.preX,o=n-this.preY;this.preX=e,this.preY=n,this.emit({x:e,y:n,deltaX:a,deltaY:o,event:t})},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.preX=e,this.preY=n},r}(Sl),co=typeof performance=="object"&&performance.now?performance:Date,aE=300,fd=10,oE=function(i){(0,br.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="press",t}return r.prototype.onTouchCancel=function(t){this.clearTimeout()},r.prototype.onTouchEnd=function(t){this.clearTimeout()},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y;(e-this.touchStartX>fd||n-this.touchStartY>fd)&&this.clearTimeout()},r.prototype.onTouchStart=function(t){var e=this;this.clearTimeout();var n=t.x,a=t.y;this.touchStartTime=co.now(),this.touchStartX=n,this.touchStartY=a,this.pressTimeout=window.setTimeout(function(){e.emit({x:n,y:a,event:t})},aE)},r.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},r}(Sl),sE=100,lE=function(i){(0,br.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="swipe",t.latestMoveTime=0,t.ms=0,t.speedX=0,t.speedY=0,t.preX=0,t.preY=0,t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=this.speedX,n=this.speedY;if(co.now()-this.latestMoveTime<sE){var a=t.x,o=t.y;this.emit({x:a,y:o,speedX:e,speedY:n,event:t})}},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=co.now(),o=e-this.preX,s=n-this.preY,l=a-this.ms;this.speedX=o/l,this.speedY=s/l,this.latestMoveTime=a},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.speedX=this.speedY=0,this.preX=e,this.preY=n,this.ms=co.now()},r}(Sl),uE=300,hd=2,fE=function(i){(0,br.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="tap",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=t.x,n=t.y;e-this.touchStartX<hd&&n-this.touchStartY<hd&&co.now()-this.touchStartTime<uE&&this.emit({x:e,y:n,event:t})},r.prototype.onTouchMove=function(t){},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.touchStartTime=co.now(),this.touchStartX=e,this.touchStartY=n},r}(Sl),hE={Pan:iE,Press:oE,Swipe:lE,Tap:fE},cE=function(i){return hE[i]},cd=function(i){(0,br.__extends)(r,i);function r(t,e){e===void 0&&(e={});var n=i.call(this)||this;return n.onTouchStart=function(a){n.preventEvent(a),n.element.on("touchmove",n.onTouchMove),n.element.on("touchend",n.onTouchEnd),n.element.on("touchcancel",n.onTouchCancel),n.emit("touchdown",a),n.doGestures(a)},n.onTouchMove=function(a){n.preventEvent(a),n.emit("touchmove",a),n.doGestures(a)},n.onTouchEnd=function(a){n.preventEvent(a),n.emit("touchend",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.onTouchCancel=function(a){n.preventEvent(a),n.emit("touchcancel",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.element=t,n.options=e,n.initialGestures(),n.bindTouchStart(),n}return r.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},r.prototype.initialGestures=function(){var t=this,e=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=e.map(function(n){var a=cE(n);return new a(t)})},r.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},r.prototype.preventEvent=function(t){var e=t.type,n=this.options.prevents||[];n.includes(e)&&t.preventDefault()},r.prototype.doGestures=function(t){this.gestures.forEach(function(e){e.do(t)})},r}(fe.default),vE=d(68716),dE=vE.yD,pE=800,gE="swipe",yE="pan",vd="wheel",mE=function(i){(0,br.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.rafMs=0,e.onPan=function(n){var a=n.deltaX,o=n.deltaY,s=e.getWrapperEvent(n,a,o);e.emit(vd,s)},e.onSwipe=function(n){var a=n.speedX,o=n.speedY;e.rafMs=co.now(),e.ms=e.rafMs,(a!==0||o!==0)&&e.rafInertia(n)},e.element=t,e.gm=new cd(t,{gestures:["Pan","Swipe"]}),e.gm.on(gE,e.onSwipe),e.gm.on(yE,e.onPan),e}return r.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},r.prototype.rafInertia=function(t){var e=this,n=t.speedX,a=t.speedY;this.raf=window.requestAnimationFrame(function(){var o=co.now(),s=(o-e.ms)/pE;if(s<1){s=dE(1-s);var l=o-e.rafMs,u=n*s*l,h=a*s*l,c=e.getWrapperEvent(t,u,h);e.emit(vd,c),e.rafMs=o,e.rafInertia(t)}})},r.prototype.getWrapperEvent=function(t,e,n){return(0,br.__assign)((0,br.__assign)({},t),{deltaX:-e,deltaY:-n})},r}(fe.default),vn=d(78646),dd=d(13733),xE=d(90835),QY=d(86050),bE=d(85506),vo=d(97488),JY=d(98880),wE=d(88373),Io=d(55225);nn("gesture",U.Z);var Ji="origin",As="_origin",pd=1e3,gd=60*pd,yd=60*gd,Ml=24*yd,SE=Ml*7,ME=Ml*30,CE=Ml*365,EE={second:{value:pd,format:"HH:mm:ss"},miniute:{value:gd,format:"HH:mm"},hour:{value:yd,format:"HH"},day:{value:Ml,format:"YYYY-MM-DD"},week:{value:SE,format:"YYYY-MM-DD"},month:{value:ME,format:"YYYY-MM"},year:{value:CE,format:"YYYY"}},Cl=["click","dblclick","mousemove","mouseenter","mouseleave","mousedown","mouseup","contextmenu"],AE=[],TE={axis:"axis-label",label:"label",legend:"legend-item"},PE={title:"title",description:"description",breadcrumb:"breadcrumb"},md=(0,f.deepMix)(yi(PE),Xf("Plot",Cl)),xd=Xf("Layer",Cl),on=(0,f.deepMix)({},yi(TE),Xf("View",Cl),_E());function $n(i,r,t){i.view.on(r,function(e){var n={x:e==null?void 0:e.x,y:e==null?void 0:e.y,clientX:e==null?void 0:e.clientX,clientY:e==null?void 0:e.clientY,target:e==null?void 0:e.target,data:(e==null?void 0:e.data)?e.data.data:null,plot:i,canvas:i.canvas,gEvent:e==null?void 0:e.gEvent};t(n)})}function yi(i){var r={};return(0,f.each)(i,function(t,e){var n=(0,f.upperFirst)(e),a="on"+n,o=t+":";(0,f.each)(Cl,function(s){var l=(0,f.upperFirst)(s),u=""+a+l,h=""+o+s;r[u]=h})}),r}function Xf(i,r){var t={},e="on";return(0,f.each)(r,function(n){var a=(0,f.upperFirst)(n),o=""+e+i+a;t[o]=n}),t}function _E(){var i={},r="on";return(0,f.each)(AE,function(t){var e=(0,f.upperFirst)(t),n=""+r+e;i[n]=t}),i}var LE=d(62810),OE=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.fromBBoxObject=function(t){return new r(t.x,t.y,t.width,t.height)},r}(LE.BBox),Wr=OE,IE=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.layers=[],e.destroyed=!1,e.visibility=!0,e.rendered=!1,e.eventHandlers=[],e.options=e.getOptions(t),e.processOptions(e.options),e}return r.prototype.processOptions=function(t){this.id=t.id,this.x=t.x||0,this.y=t.y||0,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},r.prototype.updateConfig=function(t){this.options=(0,f.deepMix)({},this.options,t),this.processOptions(this.options)},r.prototype.beforeInit=function(){return null},r.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer(function(t){t.init()})},r.prototype.afterInit=function(){return null},r.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer(function(t){t.render()}),this.canvas.draw()},r.prototype.clear=function(){this.eachLayer(function(t){t.destroy()}),this.layers=[],this.container.clear()},r.prototype.destroy=function(){var t=this;this.eachLayer(function(e){e.destroy()}),(0,f.each)(this.eventHandlers,function(e){t.off(e.eventName,e.handler)}),this.container.remove(!0),this.destroyed=!0},r.prototype.show=function(){this.container.attr("visible",!0),this.container.set("visible",!0),this.visibility=!0,this.canvas.draw()},r.prototype.hide=function(){this.container.attr("visible",!1),this.container.set("visible",!1),this.visibility=!1,this.canvas.draw()},r.prototype.addLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e<0&&(t.parent!==this&&(t.parent=this,t.init()),this.layers.push(t))},r.prototype.removeLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e>=0&&this.layers.splice(e,1)},r.prototype.updateBBox=function(t,e){e===void 0&&(e=!1);var n={x:this.x,y:this.y,width:this.width,height:this.height},a=(0,f.deepMix)({},n,t);this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),e&&this.eachLayer(function(o){o.updateBBoxByParent(),o.render()}),this.canvas.draw()},r.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},r.prototype.getGlobalPosition=function(){for(var t=this.x,e=this.y,n=this.parent;n;)t+=n.x,e+=n.y,n=n.parent;return{x:t,y:e}},r.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new Wr(t.x,t.y,this.width,this.height)},r.prototype.getOptions=function(t){var e=0,n=0;t.parent&&(e=t.parent.width,n=t.parent.height);var a={x:0,y:0,width:e,height:n};return(0,f.deepMix)({},a,t)},r.prototype.eachLayer=function(t){(0,f.each)(this.layers,t)},r.prototype.parseEvents=function(t){var e=this,n=(0,f.keys)(xd);(0,f.each)(t,function(a,o){if((0,f.contains)(n,o)&&(0,f.isFunction)(a)){var s=xd[o]||o,l=a;e.on(s,l),e.eventHandlers.push({name:s,handler:l})}})},r.prototype.getLayerBBox=function(){return new Wr(this.x,this.y,this.width,this.height)},r.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,e=this.parent.height,n=this.parent.x,a=this.parent.y,o=(this.x-n)/t,s=(this.y-a)/e,l=(this.x+this.width-n)/t,u=(this.y+this.height-a)/e;return{start:{x:o,y:s},end:{x:l,y:u}}}return{start:{x:0,y:0},end:{x:1,y:1}}},r}(fe.default),El=IE;function Zo(i){return i?!!(i.visible===!0&&typeof i.text=="string"&&i.text.trim()):!1}function bd(i,r){var t=(0,zt.__spreadArrays)(i);return r.forEach(function(e,n){t.splice(e+n,0,`
`)}),t.join("")}function kE(i){return i.getComponents().filter(function(r){return r.type===vn.COMPONENT_TYPE.AXIS}).map(function(r){return r.component})}function BE(i){return i.getComponents().filter(function(r){return r.type===vn.COMPONENT_TYPE.LEGEND}).map(function(r){return r.component})}function qY(i){var r=i.backgroundGroup.findAll(function(t){if(t.get("name")){var e=t.get("name").split("-");return e[0]==="axis"}});return r}function tG(i){var r=i.foregroundGroup.findAll(function(t){if(t.get("name"))return t.get("name")==="legend-item-group"});return r}function DE(i,r){for(var t=i.length;t>0&&!(r>=i[t-1]);)t-=1;return t}function wd(i,r){return!(i.maxY<r.minY||r.maxY<i.minY||i.maxX<r.minX||r.maxX<i.minX)}function eG(){return!!navigator.userAgent.match(/(Mobile)|(Android)|(WebOS)|(iPhone)|(iPad)/)}var FE=function(){function i(r){this.position="top",this.destroyed=!1,(0,f.assign)(this,r),this.init()}return i.prototype.getBBox=function(){var r=this;if(this.shape){var t=this.shape.getBBox();if(this.index===0)return Wr.fromBBoxObject(t);var e=this.plot.theme.description.padding;return(0,f.isArray)(e)&&(0,f.each)(e,function(n,a){typeof e[a]=="function"&&(e[a]=e[a](r.plot.options.legend.position))}),new Wr(t.maxX,t.minY,t.width,t.height)}return null},i.prototype.clear=function(){this.shape&&this.shape.attr("text","")},i.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},i.prototype.init=function(){var r=this.textWrapper(),t=this.getPosition(),e=t.x,n=t.y;this.shape=this.container.addShape("text",{attrs:(0,f.mix)({x:e,y:n,text:r},this.style,{textAlign:this.getTextAlign()})}),this.shape.name=this.name},i.prototype.getPosition=function(){return this.alignTo==="left"?{x:this.leftMargin,y:this.topMargin}:this.alignTo==="middle"?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},i.prototype.getTextAlign=function(){return this.alignTo==="left"?"left":this.alignTo==="middle"?"center":"right"},i.prototype.textWrapper=function(){var r=this.wrapperWidth,t=this.style,e=this.text,n=this.container.addShape("text",{attrs:(0,zt.__assign)({text:"",x:0,y:0},t)}),a=e.split(`
`),o=a.map(function(s){for(var l="",u=s.split(""),h=[],c=0;c<u.length;c++){var v=u[c];n.attr("text",l+=v);var y=n.getBBox().width-1;if(y>r){if(c===0)break;h.push(c),l=""}}return bd(u,h)});return n.remove(),o.join(`
`)},i}(),Al=FE,RE=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.container=t.container,e.destroyed=!1,e.config=t,e.disposables=[],e}return r.prototype.init=function(){this.group||this.initGroup(),this.initConfig(this.config)},r.prototype.getGroup=function(){return this.group},r.prototype.getConfig=function(){return this.config},r.prototype.getBBox=function(){return this.getGroup().getBBox()},r.prototype.clear=function(){this.group.clear()},r.prototype.render=function(){this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},r.prototype.update=function(t){this.config=(0,zt.__assign)((0,zt.__assign)({},this.config),t),this.initConfig(this.config)},r.prototype.destroy=function(){(0,f.each)(this.disposables,function(t){t()}),this.disposables=[],this.group.remove(!0),this.destroyed=!0},r.prototype.initGroup=function(){this.group=this.container.addGroup()},r.prototype.getCanvas=function(){return this.container.get("canvas")},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.initConfig=function(t){},r}(fe.default),Ts=RE,NE=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.labelsCfgMap={},t.lastLabelsCfgMap={},t}return r.prototype.getGeometry=function(){return this.geometry},r.prototype.getLabels=function(){return this.labels},r.prototype.show=function(){this.container.show()},r.prototype.hide=function(){this.container.hide()},r.prototype.initConfig=function(t){var e=this;this.layer=t.layer;var n=this.layer.view;this.view=n,this.geometry=t.geometry,this.coord=n.getCoordinate(),this.options=(0,f.deepMix)(this.getDefaultOptions(),t.label);var a=function(){e.clear(),e.labelsCfgMap={},e.lastLabelsCfgMap={},e.render()};n.on(vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){n.off(vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)})},r.prototype.renderInner=function(t){var e=this;this.labels=[],this.labelsCfgMap={},(0,f.each)(this.geometry.elements,function(s,l){var u=[].concat(e.drawLabelItem(t,s,l));(0,f.each)(u,function(h,c){e.adjustLabel(h,s,c),h.destroyed||(e.labels.push(h),e.labelsCfgMap[h.get("id")]=(0,f.clone)(h.attrs))})}),this.layoutLabels(this.geometry,this.labels);var n=this.lastLabelsCfgMap,a=this.labelsCfgMap,o=this.geometry.animateOption?(0,vo.getDefaultAnimateCfg)("label",this.coord):!1;(0,f.each)(a,function(s,l){var u=t.findById(l);if(u)if(n[l]){var h=n[l],c=(0,f.get)(o,"update");c&&(u.stopAnimate(),u.attr(h),(0,vo.doAnimate)(u,c,{toAttrs:(0,zt.__assign)({},s),coordinate:e.coord}))}else{var v=(0,f.get)(o,"appear");v&&(u.stopAnimate(),(0,vo.doAnimate)(u,v,{toAttrs:(0,zt.__assign)({},u.attr()),coordinate:e.coord}))}delete n[l]}),(0,f.each)(n,function(s,l){var u=(0,f.get)(o,"leave");if(u){var h=t.addShape("text",{attrs:s,id:l,name:"label"});h.stopAnimate(),(0,vo.doAnimate)(h,u,{toAttrs:null,coordinate:e.coord})}}),this.lastLabelsCfgMap=this.labelsCfgMap},r.prototype.drawLabelText=function(t,e,n){return n===void 0&&(n={}),t.addShape("text",(0,zt.__assign)({attrs:e},n))},r.prototype.drawLabelItem=function(t,e,n){var a=this,o=e.getModel(),s=[].concat(this.getLabelItemAttrs(e,n)),l=this.getDefaultOffset(),u=this.getLabelOffset();return(0,f.map)(s,function(h,c){var v,y={x:h.x+u.x,y:h.y+u.y},A=(0,f.isArray)(o.mappingData)?o.mappingData[c]:o.mappingData,k=a.getLabelId(A);return a.drawLabelText(t,(0,zt.__assign)((0,zt.__assign)({},h),y),(v={id:k,name:"label",offset:l,element:e},v[Ji]=A,v))})},r.prototype.getDefaultOffset=function(){return Number(this.options.offset)},r.prototype.getLabelOffset=function(){var t=this.options,e=t.offsetX,n=t.offsetY;return{x:(0,f.isNumber)(e)?e:0,y:(0,f.isNumber)(n)?n:0}},r.prototype.getLabelOffsetByDimAndFactor=function(t,e){var n=this.options,a=n.offsetX,o=n.offsetY,s=this.getDefaultOffset(),l={x:0,y:0};return l[t]=s*e,(0,f.isNumber)(a)&&(l.x+=a),(0,f.isNumber)(o)&&(l.y+=o),l},r.prototype.getDefaultOptions=function(){return{}},r.prototype.layoutLabels=function(t,e){},r.prototype.getLabelId=function(t){var e=t._origin,n=this.geometry.type,a=this.geometry.getXScale(),o=this.geometry.getYScale(),s=this.geometry.getElementId(t);return n==="line"||n==="area"?s+=" "+e[a.field]:n==="path"&&(s+=" "+e[a.field]+"-"+e[o.field]),s},r.prototype.getCoordinateBBox=function(){var t=this.coord,e=t.start,n=t.end;return new Wr(Math.min(e.x,n.x),Math.min(e.y,n.y),t.getWidth(),t.getHeight())},r}(Ts),Vf=NE,Sd={};function Wi(i,r){Sd[i]=r}function YE(i){return Sd[i]}var Hf=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return function(t,e,n){return i.reduce(function(a,o){return o(a,e,n)},t)}},Wf=function(){return function(i){return i}},Md=function(i){return function(r){var t=Number(r);return isNaN(t)||(0,f.isNil)(i)?r:t.toFixed(i)}},Cd=function(i){return function(r){return(0,f.isNil)(i)?r:r+" "+i}};function jf(i,r,t){i[t]&&(r[t]=i[t])}var GE=function(){function i(r){this.config=!1,this.plot=r.plot,this.dim=r.dim,this.init()}return i.prototype.init=function(){this.config=!1;var r=this.plot.getPlotTheme();this.themeConfig=r&&r.axis&&r.axis[this.dim],this._needDraw()&&this._styleParser()},i.prototype._styleParser=function(){this.config=(0,zt.__assign)({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,jf(this.localProps,this.config,"autoHideLabel"),jf(this.localProps,this.config,"autoRotateLabel"),jf(this.localProps,this.config,"autoRotateTitle")},i.prototype._needDraw=function(){var r=this.plot.options,t=r[this.dim+"Axis"]?r[this.dim+"Axis"]:{},e=(0,f.deepMix)({},this.themeConfig,t);return this.localProps=e,!!e.visible},i.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig("line")},i.prototype._gridParser=function(){var r=this,t,e,n,a,o,s=(e=(t=this.localProps.grid)===null||t===void 0?void 0:t.line)===null||e===void 0?void 0:e.style,l=(a=(n=this.localProps.grid)===null||n===void 0?void 0:n.line)===null||a===void 0?void 0:a.type,u=(o=this.localProps.grid)===null||o===void 0?void 0:o.alternateColor;(0,f.isFunction)(s)?this.config.grid=function(h,c,v){var y=s(h,c,v);return{line:{type:l,style:(0,f.deepMix)({},(0,f.get)(r.themeConfig,"grid.line.style"),y)},alternateColor:u}}:s&&(this.config.grid={line:{type:l,style:s},alternateColor:u},this.applyThemeConfig("grid"))},i.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig("tickLine")},i.prototype._labelParser=function(){var r=this.localProps.label,t=r.style,e=(0,zt.__rest)(r,["style"]),n=(0,zt.__assign)({},e);t&&(n.style=(0,zt.__assign)({},this.localProps.label.style)),n.style=(0,f.deepMix)({},(0,f.get)(this.themeConfig,"label.style"),n.style);var a=this.parseFormatter(n);n.formatter=a,this.config.label=n},i.prototype._titleParser=function(){var r=(0,zt.__assign)({},this.localProps.title),t=this.localProps.title,e=t.visible,n=t.style,a=t.text;e?(this.config.showTitle=!0,n&&(r.style=n),r.style=(0,f.deepMix)({},(0,f.get)(this.config,"title.style"),r.textStyle),a&&(r.text=a)):this.config.showTitle=!1,this.config.title=r},i.prototype._isVisible=function(r){return!!(this.localProps[r]&&this.localProps[r].visible)},i.prototype.applyThemeConfig=function(r){this.config[r]=(0,f.deepMix)({},(0,f.get)(this.themeConfig,r+".style"),this.config[r])},i.prototype.parseFormatter=function(r){var t=Hf(Wf(),Md(r.precision),Cd(r.suffix));return r.formatter&&(t=Hf(t,r.formatter)),t},i}(),zE=GE;function Tl(i){var r=0;return each(i,function(t){r+=t*t}),Math.sqrt(r)}function Uf(i,r){return i.x*r.y+i.y*r.x}function rG(i,r){var t=Tl(i),e=Tl(r),n=Uf(i,r),a=Math.acos(n/t/e);return a}function nG(i,r){var t=Tl(i),e=Tl(r),n=Uf(i,r),a=Math.acos(n/t/e);return t*e*Math.sin(a)}function iG(i,r){var t=i.x,e=i.y,n=i.z,a=r.x,o=r.y,s=r.z,l=e*s-n*o,u=n*a-t*s,h=t*o-e*a;return{x:l,y:u,z:h}}function aG(i,r){return{x:i.x-r.x,y:i.y-r.y}}function Pl(i,r,t){t===void 0&&(t=1);var e=[i.x,i.y,t];return iv.transformMat3(e,e,r),{x:e[0],y:e[1]}}function Ed(i,r,t){return i>=r&&i<=t}var XE=.001;function oG(i,r,t,e){var n={x:t.x-i.x,y:t.y-i.y},a={x:r.x-i.x,y:r.y-i.y},o={x:e.x-t.x,y:e.y-t.y},s=a.x*o.y-a.y*o.x,l=s*s,u=a.x*a.x+a.y*a.y,h=o.x*o.x+o.y*o.y,c=null;if(l>XE*u*h){var v=(n.x*o.y-n.y*o.x)/s,y=(n.x*a.y-n.y*a.x)/s;Ed(v,0,1)&&Ed(y,0,1)&&(c={x:i.x+v*a.x,y:i.y+v*a.y})}return c}function VE(i,r){for(var t=!1,e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,u=o>i.y!=l>i.y&&i.x<=(s-a)*(i.y-o)/(l-o)+a;u&&(t=!t)}return t}function _l(i){return i*i}function Ll(i,r){return Math.sqrt(_l(i.x-r.x)+_l(i.y-r.y))}function Ad(i,r){return Math.sqrt(_l(i.x-r.x)+_l(i.y-r.y))}function Td(i,r,t){var e=Ll(r,t);if(e===0)return Ll(i,r);var n=((i.x-r.x)*(t.x-r.x)+(i.y-r.y)*(t.y-r.y))/e;n=Math.max(0,Math.min(1,n));var a=Ll(i,{x:r.x+n*(t.x-r.x),y:r.y+n*(t.y-r.y)});return Math.sqrt(a)}function Pd(i,r){var t=Infinity;(0,f.each)(r,function(h){var c=Math.sqrt(Ll(h,i));t>c&&(t=c)});for(var e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,u=Td(i,{x:a,y:o},{x:s,y:l});t>u&&(t=u)}return t}function HE(i,r){for(var t=0,e=i;t<e.length;t++){var n=e[t],a=VE(n,r);if(a)return!0}return!1}function _d(i,r){if(HE(i,r))return 0;var t=Infinity,e=Infinity;return(0,f.each)(i,function(n){var a=Pd(n,r);t>a&&(t=a)}),(0,f.each)(r,function(n){var a=Pd(n,i);e>a&&(e=a)}),Math.min(t,e)}function WE(i){var r=i.getBBox(),t=r.minX,e=r.minY,n=r.maxX-r.minX,a=r.maxY-r.minY,o=i.attr("matrix"),s;o?s=[o[0],o[1],0,o[3],o[4],0,0,0,1]:s=[1,0,0,0,1,0,0,0,1];var l=Pl({x:0,y:0},s);l.x+=t,l.y+=e;var u=Pl({x:n,y:0},s);u.x+=t,u.y+=e;var h=Pl({x:0,y:a},s);h.x+=t,h.y+=e;var c=Pl({x:n,y:a},s);c.x+=t,c.y+=e;var v=[l,u,h,c];v.sort(function(Ut,Gt){return Ut.y-Gt.y});var y=v[0].y,A=v[v.length-1].y,k=[v[0],v[1]],R=[v[2],v[3]],H=k[0].x<k[1].x?k[0]:k[1],V=k[0].x<k[1].x?k[1]:k[0],ot=R[0].x<R[1].x?R[0]:R[1],ut=R[0].x<R[1].x?R[1]:R[0];v.sort(function(Ut,Gt){return Ut.x-Gt.x});var bt=v[0].x,Ft=v[v.length-1].x,Xt={width:Ft-bt,height:A-y,left:bt,right:Ft,top:y,bottom:A,topLeft:H,topRight:V,bottomLeft:ot,bottomRight:ut,centerX:bt+(Ft-bt)/2,centerY:y+(A-y)/2};return Xt}var jE=2;function Zf(i){return i.length<5?i:Kf(i,jE)}function Kf(i,r){for(var t,e=-Infinity,n=0,a=i.length-1,o=1;o<a;o++){var s=i[o],l={start:i[0],end:i[a]},u=Td(s,l.start,l.end);u>e&&(e=u,n=o)}if(e>r){var h=Kf(i.slice(0,n+1),r),c=Kf(i.slice(n,i.length),r);t=h.concat(c)}else t=[i[0],i[i.length-1]];return t}function Ld(i){var r=(0,f.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2?r[t]:(r[t-1]+r[t])/2}function UE(i){var r=0;return(0,f.each)(i,function(t){r+=t}),r/i.length}function Od(i){return Math.ceil(Math.log(i.length)/Math.LN2)+1}function ZE(i,r,t,e,n){n===void 0&&(n=2);for(var a=[],o=i;o<=i+t;o+=n)a.push([o,r]);for(var s=r;s<=r+e;s+=n)a.push([i+t,s]);for(var o=i+t;o>=i;o-=n)a.push([o,r+e]);for(var s=r+e;s>=r;s-=n)a.push([i,s]);return a}var KE=function(){function i(r){(0,f.assign)(this,r),this._init()}return i.prototype._init=function(){var r=this.plot.options,t=r.yField,e=r.data,n=this.plot.processData(e);if(!((0,f.isEmpty)(n)||!(0,f.isNumber)(n[0][t]))){var a=this.getDefaultStyle(),o={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end};if(o.style=(0,f.deepMix)({},a.line.style,this.cfg.lineStyle),o.text=(0,f.deepMix)({},a.text,this.cfg.text),this.cfg.type){var s=this._getState(this.cfg.type),l=this.getYScale(),u=(1-l.scale(s))*100+"%",h=["0%",u],c=["100%",u];this.config=(0,f.mix)({start:h,end:c},o)}else{var v=this.cfg,y=v.start,A=v.end;this.config=(0,f.clone)(o);var k=this.getXScale(),R=this.getYScale(),H=(0,f.clone)(y),V=(0,f.clone)(A);(0,f.each)(y,function(ot,ut){(!(0,f.contains)((0,f.toArray)(y[ut]),"%")||(0,f.isNumber)(y[ut]))&&(ut===0?H[ut]=k.scale(y[0])*100+"%":H[ut]=(1-R.scale(y[1]))*100+"%")}),(0,f.each)(A,function(ot,ut){(!(0,f.contains)((0,f.toArray)(A[ut]),"%")||(0,f.isNumber)(A[ut]))&&(ut===0?V[ut]=k.scale(A[0])*100+"%":V[ut]=(1-R.scale(A[1]))*100+"%")}),this.config.start=H,this.config.end=V}}},i.prototype.getYScale=function(){var r=this._getState("min"),t=this._getState("max"),e=(0,Ar.getScale)("linear"),n=new e((0,f.mix)({},{min:this.plot.type==="column"?0:r,max:t,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]));return n},i.prototype.getXScale=function(){var r=this.extractXValue();if((0,f.isString)(r[0])){var t=(0,Ar.getScale)("cat"),e=new t((0,f.mix)({},{values:r},this.plot.config.scales[this.plot.options.xField]));return e}else{var n=Math.min.apply(Math,r),a=Math.max.apply(Math,r),t=(0,Ar.getScale)("linear"),e=new t((0,f.mix)({},{min:n,max:a,nice:!0,values:r},this.plot.config.scales[this.plot.options.xField]));return e}},i.prototype._getState=function(r){if(this.values=this._extractValues(),r==="median")return Ld(this.values);if(r==="mean")return UE(this.values);if(r==="max")return Math.max.apply(Math,this.values);if(r==="min")return Math.min.apply(Math,this.values)},i.prototype._extractValues=function(){var r=this.plot.options,t=r.yField,e=[],n=this.plot.processData(r.data);return(0,f.each)(n,function(a){(0,f.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.extractXValue=function(){var r=this.plot.options,t=r.xField,e=[],n=this.plot.processData(r.data);return(0,f.each)(n,function(a){(0,f.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{content:"",offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},i.prototype.getDefaultTextAlign=function(){var r=this.cfg.text;if(r){if(!r.position||r.position==="start")return"left";if(r.position==="center")return"center";if(r.position==="end")return"right"}},i}(),$E=KE,QE=function(){function i(r){this.config={};var t=r.plot,e=(0,zt.__rest)(r,["plot"]);this.plot=t,this.originConfig=e,this.init(r)}return i.prototype.getConfig=function(){return this.config},i.prototype.init=function(r){var t=this;(0,f.assign)(this.config,r),this.config.callback=function(e){return t.parseCallBack(e)}},i.prototype.parseCallBack=function(r){var t=this.originConfig,e=this.plot.getPlotTheme(),n=(0,zt.__assign)({},t);return this.parseOffset(t,n),t.position&&((0,f.isFunction)(t.position)?n.position=t.position(r):n.position=t.position),this.parseFormatter(n),t.style&&((0,f.isFunction)(t.style)?n.textStyle=t.style(r):n.textStyle=t.style),n.textStyle=(0,f.deepMix)({},(0,f.get)(e,"label.style"),n.textStyle),t.autoRotate&&(n.autoRotate=t.autoRotate),n},i.prototype.parseOffset=function(r,t){var e=["offset","offsetX","offsetY"],n=0;(0,f.each)(e,function(a){(0,f.has)(r,a)&&(t[a]=r[a],n++)}),n===0&&(0,f.get)(r,"position")==="middle"&&(t.offset=0)},i.prototype.parseFormatter=function(r){var t=this.originConfig;r.content=function(e,n){var a=e[t.fields[0]];return Hf(Wf(),Md(t.precision),Cd(t.suffix),t.formatter?t.formatter:Wf())(a,e,n)}},i}(),JE=QE,ko,$f;function Id(i,r){ko||kd(i),(0,f.each)(ko,function(t){var e=Bd(t,r),n=e.labelData,a=e.con;if(Dd(n,a)){var o=rA();t.shape.attr(o)}})}function qE(i,r){ko||kd(i),(0,f.each)(ko,function(t,e){var n=Bd(t,r),a=n.labelData,o=n.con;if(Dd(a,o)){var s=$f[e],l=eA(s);t.shape.attr(l)}})}function kd(i){var r;ko=[],$f=[];var t=(r=i.view.getController("axis"))===null||r===void 0?void 0:r.getComponents();(0,f.each)(t,function(e){var n=e.component,a=[],o=tA(i,n),s=n.get("labelRenderer").get("group").get("children");if((0,f.each)(s,function(h){h.type==="text"&&(a.push({shape:h}),$f.push(h.attr()))}),o){var l=o.ticks,u=o.field;(0,f.each)(a,function(h,c){h.value=l[c],h.scaleField=u,h.type=o.type})}ko.push.apply(ko,a)})}function tA(i,r){var t=i.options,e="y",n=r.get("position");(n==="bottom"||n==="top")&&(e="x");var a=t[e+"Field"];return i.view.get("scales")[a]}function Bd(i,r){var t,e=(t={},t[i.scaleField]=i.value,t),n=(0,f.clone)(r);return i.type==="time"&&(0,f.isObject)(r)&&!(0,f.isFunction)(n.exp)&&(n.exp=new Date(n.exp).getTime()),{labelData:e,con:n}}function eA(i){var r=i.opacity||1;return{opacity:r*.2}}function rA(){return{opacity:1,fontWeight:600,fill:"red"}}function Dd(i,r){if(!(0,f.isFunction)(r)){var t=r.name,e=r.exp;return i[t]?(0,f.isFunction)(e)?e(i[t]):i[t]===e:!1}return r(i)}var nA={active:Id,selected:Id,disable:qE},iA=function(i){(0,zt.__extends)(r,i);function r(){var t=i.call(this)||this;return t._states={},t._stateStack={},t}return r.prototype.setState=function(t,e){this._stateStack[t]=e,this._onUpdate()},r.prototype.getState=function(t){return this._states[t]},r.prototype.getAllStates=function(){return this._states},r.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},r.prototype._onUpdate=function(){var t=this,e=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){(0,f.each)(e,function(n,a){var o=e[a];(!t._states[a]||t._states[a]!==n)&&(t._states[a]=n,t._triggerEvent(a,o))}),t._stateStack={}},16)},r.prototype._triggerEvent=function(t,e){this.emit(t+":change",{name:t,exp:e})},r}(fe.default),aA=iA;function Ja(i,r){if(!(0,f.isFunction)(r)){var t=r.name,e=r.exp;return(0,f.isFunction)(e)?e(i[t]):i[t]===e}return r(i)}var oA=function(){function i(r){this.shapeContainers=[],(0,f.assign)(this,r)}return i.prototype.createStateManager=function(){this.stateManager=new aA},i.prototype.bindStateManager=function(r,t){this.stateManager=r,t.setState&&this._updateStateProcess(t.setState),t.onStateChange&&this._stateChangeProcess(t.onStateChange)},i.prototype.defaultStates=function(r){var t=this;(0,f.each)(r,function(e,n){var a=e.condition,o=e.related;t.setState({type:n,condition:a,related:o})})},i.prototype.setState=function(r){var t=this,e=r.type,n=r.condition,a=r.related;this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs(),(0,f.each)(this.shapes,function(o,s){var l=o.get("origin").data,u=(0,f.isArray)(l)?l[0]:l;if(Ja(u,n)){var h=r.style?r.style:t._getDefaultStateStyle(e,o),c=t.originAttrs[s],v=void 0;(0,f.isFunction)(h)?v=h(c):v=(0,f.mix)({},c,h),o.attr(v),t.setZIndex(e,o)}}),a&&this._parserRelated(e,a,n),this.plot.canvas.draw()},i.prototype._updateStateProcess=function(r){var t=this;(0,f.each)(r,function(e){var n=e.state,a;(0,f.isFunction)(n)?a=function(o){var s=n(o);t.stateManager.setState(s.name,s.exp)}:a=function(){t.stateManager.setState(n.name,n.exp)},e.event?$n(t.plot,t._eventParser(e.event),a):a()})},i.prototype._stateChangeProcess=function(r){var t=this;(0,f.each)(r,function(e){t.stateManager.on(e.name+":change",function(n){e.callback(n,t.plot)})})},i.prototype._getShapes=function(){var r=this,t=[],e=this.plot.view.geometries;return(0,f.each)(e,function(n){var a=n.container;r.shapeContainers.push(a),n.destroyed||t.push.apply(t,n.getShapes())}),t},i.prototype._getOriginAttrs=function(){var r=[];return(0,f.each)(this.shapes,function(t){r.push((0,f.clone)(t.attr()))}),r},i.prototype._eventParser=function(r){var t=r.split(":"),e=this.plot.geometryParser("g2",t[0]),n=t[1];return e+":"+n},i.prototype._getDefaultStateStyle=function(r,t){var e=this.plot.theme,n=this.plot.geometryParser("plot",t.name),a=n+"Style";if(e[a]){var o=e[a][r];return(0,f.isFunction)(o)&&(o=o(t.attr())),o}return{}},i.prototype._parserRelated=function(r,t,e){var n=this;(0,f.each)(t,function(a){if(n.plot[a]){var o=mA(a,r);o(n.plot,e)}})},i.prototype.setZIndex=function(r,t){if(r==="active"||r==="selected"){var e=t.get("parent").get("children");e[e.length-1].setZIndex(0),t.setZIndex(1)}},i.prototype.resetZIndex=function(){(0,f.each)(this.shapeContainers,function(r){var t=r.get("children");t.sort(function(e,n){return e._INDEX-n._INDEX})})},i}(),sA=oA,Ko,Ol;function Fd(i,r){Ko||Rd(i),(0,f.each)(Ko,function(t,e){var n=t.get("origin");if(Ja(n,r)){var a=Ol[e],o=(0,f.mix)({},a,{opacity:1});t.attr(o)}})}function lA(i,r){Ko||Rd(i),(0,f.each)(Ko,function(t,e){var n=t.get("origin");if(Ja(n,r)){var a=Ol[e],o=uA(a);t.attr(o)}})}function Rd(i){Ko=[],Ol=[];var r=i.view.get("elements");(0,f.each)(r,function(t){var e=t.get("labels");e&&(0,f.each)(e,function(n){Ko.push(n),Ol.push(n.attr())})})}function uA(i){var r=i.opacity||1;return{opacity:r*.2}}var fA={active:Fd,selected:Fd,disable:lA},hA=["xField","yField","angleField"];function Nd(i,r){var t=i.options;if(vA(t,r)){var e=t.data;(0,f.each)(e,function(n){if(Ja(n,r)){var a=i.view.getXY(n);i.view.on("tooltip:create",function(o){Yd(r,o,!1)}),i.view.showTooltip(a)}})}}function cA(i,r){i.view.on("tooltip:change",function(t){Yd(r,t,!0)})}function Yd(i,r,t){var e=!t,n=(0,f.clone)(r.items);r.items.splice(0),(0,f.each)(n,function(a){var o=a.point._origin;Ja(o,i)===e&&r.items.push(a)})}function vA(i,r){var t=dA(i);return!(0,f.isFunction)(r)&&t.indexOf(r.name)}function dA(i){var r=[];return(0,f.each)(hA,function(t){(0,f.has)(i,t)&&r.push(t)}),r}var pA={active:Nd,selected:Nd,disable:cA},gA={axis:zE,label:JE,guideLine:$E},yA={tooltip:pA,label:fA,axis:nA};function Ei(i,r){var t=gA[i];return new t(r).config}function mA(i,r){return yA[i][r]}var xA=["start","process","end","reset"],bA=function(){function i(r){var t=this.getDefaultCfg();(0,f.assign)(this,t,r),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}return i.prototype.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},i.prototype._start=function(r){this.preStart(r),this.start(r),this.afterStart(r)},i.prototype.preStart=function(r){},i.prototype.afterStart=function(r){},i.prototype._process=function(r){this.preProcess(r),this.process(r),this.afterProcess(r)},i.prototype.preProcess=function(r){},i.prototype.process=function(r){},i.prototype.afterProcess=function(r){},i.prototype._end=function(r){this.preEnd(r),this.end(r),this.afterEnd(r)},i.prototype.preEnd=function(r){},i.prototype.end=function(r){},i.prototype.afterEnd=function(r){},i.prototype._reset=function(r){this.preReset(r),this.reset(r),this.afterReset(r)},i.prototype.preReset=function(r){},i.prototype.reset=function(r){},i.prototype.afterReset=function(r){},i.prototype._bindEvents=function(){var r=this;(0,f.each)(xA,function(t){var e=r[t+"Event"],n=(0,f.wrapBehavior)(r,"_"+t);r.view.on(e,n),r._eventHandlers.push({type:e,handler:n})})},i.prototype._unbindEvents=function(){var r=this,t=this._eventHandlers;(0,f.each)(t,function(e){r.view.off(e.type,e.handler)})},i.prototype.destroy=function(){this._unbindEvents(),this._reset()},i}(),Qf=bA,wA=function(i){(0,zt.__extends)(r,i);function r(t,e,n,a){var o=i.call(this,t)||this;return o.viewLayer=e,o.interactionRange=n,o.interactionConfig=a,o.disposables=[],o}return r.registerInteraction=function(t,e){r.GLOBAL_INTERACTION_MAP[t]=e},r.registerPlotInteraction=function(t,e,n){r.PLOT_INTERACTION_MAP[t]||(r.PLOT_INTERACTION_MAP[t]={}),r.PLOT_INTERACTION_MAP[t][e]=n},r.getInteraction=function(t,e){return e&&r.PLOT_INTERACTION_MAP[e]&&r[e][t]?r.PLOT_INTERACTION_MAP[e][t]:r.GLOBAL_INTERACTION_MAP[t]},r.getInteractionRange=function(t,e){},r.prototype.destroy=function(){(0,f.each)(this.disposables,function(t){t()}),this.disposables=[],this.clear(),i.prototype.destroy.call(this)},r.prototype.getViewLayer=function(){return this.viewLayer},r.prototype.getRange=function(){return this.interactionRange},r.prototype.getInteractionConfig=function(){return this.interactionConfig},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.render=function(){},r.prototype.start=function(t){},r.GLOBAL_INTERACTION_MAP={},r.PLOT_INTERACTION_MAP={},r}(Qf),Sa=wA,Gd=function(i,r,t,e,n){var a=e[0],o=e[1];n===void 0&&(n=!1);var s=(0,f.groupBy)(t,i),l=n?r.slice(r.length-o,r.length-a):r.slice(a,o);return(0,f.flatten)((0,f.map)(l,function(u){return s[u]||[]}))},Ba;(function(i){i.BEFORE_INIT="beforeinit",i.AFTER_INIT="afterinit",i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata"})(Ba||(Ba={}));var Il=4,zd=8,SA=32,MA=20,CA=999,kl=function(i){i===void 0&&(i={});var r=(0,zt.__assign)({type:"horizontal",categorySize:SA,width:zd,height:zd,padding:[0,0,0,0]},i);return i.padding||(r.padding=r.type==="horizontal"?[Il,0,Il,0]:[0,Il,0,Il]),r},EA=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=kl(e),a=n.padding,o=a[0],s=a[1],l=a[2],u=a[3];return n.type==="horizontal"?new Wr(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l):new Wr(t.maxX-n.width-u-s,t.minY,n.width+u+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view;this.ratio=0,this.thumbOffset=0;var a=function(){var s=t.view.padding;s==="auto"||(0,f.isEqual)(s,[0,0,0,1])||(t.trackLen?t.renderScrollbar():(t.measureScrollBar(),t.changeViewData(t.getScrollRange(),!0)))},o=function(){t.trackLen=0};n.on(vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){return n.off(vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)}),n.on(vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a),this.addDisposable(function(){return n.off(vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a)}),e.on(Ba.BEFORE_CHANGE_DATA,o),this.addDisposable(function(){return e.off(Ba.BEFORE_CHANGE_DATA,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},r.prototype.renderScrollbar=function(){var t=kl(this.getInteractionConfig()),e=this.getRange(),n=t.type!=="vertical",a=this.view.coordinateBBox,o=t.padding,s=o[0],l=o[3],u=n?{x:a.minX+l,y:e.minY+s}:{x:e.minX+l,y:a.minY+s};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:u.x,y:u.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new Qr.Scrollbar({container:this.container,x:u.x,y:u.y,isHorizontal:n,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get("group").set("zIndex",CA),this.scrollbar.on("scrollchange",this.onChangeFn))},r.prototype.measureScrollBar=function(){var t=kl(this.getInteractionConfig()),e=t.padding,n=e[0],a=e[1],o=e[2],s=e[3],l=t.type!=="vertical",u=this.view.coordinateBBox,h=this.view.getXScale(),c=this.view.getYScales().filter(function(v){return v});this.cnt=h.values.length,this.xScaleCfg={field:h.field,values:h.values||[]},this.yScalesCfg=c,this.step=Math.floor((l?u.width:u.height)/t.categorySize),this.trackLen=l?u.width-s-a:u.height-n-o,this.thumbLen=Math.max(this.trackLen*(0,f.clamp)(this.step/h.values.length,0,1),MA)},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,f.clamp)(this.ratio,0,1)),e=Math.min(t+this.step,this.cnt);return[t,e]},r.prototype.changeViewData=function(t,e){var n=this,a=t[0],o=t[1],s=kl(this.getInteractionConfig()),l=this.getViewLayer(),u=l.options.meta,h=l.getData(),c=Gd(this.xScaleCfg.field,this.xScaleCfg.values,h,[a,o],s.type==="vertical");this.yScalesCfg.forEach(function(v){var y=(0,f.get)(u,v.field)||{};n.view.scale(v.field,(0,zt.__assign)((0,zt.__assign)({formatter:v.formatter},y),{type:v.type,min:v.min,max:v.max}))}),e?(this.view.data(c),this.view.render()):this.view.changeData(c)},r.prototype.onChange=function(t){var e=t.ratio,n=t.thumbOffset;this.ratio=e,this.thumbOffset=n;var a=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange(),!0),this.view.animate(a),this.renderScrollbar()},r}(Sa),AA=EA,Bl=4,Xd=16,Jf=function(i){i===void 0&&(i={});var r=(0,zt.__assign)({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},trendCfg:{}},i);i.padding||(r.padding=r.type==="horizontal"?[Bl,0,Bl,0]:[0,Bl,0,Bl]),i.height||(r.height=Xd),i.width||(r.width=Xd);var t=(0,f.clamp)(Math.min(r.start,r.end),0,1),e=(0,f.clamp)(Math.max(r.start,r.end),0,1);return r.start=t,r.end=e,r},TA=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Jf(e),a=n.padding||[0,0,0,0],o=a[0],s=a[1],l=a[2],u=a[3];if(n.type==="horizontal"){var h=new Wr(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l);return h}else return new Wr(t.maxX-n.width-u-s,t.minY,n.width+u+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view,a=Jf(this.getInteractionConfig());this.curStart=a.start,this.curEnd=a.end,this.xScaleCfg=void 0;var o=function(){var s=t.view.padding;if(!(s==="auto"||(0,f.isEqual)(s,[0,0,0,1]))&&!(0,f.isEmpty)(e.options.data))if(t.xScaleCfg)t.renderSlider();else{var l=n.getXScale();t.xScaleCfg={field:l.field,values:l.values||[]},n.data(t.getSliderData(t.curStart,t.curEnd)),n.render()}};n.on(vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o),this.addDisposable(function(){return n.off(vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o)}),n.on(vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o),this.addDisposable(function(){return n.off(vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},r.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new Qr.Slider((0,zt.__assign)((0,zt.__assign)({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on("sliderchange",this.onChangeFn))},r.prototype.getSliderConfig=function(){var t=this.view,e=t.coordinateBBox,n=this.getRange(),a=Jf(this.getInteractionConfig()),o=a||{},s=o.padding,l=s===void 0?[0,0,0,0]:s,u=o.backgroundStyle,h=o.foregroundStyle,c=o.handlerStyle,v=o.textStyle,y=o.trendCfg,A=y===void 0?{}:y,k=l[0],R=l[1],H=l[2],V=l[3],ot=this.getSliderMinMaxText(this.curStart,this.curEnd),ut=ot.minText,bt=ot.maxText,Ft={x:e.minX+V,y:n.minY+k,width:e.width-V-R,height:n.height-k-H,start:this.curStart,end:this.curEnd,minText:ut,maxText:bt,backgroundStyle:u,foregroundStyle:h,handlerStyle:c,textStyle:v,trendCfg:(0,zt.__assign)((0,zt.__assign)({isArea:!1,smooth:!1},A),{data:this.getSliderTrendData()})};return Ft},r.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,e=t.data,n=t.yField;return(0,f.map)(e,function(a){return a[n]})},r.prototype.getSliderData=function(t,e){var n=this.getViewLayer().getData(),a=(0,f.size)(this.xScaleCfg.values),o=Math.round(t*a),s=Math.max(o+1,Math.round(e*a));return Gd(this.xScaleCfg.field,this.xScaleCfg.values,n,[o,s])},r.prototype.getSliderMinMaxText=function(t,e){var n=this.getViewLayer().options,a=n.data,o=a===void 0?[]:a,s=n.xField,l=(0,f.size)(o),u=Math.round(t*l),h=Math.max(u+1,Math.round(e*l)),c=o.slice(u,h);return{minText:c.length>0?(0,f.head)(c)[s]:"",maxText:c.length>0?(0,f.last)(c)[s]:""}},r.prototype.onChange=function(t){var e=this.view,n=(0,f.clamp)(Math.min(t[0],t[1]),0,1),a=(0,f.clamp)(Math.max(t[0],t[1]),0,1),o=this.getSliderData(n,a),s=this.getSliderMinMaxText(n,a),l=s.minText,u=s.maxText;this.curStart=n,this.curEnd=a,this.slider.update({start:n,end:a,minText:l,maxText:u}),this.slider.render();var h=e.getOptions().animate;e.animate(!1),e.data(o),e.render(),e.animate(h)},r}(Sa),PA=TA,_A=function(i){(0,zt.__extends)(r,i);function r(t){return i.call(this,(0,f.deepMix)({},t))||this}return r.prototype.renderInner=function(t){var e=this;this.initElement(t),this.updateElement(),this.renderMarker(),t.off("click"),t.on("click",function(){e.emit("click")})},r.prototype.destroy=function(){this.group.off(),i.prototype.destroy.call(this)},r.prototype.initElement=function(t){this.circle=t.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=t.addGroup();var e=1/4*this.config.r,n=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}})},r.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=1/4*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-e/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",e),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-e/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",e)},r.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},r.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},r}(Ts),LA=_A,Vd="timelinestart",OA="timelinechange",Hd="timelineend",IA="timelineupdate",kA=20,BA=20,DA=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,(0,f.deepMix)({},{speed:1,loop:!1},t))||this;return e.onTimeSelectMouseMove=function(n){n.stopPropagation(),n.preventDefault();var a=(0,f.get)(n,"touches.0.pageX",n.pageX),o=a-e.prevX;e.setTimeSelectX(o),e.prevX=a},e.onTimeSelectMouseUp=function(){e.syncCurrnentTick(),e.emit(Hd,null);var n=e.getCanvas().get("container");n&&(n.removeEventListener("mousemove",e.onTimeSelectMouseMove),n.removeEventListener("mouseup",e.onTimeSelectMouseUp),n.removeEventListener("mouseleave",e.onTimeSelectMouseUp),n.removeEventListener("touchmove",e.onTimeSelectMouseMove),n.removeEventListener("touchend",e.onTimeSelectMouseUp),n.removeEventListener("touchcancel",e.onTimeSelectMouseUp))},e.onTimeSelectMouseDown=function(n){var a=n.originalEvent;a.stopPropagation(),a.preventDefault(),e.isPlay===!1?e.emit(Vd,null):(e.isPlay=!1,e.changePlayStatus(!1)),e.prevX=(0,f.get)(a,"touches.0.pageX",a.pageX);var o=e.getCanvas().get("container");o.addEventListener("mousemove",e.onTimeSelectMouseMove),o.addEventListener("mouseup",e.onTimeSelectMouseUp),o.addEventListener("mouseleave",e.onTimeSelectMouseUp),o.addEventListener("touchmove",e.onTimeSelectMouseMove),o.addEventListener("touchend",e.onTimeSelectMouseUp),o.addEventListener("touchcancel",e.onTimeSelectMouseUp)},e}return r.prototype.renderInner=function(t){var e=this.config,n=e.ticks,a=e.defaultCurrentTick;n&&n.length&&(this.currentTick=this.config.ticks.includes(a)?a:n[0],this.renderPlayButton(t),this.renderTimeLine(t),this.renderTimeSelect(t,this.currentTick),this.initEvent())},r.prototype.update=function(t){i.prototype.update.call(this,t),this.emit(IA,this.currentTick)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.timeLineButton.destroy(),this.timeLineButton.off(),this.timeSelect.off(),this.playHandler&&window.cancelAnimationFrame(this.playHandler)},r.prototype.renderPlayButton=function(t){var e=this.config,n=e.height,a=e.x,o=e.y,s=.8,l=n/2*s;this.timeLineButton?this.timeLineButton.update({x:a+l,y:o+l+n*(1-s)/2,r:l}):(this.timeLineButton=new LA({container:t,x:a+l,y:o+l+n*(1-s)/2,r:l,isPlay:this.isPlay}),this.timeLineButton.init()),this.timeLineButton.render()},r.prototype.getTimeLinePath=function(){var t=this.timeLine,e=t.x,n=t.y,a=t.width,o=t.height,s=o/2;return a>0?"M"+e+", "+n+("A"+s+","+s+" 90 0,0 "+e+","+(n+o))+("L"+(e+a)+", "+(n+o))+("A"+s+","+s+" 90 0,0 "+(e+a)+","+n)+("L"+e+", "+n):[]},r.prototype.renderTimeLine=function(t){var e=this,n=this.config,a=n.width,o=n.height,s=n.ticks,l=n.x,u=n.y;this.timeLine||(this.timeLine={}),this.timeLine.height=o*.15,this.timeLine.x=l+o+kA,this.timeLine.y=u+(o/2-this.timeLine.height/2),this.timeLine.width=a-this.timeLine.x-BA,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=t.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var h=this.timeLine.width/(s.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach(function(v){v.destroy()});var c=-Infinity;this.timeLine.textList=s.map(function(v,y){e.tickPosList.push(e.timeLine.x+y*h);var A=t.addShape("text",{attrs:{x:e.timeLine.x+y*h,y:e.timeLine.y+e.timeLine.height+5,text:v,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),k=A.getBBox();return k.minX>c?(A.show(),c=k.minX+k.width+10):A.hide(),A})},r.prototype.renderTimeSelect=function(t,e){var n=this.config,a=n.ticks,o=n.height,s=this.timeLine.width/(a.length-1),l=(0,f.findIndex)(a,function(v){return v===e}),u=this.timeLine.x+l*s,h=this.config.y+o/2,c=o*.15;this.timeSelect?(this.timeSelect.attr("x",u),this.timeSelect.attr("y",h),this.timeSelect.attr("r",c)):this.timeSelect=t.addShape("circle",{attrs:{x:u,y:h,r:c,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",u),this.timeSelectText.attr("y",h-o*.15-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=t.addShape("text",{attrs:{x:u,y:h-o*.15-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},r.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1},r.prototype.setTimeSelectX=function(t){var e=this.timeSelect.attr("x")+t;e<this.timeLine.x&&(e=this.timeLine.x),e>this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",e),this.timeSelectText.attr("x",e);var n=this.adjustTickIndex(e);this.currentTick!==this.config.ticks[n]&&(this.currentTick=this.config.ticks[n],this.timeSelectText.attr("text",this.currentTick),this.emit(OA,this.currentTick)),this.getCanvas().draw()},r.prototype.syncCurrnentTick=function(){var t=this,e=this.config.ticks,n=this.timeLine.width/(e.length-1),a=(0,f.findIndex)(e,function(s){return s===t.currentTick}),o=this.timeLine.x+a*n;this.timeSelect.attr("x",o),this.timeSelectText.attr("x",o),this.getCanvas().draw()},r.prototype.startPlay=function(){var t=this;return window.requestAnimationFrame(function(){var e=t.config,n=e.speed,a=e.ticks,o=t.timeLine.width,s=o/a.length,l=s/(n*1e3/60);t.setTimeSelectX(l),t.isPlay&&(t.playHandler=t.startPlay())})},r.prototype.changePlayStatus=function(t){t===void 0&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit(Vd,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit(Hd,null))),this.getCanvas().draw()},r.prototype.initEvent=function(){var t=this;this.timeLineButton.off("click"),this.timeLineButton.on("click",function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),this.timeSelect.off("mousedown"),this.timeSelect.on("mousedown",function(e){t.onTimeSelectMouseDown(e)})},r}(Ts),FA=DA,RA=40;function Wd(i){return(0,zt.__assign)({loop:!1,auto:!0,height:RA,padding:[0,20,0,0],speed:2},i)}var NA=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Wd(e),a=n.padding[0],o=n.padding[2];return new Wr(t.minX,t.maxY-n.height-a-o,t.width,n.height+a+o)},r.prototype.setAnimate=function(t){var e=this.view.geometries;this.view.animate(t),e.forEach(function(n){n.animate(t)})},r.prototype.start=function(){},r.prototype.renderTimeLine=function(){var t=this;this.config=Wd(this.getInteractionConfig());var e=this.view.viewBBox,n=this.config,a=n.loop,o=n.padding,s=n.speed,l=o[0],u=o[1],h=o[2],c=o[3],v=this.getRange(),y=this.getTicks(),A=e.width-c-u,k={x:e.minX+c,y:v.tl.y+l,width:A,height:v.height-l-h,loop:a,ticks:y,speed:s,defaultCurrentTick:y[0]};this.timeline?(0,f.isEqual)(k,this.timeLineConfig)||(this.timeLineConfig=k,this.timeline.update(k)):(this.container=this.canvas.addGroup(),this.timeline=new FA((0,zt.__assign)({container:this.container},k)),this.timeline.init(),this.timeline.render(),this.timeline.on("timelinestart",function(){t.originAnimation=t.view.getOptions().animate,t.setAnimate(!0)}),this.timeline.on("timelineend",function(){t.setAnimate(t.originAnimation)}),this.timeline.on("timelinechange",this.onChangeFn),this.timeline.on("timelineupdate",this.onChange.bind(this)),this.view.data(this.getFilterData(y[0])),this.timeLineConfig=k)},r.prototype.onChange=function(t){var e=this.getFilterData(t);this.view.changeData(e)},r.prototype.getFilterData=function(t){var e=this.config.field,n=this.getViewLayer().options.data;return n.filter(function(a){return a[e]===t})},r.prototype.getTicks=function(){var t=this.config.field,e=this.getViewLayer().options.data;return(0,f.uniq)(e.map(function(n){return n[t]}))},r.prototype.render=function(){var t=this;this.firstRender=!0,this.view.on(vn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.renderTimeLine()}),this.view.on(vn.VIEW_LIFE_CIRCLE.BEFORE_PAINT,function(){t.renderTimeLine()}),this.view.on(vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1}),this.view.on(vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1})},r.prototype.clear=function(){this.timeline&&(this.timeline.destroy(),this.timeline=null),this.container&&(this.container.remove(!0),this.container=null)},r}(Sa),YA=NA;function GA(i,r){var t=[1,0,0,0,1,0,0,0,1],e=yn.transform(t,r);i.setMatrix(e)}function $o(i,r){var t=r?(0,f.clone)(r):[1,0,0,0,1,0,0,0,1];return yn.transform(t,i)}function jd(i,r,t,e){var n=e?(0,f.clone)(e):[1,0,0,0,1,0,0,0,1];n[6]=r,n[7]=t,i.setMatrix(n)}function zA(i,r,t){ud.translate(i,r,t)}function sG(i,r){Util.rotate(i,r)}var XA=document.createElement("canvas"),Ud=XA.getContext("2d"),Dl=(0,f.memoize)(function(i,r){r===void 0&&(r={});var t=r.fontSize,e=r.fontFamily,n=r.fontWeight,a=r.fontStyle,o=r.fontVariant;return Ud.font=[a,o,n,t+"px",e].join(" "),Ud.measureText((0,f.isString)(i)?i:"").width},function(i,r){return r?(0,zt.__spreadArrays)([i],(0,f.values)(r)).join(""):i}),Zd=function(i,r,t){var e=16,n=Dl("...",t),a;(0,f.isString)(i)?a=i:a=(0,f.toString)(i);var o=r,s=[],l,u;if(Dl(i,t)<=r)return i;for(;l=a.substr(0,e),u=Dl(l,t),!(u+n>o&&u>o);)if(s.push(l),o-=u,a=a.substr(e),!a)return s.join("");for(;l=a.substr(0,1),u=Dl(l,t),!(u+n>o);)if(s.push(l),o-=u,a=a.substr(1),!a)return s.join("");return s.join("")+"..."},Yn;(function(i){i.TOOLTIP_INDICATOR_INNER="tooltip_indicator-inner",i.TOOLTIP_INDICATOR_TITLE="tooltip_indicator-title",i.TOOLTIP_INDICATOR_BODY="tooltip_indicator-body",i.TOOLTIP_INDICATOR_ITEM_GROUP="tooltip_indicator-item-group",i.TOOLTIP_INDICATOR_ITEM_BACKGROUND="tooltip_indicator-item-background",i.TOOLTIP_INDICATOR_ITEM_LINE="tooltip_indicator-item-line",i.TOOLTIP_INDICATOR_ITEM_TITLE="tooltip_indicator-item-title",i.TOOLTIP_INDICATOR_ITEM_BODY="tooltip_indicator-item-body",i.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP="tooltip_indicator-item-value-group",i.TOOLTIP_INDICATOR_ITEM_NAME="tooltip_indicator-item-name",i.TOOLTIP_INDICATOR_ITEM_VALUE="tooltip_indicator-item-value"})(Yn||(Yn={}));var Fl;(function(i){i.ON_SELECT_ITEM="onSelectItem"})(Fl||(Fl={}));var po;(function(i){i[i.LARGE=12]="LARGE",i[i.NORMAL=8]="NORMAL",i[i.SMALL=4]="SMALL"})(po||(po={}));var VA=160,HA=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.curX=0,t.curY=0,t.offsetX=0,t.scrollWidth=0,t.onBodyGroupMousemove=function(e){var n=jA(e.target,function(o){return o.get("name")===Yn.TOOLTIP_INDICATOR_ITEM_GROUP});if(n){var a=n.get("delegateObject");t.doSelectItem(a.item.id)}},t.onWheel=function(e){var n=t.config.width,a=n===void 0?0:n,o=e.deltaX,s=Math.min(t.scrollWidth-a,0)-(t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2)),l=Math.max(t.scrollWidth-a,0)+t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2),u=(0,f.clamp)(t.offsetX+o,s,l);u!==t.offsetX&&(zA(t.bodyGroup,t.offsetX-u,0),t.offsetX=u)},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.selectItem=function(t){this.doSelectItem(t)},r.prototype.resetSelect=function(){this.doSelectItem(this.selectedItemId)},r.prototype.initConfig=function(t){var e,n=t.theme,a=n===void 0?{}:n,o={x:0,y:0,title:{text:"",spacingY:po.NORMAL,style:{}},line:{spacingX:po.SMALL,width:2,style:{}},itemTitle:{spacingX:0,spacingY:po.SMALL,style:{}},itemName:{spacingX:po.NORMAL,spacingY:po.SMALL,style:{}},itemValue:{style:{}},itemBackground:{style:{opacity:0,fill:"#000"}},itemSpacing:po.LARGE};this.config=(0,f.deepMix)({},(e=a==null?void 0:a.components)===null||e===void 0?void 0:e.tooltipIndicator,o,t),this.selectedItemId=this.config.selectedItem},r.prototype.renderInner=function(t){var e=this;this.resetRender();var n=this.config,a=n.items,o=n.x,s=n.y,l=[],u=t.addGroup({name:Yn.TOOLTIP_INDICATOR_INNER});this.renderTitle(u),this.bodyGroup=u.addGroup({name:Yn.TOOLTIP_INDICATOR_BODY}),a==null||a.forEach(function(h,c){l.push(e.renderItem(e.bodyGroup,h,c))}),this.layoutItems(u),jd(u,o,s),this.applyClip(t),this.bindEvents(u)},r.prototype.renderTitle=function(t){var e=this.config.title;if(e==null?void 0:e.text){var n=t.addShape({type:"text",name:Yn.TOOLTIP_INDICATOR_TITLE,attrs:(0,zt.__assign)({text:e==null?void 0:e.text,textAlign:"left",textBaseline:"top"},(e==null?void 0:e.style)||{})}),a=n.getBBox();return this.curY+=a.height,this.curY+=e.spacingY||0,n}},r.prototype.renderItem=function(t,e,n){var a=this.config.itemBackground,o=t.addGroup({name:Yn.TOOLTIP_INDICATOR_ITEM_GROUP,delegateObject:{item:e,index:n}}),s=this.curX,l=this.curY,u=o.addShape({name:Yn.TOOLTIP_INDICATOR_ITEM_BACKGROUND,type:"rect",attrs:(0,zt.__assign)({x:this.curX,y:this.curY,width:1,height:1},a.style||{})}),h=this.renderLine(o,e);this.renderItemTitle(o,e),this.renderItemValues(o,e);var c=o.getBBox();return h.attr({y2:h.attr("y1")+c.height}),this.curX=s+c.width,this.curX+=this.config.itemSpacing||0,u.attr({width:this.curX-s-u.attr("lineWidth")*2,height:this.curY-l-u.attr("lineWidth")*2}),this.curY=l,o},r.prototype.renderLine=function(t,e){var n=this.config.line,a=n.width||2,o=(0,zt.__assign)({x1:this.curX+a/2,y1:this.curY,x2:this.curX+a/2,y2:this.curY,lineWidth:a,stroke:e.color},(n==null?void 0:n.style)||{}),s=t.addShape({name:Yn.TOOLTIP_INDICATOR_ITEM_LINE,type:"line",attrs:o}),l=s.getBBox();return this.curX+=l.width,this.curX+=n.spacingX||0,s},r.prototype.renderItemTitle=function(t,e){var n=this.config.itemTitle,a=Zd(e.title,VA,n.style||{}),o=t.addShape({name:Yn.TOOLTIP_INDICATOR_ITEM_TITLE,type:"text",attrs:(0,zt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:a},n.style||{})}),s=o.getBBox();return this.curY+=s.height,this.curY+=n.spacingY||0,o},r.prototype.renderItemValues=function(t,e){var n=this,a,o=t.addGroup({name:Yn.TOOLTIP_INDICATOR_ITEM_BODY}),s=this.curX;return(a=e.values)===null||a===void 0||a.forEach(function(l,u){var h=o.addGroup({name:Yn.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP,delegateObject:{item:e,valueIndex:u}});n.curX=s,n.renderItemValueName(h,l),n.renderItemValueValue(h,l)}),this.layoutItemValues(o),o},r.prototype.renderItemValueName=function(t,e){var n=this.config.itemName;if(e.name){var a=t.addShape({name:Yn.TOOLTIP_INDICATOR_ITEM_NAME,type:"text",attrs:(0,zt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.name},n.style||{})}),o=a.getBBox();return e.wrapLine?(this.curY+=o.height,this.curY+=n.spacingY||0):(this.curX+=o.width,this.curX+=n.spacingX||0),a}},r.prototype.renderItemValueValue=function(t,e){var n=this.config,a=n.itemName,o=n.itemValue,s=t.addShape({name:Yn.TOOLTIP_INDICATOR_ITEM_VALUE,type:"text",attrs:(0,zt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.value},o.style||{})}),l=s.getBBox();return this.curY+=l.height,this.curY+=a.spacingY||0,s},r.prototype.layoutItems=function(t){var e=t.findAllByName(Yn.TOOLTIP_INDICATOR_BODY)[0],n=t.findAllByName(Yn.TOOLTIP_INDICATOR_ITEM_GROUP);if(!(!e||n.length===0)){var a=e.getBBox();this.scrollWidth=a.width}},r.prototype.layoutItemValues=function(t){var e=t.findAllByName(Yn.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP),n=e.map(function(l){return Wr.fromBBoxObject(l.getBBox())}),a=t.findAllByName(Yn.TOOLTIP_INDICATOR_ITEM_VALUE),o=a.map(function(l){return Wr.fromBBoxObject(l.getBBox())}),s=Math.max.apply(Math,o.map(function(l){return l.maxX}));e.forEach(function(l,u){var h=n[u],c=l.findAllByName(Yn.TOOLTIP_INDICATOR_ITEM_NAME)[0],v=l.findAllByName(Yn.TOOLTIP_INDICATOR_ITEM_VALUE)[0];if(c&&v){var y=Wr.fromBBoxObject(c.getBBox()),A=Wr.fromBBoxObject(v.getBBox());y.height<h.height&&c.attr("y",c.attr("y")+(h.height-y.height)/2),A.height<h.height&&v.attr("y",v.attr("y")+(h.height-A.height)/2),A.maxX<s&&v.attr("x",v.attr("x")+s-A.maxX)}})},r.prototype.applyClip=function(t){var e=this.config,n=e.x,a=e.y,o=e.width,s=e.height,l=t.getBBox();(o||s)&&t.setClip({type:"rect",attrs:{x:n,y:a,width:o||l.width,height:s||l.height}})},r.prototype.doSelectItem=function(t){var e=this,n=this.getGroup(),a=n.findAllByName(Yn.TOOLTIP_INDICATOR_ITEM_GROUP);t!==this.selectedItemId?(a.forEach(function(o){var s=o.get("delegateObject");s&&e.applyItemStyle(o,s.item.id===t?"selected":"inactive")}),this.selectedItemId=t):(a.forEach(function(o){e.applyItemStyle(o)}),this.selectedItemId=void 0),this.emit(Fl.ON_SELECT_ITEM,this.selectedItemId)},r.prototype.applyItemStyle=function(t,e){var n=this.config,a=n.line,o=n.itemTitle,s=n.itemName,l=n.itemValue,u=t.findAllByName(Yn.TOOLTIP_INDICATOR_ITEM_LINE)[0],h=t.findAllByName(Yn.TOOLTIP_INDICATOR_ITEM_TITLE)[0],c=t.findAllByName(Yn.TOOLTIP_INDICATOR_ITEM_NAME),v=t.findAllByName(Yn.TOOLTIP_INDICATOR_ITEM_VALUE),y=e&&e+"Style";u&&(u.attr(a.style),u.attr(a[y]||{})),h&&(h.attr(o.style),h.attr(o[y]||{})),c.forEach(function(A){A.attr(s.style),A.attr(s[y]||{})}),v.forEach(function(A){A.attr(l.style),A.attr(l[y]||{})})},r.prototype.bindEvents=function(t){var e=this;this.offEvents();var n=t.findAllByName(Yn.TOOLTIP_INDICATOR_BODY)[0];n.on("mousemove",this.onBodyGroupMousemove),this.addDisposable(function(){n.off("mousemove",e.onBodyGroupMousemove)}),this.gm=new cd(n),this.wheel=new mE(n),this.wheel.on("wheel",this.onWheel)},r.prototype.offEvents=function(){this.gm&&this.gm.destroy(),this.wheel&&this.wheel.destroy()},r.prototype.resetRender=function(){this.curX=0,this.curY=0,this.offsetX=0},r}(Ts),WA=HA;function jA(i,r){for(var t=i;t;){if(r(t))return t;t=t.getParent()}}function UA(i,r){return(0,f.filter)(i.geometries,function(t){return t.type===r})}function go(i,r){return(0,f.head)(UA(i,r))}function ZA(i){return(0,f.map)(i.elements,function(r){return r.shape})}function lG(i,r){i.geometries.forEach(r)}function qf(i,r){i.geometries.forEach(function(t){t.elements.forEach(function(e){r(e)})})}function KA(i,r,t){return(0,f.some)(r,function(e){return t(e.get(Ji),i.get(Ji))})}function Rl(i,r){var t=i.getBBox(),e=0,n=0;t.minX<r.minX?e=t.minX-r.minX:t.maxX>r.maxX&&(e=t.maxX-r.maxX),e&&i.attr("x",i.attr("x")-e),t.minY<r.minY?n=t.minY-r.minY:t.maxY>r.maxY&&(n=t.maxY-r.maxY),n&&i.attr("y",i.attr("y")-n)}function th(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function Nl(i,r){var t=i.getBBox();return(0,f.some)(r,function(e){var n=e.getBBox();return th(t,n,2)>0})}var Kd=8,$d=function(i){i===void 0&&(i={});var r=(0,zt.__assign)({showTotal:!1,showPercent:!1,padding:[Kd,24,Kd,24],height:i.showPercent?72:54},i);return r},Qo;(function(i){i.ACTIVE_ELEMENT="tooltip_indicator_active_element",i.ACTIVE_ELEMENT_BY_X="tooltip_indicator_active_element_by_x"})(Qo||(Qo={}));var $A=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.state="selected",t.isSingle=!1,t}return r.prototype.active=function(){var t=bE.getCurrentElement(this.context);t.hasState("selected")?this.isSingle?this.setStateByX(t):this.setState(t):this.setStateByX(t)},r.prototype.setState=function(t){var e=this;qf(this.getView(),function(n){n===t?n.hasState(e.state)||n.setState(e.state,!0):n.setState(e.state,!1)}),this.isSingle=!0,this.getView().emit(Qo.ACTIVE_ELEMENT,{element:t,isSingle:!0})},r.prototype.setStateByX=function(t){var e=this,n=this.getXField(),a=t.getData()[n];qf(this.getView(),function(o){o.getData()[n]===a?o.hasState(e.state)||o.setState(e.state,!0):o.setState(e.state,!1)}),this.isSingle=!1,this.getView().emit(Qo.ACTIVE_ELEMENT_BY_X,{element:t,isSingle:!1})},r.prototype.setStateByField=function(t,e){var n=this,a=this.getView().getXScale().field,o=this.getView().getGroupScales()[0].field;qf(this.getView(),function(s){var l=s.getData();s.setState(n.state,l[a]===t&&(e===void 0||l[o]===e))})},r.prototype.getView=function(){return this.context.view},r.prototype.getXField=function(){var t=this.context.view;return t.getXScale().field},r}(tn);Mr("tooltip-indicator",$A),ln("element-tooltip-indicator",{start:[{trigger:"element:mousemove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"element:touchmove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}}]});var QA=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onElementActive=function(e){var n=e.element,a=e.isSingle,o=t.view.getXScale(),s=t.view.getXScale().field,l=t.view.getGroupScales()[0].field,u=n.getData(),h=u[s],c=t.getLegendItems(h);t.component.update({items:c,title:{text:o.getText(h)}}),t.component.render(),a&&t.component.selectItem(u[l]),t.curX=h},t.onSelectTooltipIndicatorItem=function(e){t.component&&e&&t.getInteractionAction().setStateByField(t.curX,e)},t}return r.getInteractionRange=function(t,e){var n=$d(e),a=n.padding,o=a[0],s=a[2];return new Wr(t.minX,t.minY,t.width,n.height+o+s)},r.prototype.clear=function(){this.component&&this.component.destroy(),this.container&&this.container.remove(!0),this.component=null,this.container=null},r.prototype.render=function(){var t=this,e=this.view,n=function(){var a=t.view.getXScale(),o=(0,f.last)(a.getTicks()).tickValue,s=t.view.padding;(0,f.isEqual)([0,0,0,0],s)||(t.component?t.updateComponent():(t.createComponent(),t.component.on(Fl.ON_SELECT_ITEM,t.onSelectTooltipIndicatorItem)),t.curX=o,t.component.update({title:{text:a.getText(t.curX)}}),t.component.render(),t.getInteractionAction().setStateByField(o))};e.legend(!1),e.removeInteraction("active-region"),e.removeInteraction("tooltip"),e.interaction("element-tooltip-indicator"),e.on(vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,n),e.on(vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,n),e.on(Qo.ACTIVE_ELEMENT,this.onElementActive),e.on(Qo.ACTIVE_ELEMENT_BY_X,this.onElementActive)},r.prototype.getInteractionAction=function(){var t=this.view.interactions["element-tooltip-indicator"];return t&&t.context.getAction("tooltip-indicator")},r.prototype.createComponent=function(){var t=$d(this.getInteractionConfig()).padding,e=t[0],n=t[1],a=t[2],o=t[3],s=this.getLegendItems(),l=this.getRange(),u=this.view.getXScale(),h=(0,f.last)(u.getTicks()).tickValue;this.container=this.canvas.addGroup(),this.component=new WA({container:this.container,x:l.x+o,y:l.y+e,width:l.width-o-n,height:l.height-e-a,theme:this.getViewLayer().getPlotTheme(),items:s}),this.component.init(),this.getInteractionAction().setStateByField(h)},r.prototype.updateComponent=function(){var t=this.getLegendItems();this.component.update({items:t})},r.prototype.getLegendItems=function(t){var e=this.view,n=e.getData(),a=e.getTheme().defaultColor,o=e.getXScale(),s=e.getYScales()[0],l=t||(0,f.last)(o.getTicks()).tickValue,u=e.getLegendAttributes(),h=u.find(function(k){return k.type==="color"}),c=[],v=e.getGroupScales()[0],y=v.field;v&&v.isCategory&&v.getTicks().forEach(function(k){var R=k.text,H=k.tickValue,V=h.mapping(H).join("")||a;c.push({id:H,title:R,color:V,values:[]})});var A=(n==null?void 0:n.filter(function(k){return k[o.field]===l}))||[];return c.forEach(function(k){var R=A.find(function(H){return H[y]===k.id});k.values.push({value:s.formatter?s.formatter(R[s.field]):R[s.field]})}),c},r}(Sa),JA=QA;Sa.registerInteraction("slider",PA),Sa.registerInteraction("scrollbar",AA),Sa.registerInteraction("timeline",YA),Sa.registerInteraction("tooltip-indicator",JA);var Qd=Sa,qA=function(){function i(r){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=r.plot}return i.prototype.registerPadding=function(r,t,e){t===void 0&&(t="outer"),e===void 0&&(e=!1),t==="inner"?e?this.innerPaddingComponents.find(function(n){return n==r})||this.innerPaddingComponents.push(r):this.innerPaddingComponents.push(r):e?this.outerPaddingComponents.find(function(n){return n==r})||this.outerPaddingComponents.push(r):this.outerPaddingComponents.push(r)},i.prototype.getPaddingComponents=function(r){return r===void 0&&(r="outer"),(r==="outer"?this.outerPaddingComponents:this.innerPaddingComponents)||[]},i.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=(0,f.filter)(this.outerPaddingComponents,function(r){return r.afterRender})},i.prototype.clearOuterComponents=function(){(0,f.each)(this.outerPaddingComponents,function(r){r.afterRender&&r.destroy()}),this.outerPaddingComponents=[]},i.prototype.getPadding=function(){var r=this.plot.options,t=r.padding?r.padding:this.plot.config.theme.padding;return t==="auto"?[0,0,0,1]:t},i.prototype.processAutoPadding=function(){var r=this._getInnerAutoPadding();this.plot.updateConfig({padding:r}),this.plot.render()},i.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new Wr(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var r=this.plot.layerBBox.minX,t=this.plot.layerBBox.maxX,e=this.plot.layerBBox.minY,n=this.plot.layerBBox.maxY;return(0,f.each)(this.outerPaddingComponents,function(a){var o=a.position;if(!a.destroyed){var s=a.getBBox(),l=s.minX,u=s.maxX,h=s.minY,c=s.maxY;c>=e&&c<=n&&o==="top"&&(e=c),h>=e&&h<=n&&o==="bottom"&&(n=h),u>r&&u<=t&&o==="left"&&(r=u),l>=r&&u<=t&&o==="right"&&(t=l)}}),new Wr(r,e,t-r,n-e)},i.prototype._getInnerAutoPadding=function(){var r,t=this.plot.options,e=this.plot.view,n=e.coordinateBBox,a=n.maxX,o=n.maxY,s=n.minY,l=n.minX,u=this.plot.config.theme.bleeding;(0,f.isArray)(u)&&(0,f.each)(u,function(k,R){typeof u[R]=="function"&&(u[R]=u[R](t))}),this.bleeding=(0,f.clone)(u);var h=[new Wr(n.minX,n.minY,n.width,n.height)];((r=this.plot.config.coordinate)===null||r===void 0?void 0:r.type)==="cartesian"&&this._getCartesianAxis(e,h[0],h);var c=this._mergeBBox(h);this._getLegend(e,c,h),c=this._mergeBBox(h);var v=this.innerPaddingComponents;(0,f.each)(v,function(k){var R=k,H=R.getBBox();h.push(H)}),c=this._mergeBBox(h);var y=[s-c.minY+this.bleeding[0],c.maxX-a+this.bleeding[1],c.maxY-o+this.bleeding[2],l-c.minX+this.bleeding[3]],A=this._getPanel(e);return y[0]+=A[0],y[1]+=A[1],y[2]+=A[2],y[3]+=A[3],y},i.prototype._getCartesianAxis=function(r,t,e){var n=kE(r),a=r.getCoordinate().isTransposed;(0,f.each)(n,function(o){if(o.get("group").get("children").length!==0){var s=o.get("position"),l=o.getLayoutBBox(),u=l.minX,h=l.minY,c=l.width,v=l.height;a?s==="bottom"?e.push(new Wr(t.minX-c,h,c,v)):s==="left"?e.push(new Wr(u,t.maxY,c,v)):s==="top"&&e.push(new Wr(t.maxX,h,c,v)):s==="left"?e.push(new Wr(t.minX-c,h,c,v)):s==="bottom"?e.push(new Wr(u,t.maxY,c,v)):s==="right"&&e.push(new Wr(t.maxX,h,c,v))}})},i.prototype._getLegend=function(r,t,e){var n=BE(r);(0,f.each)(n,function(a){var o=a.get("position").split("-")[0],s=a.getLayoutBBox(),l=s.minX,u=s.minY,h=s.width,c=s.height;o==="top"?e.push(new Wr(l,t.minY-c,h,c)):o==="bottom"?e.push(new Wr(l,t.maxY,h,c)):o==="left"?e.push(new Wr(t.minX-h,u,h,c)):e.push(new Wr(t.maxX,u,h,c))})},i.prototype._getPanel=function(r){var t=[],e=r.geometries;(0,f.each)(e,function(A){A.labelsContainer&&t.push(A.labelsContainer)});var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;(0,f.each)(t,function(A){var k=A.get("children");k.forEach(function(R){if(!(R.type==="group"&&R.get("children").length===0)){var H=R.getBBox();H.minX<n&&(n=H.minX),H.maxX>a&&(a=H.maxX),H.minY<o&&(o=H.minY),H.maxY>s&&(s=H.maxY)}})});var l=r.coordinateBBox,u=Math.max(a-parseFloat(l.maxX),0);if(u>0){var h=l.width/(l.width+u);u*=h}var c=Math.max(parseFloat(l.minX)-n,0);if(c>0){var h=l.width/(l.width+c);c*=h}var v=Math.max(parseFloat(l.minY)-o,0);if(v>0){var h=l.height/(l.height+v);v*=h}var y=Math.max(s-parseFloat(l.maxY),0);if(y>0){var h=l.height/(l.height+y);y*=h}return[v,u,y,c]},i.prototype._mergeBBox=function(r){var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity;return(0,f.each)(r,function(o){var s=o;t=Math.min(s.minX,t),e=Math.max(s.maxX,e),n=Math.min(s.minY,n),a=Math.max(s.maxY,a)}),{minX:t,maxX:e,minY:n,maxY:a}},i}(),tT=qA,eT="#5B8FF9",rT=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],nT=["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"],Jd=function(i){return i&&i.split("-")[0]==="top"?12:24},qd=function(i){var r=i.title&&i.title.visible,t=i.description&&i.description.visible;return r||t?12:24},tp=function(i){return(0,f.some)(i.interactions||[],function(r){return(r.type==="slider"||r.type==="scrollbar")&&(r.cfg&&r.cfg.type)!=="vertical"})?8:24},ep={width:400,height:400,bleeding:[qd,24,tp,24],padding:"auto",defaultColor:eT,colors:rT,colors_20:nT,title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,Jd,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"},offset:10},components:{legend:{margin:[0,24,24,24]},tooltipIndicator:{title:{style:{fontSize:14,fill:"#262626"}},line:{style:{opacity:1},inactiveStyle:{opacity:.3}},itemTitle:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemName:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemValue:{style:{fontSize:14,fontWeight:"bold",fill:"#595959",opacity:1},inactiveStyle:{opacity:.3}}}}},iT={backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[qd,24,tp,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,Jd,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],title:{visible:!1,style:{fill:"#bdc8d3"}},text:{style:{fill:"#bdc8d3"}}},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},components:{tooltip:{domStyles:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}}},rp={default:ep,dark:iT};function uG(i,r){var t=Ii();rp[i.toLowerCase()]=deepMix({},t,r)}function Ii(i){i===void 0&&(i="default");var r=rp[i.toLowerCase()];return r||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",i),ep)}var np={};function ip(i,r){var t={lineStyle:"line.line",columnStyle:"interval.rect",pointStyle:"point.circle"},e={};i==="area"&&(t={areaStyle:"area.area",lineStyle:"area.line",pointStyle:"point.circle"});var n={};return(0,f.each)(r,function(a,o){var s;if((0,f.has)(t,o)){var l=t[o];(0,f.each)(a,function(u,h){(0,f.set)(n,l+"."+[h==="normal"?"default":h==="disable"?"inactive":h]+".style",u)})}else e=(0,f.deepMix)({},e,(s={},s[o]=a,s))}),(0,f.isEmpty)(n)||(e=(0,f.deepMix)({},e,{geometries:n})),e}function ji(i,r){np[i.toLowerCase()]=ip(i,r)}function ap(i){return np[i.toLowerCase()]||{}}function aT(i){var r=(0,f.clone)(i);return r.legend||(r.legend={}),r}var eh={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}},op={default:eh};function sp(i,r){op[i.toLowerCase()]=(0,f.deepMix)({},eh,r)}function lp(i){var r=op[i.toLowerCase()];return r||eh}var oT=St(),sT=function(){function i(){}return i.getGlobalTheme=function(r){return(0,f.isString)(r)?Ii(r):(0,f.deepMix)({},Ii(),r)},i.prototype.getPlotTheme=function(r,t){var e=r.theme;return(0,f.isString)(e)?(0,f.deepMix)({},Ii(e),ap(t)):(0,f.deepMix)({},Ii(),ap(t),ip(t,e))},i.prototype.getTheme=function(r,t){var e=aT(this.getPlotTheme(r,t)),n=(0,f.deepMix)({},oT,e);return n},i.prototype.getResponsiveTheme=function(r){return lp(r)||lp("default")},i}(),rh=sT,lT=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.interactions=[],e.labels=[],e.options=e.getOptions(t),e.initialOptions=(0,f.deepMix)({},e.options),e.paddingController=new tT({plot:e}),e.stateController=new sA({plot:e}),e.themeController=new rh,e}return r.getDefaultOptions=function(){return{renderer:"canvas",title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},label:{visible:!1},interactions:[{type:"tooltip"},{type:"legend-active"},{type:"legend-filter"}],animation:!0}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t),o=(0,f.reduce)((0,f.flatten)((0,f.map)([n,a,(0,f.hasKey)(t,"interactions")?t:e],function(s){return(0,f.get)(s,"interactions",[])})),function(s,l){var u=(0,f.findIndex)(s,function(h){return h.type===l.type});return u>=0&&s.splice(u,1),(0,zt.__spreadArrays)(s,[l])},[]);return(0,f.deepMix)({},n,a,e,t,{interactions:o})},r.prototype.beforeInit=function(){this.emit(Ba.BEFORE_INIT),i.prototype.beforeInit.call(this)},r.prototype.init=function(){var t=this;i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:"cartesian"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:{},views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var e=this.viewRangeToRegion(this.viewRange);this.view=new qu({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,limitInPlot:this.isLimitInPlot(),region:e}),this.applyInteractions(),this.view.on(vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.afterRender()})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this),!(!this.view||this.view.destroyed)&&(this.options.padding!=="auto"&&this.parseEvents(),this.emit(Ba.AFTER_INIT))},r.prototype.afterRender=function(){var t,e;if(!(!this.view||this.view.destroyed)){var n=this.options,a=n.padding?n.padding:this.config.theme.padding;n.defaultState&&a!=="auto"&&this.stateController.defaultStates(n.defaultState),a==="auto"&&this.paddingController.processAutoPadding(),((e=(t=n.tooltip)===null||t===void 0?void 0:t.custom)===null||e===void 0?void 0:e.onChange)&&n.padding!=="auto"&&this.customTooltip()}},r.prototype.render=function(){this.emit(Ba.BEFORE_RENDER),i.prototype.render.call(this);var t=this.options.data;(0,f.isEmpty)(t)||this.view.render(),this.emit(Ba.AFTER_RENDER)},r.prototype.repaint=function(){this.canvas&&this.canvas.draw()},r.prototype.getScaleByField=function(t){return this.view.getScaleByField(t)},r.prototype.getXScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.getYScale=function(){var t=this.options.yField;if(t)return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options;if((0,f.contains)(t,"colorField"))return this.view.getScaleByField(t)},r.prototype.getShapes=function(){var t=this.view.geometries,e={};return(0,f.each)(t,function(n){var a=n.type;e[a]=n.getShapes()}),e},r.prototype.destroy=function(){this.doDestroy(),i.prototype.destroy.call(this)},r.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&this.initialOptions.padding==="auto"&&(t.padding="auto"),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){this.emit(Ba.BEFORE_CHANGE_DATA);var e=(0,f.isEmpty)(this.options.data);this.options.data=this.processData(t),e?(this.options.padding=this.initialOptions.padding||"auto",this.view.data(this.options.data),this.view.render()):this.view.changeData(this.options.data),this.emit(Ba.AFTER_CHANGE_DATA)},r.prototype.getPlot=function(){return this.view},r.prototype.getLabels=function(){return this.labels},r.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},r.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},r.prototype.getInteractions=function(){return this.interactions},r.prototype.bindStateManager=function(t,e){this.stateController.bindStateManager(t,e)},r.prototype.setActive=function(t,e){this.stateController.setState({type:"active",condition:t,style:e})},r.prototype.setSelected=function(t,e){this.stateController.setState({type:"selected",condition:t,style:e})},r.prototype.setDisable=function(t,e){this.stateController.setState({type:"disable",condition:t,style:e})},r.prototype.setDefault=function(t,e){this.stateController.setState({type:"default",condition:t,style:e})},r.prototype.getData=function(t,e){return this.processData((this.options.data||[]).slice(t,e))},r.prototype.processData=function(t){return t},r.prototype.scale=function(){var t=(0,f.mapValues)(this.config.scales,function(n){var a=n.type;return a?{type:a}:{}}),e=(0,f.deepMix)({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",e)},r.prototype.axis=function(){var t=Ei("axis",{plot:this,dim:"x"}),e=Ei("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.tooltip=function(){var t,e;if(this.options.tooltip.visible===!1){this.setConfig("tooltip",!1);return}var n=(0,f.get)(this.options,"tooltip");((t=n.custom)===null||t===void 0?void 0:t.container)&&(n.container=n.custom.container),((e=n.custom)===null||e===void 0?void 0:e.customContent)&&(n.customContent=n.custom.customContent),this.setConfig("tooltip",(0,f.deepMix)({},n)),(0,f.deepMix)(this.config.theme.tooltip,this.options.tooltip.domStyles)},r.prototype.createTooltipContainer=function(){var t=document.createElement("div");return t.className="g2-tooltip",t},r.prototype.customTooltip=function(){var t=this.options.tooltip.custom,e;t.container&&(e=(0,f.isString)(t.container)?document.getElementById(t.container):t.container),e||(e=this.createTooltipContainer()),this.view.on("tooltip:show",function(n){(t==null?void 0:t.onChange)&&t.onChange(e,n)}),this.view.hideTooltip(),this.view.on("tooltip:change",function(n){t.onChange(e,n)})},r.prototype.getLegendPosition=function(t){var e=t.split("-");return e&&e.length>1&&e[1]==="center"?e[0]:t},r.prototype.legend=function(){var t;if(this.options.legend.visible===!1){this.setConfig("legends",!1);return}var e=(0,f.deepMix)({},this.theme.legend,this.options.legend),n={position:this.getLegendPosition((0,f.get)(e,"position")),offsetX:(0,f.get)(e,"offsetX"),offsetY:(0,f.get)(e,"offsetY"),flipPage:(0,f.get)(e,"flipPage"),marker:(0,f.get)(e,"marker"),title:((t=e.title)===null||t===void 0?void 0:t.visible)?(0,f.get)(e,"title"):null,itemName:(0,f.get)(e,"text")};this.setConfig("legends",n)},r.prototype.annotation=function(){var t=this,e=[];this.config.coordinate.type==="cartesian"&&this.options.guideLine&&(0,f.each)(this.options.guideLine,function(n){var a=Ei("guideLine",{plot:t,cfg:n});e.push(a)}),this.setConfig("annotations",e)},r.prototype.interaction=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e;(0,f.each)(n,function(a){var o=a.type;if(o==="slider"||o==="scrollbar"){var s={label:{autoHide:!0,autoRotate:!1}};t.options.xAxis=(0,f.deepMix)({},t.options.xAxis,s)}t.setConfig("interaction",a)})},r.prototype.animation=function(){this.options.animation===!1&&this.setConfig("animate",!1)},r.prototype.applyInteractions=function(){var t=this,e=Wr.fromBBoxObject(this.layerBBox),n=this.title||this.description,a=new Wr(e.minX,e.minY,e.width,n?n.getBBox().maxY:0);e=e.cut(a,vn.DIRECTION.TOP);var o=this.options.interactions,s=o===void 0?[]:o;this.interactions&&this.interactions.forEach(function(l){l.destroy()}),this.interactions=[],s.forEach(function(l){var u=Qd.getInteraction(l.type,t.type);if(u){var h=new u({view:t.view},t,u.getInteractionRange(e,l.cfg),l.cfg);h.render(),t.interactions.push(h)}})},r.prototype.setConfig=function(t,e){if(t==="geometry"){this.config.geometries.push(e);return}if(t==="interaction"){this.config.interactions.push(e);return}if(e===!1){this.config[t]=!1;return}(0,f.assign)(this.config[t],e)},r.prototype.parseEvents=function(t){var e=this,n=this.options;if(n.events){i.prototype.parseEvents.call(this,n.events);var a=t?t.EVENT_MAP:on;(0,f.each)(n.events,function(o,s){if((0,f.isFunction)(o)){var l=a[s]||s,u=o;$n(e,l,u)}})}},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),Zo(t.title)){var n=this.width,a=this.config.theme,o=new Al({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,f.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:Zo(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o,this.paddingController.registerPadding(o,"outer")}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),Zo(t.description)){var n=this.width,a=this.config.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new Al({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,f.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l,this.paddingController.registerPadding(l,"outer")}},r.prototype.doRenderLabel=function(t,e){(0,f.each)(this.labels,function(s){s.destroy()}),this.labels=[];var n={layer:this,container:t.labelsContainer,geometry:t,label:e},a=YE(e.type);if(a){var o=new a(n);o.init(),o.render(),this.labels.push(o)}},r.prototype.doDestroy=function(){this.doDestroyInteractions(),this.doDestroyLabels(),this.view.destroyed||this.view.destroy()},r.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[]},r.prototype.doDestroyLabels=function(){(0,f.each)(this.labels,function(t){t.destroy()}),this.labels=[]},r.prototype.getViewRange=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e,a=this.paddingController.processOuterPadding();n.forEach(function(s){var l=Qd.getInteraction(s.type,t.type),u=l&&l.getInteractionRange(a,s.cfg),h="";u&&(u.maxY===a.maxY&&u.minY>a.minY?h="bottom":u.maxX===a.maxX&&u.minX>a.minX?h="right":u.minX===a.minX&&u.maxX>a.maxX?h="left":u.minY===a.minY&&u.maxY<a.maxY&&(h="top"),t.paddingController.registerPadding({interaction:s.type,name:s.type,getBBox:function(){return u},position:h},"outer"))});var o=this.paddingController.processOuterPadding();return o},r.prototype.isLimitInPlot=function(){var t=this.options.yAxis;return!!((0,f.hasKey)(t,"max")||(0,f.hasKey)(t,"min")||(0,f.hasKey)(t,"maxLimit")||(0,f.hasKey)(t,"minLimit"))},r.prototype.viewRangeToRegion=function(t){var e=this,n=e.x,a=e.y,o=e.width,s=e.height,l={x:0,y:0},u={x:1,y:1};return l.x=t.minX/(n+o),l.y=t.minY/(a+s),u.x=t.maxX/(n+o),u.y=t.maxY/(a+s),{start:l,end:u}},r}(El),Gn=lT,uT=d(91033),fT=function(){function i(r){var t=this;this.onResize=(0,f.debounce)(function(){if(!t.plot.destroyed){var a=t.getCanvasSize(),o=a.width,s=a.height;t.width===o&&t.height===s||(t.width=o,t.height=s,t.plot.updateConfig({width:o,height:s}),t.plot.render())}},300);var e=r.containerDOM,n=r.plot;this.containerDOM=e,this.plot=n,this.init()}return i.prototype.getCanvasSize=function(){var r=Ii(),t=this.plot.width?this.plot.width:r.width,e=this.plot.height?this.plot.height:r.height;return this.plot.forceFit&&(t=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:t,e=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:e),{width:t,height:e}},i.prototype.getCanvasDOM=function(){return this.canvas.get("container")},i.prototype.updateCanvasSize=function(){var r=this.getCanvasSize(),t=r.width,e=r.height;this.width=t,this.height=e,this.canvas.changeSize(t,e)},i.prototype.updateCanvasTheme=function(){var r=this.plot.theme,t=rh.getGlobalTheme(r),e=(0,f.get)(t,"backgroundStyle.fill");e&&this.updateCanvasStyle({backgroundColor:e})},i.prototype.updateCanvasStyle=function(r){(0,st.Z)(this.getCanvasDOM(),r),(0,st.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},i.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},i.prototype.bindForceFit=function(){var r=this.plot.forceFit;r&&(this.resizeObserver=new uT.Z(this.onResize),this.resizeObserver.observe(this.containerDOM))},i.prototype.init=function(){this.initGCanvas(),this.bindForceFit(),this.updateCanvasStyle({position:"relative"})},i.prototype.initGCanvas=function(){var r=this.plot,t=r.renderer,e=t===void 0?"canvas":t,n=r.pixelRatio,a=r.localRefresh,o=a===void 0?!1:a,s=this.getCanvasSize(),l=s.width,u=s.height,h=e==="canvas"?vv:Sv;this.canvas=new h({localRefresh:o,container:this.containerDOM,width:l,height:u,pixelRatio:n}),this.width=l,this.height=u,this.updateCanvasTheme()},i}(),hT=fT;function cT(i,r){return!!(i&&r&&i===r)}function vT(i,r){return i.x>=r.minX&&i.x<=r.maxX&&i.y>=r.minY&&i.y<=r.maxY}var dT=function(){function i(r){this.plot=r.plot,this.canvas=r.canvas,this.eventHandlers=[]}return i.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"mousemove",(0,f.wrapBehavior)(this,"onMove")),this.addEvent(this.canvas,"mouseup",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"click",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"dblclick",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"wheel",(0,f.wrapBehavior)(this,"onEvents"))},i.prototype.clearEvents=function(){var r=this.eventHandlers;(0,f.each)(r,function(t){t.target.off(t.type,t.handler)})},i.prototype.addEvent=function(r,t,e){r.on(t,e),this.eventHandlers.push({target:r,type:t,handler:e})},i.prototype.onEvents=function(r){var t=this.getEventObj(r),e=r.target;!this.isShapeInView(e)&&e.name&&this.plot.emit(e.name+":"+r.type,r),this.plot.emit(""+r.type,t);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,t,r.type)},i.prototype.onMove=function(r){var t=r.target,e=this.getEventObj(r);!this.isShapeInView(t)&&t.name&&(this.plot.emit(t.name+":"+r.type,e),this.lastShape&&!cT(t,this.lastShape)&&(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",e),this.plot.emit(t.name+":mouseenter",e)),this.lastShape=t),this.plot.emit("mousemove",e);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,e,"mousemove")},i.prototype.isShapeInView=function(r){for(var t=["frontgroundGroup","backgroundGroup","panelGroup"],e=r.get("parent");e;){var n=e.get("name");if(n&&(0,f.contains)(t,n))return!0;e=e.get("parent")}return!1},i.prototype.getEventObj=function(r){var t={clientX:r.clientX,clientY:r.clientY,x:r.x,y:r.y,plot:this.plot,data:r.data?r.data.data:null,canvas:this.canvas,target:r.target,gEvent:r};return t},i.prototype.onLayerEvent=function(r,t,e){var n=this;(0,f.each)(r,function(a){var o=a.getGlobalBBox();if(vT({x:t.x,y:t.y},o)){a.emit(""+e,t);var s=a.layers;s.length>0&&n.onLayerEvent(s,t,e)}})},i}(),pT=dT,up={};function qr(i,r){up[i.toLowerCase()]=r}function gT(i){return up[i.toLowerCase()]}var yT=function(i){(0,zt.__extends)(r,i);function r(t,e){var n=i.call(this)||this;return n.containerDOM=typeof t=="string"?document.getElementById(t):t,n.forceFit=(0,f.isNil)(e.forceFit)?(0,f.isNil)(e.width)&&(0,f.isNil)(e.height):e.forceFit,n.renderer=e.renderer||"canvas",n.pixelRatio=e.pixelRatio||null,n.width=e.width,n.height=e.height,n.theme=e.theme,n.localRefresh=e.localRefresh,n.canvasController=new hT({containerDOM:n.containerDOM,plot:n}),n.width=n.canvasController.width,n.height=n.canvasController.height,n.canvas=n.canvasController.canvas,n.layers=[],n.destroyed=!1,n.createLayers(e),n.eventController=new pT({plot:n,canvas:n.canvasController.canvas}),n.eventController.bindEvents(),n.parseEvents(e),n}return r.prototype.destroy=function(){this.eachLayer(function(t){t.destroy()}),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},r.prototype.repaint=function(){this.canvasController.canvas.draw()},r.prototype.updateConfig=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Gn&&a.updateConfig(t)});else{var n=this.layers[0];n instanceof El&&n.updateConfig(t)}t.width&&(this.width=t.width),t.height&&(this.height=t.height),t.theme&&(this.theme=t.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},r.prototype.changeData=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Gn&&a.changeData(t)});else{var n=this.layers[0];n instanceof Gn&&n.changeData(t)}},r.prototype.getScaleByField=function(t){return this.layers[0].getScaleByField(t)},r.prototype.getXScale=function(){return this.layers[0].getXScale()},r.prototype.getYScale=function(){return this.layers[0].getYScale()},r.prototype.getColorScale=function(){return this.layers[0].getColorScale()},r.prototype.getPlotTheme=function(){var t=this.layers[0];return t.getPlotTheme()},r.prototype.getData=function(){var t=this.layers[0];return t.getData()},r.prototype.bindStateManager=function(t,e){this.eachLayer(function(n){n instanceof Gn&&n.bindStateManager(t,e)})},r.prototype.setActive=function(t,e){this.eachLayer(function(n){n instanceof Gn&&n.setActive(t,e)})},r.prototype.setSelected=function(t,e){this.eachLayer(function(n){n instanceof Gn&&n.setSelected(t,e)})},r.prototype.setDisable=function(t,e){this.eachLayer(function(n){n instanceof Gn&&n.setDisable(t,e)})},r.prototype.setDefault=function(t,e){this.eachLayer(function(n){n instanceof Gn&&n.setDefault(t,e)})},r.prototype.getView=function(){return this.layers[0].view},r.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers[t]},r.prototype.getCanvas=function(){return this.canvasController.canvas},r.prototype.getLayers=function(){return this.layers},r.prototype.render=function(){this.eachLayer(function(t){return t.render()})},r.prototype.eachLayer=function(t){(0,f.each)(this.layers,t)},r.prototype.addLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e<0&&this.layers.push(t)},r.prototype.createLayers=function(t){if(!t.layers){if(t.type){var e=gT(t.type),n=(0,f.deepMix)({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height}),a=new e(n);this.addLayer(a)}}},r.prototype.parseEvents=function(t){var e=this,n=(0,f.keys)(md);t.events&&(0,f.each)(t.events,function(a,o){if((0,f.contains)(n,o)&&(0,f.isFunction)(a)){var s=md[o]||o,l=a;e.on(s,l)}})},r}(fe.default),Xr=yT,mT=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},i}(),Ps=mT,xT=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();if(n&&(e.fields=n),(0,f.has)(t,"color")){var a=t.color;(0,f.isString)(a)?e.values=[a]:(0,f.isFunction)(a)?e.callback=a:(0,f.isArray)(a)&&(n?e.values=a:a.length>0&&(e.values=[a[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.areaStyle?t.areaStyle:t.area.style,n={};(0,f.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return[t[o]]}},r}(Ps),fp=xT;function bT(i,r){var t=[];if(i.length){for(var e=0,n=i.length;e<n;e+=1){var a=i[e],o=e===0?"M":"L";t.push([o,a.x,a.y])}r&&t.push(["Z"])}return t}function hp(i,r){var t=i.getCenter(),e=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));return e}function nh(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convertPoint({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function wT(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],u=e?"y":"x",h=Math.abs(s[u]-o[u])*(a-n),c=s[u]>=o[u]?1:0,v=h>Math.PI?1:0,y=t.convertPoint(s),A=hp(t,y);if(A>=.5)if(h===Math.PI*2){var k={x:(s.x+o.x)/2,y:(s.y+o.y)/2},R=t.convertPoint(k);l.push(["A",A,A,0,v,c,R.x,R.y]),l.push(["A",A,A,0,v,c,y.x,y.y])}else l.push(["A",A,A,0,v,c,y.x,y.y]);return l}function ST(i){each(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var MT=function(i,r,t,e){var n=[],a,o,s=!!e,l,u;if(s){l=[Infinity,Infinity],u=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=de.min([0,0],l,v),u=de.max([0,0],u,v)}l=de.min([0,0],l,e[0]),u=de.max([0,0],u,e[1])}for(var h=0,y=i.length;h<y;h++){var v=i[h];if(t)a=i[h?h-1:y-1],o=i[(h+1)%y];else if(h===0||h===y-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var A=[0,0];A=de.sub(A,o,a),A=de.scale(A,A,r);var k=de.distance(v,a),R=de.distance(v,o),H=k+R;H!==0&&(k/=H,R/=H);var V=de.scale([0,0],A,-k),ot=de.scale([0,0],A,R),ut=de.add([0,0],v,V),bt=de.add([0,0],v,ot);s&&(ut=de.max([0,0],ut,l),ut=de.min([0,0],ut,u),bt=de.max([0,0],bt,l),bt=de.min([0,0],bt,u)),n.push(ut),n.push(bt)}return t&&n.push(n.shift()),n};function CT(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=MT(n,.4,e,t),l=n.length,u=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return e&&(h=s[l],c=s[l+1],v=n[0],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),u}function ET(i,r){return bT(i,r)}function ih(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return ET(i,r);(0,f.each)(i,function(l){(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)});var o=t||[[0,0],[1,1]],s=CT(e,r,o);return s.unshift(["M",n.x,n.y]),s}function fG(i,r){return hp(i,r)}function hG(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function cG(i,r){var t=[];return each(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(nh(e,i));break;case"z":default:t.push(e);break}}),t}function vG(i,r){var t=[],e,n,a,o;return each(r,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(nh(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(wT(e,n,i)):t.push(nh(s,i));break;case"z":default:t.push(s);break}}),ST(t),t}fn("area","miniArea",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=cp(i,this,!1),n=(0,f.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),a=r.addShape("path",{attrs:{path:e,fill:dp(i.color||Ii().defaultColor),opacity:t||.4},style:n});return a}}),fn("area","miniAreaSmooth",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=cp(i,this,!0),n=r.addShape("path",{attrs:{path:e,fill:dp(i.color||Ii().defaultColor),opacity:t||.5}});return n}});function cp(i,r,t){var e=[[0,0],[1,1]],n=[],a=[];(0,f.each)(i.points,function(u){n.push(u[1]),a.push(u[0])}),a=r.parsePoints(a.reverse()),n=Zf(r.parsePoints(n));var o=t?ih(n,!1,e):vp(n),s=vp(a);s[0][0]="L";var l=o.concat(s);return l}function vp(i){for(var r=[],t=0;t<i.length;t++){var e=i[t],n=t===0?"M":"L";r.push([n,e.x,e.y])}return r}function dp(i){return"l(90) 0:"+i+" 1:#ffffff"}var AT=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},r}(fp),TT=AT,PT={main:fp,mini:TT},pp=["colorField","stackField","groupField"],_T=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.type="interval",i.prototype.init.call(this);var t=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var e=this._getSizeProps(t);e&&this.parseSize(e);var n=this._getStyleProps(t);n&&this.parseStyle(n)},r.prototype.parseColor=function(){var t=this.plot.options,e=this._getColorMappingField(t),n={};e&&(n.fields=e),t.color&&((0,f.isString)(t.color)?n.values=[t.color]:(0,f.isFunction)(t.color)?n.callback=t.color:(0,f.isArray)(t.color)?e?n.values=t.color:t.color.length>0&&(n.values=[t.color[0]]):(0,f.isObject)(t.color)&&(n.fields=e,n.callback=function(a){return t.color[a]})),this.config.color=n},r.prototype.parseSize=function(t){var e=this.plot.options,n={};(0,f.isFunction)(e[t])?(n.fields=[this.config.position.fields],n.callback=e[t]):n.values=[e[t]],this.config.size=n},r.prototype.parseStyle=function(t){var e=this.plot.options,n=this.config.color,a=this.plot.options[t],o={};(0,f.isFunction)(a)?(o.fields=(n==null?void 0:n.fields)||[e.xField,e.yField],o.callback=a):o.cfg=a,this.config.style=o},r.prototype._getSizeProps=function(t){for(var e=["columnSize","barSize"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return o}},r.prototype._getStyleProps=function(t){for(var e=["columnStyle","barStyle","pieStyle","ringStyle"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return o}},r.prototype._getColorMappingField=function(t){for(var e=0,n=pp;e<n.length;e++){var a=n[e];if((0,f.get)(t,a))return[t[a]]}},r.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var e=0,n=pp;e<n.length;e++){var a=n[e];if(t[a])return!0}return!1},r}(Ps),LT=_T,OT={main:LT},IT=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),(t.lineStyle||(0,f.get)(t,["line","style"]))&&this.parseStyle()},r.prototype.parseSize=function(){var t=this.plot.options.lineSize,e={};(0,f.isFunction)(t)?e.callback=t:e.values=[t],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={};if(t.seriesField&&(e.fields=[t.seriesField]),(0,f.has)(t,"color")){var n=t.color;(0,f.isString)(n)?e.values=[n]:(0,f.isFunction)(n)?e.callback=n:(0,f.isArray)(n)&&(t.seriesField?e.values=n:n.length>0&&(e.values=[n[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.lineStyle||(0,f.get)(t,["line","style"]),n={fields:null,callback:null,cfg:null};(0,f.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r}(Ps),ah=IT,kT=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;!t.xField||!t.yField||(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.line.size?e.values=[t.line.size]:e.values=[2],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();n&&(e.fields=n),t.line.color?e.values=[t.line.color]:(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?(e.fields=n,e.callback=t.color):(0,f.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]])),this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.line.style,n={};(0,f.isFunction)(e)?(n.fields=this.config.position.fields,n.callback=e):n.cfg=e,this.config.style=n},r.prototype._needParseAttribute=function(t){var e=this.plot.options;return e[t]?!0:!!e.line[t]},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return[t[o]]}},r}(ah),BT=kT;fn("line","miniLine",{draw:function(i,r){for(var t=Zf(i.points),e=[],n=0;n<t.length;n++){var a=t[n],o=n===0?"M":"L";e.push([o,a.x,a.y])}var s=(0,f.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),l=r.addShape("path",{attrs:(0,f.mix)({path:e,stroke:i.color||Ii().defaultColor,lineWidth:i.size||2},s)});return l}}),fn("line","miniLineSmooth",{draw:function(i,r){var t=Zf(i.points),e=[[0,0],[1,1]],n=ih(t,!1,e),a=r.addShape("path",{attrs:(0,f.mix)({path:n,stroke:i.color||Ii().defaultColor,lineWidth:i.size||2},i.style)});return a}});var DT=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},r}(ah),FT=DT,RT={main:ah,guide:BT,mini:FT},NT=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=t.colorField;n&&(e.fields=(0,f.isArray)(n)?n:[n]),t.color&&this._parseColor(t,e),(0,f.isEmpty)(e)||(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.sizeField&&(e.fields=[t.sizeField]),t.pointSize&&(e.values=(0,f.isArray)(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=e},r.prototype.parseShape=function(t){this.config.shape=t},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.pointStyle,n={fields:null,callback:null,cfg:null},a=t.xField,o=t.yField,s=t.colorField;(0,f.isFunction)(e)?(s?n.fields=(0,f.isArray)(s)?[a,o,s].concat(s):[a,o,s]:n.fields=[a,o],n.callback=e):(n.cfg=e,(0,f.isNil)(e.opacity)||(n.cfg.fillOpacity=e.opacity)),this.config.style=n},r.prototype._parseColor=function(t,e){(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?e.callback=t.color:(0,f.isArray)(t.color)&&(e.values=t.color)},r}(Ps),YT=NT;function GT(i,r){var t=[];return(0,f.each)(r,function(e){var n=e[i];t.push(n)}),(0,f.uniq)(t)}var zT=["seriesField","stackField"],XT=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField(t);if(n)this._parseColorByField(t,e,n);else if(t.point&&t.point.color)e.values=[t.point.color];else if(t.color)this._parseColor(t,e);else{var a=this.plot.getTheme();e.values=[a.defaultColor]}(0,f.keys)(e).length>0&&(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};e.values=[t.point.size],this.config.size=e},r.prototype.parseShape=function(t){var e={};(0,f.isString)(t)?e.values=[t]:(0,f.isObject)(t)&&(e.fields=t.fields,e.callback=t.callback),this.config.shape=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.point&&t.point.style,n={fields:null,callback:null,cfg:null},a=this._getColorMappingField(t);(0,f.isFunction)(e)?(n.fields=[t.xField,t.yField],n.callback=e,a&&n.fields.unshift(a)):n.cfg=e,this.config.style=n},r.prototype._parseColorByField=function(t,e,n){if(e.fields=[n],t.point.color){for(var a=GT(n,t.data).length,o=[],s=0;s<a;s++)o.push(t.point.color);e.values=o}else t.color&&this._parseColor(t,e)},r.prototype._parseColor=function(t,e){var n=this._getColorMappingField(t);(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?e.callback=t.color:(0,f.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]]))},r.prototype._needParseAttribute=function(t){var e=this.plot.options,n=e.point&&(0,f.has)(e.point,t);return n},r.prototype._getColorMappingField=function(t){for(var e=0,n=zT;e<n.length;e++){var a=n[e];if((0,f.get)(t,a))return[t[a]]}},r}(Ps),VT=XT,HT={guide:VT,circle:YT},WT={area:PT,line:RT,point:HT,interval:OT};function Wn(i,r,t){var e=WT[i][r];return new e(t).config}function jT(i){var r=EE,t=i.split(" "),e=r[t[1]],n=parseInt(t[0],10);return[e.format,n*e.value]}function si(i,r){if(!r)return i;Object.prototype.hasOwnProperty.call(r,"tickCount")&&(i.tickCount=r.tickCount),Object.prototype.hasOwnProperty.call(r,"type")&&r.type!=="dateTime"&&(i.type=r.type),Object.prototype.hasOwnProperty.call(r,"tickInterval")&&(r.type==="time"?i.tickInterval=jT(r.tickInterval):i.tickInterval=r.tickInterval),r.type==="time"&&r.mask&&(i.mask=r.mask),Object.prototype.hasOwnProperty.call(r,"min")&&(i.min=r.min),Object.prototype.hasOwnProperty.call(r,"max")&&(i.max=r.max),Object.prototype.hasOwnProperty.call(r,"minLimit")&&(i.minLimit=r.minLimit),Object.prototype.hasOwnProperty.call(r,"maxLimit")&&(i.maxLimit=r.maxLimit),Object.prototype.hasOwnProperty.call(r,"nice")&&(i.nice=r.nice),Object.prototype.hasOwnProperty.call(r,"formatter")&&(i.formatter=r.formatter),Object.prototype.hasOwnProperty.call(r,"exponent")&&(i.exponent=r.exponent),Object.prototype.hasOwnProperty.call(r,"base")&&(i.base=r.base),r.tickMethod&&(i.tickMethod=r.tickMethod)}function UT(i,r){var t=(0,f.filter)(r,function(a){return(0,f.isNumber)(a)}),e=Math.min.apply(Math,t),n=Math.max.apply(Math,t);e>0?(0,f.isNil)(i.min)&&(i.min=0):n<0&&(0,f.isNil)(i.max)&&(i.max=0)}var oh;function ZT(i,r){var t={easing:"easeLinear",duration:1e4},e=(0,f.deepMix)({},r,t),n=i.get("element").geometry;n.labelsContainer.set("visible",!1);var a=i.get("index"),o=n.coordinate,s=n.scales,l=s[oh.options.yField],u=(0,f.clone)(i.get("origin"));KT(i,o);var h=i.get("clipShape"),c=i.get("parent"),v=12,y=null,A=oh.options.seriesField;A&&(y=c.addShape("text",{attrs:{x:o.start.x+v,y:0,text:u.data[0][A],fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var k=y?16:0,R=c.addShape("text",{attrs:{x:o.start.x+v,y:k,text:"test"+a,fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});e.callback=function(){i&&!i.get("destroyed")&&(i.setClip(null),h.remove(),R.animate({opacity:0},300,function(){R.remove(),(0,f.isNil)(y)||y.remove();var ot=n.labelsContainer;ot.get("visible")||ot.set("visible",!0)}))};var H=e.delay;(0,f.isFunction)(H)&&(H=e.delay(a));var V=e.easing;(0,f.isFunction)(V)&&(V=e.easing(a)),h.animate({width:o.getWidth()},e.duration,V,e.callback,H),e.onFrame=function(ot){var ut=gp(ot,u,o);if(!!ut){R.attr("x",ut[0]+v),R.attr("y",ut[1]+k);var bt=$T(l,ut[1],o);l.formatter&&(bt=l.formatter(bt)),R.attr("text",bt)}},R.animate(e.onFrame,{duration:e.duration,easing:V,callback:e.callback,delay:H}),y&&y.animate({onFrame:function(ot){var ut=gp(ot,u,o);!ut||(y.attr("x",ut[0]+v),y.attr("y",ut[1]))}},e.duration,V,e.callback,H)}function KT(i,r){var t=r.start,e=r.end,n=r.height;i.setClip({type:"rect",attrs:{x:t.x,y:e.y,width:0,height:n}})}function gp(i,r,t){for(var e=r.points,n=t.start.x+t.getWidth()*i,a=0;a<e.length-1;a++){var o=e[a],s=e[a+1];if(n>=o.x&&n<=s.x){var l=(s.y-o.y)/(s.x-o.x),u=o.y+l*(n-o.x);return[n,u]}}}function $T(i,r,t){var e=(r-t.start.y)/(t.end.y-t.start.y);return i.invert(e).toFixed(2)}function QT(i){oh=i}qn("clipingWithData",ZT);var JT=function(){function i(r){this.type="shape",this.shapes=r.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=(0,f.deepMix)([],this.nodes)}return i.prototype.measure=function(r){var t=(0,f.deepMix)({},WE(r),{shape:r});return t},i.prototype.measureNodes=function(){var r=this,t=[],e=[];(0,f.each)(this.shapes,function(n,a){var o=(0,f.deepMix)({},r.nodes[a],r.measure(n));o.width!==0&&o.height!==0&&(t.push(o),e.push(n))}),this.nodes=t,this.shapes=e},i.prototype._parserNodes=function(){var r=this;(0,f.each)(this.shapes,function(t){var e=r.measure(t);r.nodes.push(e)})},i}(),yp=JT;function qT(i,r,t){return t===void 0&&(t={ratio:.6}),r.width*t.ratio}var tP={type:"padding",usage:"assign",expression:qT};function eP(i,r){var t=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],e=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],n=_d(t,e);return Math.round(n)>=2}var rP={type:"group",usage:"compare",expression:eP};function nP(i,r,t){t===void 0&&(t={value:4});var e=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],n=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],a=_d(e,n);return Math.round(a)>=t.value}var iP={type:"chain",usage:"compare",expression:nP};function aP(i,r,t){t===void 0&&(t={value:5});var e=Math.abs(i.bottom-r.top);return Math.round(e)>=t.value}var oP={type:"chain",usage:"compare",expression:aP};function sP(i,r,t){return t===void 0&&(t={ratio:.15}),i.width<r.width*t.ratio}var lP={type:"padding",usage:"compare",expression:sP};function uP(i,r){var t=2,e=r.coord.radius/t;return Math.min(e,i.value)}var fP={type:"padding",usage:"assign",expression:uP};function hP(i,r,t){return t===void 0&&(t={ratio:.8}),r.radius*t.ratio}var cP={type:"padding",usage:"assign",expression:hP},mp={elementDist:iP,elementDistVertical:oP,elementCollision:rP,elementWidth:lP,columnWidth:tP,ringThickness:cP,minRingThickness:fP};function dG(i,r){mp[i]=r}function Jo(i){i.attr("text","")}function vP(i,r,t,e){var n=e.nodes.nodes,a=n[t],o=[];if(!a.shape.get("blank"))for(var s=0;s<n.length;s++){var l=n[s],u=l.shape;if(s!==t&&!u.get("blank")){var h=xp(a,l);h&&o.push(l)}}o.length>0&&(o.push(a),o.sort(function(c,v){return v.top-c.top}),(0,f.each)(o,function(c,v){if(v>0){var y=c.shape;Jo(y),y.set("blank",!0)}}))}function xp(i,r){return!(i.bottom<r.top||r.bottom<i.top||i.right<r.left||r.right<i.left)}var dP=d(82097),yo=d.n(dP),pP=1e3,bp=60*pP,sh=60*bp,Yl=24*sh,wp=31*Yl,Sp=365*Yl;function Mp(i,r,t,e){var n=e.nodes.nodes,a;t===n.length-1?a=n[t-1].shape.get("delegateObject").item.name:a=n[t+1].shape.get("delegateObject").item.name;var o=new Date(a),s=i.get("delegateObject").item.name,l=new Date(s),u=n[0].shape.get("delegateObject").item.name,h=new Date(u),c=n[n.length-1].shape.get("delegateObject").item.name,v=new Date(c),y=Cp(h,v),A=Cp(l,o);if(y===A){if(t!==0&&t!==n.length-1){var k=mP(y);i.attr("text",yo().format(l,k))}return}if(t!==0){var R=n[t-1].shape.get("delegateObject").item.name,H=new Date(R),V=gP(y,l,H);if(V){var k=yP(y,A);i.attr("text",yo().format(l,k));return}}}function gP(i,r,t){var e=Ep(r,i),n=Ep(t,i);return e===n}function Cp(i,r){var t,e=Math.abs(i-r),n={minute:[bp,sh],hour:[sh,Yl],day:[Yl,wp],month:[wp,Sp],year:[Sp,Infinity]};return(0,f.each)(n,function(a,o){e>=a[0]&&e<a[1]&&(t=o)}),t}function yP(i,r){for(var t=["year","month","day","hour","minute"],e=["YYYY","MM","DD","HH","MM"],n=t.indexOf(i)+1,a=t.indexOf(r),o="",s=n;s<=a;s++)o+=e[s],s<a&&(o+="-");return o}function mP(i){var r=["year","month","day","hour","minute"],t=["YYYY","MM","DD","HH","MM"],e=r.indexOf(i),n=t[e];return n}function Ep(i,r){if(r==="year")return i.getFullYear();if(r==="month")return i.getMonth()+1;if(r==="day")return i.getDay()+1;if(r==="hour")return i.getHours()+1;if(r==="minute")return i.getMinutes()+1}function xP(i){var r=/^(?:(?:[0-2][0-3])|(?:[01]\d)):[0-5]\d$/,t=/^(?:(?:[0-2][0-3])|(?:[01]\d))(?::[0-5]\d){2}$/;return r.test(i)||t.test(i)}var Ap={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function Tp(i,r,t,e){if(!(!(0,f.has)(e,"node")||!(0,f.has)(e.node,"node"))){var n=e.nodes.nodes,a=parseFloat(i.get("origin").text);if(a!==0){if(r.formatter){i.attr("text",r.formatter(a));return}if(r.unit){var o=Pp(r,a),s=o.num,l=o.unitname;i.attr("text",s+l)}else{var u=wP(n),h=Ld(u),l=bP(h),c=Ap[l].number,v=SP(n),y=MP(v,c),s=Pp({unit:l,decimal:y},a).num;i.attr("text",s+l)}}}}function Pp(i,r){var t=["k","m","b","t"],e,n;if(i.unit==="auto"){var a=Math.floor(Math.log(r)/Math.log(1e3));n=t[a-1],e=(r/Math.pow(1e3,a)).toFixed(i.decimal)}else if(i.unit){var o=Ap[i.unit];n=i.unit,e=(r/o.number).toFixed(i.decimal)}return{num:e,unitname:n}}function bP(i){var r=["k","m","b","t"],t=Math.floor(Math.log(i)/Math.log(1e3));return r[t-1]}function wP(i){var r=[];return(0,f.each)(i,function(t){var e=t,n=parseFloat(e.shape.get("origin").text);r.push(n)}),r}function SP(i){if(i.length>=2){var r=parseFloat(i[0].shape.get("origin").text),t=parseFloat(i[1].shape.get("origin").text);return Math.abs(r-t)}return 0}function MP(i,r){var t=Math.floor(Math.log10(r));if(i>=r){var e=i%r;if(e>0){var n=Math.floor(Math.log10(e));return Math.abs(n-t)}}else{var a=Math.floor(Math.log10(i));return Math.abs(a-t)}return 0}function CP(i,r,t){var e=t.nodes.nodes;if(r!==e.length-1){var n=e[r],a=e[r+1],o=EP(n,a).dir,s=i.get("startPoint");o==="x"&&i.attr("y",s.y+20)}}function EP(i,r){var t,e={x:r.centerX-i.centerX,y:r.centerY-i.centerY},n=Math.sqrt(e.x*e.x+e.y*e.y),a={x:10,y:0},o=Math.sqrt(a.x*a.x+a.y*a.y),s=Uf(e,a),l=s/(n*o)*180/Math.PI;l<0&&(l=360-l),l=AP(l);var u=Math.abs(i.centerX-r.centerX),h=Math.abs(i.centerY-r.centerY);return l>45?t="x":l<45&&(t="y"),{dir:t,distX:u,distY:h}}function AP(i){return i>90&&i<=180?180-i:i>180&&i<270?i-180:360-i}function TP(i,r,t,e){var n=e.nodes.nodes;if(t!==0){var a=n[t],o=n[t-1];if(xp(a,o)){var s=e.plot.view.geometries[0].elements[0],l=o.top-a.height/2,u=10;if(l-u>e.region.top){var h=a.shape.get("origin"),c=s.getShapeId(h),v=s.getShapes(),y=PP(c,v).get("box"),A=y.left+y.width/2,k=y.top,R=s.get("labelController").labelsContainer,H=R.addShape("path",{attrs:{path:[["M",A,k],["L",a.shape.attr("x"),l]],stroke:"#ccc",lineWidth:1}}),V={x:i.attr("x"),y:i.attr("y")};a.shape.attr("y",l-u),n[t]=e.nodes.measure(a.shape),n[t].line=H,n[t].origin_position=V}}}}function PP(i,r){var t;return(0,f.each)(r,function(e){var n=e,a=n.get("id");a===i&&(t=n)}),t}function _P(i,r,t,e){var n=e.nodes.nodes,a=n.length%2!=0;if(!_p(r.keep,t,n)){var o=t%2==0;(!a&&o||a&&!o)&&Jo(i)}}function _p(i,r,t){var e=[];(0,f.each)(i,function(s){s==="start"?e.push(r===0):s==="end"?e.push(r===t.length-1):(0,f.isNumber)(s)&&e.push(r===s)});for(var n=0,a=e;n<a.length;n++){var o=a[n];if(o===!0)return!0}return!1}function LP(i,r,t,e){var n=e.nodes.nodes;if(!_p(r.keep,t,n)){var a=i.attr("text"),o=i.get("delegateObject").item.name;a!==o&&Jo(i)}}function OP(i,r,t,e){var n=e.nodes.nodes,a=kP(n);if(!(t<=1)){var o=n[t],s=IP(t,n),l=s.centerX-o.centerX,u=s.centerY-o.centerY,h=Math.sqrt(l*l+u*u);h<a&&(Jo(i),i.set("blank",!0))}}function IP(i,r){for(var t=i-1;t>0;t--){var e=r[t];if(!e.shape.get("blank"))return e}}function kP(i){var r=(0,f.deepMix)([],i);return r.sort(function(t,e){return e.width-t.width}),Math.round(r[0].width)}function BP(i,r,t,e){var n=e.nodes.nodes,a=n[t];a.line&&a.line.remove();var o=e.plot.initialOptions.data,s=e.plot[e.plot.type]||e.plot[e.plot.baseType],l=(0,f.get)(s,["label","fields",0],(0,f.get)(s,["position","fields",1])),u=DP(o,l,n),h=!1;if((0,f.each)(u,function(A){A.shape.get("origin")===a.shape.get("origin")&&(h=!0)}),h){if(a.origin_position){var c=a.origin_position,v=c.x,y=c.y;i.attr("x",v),i.attr("y",y)}}else Jo(i)}function DP(i,r,t){var e=[];(0,f.each)(i,function(h){e.push(h[r])}),e.sort(function(h,c){return h-c});var n=e[0],a=lh(t,r,n),o=e[e.length-1],s=lh(t,r,o),l=FP(e),u=lh(t,r,l);return{min:a,max:s,median:u}}function FP(i){var r=(0,f.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2,r[t]}function lh(i,r,t){for(var e=0,n=i;e<n.length;e++){var a=n[e],o=a.shape.get("origin")._origin;if(o[r]===t)return a}}function Lp(i,r){var t=r.abbreviateBy?r.abbreviateBy:"end",e=i.attr("text"),n;t==="end"&&(n=e[0]+"..."),t==="start"&&(n="..."+e[e.length-1]),t==="middle"&&(n=e[0]+"..."+e[e.length-1]),i.resetMatrix(),i.attr({text:n,textAlign:"center",textBaseline:"top"})}function RP(i,r,t,e){var n=e.nodes.nodes,a=i.attr("text"),o=/^\d+$/.test(a);o?Tp(i,r,t,n):xP(a)?Mp(i,r,t,n):Lp(i,r)}function NP(i,r){i.resetMatrix(),i.attr({rotate:360-r.degree,textAlign:"right",textBaseline:"middle"})}function YP(i,r){for(var t=i.attr("text"),e=Math.ceil(t.length/r.lineNumber),n="",a=1;a<r.lineNumber;a++){var o=e*a;n=t.slice(0,o)+`
`+t.slice(o)}var s=i.attr("fontSize");i.attr({text:n,lineHeight:s,textAlign:"center",textBaseline:"top"})}var Op={textWrapper:YP,textRotation:NP,textAbbreviate:Lp,textHide:Jo,digitsAbbreviate:Tp,datetimeStringAbbrevaite:Mp,robustAbbrevaite:RP,nodesResampling:_P,nodesResamplingByAbbrevate:LP,nodesResamplingByChange:OP,nodesResamplingByState:BP,nodeJitter:CP,nodeJitterUpward:TP,clearOverlapping:vP};function pG(i,r){Op[i]=r}var GP=function(){function i(r){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,(0,f.assign)(this,r),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}return i.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},i.prototype._iteration=function(){var r;this.nodes.type==="shape"?r=this.nodes:r=this.nodes,r.type==="shape"&&r.measureNodes(),this.rules&&this._applyRules(),r.type==="shape"&&r.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},i.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},i.prototype._run=function(){for(var r=this._constraintsTest();!r&&!(this.iterationIndex>this.iterationTime-1);)this._iteration(),r=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},i.prototype._constraintsTest=function(){var r=mp[this.currentConstraint.name],t=this.currentConstraint.option;return r.usage==="compare"?this._constraintCompare(r,t):this._constraintAssignment(r,t)},i.prototype._constraintCompare=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintCompare(n,a,t);if(e==="padding")return this._paddingConstraintCompare(n,this.region,a,t);if(e==="group")return this._groupConstraintCompare(n,a,t)},i.prototype._chainConstraintCompare=function(r,t,e){for(var n=0;n<t.length-1;n++){var a=t[n],o=t[n+1];if(r(a,o,e)===!1)return!1}return!0},i.prototype._paddingConstraintCompare=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a];if(r(s,t,n)===!1)return!1}return!0},i.prototype._groupConstraintCompare=function(r,t,e){for(var n=0;n<t.length;n++)for(var a=t[n],o=0;o<t.length;o++)if(o!==n){var s=t[o];if(r(a,s,e)===!1)return!1}return!0},i.prototype._constraintAssignment=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintAssign();if(e==="padding")return this._paddingConstraintAssign(n,this.region,a,t)},i.prototype._chainConstraintAssign=function(){return!0},i.prototype._paddingConstraintAssign=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a],l=r(s,t,n);s.value=l}return!0},i.prototype._applyRules=function(){for(var r=this.rules[this.currentConstraint.name][this.iterationIndex],t=Op[r.name],e=r.option?r.option:{},n=this.nodes.nodes,a=0;a<n.length;a++){var o=n[a];this._applyRule(o.shape,t,e,a)}},i.prototype._applyRule=function(r,t,e,n){var a={nodes:this.nodes,region:this.region,plot:this.plot};t(r,e,n,a)},i}(),Ip=GP,zP=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},i}(),kp=zP,XP={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"},VP=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.axisInstance=this.getAxisInstance(),i.prototype.init.call(this)},r.prototype.shouldApply=function(){var t=this.plot.options;return this.responsiveTheme.axis?!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+"Axis"].visible&&t[this.dim+"Axis"].label&&t[this.dim+"Axis"].label.visible):!1},r.prototype.apply=function(){for(var t=this,e=this.plot.view.backgroundGroup.findAll(function(h){var c=h.get("name");if(c==="axis-label"){var v=h.get("delegateObject").axis.get("field");if(v===t.plot.options[t.dim+"Field"])return h}}),n=[],a=0;a<e.length;a++)n.push(e[a]);var o=new yp({shapes:n}),s=this.responsiveTheme.axis.x[this.type],l=s.constraints,u=s.rules;new Ip({nodes:o,constraints:l,region:this.plot.getViewRange(),rules:u,plot:this.plot,onEnd:function(h){t.updateTicks(h.origion_nodes)}})},r.prototype.getType=function(){var t=this.plot.options,e=this.dim+"Axis",n=this.dim+"Field";if(t[e]&&t[e].type&&t[e].type==="dateTime")return"dateTime";var a=this.plot.view.getScaleByField([t[n]]).type;return XP[a]},r.prototype.getAxisInstance=function(){var t,e,n=this.dim==="x"?0:1,a=(t=this.plot.view.getController("axis"))===null||t===void 0?void 0:t.getComponents();if(a)return(e=a[n])===null||e===void 0?void 0:e.component},r.prototype.updateTicks=function(t){var e=this,n=this.plot.view.backgroundGroup.findAll(function(o){var s=o.get("name");if(s==="axis-tickline-group"){var l=o.get("delegateObject").axis.get("field");if(l===e.plot.options[e.dim+"Field"])return o}})[0];if(n){var a=n.get("children");(0,f.each)(t,function(o,s){o.shape.attr("text")===""&&a[s].attr("opacity",0)})}this.plot.canvas.draw()},r}(kp),mo=VP;function HP(i){var r=i.getResponsiveTheme(),t=i.canvas;new mo({plot:i,responsiveTheme:r,dim:"x"}),new mo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var WP=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},r.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get("children"),e=[];(0,f.each)(t,function(l){e=e.concat(l.findAllByName("label"))});var n=new yp({shapes:e}),a=this.responsiveTheme.label[this.type],o=a.constraints,s=a.rules;new Ip({nodes:n,constraints:o,rules:s,plot:this.plot,region:this.plot.view.coordinateBBox})},r.prototype.getType=function(){return null},r}(kp),Bp=WP,jP=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,f.get)(this.plot.options,["label","type"],"point")},r}(Bp);function UP(i){var r=i.getResponsiveTheme();new jP({plot:i,responsiveTheme:r})}var ZP=[],KP=[{name:"responsiveAxis",method:HP},{name:"responsivePointLabel",method:UP}],$P={preRender:ZP,afterRender:KP},Dp=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,zt.__assign)({offsetX:0,offsetY:0},n)},r.prototype.getLabelOffset=function(){return this.getLabelOffsetByDimAndFactor("y",-1)},r.prototype.getLabelItemAttrs=function(t,e){var n=this,a=this.options,o=a.style,s=a.formatter,l=(0,f.get)(t,"model.mappingData",[]);return(0,f.map)(l,function(u,h){var c,v=n.getValue(u);return(0,zt.__assign)((0,zt.__assign)((0,zt.__assign)({},n.getPosition(u)),{text:s?s(v,(c={},c[As]=u._origin,c.mappingDatum=u,c.mappingDatumIndex=h,c.element=t,c.elementIndex=e,c),e):v,textAlign:"center",textBaseline:"middle"}),o)})},r.prototype.getValue=function(t){return(0,f.get)(t._origin,this.layer.options.yField)},r.prototype.getPosition=function(t){var e={x:(0,f.isArray)(t.x)?(0,f.last)(t.x):t.x,y:(0,f.isArray)(t.y)?(0,f.last)(t.y):t.y};return e},r.prototype.layoutLabels=function(t,e){var n=this;if(!!this.options.adjustPosition){var a=this.isOverlapped(e);if(a){var o=this.getGlobalTolerance(e);(0,f.each)(e,function(s,l){l>1&&n.labelResamplingByChange(s,e,l,o)})}a=this.isOverlapped(e),a&&(0,f.each)(e,function(s,l){s.get("visible")&&n.clearOverlapping(s,e,l)})}},r.prototype.adjustLabel=function(){},r.prototype.labelResamplingByChange=function(t,e,n,a){var o=this.findPrevious(n,e),s=this.getCenter(t),l=this.getCenter(o),u=l.x-s.x,h=l.y-s.y,c=Math.sqrt(u*u+h*h);c<a&&t.set("visible",!1)},r.prototype.clearOverlapping=function(t,e,n){for(var a=[],o=0;o<e.length;o++){var s=e[o];if(o!==n&&s.get("visible")){var l=wd(t.getBBox(),s.getBBox());l&&a.push(s)}}a.length>0&&(a.push(t),a.sort(function(u,h){return h.minY-u.minY}),(0,f.each)(a,function(u,h){h>0&&u.set("visible",!1)}))},r.prototype.isOverlapped=function(t){for(var e=0;e<t.length;e++)if(t[e].get("visible")){for(var n=t[e].getBBox(),a=0;a<t.length;a++)if(a!==e&&t[a].get("visible")){var o=t[a].getBBox(),s=wd(n,o);if(s)return!0}}return!1},r.prototype.getGlobalTolerance=function(t){var e=t.slice();return e.sort(function(n,a){return a.getBBox().width-n.getBBox().width}),Math.round(e[0].getBBox().width)},r.prototype.findPrevious=function(t,e){for(var n=t-1;n>0;n--)if(e[n].get("visible"))return e[n]},r.prototype.getCenter=function(t){var e=t.getBBox(),n=e.minX,a=e.maxX,o=e.minY,s=e.maxY;return{x:n+(a-n)/2,y:o+(s-o)/2}},r}(Vf),Fp=Dp;Wi("point",Dp);var Rp=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){var n=this,a,o=[],s=Wr.fromBBoxObject(this.getCoordinateBBox()),l=t.getXYFields(),u=l[0],h=l[1],c=(0,f.groupBy)(e,function(y){return y.get(Ji)[vn.FIELD_ORIGIN][u]}),v=(a=e[0])===null||a===void 0?void 0:a.get("offset");(0,f.each)((0,f.keys)(c).reverse(),function(y){for(var A=n.sortLabels(t,c[y]);A.length;){var k=A.shift();if(KA(k,o,function(V,ot){return V._origin[u]===ot._origin[u]&&V._origin[h]===ot._origin[h]})){k.set("visible",!1);continue}Rl(k,s);var R=Nl(k,o),H=void 0;if(R&&(k.attr("y",k.attr("y")+2*v),Rl(k,s),H=Nl(k,o)),H){k.set("visible",!1);continue}o.push(k)}})},r.prototype.sortLabels=function(t,e){var n=t.getXYFields()[1],a=[];return e.sort(function(o,s){return s.get(Ji)[vn.FIELD_ORIGIN][n]-o.get(Ji)[vn.FIELD_ORIGIN][n]}),e.length>0&&a.push(e.shift()),e.length>0&&a.push(e.pop()),a.push.apply(a,e),a},r}(Fp),QP=Rp;Wi("point-auto",Rp);var JP=8,qP=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,f.each)(t,function(e){var n=r.getShapeInfo(e.shape),a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,u=r.options.formatter,h=u?u(n.name):n.name;r.container.addShape("text",{attrs:(0,f.deepMix)({},{x:n.x+s,y:n.y+l,text:h,fill:n.color,textAlign:"left",textBaseline:"middle"},o),name:"label"})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,f.clone)(r.label.style);return delete t.fill,{offsetX:JP,offsetY:0,style:t}},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="line"})},i.prototype.getShapeInfo=function(r){var t=r.get("origin").points,e=t[t.length-1],n=r.attr("stroke"),a=this.plot.options.seriesField,o=r.get("origin").data[0][a];return{x:e.x,y:e.y,color:n,name:o}},i}(),Np=qP,t_={line:"line",point:"point"},e_=yi(t_);(0,f.assign)(on,e_);var r_={stroke:"transparent",fill:"#FCC509",lineWidth:0},n_={stroke:"#FFF",fill:"#FCC509",lineWidth:1},i_={stroke:"rgba(0,0,0,0.85)",fill:"#FCC509",lineWidth:1},a_=function(){function i(r){this.points=[],this.labels=[],this.name="markerPoints",this.defaultCfg={offsetX:0,offsetY:0,style:{normal:r_,selected:i_,active:n_},label:{visible:!1,offsetY:-8,position:"top",style:{fill:"rgba(0, 0, 0, 0.85)"}},animation:!1},this.view=r.view,this.size=r.size||6,this.config=(0,f.deepMix)({},this.defaultCfg,r),this._init()}return i.prototype.render=function(){var r=this.getDataArray();this._renderPoints(r),this.view.canvas.draw(),this._addInteraction()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.points=[],this.labels=[]},i.prototype.getDataArray=function(){var r=this.view.geometries[0];return r.dataArray},i.prototype._init=function(){var r=this,t=this.view.foregroundGroup;this.container=t.addGroup(),this.render(),this.view.on("beforerender",function(){r.clear()})},i.prototype._renderPoints=function(r){var t=this;(0,f.each)(this.config.data,function(e,n){(0,f.each)(r,function(a){var o=(0,f.find)(a,function(H){return(0,f.isMatch)(H._origin,e)});if(o){var s=t.config.style.normal,l=t.container.addGroup({name:t.name}),u=o.x,h=o.y;(0,f.isArray)(u)&&(u=u[0]),(0,f.isArray)(h)&&(h=h[0]);var c=t.config.symbol,v=t.config,y=v.offsetX,A=v.offsetY,k=void 0;if((0,f.isString)(c)&&c.startsWith("image://")){var R=c.substr(8);k=l.addShape("image",{attrs:{x:u-t.size/2+y,y:h-t.size/2+A,img:R,width:t.size,height:t.size}})}else c=(0,f.isString)(c)?xE.MarkerSymbols[c]:c,k=l.addShape({type:"marker",name:"marker-point",id:"point-"+n,attrs:(0,zt.__assign)((0,zt.__assign)({x:u+y,y:h+A,r:t.size/2},s),{symbol:c})});t.points.push(k),t._animatePoint(k),t._renderLabel(l,o,n),l.set("data",e),l.set("origin",o)}})})},i.prototype._renderLabel=function(r,t,e){var n=this.config.label;if(n&&n.visible){var a=n.offsetX,o=a===void 0?0:a,s=n.offsetY,l=s===void 0?0:s,u=n.formatter,h=n.position,c=n.field,v=t._origin[c];u&&(v=u(v,{_origin:t._origin},e));var y=(0,f.isArray)(t.x)?t.x[0]:t.x,A=(0,f.isArray)(t.y)?t.y[0]:t.y,k=r.addShape("text",{name:"marker-label",id:"label-"+e,attrs:(0,zt.__assign)((0,zt.__assign)({x:y+o,y:A+l,text:v||""},n.style),{textAlign:"center",textBaseline:h==="top"?"bottom":"top"})});this.labels.push(k)}},i.prototype._addInteraction=function(){var r=this,t=this.config.events;(0,f.each)(t,function(e,n){r.container.on(r.name+":"+n,function(a){e(a);var o=a.target.get("parent"),s=o.get("children")[0];if(s){var l=s.get("data"),u=s.get("id"),h={id:u,data:l};n==="click"?r.selectedPoint&&r.selectedPoint.get("id")===u?(r.selectedPoint=null,r.setState("inactive",h)):(r.selectedPoint=s,r.setState("selected",h)):n==="mouseenter"?r.setState("active",h):n==="mouseleave"&&r.setState("inactive",h)}r.view.canvas.draw()}),r.view.on("click",function(a){var o=a.target.get("parent");(!o||o.get("name")!==r.name&&r.selectedPoint)&&(r.selectedPoint=null,r.setState("inactive"))})})},i.prototype.setState=function(r,t){var e=this;r==="active"?(!this.selectedPoint||t.id!==this.selectedPoint.get("id"))&&this._onActive(t):r==="inactive"?this.points.forEach(function(n){return e._onInactive(n)}):r==="selected"&&this._onSelected(t)},i.prototype._onActive=function(r){var t=this,e=this.config.style.active;(0,f.each)(this.points,function(n){n.get("id")===r.id?(0,f.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._onInactive=function(r){var t=this.config.style.normal;(!this.selectedPoint||r.get("id")!==this.selectedPoint.get("id"))&&(0,f.each)(t,function(e,n){r.attr(n,e)})},i.prototype._onSelected=function(r){var t=this,e=this.config.style.selected;(0,f.each)(this.points,function(n){n.get("id")===r.id?(0,f.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._animatePoint=function(r){var t=this.config,e=t.animation,n=t.size;if(e!==!1){var a=e,o=a.endState,s=o===void 0?{}:o,l=a.animateCfg,u=l===void 0?vo.DEFAULT_ANIMATE_CFG.appear:l;r.animate((0,zt.__assign)({r:Number.isNaN(s.size/2)?n/2:s.size/2},s),u)}},i}(),o_=a_,s_=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+1}},l_=function(i){var r=i.shape,t=r.attr("opacity")||1;return{opacity:t*.2}},u_=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+2}};ji("line",{lineStyle:{normal:{},active:s_,disable:l_,selected:u_},pointStyle:{normal:{},active:{},disable:{},selected:{}}});var f_={label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}};sp("line",f_);var h_=function(i){(0,zt.__extends)(r,i);function r(t){return i.call(this,(0,zt.__assign)({processEvent:"mousemove"},t))||this}return r.prototype.start=function(){},r.prototype.process=function(t){var e=(0,f.filter)(this.view.geometries,function(o){return o.type=="line"}),n=t.target;if(n.get("name")==="line"){var a=(0,f.get)(t,"data.data");(0,f.each)(e,function(o){(0,f.each)(o.elements,function(s){s.setState("active",s.data===a)})})}else(0,f.each)(e,function(o){(0,f.each)(o.elements,function(s){s.setState("active",!1)})})},r}(Qf),c_=h_,v_=function(i){(0,zt.__extends)(r,i);function r(t){return i.call(this,(0,zt.__assign)({endEvent:"click"},t))||this}return r.prototype.start=function(){},r.prototype.end=function(t){var e=t.target,n=(0,f.filter)(this.view.geometries,function(o){return o.type=="line"});if(e.get("name")==="line"){var a=(0,f.get)(t,"data.data");(0,f.each)(n,function(o){(0,f.each)(o.elements,function(s){s.setState("inactive",s.data!==a)})})}else(0,f.each)(n,function(o){(0,f.each)(o.elements,function(s){s.setState("inactive",!1)})})},r}(Qf),d_=v_,p_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"selected-tooltip"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,zt.__assign)((0,zt.__assign)({},t),{showContent:!1,showCrosshairs:!0,showMarkers:!0,shared:!0})},r}(dd.Z);nn("selected-tooltip",p_);var g_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.getPoint();(0,f.isEqual)(t,this.location)||(this.location=t,this.showTooltip(t))},r.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},r.prototype.showTooltip=function(t){var e=this.getTooltipController();e.showTooltip(t)},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:this.getLastXPoint()},r.prototype.getLastXPoint=function(){var t=this.getView(),e=t.getXScale(),n=t.getYScales()[0],a=t.getCoordinate(),o=(0,f.last)(e.getTicks()).value;return a.convert({x:o,y:(n.range[0]+n.range[1])/2})},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("selected-tooltip")},r}(tn),y_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip-active"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,zt.__assign)((0,zt.__assign)({},t),{showCrosshairs:!0,showMarkers:!1,shared:!0})},r}(dd.Z);nn("tooltip-active",y_);var m_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.getView().removeInteraction("tooltip")},r.prototype.show=function(){var t=this.getPoint();t&&this.showTooltip(t)},r.prototype.hide=function(){var t=this.getView(),e=this.getTooltipController();e.hideTooltip();var n=(0,f.filter)(t.geometries,function(a){return a.type=="point"});(0,f.each)(n,function(a){(0,f.each)(a.elements,function(o){o.setState("active",!1)})})},r.prototype.showTooltip=function(t){var e=this.getView(),n=this.getTooltipController();n.showTooltip(t);var a=n.getTooltipItems(t),o=(0,f.filter)(e.geometries,function(s){return s.type=="point"});(0,f.each)(o,function(s){(0,f.each)(s.elements,function(l){l.setState("active",(0,f.findIndex)(a,function(u){return u.data===l.data})!==-1)})})},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:null},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("tooltip-active")},r}(tn),x_=m_;Mr("selected-tooltip",g_),ln("selected-tooltip",{start:[{trigger:vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"selected-tooltip:show"},{trigger:vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"selected-tooltip:show"},{trigger:"plot:mousemove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}]}),Mr("marker-active",x_),ln("marker-active",{start:[{trigger:vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"marker-active:show"},{trigger:vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"marker-active:show"},{trigger:"plot:mousemove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:mouseleave",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchend",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}}]});var b_={line:"line",point:"point"},Yp=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.markerPoints=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{showContent:!0,crosshairs:{line:{style:{stroke:"rgba(0,0,0,0.45)"}}}},markerPoints:[]})},r.prototype.afterRender=function(){var t=this,e=this.options;this.renderLabel(),e.markerPoints&&((0,f.each)(this.markerPoints,function(n){return n.destroy()}),this.markerPoints=[],e.markerPoints.forEach(function(n){if(n.visible){var a=new o_((0,zt.__assign)((0,zt.__assign)({},n),{view:t.view}));t.markerPoints.push(a)}})),e.responsive&&e.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.seriesField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return b_[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&si(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&si(e[t.yField],t.yAxis),this.setConfig("scales",e),UT(e[t.yField],(0,f.map)(t.data||[],function(n){return n[t.yField]})),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.tooltip=function(){(0,f.some)(this.options.markerPoints,function(t){return t.visible})&&(this.options.tooltip.showMarkers=!1),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){this.addLine(),this.addPoint()},r.prototype.addLine=function(){var t=this.options;this.line=Wn("line","main",{plot:this}),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",this.line)},r.prototype.addPoint=function(){var t=this.options,e={visible:!1};t.point&&(t.point=(0,f.deepMix)(e,t.point)),t.point&&t.point.visible&&(this.point=Wn("point","guide",{plot:this}),this.setConfig("geometry",this.point))},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=go(this.view,"line");if(n.type==="line"){var l=new Np((0,zt.__assign)({view:this.view,plot:this},this.options.label));l.render()}else this.doRenderLabel(s,(0,zt.__assign)({type:"point",formatter:o.formatter&&function(u){return o.formatter(u)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.line.tooltip={};var t=this.options.tooltip;t.fields&&(this.line.tooltip.fields=t.fields),t.formatter&&(this.line.tooltip.callback=t.formatter,t.fields||(this.line.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.line.tooltip.fields.push(this.options.seriesField)))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation?(QT({options:this.options,view:this.view}),this.line.animate=t.animation):(this.line.animate=!1,this.point&&(this.point.animate=!1))},r.prototype.applyInteractions=function(){i.prototype.applyInteractions.call(this),this.interactions.push(new c_({view:this.view})),this.interactions.push(new d_({view:this.view}))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,T)},r.prototype.applyResponsive=function(t){var e=this,n=$P[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&this.options.label.type==="line"},r}(Gn),_s=Yp;qr("line",Yp);var w_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=_s.getDefaultOptions,r}(Xr),Gp=w_;function S_(i,r,t,e,n){var a=e-r,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,u=r;(0,f.each)(o,function(h){h.y0=t,h.y1=n,h.x0=u,u+=h.value*l,h.x1=h.x0+h.value*l})}function M_(i,r,t,e,n){var a=n-t,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,u=t;(0,f.each)(o,function(h){h.x0=r,h.x1=e,h.y0=u,u+=h.value*l,h.y1=h.y0+h.value*l})}var C_=(1+Math.sqrt(5))/2;function zp(i,r,t,e,n){var a=i.children,o=i.value;a.sort(function(Xt,Ut){return Ut.value-Xt.value});for(var s=[],l,u,h,c,v,y,A,k,R=0,H=0;R<a.length;){var V=e-r,ot=n-t;for(l=a[H++].value,u=l,h=l,c=Math.max(ot/V,V/ot)/(o*C_),v=l*l*c,A=Math.max(u/v,v/h);H<a.length;H++){if(k=a[H].value,l+=k,k<h&&(h=k),k>u&&(u=k),v=l*l*c,y=Math.max(u/v,v/h),y>A){l-=k;break}A=y}var ut={value:l,dice:V<ot,children:a.slice(R,H)};if(s.push(ut),ut.dice){var bt=o?ot*l/o:ot;S_(ut,r,t,e,t+bt),o&&(t+=bt)}else{var Ft=o?V*l/o:V;M_(ut,r,t,r+Ft,n),o&&(r+=Ft)}o-=l,R=H}return s}var E_=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.listeners=[],t.onItemGroupToggleActive=function(e,n){return function(){var a=e.get("children").find(function(o){return o.get("class")==="item-background"});a&&a.attr(n?t.itemActiveBackgroundStyle:t.itemBackgroundStyle),t.getCanvas().draw()}},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.initConfig=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=(0,zt.__assign)({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=(0,zt.__assign)({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=(0,zt.__assign)({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=(0,zt.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=(0,zt.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.textStyle||{})},r.prototype.renderInner=function(t){var e=0,n=0;this.offEvents(),this.renderItems(t,e,n),jd(this.group,this.x,this.y)},r.prototype.renderItems=function(t,e,n){var a=this,o=this.itemPadding,s=o[0],l=o[1],u=o[2],h=o[3],c,v=t.addShape("rect",{class:"breadcrumb-background",attrs:(0,zt.__assign)({x:e,y:n,width:1,height:1},this.backgroundStyle)});this.items.forEach(function(y,A){var k=t.addGroup({id:"item-group-"+y.key,data:y,class:"item-group",attrs:{cursor:"pointer"}}),R=k.addShape("rect",{id:"item-background-"+y.key,class:"item-background",attrs:(0,zt.__assign)((0,zt.__assign)({x:e,y:n,width:h+l,height:s+u},a.itemBackgroundStyle),{cursor:"pointer"})});R.name="breadcrumb";var H=k.addShape("text",{id:"item-text-"+y.key,class:"item-text",attrs:(0,zt.__assign)((0,zt.__assign)({x:e+h,y:n+s,text:y.text},a.textStyle),{cursor:"pointer"})});H.name="breadcrumb";var V=H.getBBox();c=a.itemHeight||V.height;var ot=a.itemWidth||V.width;a.maxItemWidth&&(ot=Math.min(ot,a.maxItemWidth));var ut={x:e,y:n,width:ot+h+l,height:c+s+u};if(R.attr("width",ut.width),R.attr("height",ut.height),k.setClip({type:"rect",attrs:ut}),e+=ut.width,A!==a.items.length-1){var bt=t.addShape("text",{attrs:(0,zt.__assign)({x:e,y:n+s,text:a.separator},a.separatorStyle),class:"separator"});e+=bt.getBBox().width}}),v.attr({width:e,height:c+s+u})},r.prototype.bindEvents=function(t){var e=this,n=this.items,a=t.get("children").filter(function(s){return s.get("class")==="item-group"}),o=function(s,l,u){return function(){var h=l.get("data"),c=n.find(function(v){return v.key===h});e.emit(u,{item:c})}};a.forEach(function(s){var l=o("click",s,"onItemClick"),u=o("dblclick",s,"onItemDblclick"),h=e.onItemGroupToggleActive(s,!0),c=e.onItemGroupToggleActive(s,!1);s.on("click",l),s.on("dblclick",u),s.on("mouseenter",h),s.on("mouseleave",c),e.listeners.push({target:s,event:"click",callback:l}),e.listeners.push({target:s,event:"dblclick",callback:u}),e.listeners.push({target:s,event:"mouseenter",callback:h}),e.listeners.push({target:s,event:"mouseleave",callback:c})})},r.prototype.offEvents=function(){this.listeners&&this.listeners.forEach(function(t){var e=t.target,n=t.event,a=t.callback;e.off(n,a)}),this.listeners=[]},r}(Ts),A_=E_,Gl=[1,0,0,0,1,0,0,0,1],Bo=400,qo="easeQuadInOut";function T_(i,r,t){var e=Wp(i),n=Hp(r),a=n.width/e.width,o=n.height/e.height,s=(n.minX-e.minX)*a,l=(n.minY-e.minY)*o,u=$o([["s",a,o],["t",s,l]]),h=r.geometries[0];zl(h);var c=r.backgroundGroup.addGroup();c.set("zIndex",-100),c.setClip({type:"rect",attrs:{x:n.minX,y:n.minY,width:n.width,height:n.height}});var v=Xp(h,c);h.container.set("visible",!1),r.canvas.draw(),t(),window.setTimeout(function(){(0,f.each)(v,function(R,H){H===0?R.animate({matrix:u},Bo,qo,function(){c.remove(),r.canvas.draw()}):R.animate($o,Bo)}),h=r.geometries[0],zl(h);var y=h.getShapes();(0,f.each)(y,function(R){R.attr("opacity",0),R.animate({opacity:1},Bo,qo)});var A=h.container;A.stopAnimate(),A.set("visible",!0),A.attr("matrix",(0,f.clone)(Gl)),GA(A,[["s",e.width/n.width,e.height/n.height],["t",e.minX,e.minY]]);var k=(0,f.clone)(Gl);h.container.animate({matrix:k},Bo,qo,function(){jp(h)}),r.canvas.draw()},16)}function Xp(i,r){var t=i.getShapes(),e=[];return(0,f.each)(t,function(n){var a=r.addShape("path",{attrs:(0,f.deepMix)({},n.attrs,{capture:!1})});e.push(a)}),e}function Vp(i,r,t){var e=r.geometries[0];zl(e);var n=e.container;n.attr("matrix",(0,f.clone)(Gl));var a=r.backgroundGroup.addGroup();a.set("zIndex",-100);var o=Xp(e,a);n.set("visible",!1),r.canvas.draw(),t(),e=r.geometries[0],zl(e),n=e.container;var s=P_(e.getShapes(),i),l=Wp(s),u=Hp(r),h=n.get("parent");h.get("clipShape")||n.setClip({type:"rect",attrs:{x:u.minX,y:u.minY,width:u.width,height:u.height}}),__(a,o,l,u);var c=u.width/l.width,v=u.height/l.height,y=(u.minX-l.minX)*c,A=(u.minY-l.minY)*v,k=$o([["s",c,v],["t",y,A]]);n.setMatrix(k),n.set("visible",!0),n.animate({matrix:Gl},Bo,qo,function(){jp(e)})}function P_(i,r){var t;return(0,f.each)(i,function(e){var n=e.get("origin").data.name;n===r&&(t=e)}),t}function Hp(i){var r=i.coordinateBBox,t={minX:r.minX,minY:r.minY,centerX:(r.maxX-r.minX)/2,centerY:(r.maxY-r.minY)/2,width:r.width,height:r.height};return t}function Wp(i){var r=i.attr("path"),t=r[0][1],e=r[0][2],n=r[1][1],a=r[2][2],o={minX:t,minY:a,centerX:(n-t)/2,centerY:(e-a)/2,width:Math.abs(n-t),height:Math.abs(e-a)};return o}function __(i,r,t,e){var n=t.width/e.width,a=t.height/e.height,o=$o([["s",n,a],["t",t.minX,t.minY]]);i.animate({matrix:o},Bo,qo,function(){i.remove()}),(0,f.each)(r,function(s){s.animate({opacity:0},Bo,qo)})}function zl(i){var r=i.labelsContainer;r.set("visible",!1)}function jp(i){var r=i.labelsContainer;r.set("visible",!0)}var L_=100,O_=30,I_=10,k_=function(i){i===void 0&&(i={});var r=(0,zt.__assign)({x:0,y:0,startNode:{name:"root"},itemWidth:L_,itemHeight:O_,padding:[0,0,0,0]},i);return r},Up=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getInteractionRange=function(t,e){var n=k_(e),a=n.padding,o=a[0],s=a[1];if(t)return new Wr(t.minX,t.maxY-n.itemHeight-o-s,t.width,n.itemHeight+o+s)},r.prototype.start=function(t){var e=this,n=t.data.data;n.children&&(this.parentNode={color:t.target.attr("fill"),shape:t.target,data:{name:(0,f.clone)(this.currentNode.name),value:(0,f.clone)(this.currentNode.value)},depth:(0,f.clone)(this.currentDepth)},this.currentDepth++,T_(t.target,this.view,function(){e.update(n)}))},r.prototype.update=function(t){(0,f.hasKey)(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getTreemapData(t,t.depth);this.view.changeData(e),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},r.prototype.render=function(){if(this.breadcrumb){var t=this.getItems();this.breadcrumb.update({items:t}),this.breadcrumb.render(),this.layout()}else this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),this.startNode.name==="root"?(this.startNodeName=(0,f.hasKey)(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+I_,this.breadcrumb=new A_({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.init(),this.breadcrumb.render(),this.plot.canvas.draw(),this.layout();this.onInteraction()},r.prototype.clear=function(){},r.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y}),this.breadcrumb.render()},r.prototype.getItems=function(){var t=[];if(this.currentNode.name&&this.currentNode.name===this.startNodeName){var e=this.getRootItem();t.push(e)}else{t=[];var n=[];this.findParent(this.currentNode,n),t.push(this.getRootItem()),(0,f.each)(n,function(a,o){t.push({key:String(o+2),text:a.name,data:a})}),t.push({key:String(n.length+2),text:this.currentNode.name,data:this.currentNode})}return t},r.prototype.findParent=function(t,e){if(t.parent)(0,f.hasKey)(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e);else return},r.prototype.onInteraction=function(){var t=this;this.container.on("click",function(e){var n=e.target.get("parent");if(n&&n.get("class")==="item-group"){var a=n.get("data");if(a.data)if(a.text===t.startNodeName){var o=1;t.currentDepth-1===o?Vp(t.currentNode.name,t.view,function(){t.updateRoot(a)}):t.updateRoot(a),t.currentDepth=1}else{if(t.currentNode===a.data)return;var s=(0,f.clone)(t.currentDepth);t.currentDepth=parseInt(a.key),s-1===t.currentDepth?Vp(t.currentNode.name,t.view,function(){t.update(a.data)}):t.update(a.data)}}})},r.prototype.getRootItem=function(){var t=this.plot.options.data,e=(0,f.hasKey)(t,"name")?t.name:"root";return{key:"1",text:e,data:this.plot.rootData}},r.prototype.saveOriginMapping=function(){var t=this.plot.options,e=t.colorField,n=t.colors,a={field:e,values:n};this.originMapping=a},r.prototype.adjustScale=function(t){var e=this.view;if(this.mapping&&(0,f.hasKey)(this.mapping,String(t))){var n=(0,f.clone)(this.mapping[t]);if(n.values&&(0,f.isFunction)(n.values)){var a=n.values(this.parentNode,this.currentNode);n.values=a}this.view.geometries[0].color(n.field,n.values)}else{var n=(0,f.clone)(this.originMapping);this.view.geometries[0].color(n.field,n.values)}e.render()},r.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox,e=this.geometry.container;e.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},r.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},r}(Sa),B_=Up;Sa.registerInteraction("drilldown",Up);var D_={drilldown:B_},F_={rect:"polygon",breadcrumb:"breadcrumb"},R_=yi(F_);(0,f.assign)(on,R_);var Zp=4,N_=8;function Y_(i,r){return!i.children||i.depth>=r}function G_(i,r,t){var e=i.attr("fontSize"),n=i.attr("text"),a=t.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:e}}),o=n.split(`
`),s=o.map(function(l){for(var u="",h=l.split(""),c=[],v=0;v<h.length;v++){var y=h[v];a.attr("text",u+=y);var A=a.getBBox().width-1;if(A>r){if(v===0)break;c.push(v),u=""}}return bd(h,c)});return a.remove(),s.join(`
`)}function Kp(i,r,t,e){for(var n=e.addShape("text",{attrs:{text:"...",x:0,y:0,fontSize:r}}),a=n.getBBox().width,o=e.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:r}}),s="",l=t-a,u=0;u<i.length;u++){var h=i[u];o.attr("text",s+=h);var c=o.getBBox().width;if(c>=l){var v=s.substr(0,s.length-1);if(v.length>0)return v+"..."}}return o.remove(),n.remove(),s}var z_=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,f.each)(t,function(e){var n=e.shape,a=n.get("origin").data,o=Y_(a,r.plot.options.maxLevel);if(a.showLabel){var s=(0,f.clone)(r.options.style),l=r.getPosition(n,o),u=r.options.formatter,h=u?u(a.name):a.name,c=r.getTextBaseLine(o),v=r.container.addShape("text",{attrs:(0,f.deepMix)({},s,{x:l.x,y:l.y,text:h,fill:"black",textAlign:"center",textBaseline:c,fontWeight:o?300:600}),name:"label"});r.adjustLabel(v,n,o)}})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getPosition=function(r,t){var e=r.getBBox(),n=0,a=0;return t?(n=e.minX+e.width/2,a=e.minY+e.height/2):(n=e.x+e.width/2,a=e.y+4),{x:n,y:a}},i.prototype.getTextBaseLine=function(r){return r?"middle":"top"},i.prototype.adjustLabel=function(r,t,e){e?this.adjustLeafLabel(r,t):this.adjustParentLabel(r,t)},i.prototype.adjustLeafLabel=function(r,t){var e=t.getBBox(),n=r.getBBox(),a=(0,f.clone)(r.attr("text")),o=2,s=Math.max(r.attr("fontSize")-o,N_),l=e.x+e.width/2,u=e.y+e.height/2;r.attr({x:l,y:u,textAlign:"center",textBaseline:"middle",lineHeight:s,fontSize:s});var h=e.width-Zp*2;if(n.width>e.width&&n.height>e.height){r.attr("text","");return}else if(h<s){r.attr("text","");return}if(n.width>e.width){var c=G_(r,h,this.container);r.attr({lineHeight:r.attr("fontSize"),text:c});var v=r.getBBox();if(v.height>e.height){var y=Kp(a,s,h,this.container);r.attr("text",y)}}},i.prototype.adjustParentLabel=function(r,t){var e=t.getBBox(),n=e.width-Zp*2;if(r.getBBox().width>n){var a=Kp(r.attr("text"),r.attr("fontSize"),n,this.container);r.attr("text",a)}},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,f.clone)(t)}},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="polygon"})},i}(),X_=z_,V_=4,Ls=4,$p=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="treemap",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:"tooltip"}]})},r.prototype.beforeInit=function(){var t=this;i.prototype.beforeInit.call(this);var e=this.options.interactions;e&&(0,f.each)(e,function(o){o.type==="drilldown"&&(t.isDrilldown=!0,t.options.maxLevel=1)});var n=this.options.data,a=this.getTreemapData(n);this.rootData=a},r.prototype.afterRender=function(){if(i.prototype.afterRender.call(this),this.options.label&&this.options.label.visible){var t=new X_((0,zt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.geometryParser=function(){return"polygon"},r.prototype.getTreemapData=function(t,e){var n=this.getViewRange(),a=zp(t,n.x,n.y,n.width,n.height);this.recursive(a,1);var o=[];return this.getAllNodes(a,o,e),o.sort(function(s,l){return s.depth-l.depth}),this.options.xField="x",this.options.yField="y",o},r.prototype.processData=function(){return this.rootData},r.prototype.coord=function(){},r.prototype.addGeometry=function(){var t=this,e=this.options,n=e.data,a=e.colorField,o=e.color,s=this.getTreemapData(n);this.rootData=s;var l=this.isNested(s);this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[a],values:o},style:{fields:["depth"],callback:function(u){var h=t.adjustStyleByDepth(u,l);return(0,f.deepMix)({},h,t.options.rectStyle)}},tooltip:{fields:["name","value"]}},this.options.tooltip&&this.options.tooltip.formatter&&(this.rect.tooltip.callback=this.options.tooltip.formatter),this.setConfig("geometry",this.rect)},r.prototype.applyInteractions=function(){var t=this,e=this.options.interactions,n=this.view.interactions;(0,f.each)(e,function(a){var o=D_[a.type];if(o){var s=new o((0,f.deepMix)({},{view:t.view,plot:t,startEvent:"polygon:click"},a.cfg,o.getInteractionRange(t.layerBBox,a.cfg)));n[a.type]=s}})},r.prototype.animation=function(){i.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,M)},r.prototype.recursive=function(t,e){var n=this,a=this.options.colorField;(0,f.each)(t,function(o){(0,f.each)(o.children,function(s){s.depth=e,e>1&&(s.parent=o),(0,f.hasKey)(s,a)||(s[a]=o[a]),s.showLabel=!0;var l=n.isLeaf(s);if(!l){var u=Math.abs(s.y1-s.y0),h=n.getLabelHeight(),c=u/2>h?h:Ls;s.showLabel=c!==Ls;var v=zp(s,s.x0+Ls,s.y0+c,s.x1-Ls,s.y1-Ls);n.fillColorField(v,a,s[a]),n.recursive(v,s.depth+1)}})})},r.prototype.getAllNodes=function(t,e,n){var a=this,o=n||this.options.maxLevel,s=this.getViewRange();(0,f.each)(t,function(l){(0,f.hasKey)(l,"x0")&&l.depth<=o&&e.push((0,zt.__assign)((0,zt.__assign)({},l),{x:[l.x0,l.x1,l.x1,l.x0],y:[s.height-l.y1,s.height-l.y1,s.height-l.y0,s.height-l.y0]})),(0,f.hasKey)(l,"children")&&a.getAllNodes(l.children,e)})},r.prototype.fillColorField=function(t,e,n){(0,f.each)(t,function(a){(0,f.hasKey)(a,e)||(a[e]=n)})},r.prototype.getLabelHeight=function(){var t=this.options.label,e=this.getPlotTheme().label.style.fontSize,n=0;if(t&&t.visible){var a=t.style;n=a&&a.fontSize?a.fontSize:e}return n+V_*2},r.prototype.isLeaf=function(t){return!t.children||t.children.length===0},r.prototype.isNested=function(t){var e=this.options.maxLevel;if(e===1)return!1;for(var n=!1,a=0;a<t.length;a++)if(t[a].children){n=!0;break}return n},r.prototype.adjustStyleByDepth=function(t,e){var n=this.options.maxLevel;return e?t===1?{lineWidth:1,stroke:"black",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.9)",opacity:.9}},r}(Gn),H_=$p;qr("treemap",$p);var W_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="treemap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=H_.getDefaultOptions,r}(Xr),Qp=W_,Jp=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="step-line",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{step:"hv"})},r}(_s);qr("step-line",Jp);var j_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="step-line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Jp.getDefaultOptions,r}(Xr),qp=j_;function tg(i,r){var t=[],e=i.get("origin").points;return(0,f.each)(e,function(n){t.push(r.convertPoint(n))}),t}var U_=function(){function i(r){(0,f.deepMix)(this,this.constructor.getDefaultOptions(r),r),this._init()}return i.getDefaultOptions=function(r){var t=r.transpose;return{visible:!0,size:t?32:80,spacing:t?8:12,offset:t?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(e,n){return(100*n/e).toFixed(2)+"%"}},animation:(0,f.deepMix)({},vo.DEFAULT_ANIMATE_CFG)}},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype.draw=function(){var r=this,t=this.transpose,e=this.view.getScaleByField(this.field).values,n=this.view.geometries[0],a=n.getShapes(),o,s,l,u;t?a.forEach(function(h,c){s=e[c],c++>0&&r._drawTag(l,u,h,s),u=s,l=h}):a.forEach(function(h,c){u=e[c],c++>0&&r._drawTag(h,u,o,s),s=u,o=h})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._drawTag=function(r,t,e,n){var a=this.transpose,o=this.view.geometries[0].coordinate,s=tg(r,o)[a?3:0],l=tg(e,o)[a?0:3];this._drawTagArrow(s,l),this._drawTagValue(s,t,l,n)},i.prototype._drawTagArrow=function(r,t){var e=this.spacing,n=this,a=n.size,o=n.offset,s=n.animation,l=n.transpose,u=this.arrow.headSize,h=t.y-r.y,c=t.x-r.x,v;l?(c-u)/2<e?(e=Math.max(1,(c-u)/2),v=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e,t.y-o-a/2]]):v=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e-u,t.y-o-a],[t.x-e,t.y-o-a/2],[t.x-e-u,t.y-o]]:(h-u)/2<e?(e=Math.max(1,(h-u)/2),v=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a/2,t.y-e]]):v=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a,t.y-e-u],[t.x+o+a/2,t.y-e],[t.x+o,t.y-e-u]];var y=this.container.addShape("polygon",{name:"arrow",attrs:(0,zt.__assign)((0,zt.__assign)({},this.arrow.style),{points:v})});s!==!1&&this._fadeInTagShape(y)},i.prototype._drawTagValue=function(r,t,e,n){var a=this,o=a.size,s=a.offset,l=a.animation,u=a.transpose,h=this.value.formatter(t,n),c=this.container.addShape("text",{name:"value",attrs:(0,zt.__assign)((0,zt.__assign)({},this.value.style),{text:h,x:u?(r.x+e.x)/2:r.x+s+o/2,y:u?r.y-s-o/2:(r.y+e.y)/2,textAlign:"center",textBaseline:"middle"})});if(u){var v=e.x-r.x,y=c.getBBox().width;if(y>v){var A=y/h.length,k=Math.max(1,Math.ceil(v/A)-1),R=h.slice(0,k)+"...";c.attr("text",R)}}l!==!1&&this._fadeInTagShape(c)},i.prototype._fadeInTagShape=function(r){var t=this.animation,e=r.attr("opacity");r.attr("opacity",0);var n=(0,f.get)(t,"appear",vo.DEFAULT_ANIMATE_CFG.appear).duration;r.animate({opacity:e},n)},i}(),eg=U_;function Z_(i){var r=i.getResponsiveTheme(),t=i.canvas;new mo({plot:i,responsiveTheme:r,dim:"x"}),new mo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var K_=[],$_=[{name:"responsiveAxis",method:Z_}],Q_={preRender:K_,afterRender:$_},J_=function(i){var r=i.opacity||1;return{opacity:r*.5}},q_=function(i){var r=i.opacity||1;return{opacity:r*.5}},uh={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:J_,disable:q_,selected:{lineWidth:1,stroke:"black"}}};ji("bar",uh);function qa(i){var r=i.indexOf("#")===0?i.substr(1):i,t=[];return t.push(parseInt(r.substr(0,2),16)),t.push(parseInt(r.substr(2,2),16)),t.push(parseInt(r.substr(4,2),16)),t}function fh(i){var r;return r=Math.round(i),r=r.toString(16),r.length===1&&(r="0"+i),r}function gG(i){return"#"+(fh(i[0])+fh(i[1])+fh(i[2]))}function Xl(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var hh=function(i){var r=qa(i),t=r[0],e=r[1],n=r[2],a=(t*299+e*587+n*114)/1e3<128;return a},rg=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a=this.options,o=a.style,s=a.formatter,l=[].concat(t.getModel().mappingData),u=this.getValue(t);return(0,f.deepMix)({},o,(0,zt.__assign)((0,zt.__assign)({},this.getPosition(t)),{text:s?s(u,(n={},n[As]=l[0]._origin,n.mappingDatum=l[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):u,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline()}))},r.prototype.adjustLabel=function(t,e){var n=this.options,a=n.adjustPosition,o=n.style;if(a){var s=this.getDefaultOffset(),l=t.getBBox(),u=this.getElementShapeBBox(e);if(u.width<=l.width){var h=u.maxX+this.options.offsetX+s;t.attr("x",h),t.attr("fill",o.fill)}}},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,zt.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.getValue=function(t){return(0,f.get)(t.getData(),this.layer.options.xField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,u=a.height,h=a.width,c=this.options,v=c.offsetX,y=c.offsetY,A=c.position,k=l+u/2+y,R=n<0?-1:1,H;if(A==="left"){var V=n>0?o:s;H=V+e*R+v}else if(A==="right"){var V=n>0?s:o;H=V+e*R+v}else H=o+h/2+v;return{x:H,y:k}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="right"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=qa(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],u=Xl(l,s);return u}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="right"&&o&&e!=="black"?null:void 0},r.prototype.getTextAlign=function(t){var e=this.getValue(t),n=this.options.position,a={right:"left",left:"left",middle:"center"},o={right:"right",left:"right",middle:"center"};return e<0?o[n]:a[n]},r.prototype.getTextBaseline=function(){return"middle"},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,f.each)(n.get("origin").points,function(y){a.push(e.coord.convertPoint(y))});var o=a.map(function(y){return y.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),u=a.map(function(y){return y.y}),h=Math.min.apply(Math,u),c=Math.max.apply(Math,u),v=new Wr(s,h,l-s,c-h);return v},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(Vf),ng=rg;Wi("bar",rg);var ig=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,u=a.height,h=this.options,c=h.offsetX,v=h.offsetY,y=l+u/2+v,A=n<0?-1:1,k=n>0?s:o,R=k+e*A+c;return{x:R,y}},r.prototype.getTextAlign=function(t){var e=this.getValue(t);return e>0?"left":"right"},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,f.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.height>=a.height})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,u=s.lightStyle,h=(0,f.groupBy)(e,function(c){return c.get(Ji)[vn.FIELD_ORIGIN][o]});(0,f.each)(e,function(c){var v=h[c.get(Ji)[vn.FIELD_ORIGIN][o]]||[],y=c.get("element"),A=y.shape,k=hh(A.attr("fill")),R=n.getElementShapeBBox(y),H=Wr.fromBBoxObject(c.getBBox());if(th(a,R)<=0&&c.set("visible",!1),H.width>R.width){var V=(0,f.findIndex)(v,function(ut){return ut===c});V!==v.length-1&&c.set("visible",!1)}else{c.attr({x:R.x+R.width/2,textAlign:"center"});var ot=H.width>R.width||H.height>R.height;ot?c.attr({stroke:u==null?void 0:u.stroke}):c.attr({fill:k?u==null?void 0:u.fill:l==null?void 0:l.fill,fillOpacity:k?u==null?void 0:u.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],u=(0,f.groupBy)(a,function(y){return y.get(Ji)[vn.FIELD_ORIGIN][o]}),h=(0,f.uniq)((0,f.map)(a,function(y){return y.get(Ji)[vn.FIELD_ORIGIN][o]})),c;for((0,f.size)(h)>0&&(c=h.shift(),(0,f.each)(u[c],function(y){return l.push(y)})),(0,f.size)(h)>0&&(c=h.pop(),(0,f.each)(u[c],function(y){return l.push(y)})),(0,f.each)(h.reverse(),function(y){(0,f.each)(u[y],function(A){return l.push(A)})});l.length>0;){var v=l.shift();v.get("visible")&&(Rl(v,n),Nl(v,s)?v.set("visible",!1):s.push(v))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,f.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(ng),tL=ig;Wi("bar-auto",ig);var eL={bar:"interval"},rL=yi(eL);(0,f.assign)(on,rL);var nL={bar:"interval"},iL={interval:"bar"},ag=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bar",t}return r.getDefaultOptions=function(){var t={xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1},nice:!0},yAxis:{visible:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!1,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}};return(0,f.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this);var t=this.options;t.responsive&&t.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),t.responsive&&t.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new eg((0,zt.__assign)({view:this.view,field:t.xField,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?nL[e]:iL[e]},r.prototype.processData=function(t){var e=t&&t.slice().reverse(),n=this.options.yField,a=[];return(0,f.each)(e,function(o){var s=(0,f.clone)(o);s[n]=s[n].toString(),a.push(s)}),a},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={type:"cat"},(0,f.has)(t,"yAxis")&&si(e[t.yField],t.yAxis),e[t.xField]={},(0,f.has)(t,"xAxis")&&si(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.axis=function(){var t=Ei("axis",{plot:this,dim:"x"}),e=Ei("axis",{plot:this,dim:"y"});t&&(t.position="left"),e&&(e.position="bottom");var n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.adjustBar=function(t){return null},r.prototype.addGeometry=function(){var t=this.options,e=Wn("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,f.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(e),this.bar=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.bar.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,E)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=go(this.view,"interval");this.doRenderLabel(s,(0,zt.__assign)({type:"bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.bar.tooltip.fields.push(this.options.colorField)))},r.prototype.applyResponsive=function(t){var e=this,n=Q_[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r.prototype.getLabelOptionsByPosition=function(t){if(t==="middle")return{offset:0};if(t==="left")return{offset:7,style:{stroke:null,lineWidth:0}};if(t==="right")return{offset:4}},r}(Gn),Vl=ag;qr("bar",ag);var aL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Vl.getDefaultOptions,r}(Xr),og=aL;ji("stackedBar",uh);var oL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var n=t.getBBox(),a=this.getElementShapeBBox(e);a.maxX<=n.maxX&&t.set("visible",!1)}},r}(ng),yG=null;Wi("stacked-bar",oL);var sL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(tL),mG=null;Wi("stacked-bar-auto",sL);var sg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},legend:{visible:!0,position:"top-left",offsetY:0}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=go(this.view,"interval");this.doRenderLabel(s,(0,zt.__assign)({type:"stacked-bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(Vl),ch=sg;qr("stackedBar",sg);var lL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ch.getDefaultOptions,r}(Xr),lg=lL;ji("groupedBar",uh);var ug=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",adjustColor:!0},legend:{visible:!0,position:"right-top",offsetY:0}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=(0,f.valuesOfKey)(this.options.data,this.options.groupField)||[];this.view.on("tooltip:change",function(e){var n=e.items,a=n===void 0?[]:n,o=(0,f.sortBy)(a.slice(),function(s){return t.indexOf(s.name)}).reverse();o.forEach(function(s,l){e.items[l]=s})})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.scale=function(){var t={};t[this.options.groupField]={values:(0,f.valuesOfKey)(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=(0,f.deepMix)({},this.options.meta,t):this.options.meta=t,i.prototype.scale.call(this)},r.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(Vl),fg=ug;qr("groupedBar",ug);var uL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=fg.getDefaultOptions,r}(Xr),hg=uL,vh=function(i,r,t){var e=(0,f.groupBy)(i,r);e=(0,f.mapValues)(e,function(o){return(0,f.map)(o,function(s){return(0,f.map)(t,function(l){return s[l]})})}),e=(0,f.mapValues)(e,f.flatten),e=(0,f.mapValues)(e,function(o){return(0,f.map)(o,function(s){var l=Number.parseFloat(s);return!(0,f.isNumber)(l)||isNaN(l)?0:l})});var n=(0,f.mapValues)(e,function(o){return(0,f.reduce)(o,function(s,l){return s+l},0)}),a=(0,f.map)(i,function(o){var s=(0,zt.__assign)((0,zt.__assign)({},o),{_origin:o,total:n[o[r]]});return(0,f.each)(t,function(l){s[l]=o[l]/(n[o[r]]||1)}),s});return(0,f.each)((0,f.groupBy)(a,r),function(o){var s=0;(0,f.each)(o,function(l,u){(0,f.each)(t,function(h,c){(s+l[h]>=1||u===o.length-1&&c===t.length-1&&s>0)&&(l[h]=1-s),s+=l[h]})})}),a},cg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedBar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField,o=i.prototype.processData.call(this,t);return vh(o,a,[n])},r.prototype.scale=function(){var t={},e=this.options.xField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(ch),vg=cg;qr("percentStackedBar",cg);var fL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=vg.getDefaultOptions,r}(Xr),dg=fL,pg=8;function hL(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var cL=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.elements,n=t.coordinate;this.coord=n,(0,f.each)(e,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),u=r.getTextAlign(),h=[];(0,f.each)(s,function(c,v){var y=v===0?r.options.leftStyle:r.options.rightStyle,A=r.getTextColor(o,v);r.options.position==="inner"&&r.options.adjustColor&&A!=="black"&&(y.stroke=null);var k=r.options.formatter,R=k?k(l[v]):l[v],H=r.container.addShape("text",{attrs:(0,f.deepMix)({},y,{x:c.x,y:c.y,text:R,fill:A,textAlign:u[v],textBaseline:"middle"}),name:"label"});h.push(H),r.doAnimation(H)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,f.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new Wr(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:pg,offsetY:0,style:(0,f.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.maxX,a=t.minY,o=t.height,s=this.options,l=s.offsetX,u=s.offsetY,h=a+o/2+u,c,v;return this.options.position==="outer"?(c=e-l,v=n+l):(c=e+l,v=n-l),[{x:c,y:h},{x:v,y:h}]},i.prototype.getValue=function(r){var t=this.plot.options.xField;return r.get("origin").data[t]},i.prototype.getTextAlign=function(){return this.options.position==="outer"?["right","left"]:["left","right"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=qa(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=hL(s,o);return l}var u=t===0?this.options.leftStyle.fill:this.options.rightStyle.fill;return u},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.x[0],o=n.x[1],s=Math.abs(o-a),l=this.view.coordinateBBox,u=[r.getBBox(),t.getBBox()],h=r.attr("x"),c=t.attr("x");if(this.options.adjustPosition&&this.options.position==="inner"){var v=u[0].width+u[1].width,y=u[0].maxX-u[1].minX>2,A=v>s;(y||A)&&(h=a-this.options.offsetX,r.attr("fill",this.options.leftStyle.fill),r.attr("textAlign","right"),u[0]=r.getBBox(),c=o+this.options.offsetX,t.attr("fill",this.options.rightStyle.fill),t.attr("textAlign","left"),u[1]=t.getBBox())}u[0].minX<l.minX&&(h=l.minX+pg,r.attr("textAlign","left")),r.attr("x",h),t.attr("x",c),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),vL=cL,gg;function yg(i,r){var t=i.getBBox(),e=t.minX+t.width/2;i.setClip({type:"rect",attrs:{x:e,y:t.minY,width:0,height:t.height}});var n=i.get("clipShape");n.animate({width:t.width,x:t.minX},r.duration,r.easing,function(){i.setClip(null)},r.delay)}yg.animationName="clipInFromCenter";function dL(i){gg=i}function mg(i,r){var t=pL(i).attr("path"),e=(0,f.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function pL(i){var r=i.id,t;return(0,f.each)(gg,function(e){e.id===r&&(t=e)}),t}mg.animationName="updateFromCenter",qn("clipInFromCenter",yg),qn("updateFromCenter",mg);var xg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeBar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,f.each)(e,function(n){var a=n.elements;(0,f.each)(a,function(o){t.push(o.shape)})}),dL(t),i.prototype.afterRender.call(this)},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new vL((0,zt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.animation=function(){i.prototype.animation.call(this)},r}(Vl),gL=xg;qr("rangeBar",xg);var yL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rangeBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=gL.getDefaultOptions,r}(Xr),bg=yL,wg=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(Fp),mL=wg;Wi("area-point",wg);var Sg=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){i.prototype.layoutLabels.call(this,t,e),this.adjustAreaLabelsStyle(e)},r.prototype.adjustAreaLabelsStyle=function(t){var e=this.view,n=this.options,a=n.darkStyle,o=n.lightStyle,s=go(e,"area"),l=ZA(s).sort(function(u,h){return h.getBBox().height-u.getBBox().height});(0,f.each)(t,function(u){var h=u.getBBox(),c=ZE(h.x,h.y,h.width,h.height),v=(0,f.map)(l,function(k){return{area:k,matches:(0,f.filter)(c,function(R){return!!k.isHit(R[0],R[1])}).length}}).sort(function(k,R){return k.matches-R.matches});if((0,f.last)(v).matches>0){var y=(0,f.last)(v).area.attr("fill"),A=hh(y);u.attr({fill:A?o==null?void 0:o.fill:a==null?void 0:a.fill,fillOpacity:A?o.fillOpacity:a.fillOpacity,stroke:A?o==null?void 0:o.stroke:a==null?void 0:a.stroke})}})},r}(QP),xL=Sg;Wi("area-point-auto",Sg);function bL(i){var r=i.getResponsiveTheme(),t=i.canvas;new mo({plot:i,responsiveTheme:r,dim:"x"}),new mo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var wL=[],SL=[{name:"responsiveAxis",method:bL}],ML={preRender:wL,afterRender:SL},CL={area:"area",line:"line",point:"point"},EL=yi(CL);(0,f.assign)(on,EL);var AL=function(i){var r=i.opacity||1;return{opacity:r}},TL=function(i){var r=i.opacity||1;return{opacity:r*.5}},PL=function(i){var r=i.opacity||1;return{opacity:r}},_L=function(i){var r=i.opacity||1;return{opacity:r*.5}},LL=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},OL=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},IL=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},kL=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}},Mg={areaStyle:{normal:{},active:AL,disable:TL,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:PL,disable:_L,selected:LL},pointStyle:{normal:{},active:OL,disable:kL,selected:IL},label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",fillOpacity:1,stroke:"#2c3542"}}};ji("area",Mg);var BL={area:"area",line:"line",point:"point"},Cg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="area",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return BL[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&si(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&si(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){return null},r.prototype.addGeometry=function(){var t=this.options,e=Wn("area","main",{plot:this});this.area=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.adjustArea(e),this.setConfig("geometry",e),this.addLine(),this.addPoint()},r.prototype.adjustArea=function(t){},r.prototype.adjustLine=function(t){},r.prototype.adjustPoint=function(t){},r.prototype.addLine=function(){var t=this.options,e=(0,f.deepMix)({},t.line);if(e.visible){var n=Wn("line","guide",{type:"line",plot:this,line:e});this.adjustLine(n),this.setConfig("geometry",n),this.line=n}},r.prototype.addPoint=function(){var t=this.options,e=(0,f.deepMix)({},t.point);if(e.visible){var n=Wn("point","guide",{plot:this});this.adjustPoint(n),this.setConfig("geometry",n),this.point=n}},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=go(this.view,"area");this.doRenderLabel(s,(0,zt.__assign)({type:"area-point",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.label=function(){},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.area.tooltip.fields.push(this.options.seriesField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,p)},r.prototype.applyResponsive=function(t){var e=this,n=ML[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r}(Gn),dh=Cg;qr("area",Cg);var DL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="area",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=dh.getDefaultOptions,r}(Xr),Eg=DL,FL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getShapeInfo=function(t){var e=t.get("origin").points,n=e[e.length-1],a=t.attr("stroke"),o=this.plot.options.stackField,s=t.get("origin").data[0][o],l=(0,f.reduce)(n.y,function(u,h){return u+h},0)/(0,f.size)(n.y);return{x:n.x,y:l,color:a,name:s}},r}(Np),RL=FL,ph=12,NL=.01,YL=100,GL=12;function zL(i){var r=-Infinity,t=Infinity,e=-Infinity;return(0,f.each)(i,function(n){t=Math.min(n.x,t),e=Math.max(n.x,e);var a=Math.abs(n.y[0]-n.y[1]);r=Math.max(r,a)}),{xRange:[t,e],maxHeight:r}}function Ag(i,r,t){var e=r[0],n=r[r.length-1];(0,f.each)(r,function(o){if(o.x===i)return o.y[t];o.x<i&&o.x>e.x&&(e=o),o.x>i&&o.x<n.x&&(n=o)});var a=(i-e.x)/(n.x-e.x);return e.y[t]*(1-a)+n.y[t]*a}function XL(i,r){var t;for(t=0;t<i.length;t++){var e=i[t];if(e.x===r||e.x>r)break}return t}var VL=function(){function i(r){this.destroyed=!1,this.scaleFactor=[],this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.plot.options.stackField,e=this.getGeometry().dataArray,n=[];(0,f.each)(e,function(o,s){var l=r.drawLabel(o,s);l&&(n.push((0,f.deepMix)({},o[0],l)),r.scaleFactor.push(l.scaleFactor))});var a=[];(0,f.each)(n,function(o,s){var l=r.options,u=l.style,h=l.offsetX,c=l.offsetY,v=r.getFontSize(s),y=r.options.formatter,A=y?y(o._origin[t]):o._origin[t],k=r.container.addShape("text",{attrs:(0,f.deepMix)({},{x:o.x+h,y:o.y+c,text:A,fill:o.color,fontSize:v,textAlign:"center",textBaseline:"top"},u),name:"label"});a.push(k)}),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,f.clone)(r.label.style);return t.stroke=null,delete t.fill,{offsetX:0,offsetY:0,style:t,autoScale:!0}},i.prototype.drawLabel=function(r,t){var e=zL(r),n=e.xRange,a=e.maxHeight,o=n[1]-n[0],s=this.getInterpolatedPoints(n[0],o,r),l=this.getLabelBbox(t),u={xRange:n,aspect:l.width/l.height,data:s,justTest:!0},h=this.bisection(GL,a,this.testFit,u,NL,YL);if(h!==null){u.justTest=!1;var c=this.testFit(u);return c.x=c.x,c.y=c.y0+(c.y1-c.y0)/2,c.scaleFactor=h/l.height*.2,c}},i.prototype.getInterpolatedPoints=function(r,t,e){for(var n=[],a=2,o=r;o<t;o+=a){var s=Ag(o,e,0),l=Ag(o,e,1);n.push({x:o,y:[s,l]})}return n},i.prototype.bisection=function(r,t,e,n,a,o){for(var s=0;s<o;s++){var l=(r+t)/2,u=n;u.height=l,u.width=l*u.aspect;var h=e(u),c=(t-r)/2<a;if(h&&c)return l;h?r=l:t=l}return null},i.prototype.testFit=function(r){for(var t=r.xRange,e=r.width,n=r.height,a=r.data,o=r.justTest,s=0;s<a.length;s++){var l=a[s],u=l.x,h=u+e;if(h>t[1])break;for(var c=XL(a,h),v=-Infinity,y=null,A=Infinity,k=s;k<c;k++){var R=a[k].y[1],H=a[k].y[0];if(H<A&&(A=H),R>v&&(v=R,y=H),A-v<n)break}if(A-v>=n)return o?!0:{x:u,y0:v,y1:y,width:e,height:n}}return!1},i.prototype.getLabelBbox=function(r){var t=(0,f.clone)(this.plot.theme.label.textStyle);t.fontSize=ph;var e=this.container.addShape("text",{attrs:(0,zt.__assign)({text:r,x:0,y:0},t)}),n=e.getBBox();return e.remove(),n},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="area"})},i.prototype.getFontSize=function(r){if(this.options.autoScale){var t=this.scaleFactor[r];return ph*t}return ph},i}(),HL=VL,WL={lineLabel:{Ctr:RL},areaLabel:{Ctr:HL}};function jL(i,r,t){if(i.options[r]&&i.options[r].visible){var e=WL[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var UL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(mL),xG=null;Wi("stackedArea-point",UL);var ZL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.sortLabels=function(t,e){var n=[];return e.length>0&&n.push(e.shift()),e.length>0&&n.push(e.pop()),n.push.apply(n,e),n},r}(xL),bG=null;Wi("stackedArea-point-auto",ZL),ji("stackedArea",Mg);var Tg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.plotComponents=[],t.type="stackedArea",t.baseType="area",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},r.prototype.beforeInit=function(){var t=(0,f.get)(this.options,["label","visible"]),e=(0,f.get)(this.options,["label","type"]),n=this.options;t&&(e==="line"&&(n.lineLabel=this.options.label),e==="area"&&(n.areaLabel=this.options.label)),i.prototype.beforeInit.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.label=function(){var t=this.options,e=t.label;if(e&&e.visible===!1){this.line&&(this.line.label=!1),this.point&&(this.point.label=!1),this.area.label=!1;return}},r.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},r.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,i.prototype.afterRender.call(this)},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r.prototype.renderPlotComponents=function(){var t=this,e=["areaLabel","lineLabel"];(0,f.each)(e,function(n){var a=(0,zt.__assign)({view:t.view,plot:t},t.options[n]),o=jL(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(dh),gh=Tg;qr("stackedArea",Tg);var KL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=gh.getDefaultOptions,r}(Xr),Pg=KL,_g=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedArea",t.baseType="stackedArea",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return vh(t,n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[this.options.yField]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},t,this.options.meta),i.prototype.scale.call(this)},r}(gh),Lg=_g;qr("percentStackedArea",_g);var $L=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Lg.getDefaultOptions,r}(Xr),Og=$L;function QL(i){var r=i.getResponsiveTheme(),t=i.canvas;new mo({plot:i,responsiveTheme:r,dim:"x"}),new mo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var JL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,f.get)(this.plot.options,["label","position"],"inner")},r}(Bp);function qL(i){var r=i.getResponsiveTheme();new JL({plot:i,responsiveTheme:r})}var tO=[],eO=[{name:"responsiveAxis",method:QL},{name:"responsiveLabel",method:qL}],rO={preRender:tO,afterRender:eO},nO={label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}};sp("column",nO);var Ig=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a,o=this.options,s=o.style,l=o.formatter,u=[].concat(t.getModel().mappingData),h=this.getValue(t);return(0,f.deepMix)({},s,(0,zt.__assign)((0,zt.__assign)({},this.getPosition(t)),{text:l?l(h,(n={},n[As]=(a=u[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=u[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):h,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseLine()}))},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,zt.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=this.getDefaultOffset(),o=t.getBBox(),s=this.getElementShapeBBox(e);if(s.height<=o.height){var l=s.minY+this.options.offsetY-a;t.attr("y",l),t.attr("textBaseline","bottom"),t.attr("fill",this.options.style.fill)}}},r.prototype.getValue=function(t){return(0,f.get)(t.getData(),this.layer.options.yField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,u=a.height,h=a.width,c=this.options,v=c.offsetX,y=c.offsetY,A=c.position,k=o+h/2+v,R=n>0?-1:1,H;if(A==="top"){var V=n>0?s:l;H=V+e*R+y}else if(A==="bottom"){var V=n>0?l:s;H=V+e*R+y}else H=s+u/2+y;return{x:k,y:H}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="top"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=qa(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],u=Xl(l,s);return u}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="top"&&o&&e!=="black"?null:void 0},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,f.each)(n.get("origin").points,function(y){a.push(e.coord.convertPoint(y))});var o=a.map(function(y){return y.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),u=a.map(function(y){return y.y}),h=Math.min.apply(Math,u),c=Math.max.apply(Math,u),v=new Wr(s,h,l-s,c-h);return v},r.prototype.getTextAlign=function(){return"center"},r.prototype.getTextBaseLine=function(){return"middle"},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(Vf),yh=Ig;Wi("column",Ig);var kg=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,u=a.width,h=this.options,c=h.offsetX,v=h.offsetY,y=o+u/2+c,A=n>0?-1:1,k=n>0?s:l,R=k+e*A+v;return{x:y,y:R}},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,f.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.width>=a.width})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,u=s.lightStyle,h=(0,f.groupBy)(e,function(c){return c.get(Ji)[vn.FIELD_ORIGIN][o]});(0,f.each)(e,function(c){var v=h[c.get(Ji)[vn.FIELD_ORIGIN][o]]||[],y=c.get("element"),A=y.shape,k=hh(A.attr("fill")),R=n.getElementShapeBBox(y),H=Wr.fromBBoxObject(c.getBBox());if(th(a,R)<=0&&c.set("visible",!1),H.height>R.height){var V=(0,f.findIndex)(v,function(ut){return ut===c});V!==0&&c.set("visible",!1)}else{c.attr({y:R.y+R.height/2,textBaseline:"middle"});var ot=H.width>R.width||H.height>R.height;ot?c.attr({stroke:u==null?void 0:u.stroke}):c.attr({fill:k?u==null?void 0:u.fill:l==null?void 0:l.fill,fillOpacity:k?u==null?void 0:u.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],u=(0,f.groupBy)(a,function(y){return y.get(Ji)[vn.FIELD_ORIGIN][o]}),h=(0,f.uniq)((0,f.map)(a,function(y){return y.get(Ji)[vn.FIELD_ORIGIN][o]})),c;for((0,f.size)(h)>0&&(c=h.shift(),(0,f.each)(u[c],function(y){return l.push(y)})),(0,f.size)(h)>0&&(c=h.pop(),(0,f.each)(u[c],function(y){return l.push(y)})),(0,f.each)(h.reverse(),function(y){(0,f.each)(u[y],function(A){return l.push(A)})});l.length>0;){var v=l.shift();v.get("visible")&&(Rl(v,n),Nl(v,s)?v.set("visible",!1):s.push(v))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,f.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(yh),iO=kg;Wi("column-auto",kg);var aO={column:"interval"},oO=yi(aO);(0,f.assign)(on,oO);var sO=function(i){var r=i.opacity||1;return{opacity:r*.5}},lO=function(i){var r=i.opacity||1;return{opacity:r*.5,fillOpacity:r*.5}},mh={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:sO,disable:lO,selected:{lineWidth:1,stroke:"black"}}};ji("column",mh);var uO={column:"interval"},fO={interval:"column"},Bg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="column",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new eg((0,zt.__assign)({view:this.view,field:t.yField,transpose:!0,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?uO[e]:fO[e]},r.prototype.processData=function(t){var e=this.options.xField,n=[];return(0,f.each)(t,function(a){var o=(0,f.clone)(a);o[e]=o[e].toString(),n.push(o)}),n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&si(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&si(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.adjustColumn=function(t){},r.prototype.addGeometry=function(){var t=this.options,e=Wn("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,f.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(e),this.column=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.column.tooltip.fields.push(this.options.colorField)))},r.prototype.animation=function(){i.prototype.animation.call(this),this.options.animation===!1&&(this.column.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,b)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n==null?void 0:n.visible){var s=go(this.view,"interval");this.doRenderLabel(s,(0,zt.__assign)({type:"column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.applyResponsive=function(t){var e=this,n=rO[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r}(Gn),ts=Bg;qr("column",Bg);var hO=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="column",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ts.getDefaultOptions,r}(Xr),Dg=hO;ji("groupedColumn",mh);var Fg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.baseType="column",t.type="groupedColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.addGeometry=function(){i.prototype.addGeometry.call(this)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(ts),xh=Fg;qr("groupedColumn",Fg);var cO=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=xh.getDefaultOptions,r}(Xr),Rg=cO;function Ng(i,r){var t=[],e=i.get("origin").points;return(0,f.each)(e,function(n){t.push(r.convertPoint(n))}),t}function vO(){return{areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}}var dO=function(){function i(r){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},(0,f.assign)(this,r),this._init()}return i.prototype.draw=function(){var r=this,t=this._getGroupedShapes();(0,f.each)(t,function(e,n){e.length>0&&r._drawConnection(e,n)}),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},i.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.setState=function(r,t){r==="active"&&this._onActive(t),r==="disabled"&&this._onDisabled(t),r==="selected"&&this._onSelected(t)},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype._getGroupedShapes=function(){var r=this,t=this.view.getScaleByField(this.field).values,e=this.view.geometries[0],n=e.getShapes(),a={};return(0,f.each)(t,function(o){a[o]=[]}),(0,f.each)(n,function(o){var s=o.get("origin").data,l=s[r.field];a[l].push(o)}),a},i.prototype._drawConnection=function(r,t){var e=r[0].attr("fill");this._areaStyle[t]=this._getShapeStyle(e,"area"),this._lineStyle[t]=this._getShapeStyle(e,"line");for(var n=this.view.geometries[0].coordinate,a=0;a<r.length-1;a++){var o=Ng(r[a],n),s=Ng(r[a+1],n),l=(0,f.mix)({},this._areaStyle[t]),u=(0,f.mix)({},this._lineStyle[t]);this.triggerOn&&(l.opacity=0,u.opacity=0);var h=this.container.addShape("path",{attrs:(0,f.mix)({},l,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y],["L",s[0].x,s[0].y],["L",o[3].x,o[3].y]]}),name:"connectedArea"}),c=this.container.addShape("path",{attrs:(0,f.mix)({},u,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y]]}),name:"connectedArea"}),v=r[a].get("origin").data;h.set("data",v),c.set("data",v),this.areas.push(h),this.lines.push(c)}},i.prototype._getShapeStyle=function(r,t){var e=t+"Style";if(this[e])return this[e];var n=vO()[e],a={fill:r};return t==="line"&&(a={stroke:r}),(0,f.mix)(n,a)},i.prototype._addInteraction=function(){var r=this,t=this.triggerOn;this.view.on("interval:"+t,function(e){var n=e.target.get("origin").data[r.field];r.setState("active",{name:r.field,exp:n}),r.setState("disabled",{name:r.field,exp:function(a){return a!==n}}),r.view.canvas.draw()}),this.view.on("mousemove",function(e){e.gEvent.target.get("name")!=="interval"&&r.setState("disabled",{name:r.field,exp:function(){return!0}})})},i.prototype._initialAnimation=function(){var r=this.view.coordinateBBox,t=r.x,e=r.y,n=r.width,a=r.height;this.container.setClip({type:"rect",attrs:{x:t,y:e,width:0,height:a}}),this.container.set("animating",!0),this.container.getClip().animate({width:n},600,"easeQuadOut",function(){},400)},i.prototype._onActive=function(r){var t=this;(0,f.each)(this.areas,function(e){var n=e.get("data"),a=n[t.field];if(Ja(n,r)){var o=t._areaStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}}),(0,f.each)(this.lines,function(e){var n=e.get("data"),a=n[t.field];if(Ja(n,r)){var o=t._lineStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}})},i.prototype._onDisabled=function(r){(0,f.each)(this.areas,function(t){var e=t.get("data");Ja(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))}),(0,f.each)(this.lines,function(t){var e=t.get("data");Ja(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))})},i.prototype._onSelected=function(r){this._onActive(r)},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),pO=dO;ji("stackedColumn",mh);var gO=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=t.getBBox(),o=this.getElementShapeBBox(e);(o.height<a.height||o.width<a.width)&&t.hide()}},r}(yh),wG=null;Wi("stacked-column",gO);var yO=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(iO),SG=null;Wi("stacked-column-auto",yO);var Yg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedColumn",t.baseType="column",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},r.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),i.prototype.init.call(this)},r.prototype.afterRender=function(){var t=this.options;t.connectedArea.visible&&(this.connectedArea=new pO((0,zt.__assign)({view:this.view,field:t.stackField,animation:t.animation!==!1},t.connectedArea))),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n&&n.visible){var s=go(this.view,"interval");this.doRenderLabel(s,(0,zt.__assign)({type:"stacked-column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(ts),Hl=Yg;qr("stackedColumn",Yg);var mO=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Hl.getDefaultOptions,r}(Xr),Gg=mO,bh=8;function xO(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var bO=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.coordinate,n=t.elements;this.coord=e,(0,f.each)(n,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),u=r.getTextBaseline(),h=[];(0,f.each)(s,function(c,v){var y=v===1?r.options.topStyle:r.options.bottomStyle,A=r.getTextColor(o,v);r.options.position==="inner"&&r.options.adjustColor&&A!=="black"&&(y.stroke=null);var k=r.options.formatter,R=k?k(l[v]):l[v],H=r.container.addShape("text",{attrs:(0,f.deepMix)({},y,{x:c.x,y:c.y,text:R,fill:A,textAlign:"center",textBaseline:u[v]}),name:"label"});h.push(H),r.doAnimation(H)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,f.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new Wr(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:0,offsetY:bh,style:(0,f.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.minY,a=t.maxY,o=t.width,s=this.options.offsetY,l=e+o/2,u,h;return this.options.position==="outer"?(u=n-s,h=a+s):(u=n+s,h=a-s),[{x:l,y:h},{x:l,y:u}]},i.prototype.getValue=function(r){var t=this.plot.options.yField;return r.get("origin").data[t]},i.prototype.getTextBaseline=function(){return this.options.position==="outer"?["top","bottom"]:["bottom","top"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=qa(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=xO(s,o);return l}var u=t===1?this.options.topStyle.fill:this.options.bottomStyle.fill;return u},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.y[1],o=n.y[0],s=e.getBBox(),l=s.height,u=l,h=this.view.coordinateBBox,c=[r.getBBox(),t.getBBox()],v=r.attr("y"),y=t.attr("y");if(this.options.adjustPosition&&this.options.position==="inner"){var A=c[0].height+c[1].height,k=c[1].maxY-c[0].minY>2,R=A>u;(k||R)&&(y=a-this.options.offsetY,t.attr("fill",this.options.topStyle.fill),t.attr("textBaseline","bottom"),v=o+this.options.offsetY,r.attr("fill",this.options.bottomStyle.fill),r.attr("textBaseline","top"),c[0]=r.getBBox(),c[1]=t.getBBox())}c[0].maxY>h.maxY-bh&&(v=h.maxY-bh/2,r.attr("textBaseline","bottom")),r.attr("y",v),t.attr("y",y),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),wO=bO,zg;function Xg(i,r){var t=i.getBBox(),e=t.minY+t.height/2;i.setClip({type:"rect",attrs:{x:t.minX,y:e,width:t.width,height:0}});var n=i.get("clipShape");n.animate({height:t.height,y:t.minY},r.duration,r.easing,function(){i.setClip(null)},r.delay)}Xg.animationName="clipInFromCenterVertical";function SO(i){zg=i}function Vg(i,r){var t=MO(i).attr("path"),e=(0,f.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function MO(i){var r=i.id,t;return(0,f.each)(zg,function(e){e.id===r&&(t=e)}),t}Vg.animationName="updateFromCenterVertical",qn("clipInFromCenterVertical",Xg),qn("updateFromCenterVertical",Vg);var Hg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,f.each)(e,function(n){var a=n.elements;(0,f.each)(a,function(o){t.push(o.shape)})}),SO(t),i.prototype.afterRender.call(this)},r.prototype.animation=function(){i.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new wO((0,zt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r}(ts),CO=Hg;qr("rangeColumn",Hg);var EO=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rangeColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=CO.getDefaultOptions,r}(Xr),Wg=EO,jg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return vh(t||[],n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(Hl),Ug=jg;qr("percentStackedColumn",jg);var AO=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Ug.getDefaultOptions,r}(Xr),Zg=AO,TO={pie:"interval"},PO=yi(TO);(0,f.assign)(on,PO);function Wl(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}function MG(i){return{x:i.x+i.width/2,y:i.y+i.height/2}}function _O(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function LO(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e&&i.x<r.x&&(e=-e),n&&i.y<r.y&&(n=-n),i.x===r.x&&i.width===r.width&&(e=r.width),i.y===r.y&&i.height===r.height&&(n=r.height),{xOverlap:e,yOverlap:n}}function CG(i,r){return i.x<r.x&&i.x+i.width>r.x+r.width&&i.y<r.y&&i.y+i.height>r.y+r.height}var OO=function(i,r,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[i,r].includes(Infinity)?Math.abs(i)===Math.abs(r):Math.abs(i-r)<t};function IO(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function kO(i){var r=Math.PI/2,t=i;return(t>r||t<-r)&&(t=t+Math.PI),t}var EG=4;function BO(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}function DO(i,r){var t=i.getBBox();r.y<=t.y&&r.y+r.height>=t.y+t.height||i.get("parent").set("visible",!1)}var FO=function(){function i(r,t){this.destroyed=!1,this.plot=r,this.coordinateBBox=this.plot.view.coordinateBBox;var e=(0,f.deepMix)(this.getDefaultOptions(),t,{});this.adjustOption(e),this.options=e,this.init()}return i.prototype.adjustOverlap=function(r,t){for(var e=1;e<r.length;e++)for(var n=r[e],a=0,o=e-1;o>=0;o--){var s=r[o],l=s.getBBox(),u=n.getBBox();if(s.get("parent").get("visible")&&(a=_O(l,u),!OO(a,0))){n.get("parent").set("visible",!1);break}}r.forEach(function(h){return DO(h,t)})},i.prototype.adjustItem=function(r){},i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getFilteredSum=function(){var r=this.plot.options.angleField,t=this.plot.view.filteredData||[];return t.reduce(function(e,n){return e+n[r]},0)},i.prototype.drawTexts=function(){var r=this,t=this.options,e=t.style,n=t.formatter,a=t.autoRotate,o=t.offsetX,s=t.offsetY,l=t.adjustPosition,u=t.allowOverlap,h=this.getItems(),c=[];h.map(function(v,y){var A=(0,f.deepMix)({},v,e),k=r.getFilteredSum(),R=r.plot.options.angleField,H=v.origin[R]/k,V=n?n(v.name,{_origin:v.origin,percent:H},y):v.name,ot=r.container.addGroup({name:"itemGroup",index:y,capture:!1}),ut=ot.addShape("text",{attrs:(0,f.deepMix)({},A,{x:v.x+o,y:v.y+s,text:V})});ut.set("id","text-"+v.name+"-"+y),c.push(ut)}),c.forEach(function(v){var y=r.coordinateBBox;r.adjustText(v,y)}),l&&this.layout(c,h,this.coordinateBBox),u||this.adjustOverlap(c,this.coordinateBBox),c.forEach(function(v,y){a&&r.rotateLabel(v,kO(h[y].angle))})},i.prototype.adjustText=function(r,t){var e=r.getBBox(),n=e.width,a=0;if(e.maxX>t.maxX?n=t.maxX-e.minX:e.minX<t.minX&&(n=e.maxX-t.minX),r.attr("textAlign")==="left"?r.attr("x",Math.max(e.x-a,0)):r.attr("textAlign")==="right"&&r.attr("x",Math.max(e.maxX-a,0)),n!==e.width){var o={};["fontSize","fontFamily","fontWeight"].forEach(function(l){o[l]=r.attr(l)});var s=r.attr("text").split(`
`).map(function(l){return Zd(l,n,o)});r.attr("text",s.join(`
`))}},i.prototype.drawLines=function(){var r=this;if(this.options.line.visible){var t=this.container.get("children"),e=this.getCoordinate().center;t.forEach(function(n,a){var o=n.get("children")[0],s=r.arcPoints[a],l=s.x<e.x,u=r.options.offset>4?4:0,h=r.getLinePath(o,s,u),c=r.options.line;n.addShape("path",{attrs:(0,zt.__assign)({path:h,stroke:s.color},c)}),o.attr("x",o.attr("x")+(l?-u:u))})}},i.prototype.getLinePath=function(r,t,e){var n=this.options.line?this.options.line.smooth:!1,a=t.angle,o=this.getCoordinate(),s=o.center,l=o.radius,u=Wl(s,a,l+e);e<4&&(u=t);var h=t.x<s.x,c=r.getBBox(),v={x:h?c.maxX:c.minX,y:c.y+c.height/2},y=["C",v.x+(h?1:-1)*(e<4?e/2:4),v.y,2*u.x-t.x,2*u.y-t.y,u.x,u.y],A=["L",u.x,u.y],k=n?y:A,R=["M",v.x,v.y].concat(k).concat("L",t.x,t.y);return R.join(",")},i.prototype.getGeometry=function(){return this.plot.view.geometries[0]},i.prototype.getCoordinate=function(){var r=this.getGeometry().coordinate,t=r.getCenter(),e=r.getRadius(),n=r.startAngle;return{center:t,radius:e,startAngle:n}},i.prototype.adjustOption=function(r){var t=r.offset,e=this.getCoordinate().radius;(0,f.isString)(t)&&(t=e*BO(t)),r.offset=t},i.prototype.rotateLabel=function(r,t){var e=r.attr("x"),n=r.attr("y"),a=yn.transform(r.getMatrix(),[["t",-e,-n],["r",t],["t",e,n]]);r.setMatrix(a)},i.prototype.getItems=function(){var r=this,t=this.options.offset,e=this.getCoordinate(),n=e.center,a=e.radius,o=this.arcPoints.map(function(s){var l=Wl(n,s.angle,a+t),u=(0,zt.__assign)((0,zt.__assign)({},s),l);return r.adjustItem(u),u});return o},i.prototype.initArcPoints=function(){var r=this,t=this.plot.options.angleField,e=this.getGeometry().elements,n=this.getCoordinate(),a=n.center,o=n.radius,s=this.getCoordinate().startAngle,l=this.getGeometry().attributes.position.scales,u=l[1],h=u.field,c=e.map(function(v){var y=v.shape.get("origin"),A=y.color,k=y.data[0]||y.data,R=s+Math.PI*2*u.scale(k[h]),H=(s+R)/2,V=Wl(a,H,o);s=R;var ot=u.getText(k[t]),ut=V.x>a.x?"left":"right";return{x:V.x,y:V.y,color:A,name:ot,origin:k,angle:IO(r.getGeometry().coordinate,V),textAlign:ut}});this.arcPoints=c},i}(),wh=FO;function AG(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}var RO=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset>0&&(t.offset=0)},r.prototype.adjustItem=function(t){t.textAlign="middle"},r.prototype.drawLines=function(){},r.prototype.layout=function(t,e){var n=this;t.forEach(function(a,o){o>0&&(0,f.each)(t.slice(0,o),function(s){n.resolveCollision(a,s,e[o])})})},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:(0,zt.__assign)((0,zt.__assign)({},e),{textAlign:"center",textBaseline:"middle"})}},r.prototype.resolveCollision=function(t,e,n){var a=this.getCoordinate().center,o=n.angle,s=t.getBBox(),l=e.getBBox(),u={x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},h=(0,f.clone)(u),c=(0,f.clone)(u);if(e.get("id")!==t.get("id")){var v=LO(s,l),y=v.xOverlap,A=v.yOverlap;if(y&&(h.x=u.x+y,h.y=u.y+Math.tan(o)*y),A){var k=A;u.y<a.y?k=k<0?k:l.minY-s.maxY:k=k>0?k:l.maxY-s.minY,c.y=u.y+k,c.x=u.x+k/Math.tan(o)}var R=Ad(u,h),H=Ad(u,c),V=R<H?h:c;t.attr("x",V.x),t.attr("y",V.y)}},r}(wh),NO=RO,TG=16,YO=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,zt.__assign)((0,zt.__assign)({},e),{textBaseline:"middle"})}},r.prototype.layout=function(t,e,n){var a=this,o=this.getCoordinate().center,s=(0,f.filter)(t,function(u){return u.attr("x")<=o.x}),l=(0,f.filter)(t,function(u){return u.attr("x")>o.x});[l,s].forEach(function(u,h){a._antiCollision(u,!h,n)})},r.prototype._antiCollision=function(t,e,n){var a=this,o=this.getLabelHeight(t),s=this.getCoordinate(),l=s.center,u=s.radius,h=this.options.offset,c=u+h,v=Math.min(n.height,Math.max(c*2+o*2,t.length*o)),y=Math.floor(v/o);this.options.allowOverlap||t.slice(y).forEach(function(Gt){Gt.get("parent").set("visible",!1)}),t.splice(y,t.length-y),t.sort(function(Gt,te){return Gt.getBBox().y-te.getBBox().y});for(var A=!0,k,R=l.y+v/2,H=l.y-v/2,V=t.map(function(Gt){var te=Gt.getBBox();return te.maxY>R&&(R=Math.min(n.maxY,te.maxY)),te.minY<H&&(H=Math.max(n.minY,te.minY)),{text:Gt.attr("text"),size:o,pos:te.y,targets:[]}}),ot=0;ot<V.length;)ot===V.length-1?V[ot].targets[0]=R:V[ot].targets[0]=V[ot+1].pos-V[ot+1].size/2,ot++;for(;A;)for(V.forEach(function(Gt){var te=(0,f.last)(Gt.targets);Gt.pos=Math.max(H,Math.min(Gt.pos,te-Gt.size))}),A=!1,k=V.length;k--;)if(k>0){var ut=V[k-1],bt=V[k];if(ut.pos+ut.size>bt.pos){ut.size+=bt.size,ut.targets=ut.targets.concat(bt.targets);var Ft=(0,f.last)(ut.targets);ut.pos+ut.size>Ft&&(ut.pos=Ft-ut.size),V.splice(k,1),A=!0}else ut.targets.splice(-1,1,bt.pos)}k=0,V.forEach(function(Gt){var te=o/2;Gt.targets.forEach(function(){t[k].attr("y",Gt.pos+te),te+=o,k++})});var Xt=[],Ut=[];t.forEach(function(Gt,te){var ue=a.arcPoints[te];ue.angle>=0&&ue.angle<=Math.PI?Ut.push(Gt):Xt.push(Gt)}),[Xt,Ut].forEach(function(Gt,te){if(!!Gt.length){var ue=te?(0,f.last)(Gt).getBBox().maxY-l.y:l.y-(0,f.head)(Gt).getBBox().minY;ue=Math.max(c,ue);var se=h>4?4:0,Me=Math.max.apply(0,(0,f.map)(t,function(je){return je.getBBox().width}))+h+se,Pe=Math.max(c,Math.min((ue+c)/2,l.x-(n.minX+Me))),Te=Pe*Pe,Ve=ue*ue;Gt.forEach(function(je,Ue){var Ge=a.arcPoints[Ue],ze=je.getBBox(),ur={x:ze.minX+ze.width/2,y:ze.minY+ze.height/2},lr=Math.pow(ur.y-l.y,2),pr=Wl(l,Ge.angle,u),Ze=(e?1:-1)*se*2;if(lr>Ve)console.warn("\u5F02\u5E38(\u4E00\u822C\u4E0D\u4F1A\u51FA\u73B0)",je.attr("text")),je.attr("x",pr.x+Ze);else{var cr=l.x+(e?1:-1)*Math.sqrt((1-lr/Ve)*Te);(l.x===pr.x&&ur.y===pr.y||l.y===pr.y&&cr===pr.x)&&(cr=pr.x),je.attr("x",cr+Ze)}})}})},r.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:(0,f.head)(t)?(0,f.head)(t).getBBox().height:14},r}(wh),GO=YO,PG=16,zO=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,zt.__assign)((0,zt.__assign)({},e),{textBaseline:"middle"})}},r.prototype.adjustItem=function(t){var e=this.options.offset;t.textAlign==="left"?t.x+=e>4?4:e/2:t.textAlign==="right"&&(t.x-=e>4?4:e/2)},r.prototype.layout=function(t,e,n){},r}(wh),XO=zO,Kg={inner:NO,outer:GO,"outer-center":XO};function VO(i){if(!Kg[i]){console.warn("this label "+i+" is not registered");return}return Kg[i]}var HO=0,Sh=15,WO="#CCC",jO=2,UO=-2,$g=15;function Qg(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}var ZO=function(){function i(r){this.destroyed=!1,this.view=r.view,this.options=(0,f.deepMix)({},this.getDefaultOptions(),r),this._adjustOptions(this.options),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear()})},i.prototype.render=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,f.clone)(this.view.getData());this.halves=[[],[]];var e=[],n=this.view.geometries[0].elements;(0,f.each)(n,function(bt){e.push(bt.shape)}),this.coord=this.view.geometries[0].coordinate;var a=this.options,o=a.allZero,s=a.angleField,l=this.options.fields[0],u=this.view.getScalesByDim("y")[l],h=this.coord.getCenter(),c=this.coord.startAngle,v=this.coord.polarRadius,y=this.view.coordinateBBox,A=y.width,k=y.height;this.width=A,this.height=k;for(var R=c,H=function(bt){var Ft=t[bt],Xt=u.scale(Ft[l]),Ut=R+Math.PI*2*Xt,Gt=R+(Ut-R)/2;R=Ut;var te=Qg(h,Gt,v+HO),ue=Qg(h,Gt,v+Sh),se=WO;if(V.options.fields.length===2){var Me=V.options.fields[1],Pe=V.view.geometries[0].scales[Me],Te=Pe.scale(Ft[Me]);if(Te){var Ve=Math.floor(Te*(e.length-1));se=e[Ve].attr("fill")}}var je={_anchor:te,_inflection:ue,_data:Ft,x:ue.x,y:ue.y,r:v+Sh,fill:se,textGroup:null,_side:null},Ue=[];if((0,f.each)(V.options.fields,function(Tr){o&&Tr===jl?Ue.push(Ft[s]):Ue.push(Ft[Tr])}),V.options.formatter){var Ge=V.options.formatter(Ft[s],{_origin:Ft,color:se},bt);(0,f.isString)(Ge)&&(Ge=[Ge]),Ue=Ge}var ze=V.container.addGroup({capture:!1,visible:!1}),ur={x:0,y:0,fontSize:V.options.text.fontSize,lineHeight:V.options.text.fontSize,fontWeight:V.options.text.fontWeight,fill:V.options.text.fill},lr=Ft[s];V.options.formatter&&(lr=Ue[0]);var pr=(0,f.clone)(ur);Ue.length===2&&(pr.fontWeight=700);var Ze=ze.addShape("text",{attrs:(0,f.mix)({textBaseline:Ue.length===2?"top":"middle",text:lr},pr),data:Ft,offsetY:Ue.length===2?jO:0,name:"label"});if(Ze.name="label",Ue.length===2){var cr=ze.addShape("text",{attrs:(0,f.mix)({textBaseline:"bottom",text:Ue[1]},ur),data:Ft,offsetY:UO,name:"label"});cr.name="label"}je.textGroup=ze,te.x<h.x?(je._side="left",V.halves[0].push(je)):(je._side="right",V.halves[1].push(je))},V=this,ot=0;ot<t.length;ot++)H(ot);var ut=Math.floor(k/this.options.lineHeight);(0,f.each)(this.halves,function(bt){bt.length>ut&&bt.splice(ut,bt.length-ut),bt.sort(function(Ft,Xt){return Ft.y-Xt.y}),r._antiCollision(bt)}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},i.prototype._antiCollision=function(r){var t=this,e=this.coord,n=e.getHeight(),a=e.center,o=e.getRadius(),s=a.y-o-Sh-this.options.lineHeight,l=!0,u=n,h,c=0,v=Number.MIN_VALUE,y=0,A=r.map(function(ot){var ut=ot.y;ut>c&&(c=ut),ut<v&&(v=ut);var bt=ot.textGroup,Ft=bt.getBBox().width;return Ft>=y&&(y=Ft),{size:t.options.lineHeight,targets:[ut-s]}});c-s>u&&(u=c-s);for(var k=function(ot){ot.forEach(function(ut){var bt=(Math.min.apply(v,ut.targets)+Math.max.apply(v,ut.targets))/2;ut.pos=Math.min(Math.max(v,bt-ut.size/2),u-ut.size)})};l;)for(k(A),l=!1,h=A.length;h--;)if(h>0){var R=A[h-1],H=A[h];R.pos+R.size>H.pos&&(R.size+=H.size,R.targets=R.targets.concat(H.targets),R.pos+R.size>u&&(R.pos=u-R.size),A.splice(h,1),l=!0)}h=0,A.forEach(function(ot){var ut=s;ot.targets.forEach(function(){r[h].y=ot.pos+ut+t.options.lineHeight/2,ut+=t.options.lineHeight,h++})});var V=[];r.forEach(function(ot){var ut=t._drawLabel(ot);t._drawLabelLine(ot,y,ut),V.push(ut)})},i.prototype._drawLabel=function(r){var t=this.coord,e=t.getCenter(),n=t.getRadius(),a=r.y,o=r.textGroup,s=o.get("children"),l=r._side==="left"?1:-1,u=(0,zt.__assign)({textAlign:r._side==="left"?"right":"left",x:r._side==="left"?e.x-n-this.options.sidePadding:e.x+n+this.options.sidePadding},this.options.style);return this.options.offsetX&&(u.x+=this.options.offsetX*l),s.forEach(function(h){var c=h.get("offsetY"),v=a+c;h.attr(u),h.attr("y",v)}),o.show(),o},i.prototype._drawLabelLine=function(r,t,e){var n=[r._anchor.x,r._anchor.y],a=[r._inflection.x,r._inflection.y],o=r.y,s=r.textGroup;if(!!s){var l=[r._side==="left"?s.getBBox().maxX+4:s.getBBox().minX-4,o],u=[n,a,l];if(a[1]!==o)if(a[1]<this.height/2&&a[1]<o||a[1]>=this.height/2&&a[1]>o){var h=a,c=l[0]+$g,v=l[0]-$g,y=[r._side==="left"?c:v,a[1]];u=[n,h,y,l],(r._side==="right"&&y[0]<h[0]||r._side==="left"&&y[0]>h[0])&&(u=[n,h,l])}else u=[n,[a[0],o],l];for(var A=[],k=0;k<u.length;k++){var R=u[k],H="L";k===0&&(H="M"),A.push([H,R[0],R[1]])}e.addShape("path",{attrs:{path:A,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},i.prototype._adjustOptions=function(r){r.text.fontSize&&(r.lineHeight=r.text.fontSize*3)},i}(),KO=ZO,$O=function(i){var r=i.opacity||1;return{fillOpacity:r*.8}},QO=function(i){var r=i.opacity||1;return{fillOpacity:r*.5}};ji("pie",{columnStyle:{normal:{},active:$O,disable:QO,selected:{lineWidth:1,stroke:"black"}}});var jl="$$percentage$$",JO={pie:"interval"},qO={pie:"column"},Jg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="pie",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.angleField,n=t.colorField,a=t.data,o=(0,f.every)(a,function(l){return l[e]===0});if(o){var s=this.view.geometries[0];s.tooltip(n+"*"+e)}},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;if(t.label&&t.label.visible){this.labelComponent&&this.labelComponent.clear();var e=t.label;if(e.type==="spider"){var n=t.data,a=t.colorField,o=t.angleField,s=(0,f.every)(n,function(h){return h[o]===0}),l=s?jl:o;this.labelComponent=new KO((0,zt.__assign)({view:this.view,fields:a?[l,a]:[l],angleField:o,allZero:s},this.options.label)),this.labelComponent.render()}else{var u=VO(e.type);this.labelComponent=new u(this,t.label),this.labelComponent.render()}}},r.prototype.getAngleScale=function(){var t=this.options.angleField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?JO[e]:qO[e]},r.prototype.scale=function(){var t=this.options;i.prototype.scale.call(this);var e={};e[t.angleField]={},e[t.colorField]={type:"cat"},e=(0,f.deepMix)({},this.config.scales,e),this.setConfig("scales",e)},r.prototype.processData=function(t){var e=this.options.angleField,n=(0,f.every)(t,function(a){return a[e]===0});return n?t.map(function(a){var o;return(0,zt.__assign)((0,zt.__assign)({},a),(o={},o[e]=typeof a[e]=="string"?Number.parseFloat(a[e]):a[e],o[jl]=1/t.length,o))}):t.map(function(a){var o,s=a[e];return(0,zt.__assign)((0,zt.__assign)({},a),(o={},o[e]=s&&!isNaN(s)?+s:s,o))})},r.prototype.axis=function(){},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=t.data,n=t.angleField,a,o=(0,f.every)(e,function(s){return s[n]===0});o?a=Wn("interval","main",{plot:this,positionFields:[1,jl]}):a=Wn("interval","main",{plot:this,positionFields:[1,t.angleField]}),a.adjust=[{type:"stack"}],this.pie=a,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",a)},r.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields?this.pie.tooltip.fields=t.fields:this.pie.tooltip.fields=[this.options.angleField,this.options.colorField],t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.pie.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,m)},r.prototype.label=function(){this.pie.label=!1},r}(Gn),qg=Jg;qr("pie",Jg);var tI=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="pie",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=qg.getDefaultOptions,r}(Xr),ty=tI,eI=.3989422804014327,rI=1/255/16,Os="_origin",nI=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="heatmap",e.paletteCache={},e.intensity=t.intensity,e.radius=t.radius,e}return r.prototype.createElements=function(t){var e=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,e),null},r.prototype.clear=function(){this.clearShadowCanvasCtx(),i.prototype.clear.call(this)},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[Os][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue("size"),(0,f.isNumber)(t)||(t=this.getDefaultSize()),this.radius=t)},r.prototype.prepareBlur=function(){var t=(0,f.get)(this.styleOption,["style","shadowBlur"]);(0,f.isNumber)(t)||(t=this.radius/2),this.blur=t},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate,n=Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4));return n},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if(s){var l=void 0;a[s]?l=a[s]:(l=qa(e.gradient(s/256)),a[s]=l),n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.prepareGreyScaleBlurredCircle=function(t){var e=this.grayScaleCanvas;e||(e=document.createElement("canvas"),this.grayScaleCanvas=e);var n=this.intensity?this.intensity:2,a=Math.sqrt(-2*Math.log(rI/t/n/eI))/3*t,o=a-t,s=a+o,l=e.getContext("2d");e.width=e.height=s*2,l.clearRect(0,0,e.width,e.height),l.shadowOffsetX=l.shadowOffsetY=s*2,l.shadowBlur=o,l.shadowColor="black",l.beginPath(),l.arc(-s,-s,t,0,Math.PI*2,!0),l.closePath(),l.fill()},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.grayScaleCanvas;o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var e=t.getContext("2d");return e.globalCompositeOperation="lighter",e},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;t=e.addShape({type:"image",attrs:{}}),this.imageShape=t},r.prototype.drawWithRange=function(t,e){var n=this.coordinate,a=n.start,o=n.end,s=this.coordinate.getWidth(),l=this.coordinate.getHeight(),u=this.getAttribute("color"),h=u.getFields()[0];this.clearShadowCanvasCtx();var c=this.getShadowCanvasCtx();e&&(t=t.filter(function(ot){return ot[Os][h]<=e[1]&&ot[Os][h]>=e[0]}));for(var v=this.scales[h],y=0;y<t.length;y++){var A=t[y],k=this.getDrawCfg(A),R=v.scale(A[Os][h]);this.drawGrayScaleBlurredCircle(k.x-a.x,k.y-o.y,this.radius+this.blur,R,c)}var H=c.getImageData(0,0,s,l);this.clearShadowCanvasCtx(),this.colorize(H),c.putImageData(H,0,0);var V=new Image;V.src=c.canvas.toDataURL("image/png"),this.getImageShape(),this.imageShape.attr("x",a.x),this.imageShape.attr("y",o.y),this.imageShape.attr("width",s),this.imageShape.attr("height",l),this.imageShape.attr("img",c.canvas),this.imageShape.set("origin",this.getShapeInfo(t))},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,zt.__assign)((0,zt.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[Os]})},r}(Za);ba("linearHeatmap",nI);var iI=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.options=t,e.view=e.options.view,e.init(),e}return r.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},r.prototype.render=function(){if(this.options.type==="color")this.renderColorBackground();else if(this.options.type==="image")this.renderImageBackground();else if(this.options.callback){var t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container};this.options.callback(t)}},r.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:"heatmap-background"})},r.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:"heatmap-background"})},r.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},r.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},r.prototype.getCoordinate=function(){var t;return(0,f.each)(this.view.geometries,function(e){e.type==="heatmap"&&(t=e.coordinate)}),t},r}(fe.default),aI=iI,Ul=4,ey=1,oI=.1,sI=function(){function i(r){this.destroyed=!1,this.dataSlides={};var t=this.getDefaultOptions();r.plot.options.theme&&r.plot.options.theme==="dark"&&(t=this.getDarkOptions()),this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var r=this.options.plot.container;this.container=r.addGroup()},i.prototype.render=function(){var r=this.getScales(),t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new Wr(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=this.width,o=this.height/e.length,s=this.container.addGroup(),l=(0,f.clone)(e).reverse(),u=(t-r)/e.length;(0,f.each)(l,function(h,c){var v=o*c,y={to:t-u*c,from:t-u*(c+1)},A=n.container.addShape("rect",{attrs:{x:0,y:v,width:a,height:o,fill:h,opacity:ey,cursor:"pointer"},name:"legend"});A.set("info",y);var k=n.getDataSlide(y);n.dataSlides[y.from+"-"+y.to]={mode:"active",data:k},s.addShape("path",{attrs:(0,zt.__assign)({path:[["M",0,v+o],["L",a,v+o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,zt.__assign)({text:t,x:a/2,y:-Ul,textAlign:"center",textBaseline:"bottom"},this.options.text.style),name:"legend-label"}),this.container.addShape("text",{attrs:(0,zt.__assign)((0,zt.__assign)({text:r,x:a/2,y:this.height+Ul,textAlign:"center",textBaseline:"top"},this.options.text.style),{name:"legend-label"})}),s.addShape("path",{attrs:(0,zt.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=this.width/e.length,o=this.height,s=this.container.addGroup(),l=(t-r)/e.length;(0,f.each)(e,function(u,h){var c=a*h,v={from:l*h,to:l*(h+1)},y=n.container.addShape("rect",{attrs:{x:c,y:0,width:a,height:o,fill:u,opacity:.8,cursor:"pointer"},name:"legend"});y.set("info",v),s.addShape("path",{attrs:(0,zt.__assign)({path:[["M",c+a,0],["L",c+a,o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,zt.__assign)((0,zt.__assign)({text:r,x:-Ul,y:o/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"}),name:"legend-label"}),this.container.addShape("text",{attrs:(0,zt.__assign)({text:t,x:this.width+Ul,y:o/2,textAlign:"left",textBaseline:"middle"},this.options.text.style),name:"legend-label"}),s.addShape("path",{attrs:(0,zt.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.options.plot.options.width;return r*.5}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.options.plot.options.height;return r*.5}return 10},i.prototype.legendLayout=function(){var r=this,t=this.options.plot.getPlotTheme().bleeding;(0,f.isArray)(t)&&(0,f.each)(t,function(u,h){typeof t[h]=="function"&&(t[h]=t[h](r.options.plot.options))});var e=this.container.getBBox(),n=0,a=0,o=this.options.position.split("-"),s=this.options.plot.width,l=this.options.plot.height;o[0]==="left"?n=t[3]:o[0]==="right"?n=s-t[1]-e.width:o[1]==="center"?n=(s-e.width)/2:o[1]==="left"?n=t[3]:o[1]==="right"&&(n=this.options.plot.width-t[1]-e.width),o[0]==="bottom"?a=l-t[2]-e.height:o[0]==="top"?a=this.getTopPosition(t):o[1]==="center"?a=(l-e.height)/2:o[1]==="top"?a=t[0]:o[1]==="bottom"&&(a=l-t[2]-e.height),this.x=n,this.y=a,this.container.translate(n,a)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},i.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},i.prototype.addInteraction=function(){var r=this,t=this.options.plot.options.colorField;this.container.on("click",function(e){var n=e.target;if(n.get("name")==="legend"){var a=n.get("info"),o=a.from+"-"+a.to,s=r.dataSlides[o];s.mode==="active"?(s.mode="deactive",n.stopAnimate(),n.animate({opacity:oI},200)):(s.mode="active",n.stopAnimate(),n.animate({opacity:ey},200));var l=r.getFilteredData();l.length>0&&(r.view.changeData(l),r.view.scale(t,{min:r.colorScale.min,max:r.colorScale.max,nice:r.colorScale.nice}),r.view.render())}})},i.prototype.getFilteredData=function(){var r=[];return(0,f.each)(this.dataSlides,function(t){t.mode=="active"&&r.push.apply(r,t.data)}),r},i.prototype.getDataSlide=function(r){var t=[],e=this.options.plot.options,n=e.colorField,a=e.data;return(0,f.each)(a,function(o){var s=o[n];s>=r.from&&s<r.to&&t.push(o)}),t},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.getScales=function(){var r;return(0,f.each)(this.view.geometries,function(t){t.type==="heatmap"&&(r=t.scales)}),r},i}(),lI=sI,uI={background:{Ctr:aI},legend:{Ctr:lI,padding:"outer"}};function fI(i,r,t){if(i.options[r]&&i.options[r].visible){var e=uI[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var hI={heatmap:"heatmap",legendLabel:"legend-label",heatmapBackground:"heatmap-background"},cI=yi(hI);(0,f.assign)(on,cI);var ry=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="densityHeatmap",t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{stroke:"#000000",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"],interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.destroy=function(){(0,f.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&si(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&si(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.geometryParser=function(){return"heatmap"},r.prototype.addGeometry=function(){if(this.options.data.length>1){var t={type:"linearheatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}};this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t),this.addPoint()}},r.prototype.addPoint=function(){var t=this.options,e={visible:!1,size:0};t.point&&t.point.visible?t.point=(0,f.deepMix)(e,t.point):t.point=e;var n=Wn("point","guide",{plot:this});n.active=!1,this.setConfig("geometry",n)},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=Ei("label",(0,zt.__assign)({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},e));return n},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,x)},r.prototype.renderPlotComponents=function(){var t=this;(0,f.each)(this.plotComponents,function(n){n.destroy()});var e=["legend","background"];(0,f.each)(e,function(n){var a=(0,zt.__assign)({view:t.view,plot:t},t.options[n]),o=fI(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(Gn),vI=ry;qr("densityHeatmap",ry);var dI=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="densityHeatmap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=vI.getDefaultOptions,r}(Xr),ny=dI;function Zl(i,r,t,e,n){var a=t*n,o=e*n,s=[["M",i-a/2,r+o/2],["Q",i-a/2,r,i-a/2,r-o/2],["Q",i,r-o/2,i+a/2,r-o/2],["Q",i+a/2,r,i+a/2,r+o/2],["Q",i,r+o/2,i-a/2,r+o/2],["Z"]];return s}function Kl(i,r,t){var e=[["M",i,r],["l",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-(t*2),0],["Z"]];return e}function iy(i,r,t){var e=[["M",i-t,r],["Q",i-t,r-t,i,r-t],["Q",i+t,r-t,i+t,r],["Q",i+t,r+t,i,r+t],["Q",i-t,r+t,i-t,r],["Z"]];return e}fn("polygon","rect",{draw:function(i,r){var t=this.parsePoints(i.points),e=t[2].x-t[0].x,n=t[0].y-t[1].y,a=t[0].x+e/2,o=t[1].y+n/2,s=Zl(a,o,e,n,i.size);return r.addShape("path",{attrs:(0,f.deepMix)({},{path:s,fill:i.color,opacity:1},i.style)})}}),fn("point","curvePoint",{draw:function(i,r){var t=Kl(i.x,i.y,i.size);return r.addShape("path",{attrs:(0,f.deepMix)({},{path:t,fill:i.color,opacity:1},i.style)})}});var pI=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.view.geometries[0].elements;(0,f.each)(t,function(e){var n=e.shape,a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,u=r.options.formatter,h=u?u(r.getContent(n)):r.getContent(n),c=r.getPosition(n),v=r.getTextColor(n),y=r.container.addShape("text",{attrs:(0,f.deepMix)({},o,{x:c.x+s,y:c.y+l,text:h,fill:v,textAlign:"center",textBaseline:"middle"}),name:"label"});r.options.adjustPosition&&r.adjustLabel(y,n)})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,f.clone)(t)}},i.prototype.getContent=function(r){var t=r.get("origin").data,e=this.plot.options.colorField;return t[e]},i.prototype.getPosition=function(r){var t=r.getBBox();return{x:t.minX+t.width/2,y:t.minY+t.height/2}},i.prototype.getTextColor=function(r){if(this.options.adjustColor){var t=r.attr("fill"),e=r.attr("opacity")?r.attr("opacity"):1,n=qa(t),a=Math.round(n[0]*.299+n[1]*.587+n[2]*.114)/e,o=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s=Xl(o,a);return s}var l=this.options.style.fill;return l},i.prototype.adjustLabel=function(r,t){var e=r.getBBox(),n=t.getBBox();(e.width>n.width||e.height>n.height)&&r.attr("text","")},i}(),gI=pI,ay=4,yI=function(){function i(r){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var t=this.getDefaultOptions();this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){var r=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container&&this.container.remove(),this.container=t.addGroup(),this.view.on("beforerender",function(){r.clear(),r.options.plot.canvas.draw()})},i.prototype.render=function(){var r=this.view.geometries[0].scales,t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new Wr(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.height/(e.length-1),l="l(90)";(0,f.each)(e,function(v,y){var A=o*y;l+=A+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,f.each)(e,function(v,y){var A=s*y;n.container.addShape("path",{attrs:(0,zt.__assign)({path:[["M",0,A],["L",n.width,A]]},n.options.ticklineStyle)});var k=Math.round(a*y);n.container.addShape("text",{attrs:(0,zt.__assign)({text:k,textAlign:"left",textBaseline:"middle",x:n.width+ay,y:A},n.options.text.style),name:"legend-label"})});var u=10,h=14,c=[["M",-u,-h/2],["L",0,0],["L",-u,h/2],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,zt.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.width/(e.length-1),l="l(0)";(0,f.each)(e,function(v,y){var A=o*y;l+=A+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,f.each)(e,function(v,y){var A=s*y;n.container.addShape("path",{attrs:(0,zt.__assign)({path:[["M",A,0],["L",A,n.height]]},n.options.ticklineStyle),name:"legend-label"});var k=Math.round(a*y);n.container.addShape("text",{attrs:(0,zt.__assign)({text:k,textAlign:"center",textBaseline:"top",x:A,y:n.height+ay},n.options.text.style)})});var u=14,h=10,c=[["M",0,0],["L",-u/2,-h],["L",u/2,-h],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,zt.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.view.coordinateBBox.width;return r}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.view.coordinateBBox.height;return r}return 10},i.prototype.legendLayout=function(){var r=this,t=this.view.coordinateBBox,e=this.options.plot.getPlotTheme().bleeding;(0,f.isArray)(e)&&(0,f.each)(e,function(h,c){typeof e[c]=="function"&&(e[c]=e[c](r.options.plot.options))});var n=this.container.getBBox(),a=0,o=0,s=this.options.position.split("-"),l=this.options.plot.width,u=this.options.plot.height;s[0]==="left"?a=e[3]:s[0]==="right"?a=l-e[1]-n.width:s[1]==="center"?this.width===t.width?a=t.x:a=(l-n.width)/2:s[1]==="left"?a=e[3]:s[1]==="right"&&(a=this.options.plot.width-e[1]-n.width),s[0]==="bottom"?o=u-e[2]-n.height:s[0]==="top"?o=this.getTopPosition(e):s[1]==="center"?this.height===t.height?o=t.y:o=(u-n.height)/2:s[1]==="top"?o=e[0]:s[1]==="bottom"&&(o=u-e[2]-n.height),this.x=a,this.y=o,this.container.translate(a,o)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},i.prototype.addInteraction=function(){var r=this,t;this.options.plot.options.shapeType==="rect"?t="polygon":t="point";var e=t+":"+this.options.triggerOn,n=this.options.plot.options.colorField,a=this.colorScale,o=a.min,s=a.max,l=function(h){var c=h.data.data[n],v=(c-o)/(s-o);r.moveAnchor(v)};this.view.on(e,l),this.interactiveEvents[e]={target:this.view,handler:l};var u=function(){r.anchor.set("visible",!1)};this.options.plot.canvas.on("mouseleave",u),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:u}},i.prototype.moveAnchor=function(r){if(this.anchor.set("visible",!0),this.layout==="vertical"){var t=this.height*r,e=[1,0,0,0,1,0,0,0,1];e[7]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}else{var t=this.width*r,e=[1,0,0,0,1,0,0,0,1];e[6]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.offEvent=function(){(0,f.each)(this.interactiveEvents,function(r,t){var e=r.target,n=r.handler;e.off(t,n)})},i}(),mI=yI,xI={label:{Ctr:gI},legend:{Ctr:mI,padding:"outer"}};function bI(i,r,t){if(i.options[r]&&i.options[r].visible){var e=xI[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var oy=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.gridSize=[],t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}},interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.changeShape=function(t){if(this.options.shapeType!==t){if(this.options.shapeType=t,t==="rect"){var e=this.getShape();this.circleToRect(e)}else if(t==="circle"){var e=this.getShape();this.rectToCircle(e)}}},r.prototype.mappingSize=function(t){if(!(this.options.sizeField&&this.options.sizeField===t)){this.options.sizeField=t;var e=(0,f.valuesOfKey)(this.options.data,t),n=Math.min.apply(Math,e),a=Math.max.apply(Math,e),o=(0,Ar.getScale)("linear"),s=new o({min:n,max:a}),l=this.getShape();this.options.shapeType==="rect"?this.rectSizeMapping(l,s,t):this.options.shapeType==="circle"&&this.circleSizeMapping(l,s,t)}},r.prototype.disableMappingSize=function(){var t=this.getShape();this.options.shapeType==="rect"?this.rectDisableSizeMapping(t):this.options.shapeType==="circle"&&this.circleDisableSizeMapping(t)},r.prototype.destroy=function(){(0,f.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(){return""},r.prototype.coord=function(){},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.addGeometry=function(){this.gridSize=this.getGridSize();var t;if(this.options.shapeType==="rect")t=this.addRect();else{var e=this.addCircle();t=e}if(this.options.shapeStyle){var n={};(0,f.isFunction)(this.options.shapeStyle)?(n.fields=[this.options.colorField,this.options.xField,this.options.yField,this.options.sizeField],n.callback=this.options.shapeStyle):(0,f.isObject)(this.options.shapeStyle)&&(n.cfg=this.options.shapeStyle),t.style=n}this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t)},r.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var e={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[1]},e},r.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var e={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[Math.min(this.gridSize[0],this.gridSize[1])*.5*.9]},e},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.getGridSize=function(){if(this.options.padding==="auto")return[0,0];var t=this.getViewRange(),e=this.options,n=e.padding,a=e.xField,o=e.yField,s=e.data,l=t.width-n[1]-n[3],u=t.height-n[0]-n[2],h=(0,f.valuesOfKey)(s,a).length,c=(0,f.valuesOfKey)(s,o).length;return[l/h,u/c]},r.prototype.circleToRect=function(t){var e=this,n=this.gridSize;(0,f.each)(t,function(a){var o=a.get("origin"),s=o.x,l=o.y,u=o.size,h=u*2/Math.min(n[0],n[1]);e.options.sizeField||(h=1);var c=iy(s,l,u),v=Zl(s,l,n[0],n[1],h);a.stopAnimate(),a.attr("path",c),a.animate({path:v},500,"easeLinear")})},r.prototype.rectToCircle=function(t){var e=this;(0,f.each)(t,function(n){var a=n.get("coord"),o=n.get("origin").points,s=[];(0,f.each)(o,function(R){s.push(a.convertPoint(R))});var l=n.getBBox(),u=l.width,h=l.height,c=l.minX+u/2,v=l.minY+h/2,y=e.options.sizeField?1:.9,A=iy(c,v,Math.min(u,h)/2*y),k=Kl(c,v,Math.min(u,h)/2*y);n.stopAnimate(),n.animate({path:A},500,"easeLinear",function(){n.attr("path",k)})})},r.prototype.rectSizeMapping=function(t,e,n){(0,f.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6;a.get("origin").size=s;var l=a.getBBox(),u=l.width,h=l.height,c=l.minX+u/2,v=l.minY+h/2,y=Zl(c,v,u,h,s);a.stopAnimate(),a.animate({path:y},500,"easeLinear")})},r.prototype.circleSizeMapping=function(t,e,n){(0,f.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6,l=a.get("origin"),u=l.x,h=l.y,c=l.size,v=Kl(u,h,c*s);a.get("origin").size=c*s,a.stopAnimate(),a.animate({path:v},500,"easeLinear")})},r.prototype.circleDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,f.each)(t,function(n){var a=n.get("origin"),o=a.x,s=a.y,l=Math.min(e.gridSize[0],e.gridSize[1])*.9;n.get("origin").size=l/2;var u=Kl(o,s,l/2);n.stopAnimate(),n.animate({path:u},500,"easeLinear")})},r.prototype.rectDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,f.each)(t,function(n){var a=n.getBBox(),o=a.width,s=a.height,l=a.minX+o/2,u=a.minY+s/2,h=Zl(l,u,e.gridSize[0],e.gridSize[1],1);n.get("origin").size=1,n.stopAnimate(),n.animate({path:h},500,"easeLinear")})},r.prototype.getShape=function(){var t=this.view.geometries[0].elements,e=[];return(0,f.each)(t,function(n){e.push(n.shape)}),e},r.prototype.renderPlotComponents=function(){var t=this;(0,f.each)(this.plotComponents,function(n){n.destroy()}),this.plotComponents=[];var e=["label","legend"];(0,f.each)(e,function(n){var a=(0,zt.__assign)({view:t.view,plot:t},t.options[n]),o=bI(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(Gn),wI=oy;qr("heatmap",oy);var SI=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="heatmap",i.prototype.createLayers.call(this,e)},r.prototype.changeShape=function(t){var e=this.layers[0];e.changeShape(t)},r.prototype.mappingSize=function(t){var e=this.layers[0];e.mappingSize(t)},r.prototype.disableMappingSize=function(){var t=this.layers[0];t.disableMappingSize()},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=wI.getDefaultOptions,r}(Xr),sy=SI,MI=function(i){(0,zt.__extends)(r,i);function r(t){var e=this,n=(0,f.deepMix)({},t,{itemTpl:`<div data-index={index}>
        <span style="background-color:{color};" class="g2-tooltip-marker"></span>
        {name}<span class="g2-tooltip-value">{value}</span></div>`},t);return e=i.call(this,n)||this,e}return r}(wE.Z),CI=MI;/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2013 Tim Chien
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message",n=function(o){var s=t.length;return t.push(o),window.postMessage(e+s.toString(36),"*"),s};return window.addEventListener("message",function(o){if(!(typeof o.data!="string"||o.data.substr(0,e.length)!==e)){o.stopImmediatePropagation();var s=parseInt(o.data.substr(e.length),36);!t[s]||(t[s](),t[s]=void 0)}},!0),window.clearImmediate=function(o){!t[o]||(t[o]=void 0)},n}()||function(t){window.setTimeout(t,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}());var Mh=function(){var r=document.createElement("canvas");if(!r||!r.getContext)return!1;var t=r.getContext("2d");return!(!t.getImageData||!t.fillText||!Array.prototype.some||!Array.prototype.push)}(),es=function(){if(!!Mh){for(var r=document.createElement("canvas").getContext("2d"),t=20,e,n;t;){if(r.font=t.toString(10)+"px sans-serif",r.measureText("\uFF37").width===e&&r.measureText("m").width===n)return t+1;e=r.measureText("\uFF37").width,n=r.measureText("m").width,t--}return 0}}(),EI=function(r){for(var t,e,n=r.length;n;t=Math.floor(Math.random()*n),e=r[--n],r[n]=r[t],r[t]=e);return r},Ch=function(r,t){if(!Mh)return;Array.isArray(r)||(r=[r]),r.forEach(function(xr,Le){if(typeof xr=="string"){if(r[Le]=document.getElementById(xr),!r[Le])throw"The element id specified is not found."}else if(!xr.tagName&&!xr.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var e={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minFontSize:es,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,animatable:!0,selected:-1,shadowColor:"#333",shadowBlur:10,fontScale:1.2,classes:null,onWordCloudHover:null,onWordCloudClick:null},n=[];if(t)for(var a in t)if(a==="wordStyle")for(var o in t[a])o in e&&(e[o]=t[a][o]);else a in e&&(e[a]=t[a]);if(e.minFontSize<es&&(e.minFontSize=es),e.minFontSize>e.maxFontSize){console.error("minSize cant bigger than maxSize");return}for(var s=0,l=0;l<e.data.length;l++)s<e.data[l].weight&&(s=e.data[l].weight);var u=function(Le){var $e=Math.min(Math.max(e.minFontSize,e.maxFontSize*Le/s),e.maxFontSize);return Lr?$e*e.fontScale:$e},h=!1;if(typeof e.shape!="function")switch(e.shape){case"circle":default:e.shape="circle";break;case"cardioid":e.shape=function(Le){return 1-Math.sin(Le)},h=!0;break;case"diamond":e.shape=function(Le){var $e=Le%(2*Math.PI/4);return 1/(Math.cos($e)+Math.sin($e))};break;case"square":e.shape=function(Le){var $e=(Le+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos($e)+Math.sin($e))};break;case"triangle-forward":e.shape=function(Le){var $e=Le%(2*Math.PI/3);return 1/(Math.cos($e)+Math.sqrt(3)*Math.sin($e))};break;case"triangle-backward":e.shape=function(Le){var $e=(Le+Math.PI)%(2*Math.PI/3);return 1/(Math.cos($e)+Math.sqrt(3)*Math.sin($e))};break;case"triangle":case"triangle-up":e.shape=function(Le){var $e=(Le+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos($e)+Math.sqrt(3)*Math.sin($e))};break;case"triangle-down":e.shape=function(Le){var $e=(Le+Math.PI*5/2)%(2*Math.PI/3);return 1/(Math.cos($e)+Math.sqrt(3)*Math.sin($e))};break;case"pentagon":e.shape=function(Le){var $e=(Le+.955)%(2*Math.PI/5);return 1/(Math.cos($e)+.726543*Math.sin($e))};break;case"star":e.shape=function(Le){var $e=(Le+.955)%(2*Math.PI/10);return(Le+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-$e)+3.07768*Math.sin(2*Math.PI/10-$e)):1/(Math.cos($e)+3.07768*Math.sin($e))};break}e.gridSize=Math.max(Math.floor(e.gridSize),4);var c=e.gridSize,v=c-e.maskGapWidth,y=Math.abs(e.maxRotation-e.minRotation),A=Math.min(e.maxRotation,e.minRotation),k=e.rotationSteps,R,H,V,ot,ut,bt,Ft;function Xt(xr,Le){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(Le-xr)+xr).toFixed()+"%)"}switch(e.color){case"random-dark":Ft=function(){return Xt(10,50)};break;case"random-light":Ft=function(){return Xt(50,90)};break;default:typeof e.color=="function"&&(Ft=e.color);break}var Ut=null;typeof e.classes=="function"&&(Ut=e.classes);var Gt=!1,te=[],ue,se=function(Le){var $e=Le.currentTarget,Or=$e.getBoundingClientRect(),Rr,Sr;Le.touches?(Rr=Le.touches[0].clientX,Sr=Le.touches[0].clientY):(Rr=Le.clientX,Sr=Le.clientY);var Zr=Rr-Or.left,Vr=Sr-Or.top,Dr=Math.floor(Zr*($e.width/Or.width||1)/c),Kr=Math.floor(Vr*($e.height/Or.height||1)/c);return te&&te[Dr]&&te[Dr][Kr]},Me=function(Le,$e,Or,Rr){Rr(Le?Le.id:-1)},Pe=function(Le){var $e=se(Le);if(ue!==$e&&!(Lr&&$e&&$e.item&&!(0,f.get)($e,["item","twiceRender"]))){if(!$e){e.onWordCloudHover(void 0,void 0,Le,jr),e.active&&Me(void 0,void 0,Le,jr);return}e.onWordCloudHover($e.item,$e.dimension,Le,jr),e.active&&Me($e.item,$e.dimension,Le,jr),ue=$e}},Te=function(Le){var $e=se(Le);!$e||(e.onWordCloudClick($e.item,$e.dimension,Le),Le.preventDefault())},Ve=[],je=function(Le){if(Ve[Le])return Ve[Le];var $e=Le*8,Or=$e,Rr=[];for(Le===0&&Rr.push([ot[0],ot[1],0]);Or--;){var Sr=1;e.shape!=="circle"&&(Sr=e.shape(Or/$e*2*Math.PI)),Rr.push([ot[0]+Le*Sr*Math.cos(-Or/$e*2*Math.PI),ot[1]+Le*Sr*Math.sin(-Or/$e*2*Math.PI)*e.ellipticity,Or/$e*2*Math.PI])}return Ve[Le]=Rr,Rr},Ue=function(){return e.abortThreshold>0&&new Date().getTime()-bt>e.abortThreshold},Ge=function(){return e.rotateRatio===0||Math.random()>e.rotateRatio?0:y===0?A:k>0?A+Math.floor(Math.random()*k)*y/k:A+Math.random()*y},ze=function(Le,$e,Or){var Rr=!1,Sr=u($e);if(Sr<=0)return!1;var Zr=1;Sr<es&&(Zr=function(){for(var Go=2;Go*Sr<es;)Go+=2;return Go}());var Vr=document.createElement("canvas"),Dr=Vr.getContext("2d",{willReadFrequently:!0});Dr.font=e.fontWeight+" "+(Sr*Zr).toString(10)+"px "+e.fontFamily;var Kr=Dr.measureText(Le).width/Zr,sn=Math.max(Sr*Zr,Dr.measureText("m").width,Dr.measureText("\uFF37").width)/Zr,_n=Kr+sn*2,xn=sn*3,Fn=Math.ceil(_n/c),Hn=Math.ceil(xn/c);_n=Fn*c,xn=Hn*c;var Pi=-Kr/2,Di=-sn*.4,ni=Math.ceil((_n*Math.abs(Math.sin(Or))+xn*Math.abs(Math.cos(Or)))/c),_r=Math.ceil((_n*Math.abs(Math.cos(Or))+xn*Math.abs(Math.sin(Or)))/c),Rn=_r*c,xi=ni*c;Vr.setAttribute("width",Rn),Vr.setAttribute("height",xi),Rr&&(document.body.appendChild(Vr),Dr.save()),Dr.scale(1/Zr,1/Zr),Dr.translate(Rn*Zr/2,xi*Zr/2),Dr.rotate(-Or),Dr.font=e.fontWeight+" "+(Sr*Zr).toString(10)+"px "+e.fontFamily,Dr.fillStyle="#000",Dr.textBaseline="middle",Dr.fillText(Le,Pi*Zr,(Di+Sr*.5)*Zr);var li;try{li=Dr.getImageData(0,0,Rn,xi).data}catch(Fi){return!1}if(Ue())return!1;Rr&&(Dr.strokeRect(Pi*Zr,Di,Kr*Zr,sn*Zr),Dr.restore());for(var Ha=[],bi=_r,bn,dn,Ln,Dn=[ni/2,_r/2,ni/2,_r/2];bi--;)for(bn=ni;bn--;){Ln=c;t:{for(;Ln--;)for(dn=c;dn--;)if(li[((bn*c+Ln)*Rn+(bi*c+dn))*4+3]){Ha.push([bi,bn]),bi<Dn[3]&&(Dn[3]=bi),bi>Dn[1]&&(Dn[1]=bi),bn<Dn[0]&&(Dn[0]=bn),bn>Dn[2]&&(Dn[2]=bn),Rr&&(Dr.fillStyle="rgba(255, 0, 0, 0.5)",Dr.fillRect(bi*c,bn*c,c-.5,c-.5));break t}Rr&&(Dr.fillStyle="rgba(0, 0, 255, 0.5)",Dr.fillRect(bi*c,bn*c,c-.5,c-.5))}}return Rr&&(Dr.fillStyle="rgba(0, 255, 0, 0.5)",Dr.fillRect(Dn[3]*c,Dn[0]*c,(Dn[1]-Dn[3]+1)*c,(Dn[2]-Dn[0]+1)*c)),{mu:Zr,occupied:Ha,bounds:Dn,gw:_r,gh:ni,fillTextOffsetX:Pi,fillTextOffsetY:Di,fillTextWidth:Kr,fillTextHeight:sn,fontSize:Sr}},ur=function(Le,$e,Or,Rr,Sr){for(var Zr=Sr.length;Zr--;){var Vr=Le+Sr[Zr][0],Dr=$e+Sr[Zr][1];if(Vr>=H||Dr>=V||Vr<0||Dr<0){if(!e.drawOutOfBound)return!1;continue}if(!R[Vr][Dr])return!1}return!0},lr=function(Le,$e,Or,Rr,Sr,Zr,Vr,Dr,Kr,sn,_n){var xn=Or.fontSize,Fn=e.color,Hn=e.classes;if(!_n)Ft?Fn=Ft(Rr,Sr,xn,Zr,Vr):Fn=e.color,Ut?Hn=Ut(Rr,Sr,xn,Zr,Vr):Hn=e.classes;else{var Pi=vr(sn);Fn=Pi?Pi.color:e.color}var Di,ni=Or.bounds;Di={x:(Le+ni[3])*c,y:($e+ni[0])*c,w:(ni[1]-ni[3]+1)*c,h:(ni[2]-ni[0]+1)*c},r.forEach(function(_r){if(_r.getContext){var Rn=_r.getContext("2d"),xi=Or.mu;Rn.save();var li=e.fontWeight+" "+(xn*xi).toString(10)+"px "+e.fontFamily;Rn.scale(1/xi,1/xi),Rn.font=li,Rn.fillStyle=Fn;var Ha=(Le+Or.gw/2)*c*xi,bi=($e+Or.gh/2)*c*xi;Rn.translate(Ha,bi),Dr!==0&&Rn.rotate(-Dr),Rn.textBaseline="middle",e.selected===sn&&(Rn.shadowColor=e.shadowColor,Rn.shadowBlur=e.shadowBlur),Rn.fillText(Rr,Or.fillTextOffsetX*xi,(Or.fillTextOffsetY+xn*.5)*xi),_n||n.push({gx:Le,gy:$e,info:Or,word:Rr,weight:Sr,distance:Zr,theta:Vr,rotateDeg:Dr,attributes:Kr,id:sn,color:Fn}),Rn.restore()}else{var bn=document.createElement("span"),dn="";dn="rotate("+-Dr/Math.PI*180+"deg) ",Or.mu!==1&&(dn+="translateX(-"+Or.fillTextWidth/4+"px) scale("+1/Or.mu+")");var Ln={position:"absolute",display:"block",font:e.fontWeight+" "+xn*Or.mu+"px "+e.fontFamily,left:(Le+Or.gw/2)*c+Or.fillTextOffsetX+"px",top:($e+Or.gh/2)*c+Or.fillTextOffsetY+"px",width:Or.fillTextWidth+"px",height:Or.fillTextHeight+"px",lineHeight:xn+"px",whiteSpace:"nowrap",transform:dn,webkitTransform:dn,msTransform:dn,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};Fn&&(Ln.color=Fn),bn.textContent=Rr;for(var Dn in Ln)bn.style[Dn]=Ln[Dn];if(Kr)for(var Fi in Kr)bn.setAttribute(Fi,Kr[Fi]);Hn&&(bn.className+=Hn),_r.appendChild(bn)}})},pr=function(Le,$e,Or,Rr,Sr){if(!(Le>=H||$e>=V||Le<0||$e<0)){if(R[Le][$e]=!1,Or){var Zr=r[0].getContext("2d");Zr.fillRect(Le*c,$e*c,v,v)}Gt&&(te[Le][$e]={item:Sr,dimension:Rr})}},Ze=function(Le,$e,Or,Rr,Sr){var Zr=Sr.occupied,Vr=e.drawMask,Dr;Vr&&(Dr=r[0].getContext("2d"),Dr.save(),Dr.fillStyle=e.maskColor);var Kr;if(Gt){var sn=Sr.bounds;Kr={x:(Le+sn[3])*c,y:($e+sn[0])*c,w:(sn[1]-sn[3]+1)*c,h:(sn[2]-sn[0]+1)*c}}for(var _n=Zr.length;_n--;){var xn=Le+Zr[_n][0],Fn=$e+Zr[_n][1];if(!(xn>=H||Fn>=V||xn<0||Fn<0)){var Hn=vr(Sr.item.id);Hn&&(Sr.item.color=Hn.color),pr(xn,Fn,Vr,Kr,Sr.item)}}Vr&&Dr.restore()},cr=function(Le,$e,Or,Rr,Sr,Zr,Vr,Dr){var Kr=Math.floor(Le[0]-$e.gw/2),sn=Math.floor(Le[1]-$e.gh/2),_n=$e.gw,xn=$e.gh;return ur(Kr,sn,_n,xn,$e.occupied)?(lr(Kr,sn,$e,Or,Rr,Sr,Le[2],Zr,Vr,Dr,!1),Ze(Kr,sn,_n,xn,$e),{gx:Kr,gy:sn,rot:Zr,info:$e}):!1},Tr=function(Le){var $e,Or,Rr,Sr;Array.isArray(Le)?($e=Le[0],Or=Le[1]):($e=Le.word,Or=Le.weight,Rr=Le.attributes,Sr=Le.id);var Zr=(0,f.isNil)(Le.rotateDeg)?Ge():Le.rotateDeg,Vr=ze($e,Or,Zr);if(Vr&&(Vr.item=Le),!Vr||Ue())return!1;if(!e.drawOutOfBound){var Dr=Vr.bounds;if(Dr[1]-Dr[3]+1>H||Dr[2]-Dr[0]+1>V)return!1}for(var Kr=ut+1;Kr--;){var sn=je(ut-Kr);e.shuffle&&(sn=[].concat(sn),EI(sn));for(var _n=0;_n<sn.length;_n++){var xn=cr(sn[_n],Vr,$e,Or,ut-Kr,Zr,Rr,Sr);if(xn)return xn}}return null},dr=function(Le,$e,Or){if($e)return!r.some(function(Rr){var Sr=document.createEvent("CustomEvent");return Sr.initCustomEvent(Le,!0,$e,Or||{}),!Rr.dispatchEvent(Sr)},this);r.forEach(function(Rr){var Sr=document.createEvent("CustomEvent");Sr.initCustomEvent(Le,!0,$e,Or||{}),Rr.dispatchEvent(Sr)},this)},vr=function(Le){for(var $e=0;$e<n.length;$e++){var Or=n[$e];if(n[$e].id===Le)return Or}},Lr,jr=function(Le){if(Le!==void 0){if(e.selected!==Le&&r[0].getContext){e.selected=Le;var $e=r[0].getContext("2d");$e.fillStyle=e.backgroundColor,$e.clearRect(0,0,r[0].width,r[0].height),$e.fillRect(0,0,r[0].width,r[0].height);for(var Or=0;Or<n.length;Or++){var Rr=n[Or];(!Lr||Lr&&(0,f.get)(Rr,["info","item","twiceRender"]))&&lr(Rr.gx,Rr.gy,Rr.info,Rr.word,Rr.weight,Rr.distance,Rr.theta,Rr.rotateDeg,Rr.attributes,Rr.id,!0)}}return}var Sr=r[0];if(Sr.getContext)H=Math.ceil(Sr.width/c),V=Math.ceil(Sr.height/c);else{var Zr=Sr.getBoundingClientRect();H=Math.ceil(Zr.width/c),V=Math.ceil(Zr.height/c)}if(!!dr("wordcloudstart",!0)){ot=e.origin?[e.origin[0]/c,e.origin[1]/c]:[H/2,V/(h?4:2)],ut=Math.floor(Math.sqrt(H*H+V*V)),R=[];var Vr,Dr,Kr;if(!Sr.getContext||e.clearCanvas)for(r.forEach(function(dn){if(dn.getContext){var Ln=dn.getContext("2d");Ln.fillStyle=e.backgroundColor,Ln.clearRect(0,0,H*(c+1),V*(c+1)),Ln.fillRect(0,0,H*(c+1),V*(c+1))}else dn.textContent="",dn.style.backgroundColor=e.backgroundColor,dn.style.position="relative"}),Vr=H;Vr--;)for(R[Vr]=[],Dr=V;Dr--;)R[Vr][Dr]=!0;else{var sn=document.createElement("canvas").getContext("2d");sn.fillStyle=e.backgroundColor,sn.fillRect(0,0,1,1);var _n=sn.getImageData(0,0,1,1).data,xn=Sr.getContext("2d").getImageData(0,0,H*c,V*c).data;Vr=H;for(var Fn,Hn;Vr--;)for(R[Vr]=[],Dr=V;Dr--;){Hn=c;t:for(;Hn--;)for(Fn=c;Fn--;)for(Kr=4;Kr--;)if(xn[((Dr*c+Hn)*H*c+(Vr*c+Fn))*4+Kr]!==_n[Kr]){R[Vr][Dr]=!1;break t}R[Vr][Dr]!==!1&&(R[Vr][Dr]=!0)}xn=sn=_n=void 0}if(e.onWordCloudHover||e.onWordCloudClick){for(Gt=!0,Vr=H+1;Vr--;)te[Vr]=[];e.onWordCloudHover&&Sr.addEventListener("mousemove",Pe),e.onWordCloudClick&&(Sr.addEventListener("click",Te),Sr.addEventListener("touchstart",Te),Sr.addEventListener("touchend",function(dn){dn.preventDefault()}),Sr.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),Sr.addEventListener("wordcloudstart",function dn(){Sr.removeEventListener("wordcloudstart",dn),Sr.removeEventListener("mousemove",Pe),Sr.removeEventListener("click",Te),ue=void 0})}if(e.animatable){Kr=0;var Rn,xi;e.wait!==0?(Rn=window.setTimeout,xi=window.clearTimeout):(Rn=window.setImmediate,xi=window.clearImmediate);var li=function(Ln,Dn){r.forEach(function(Fi){Fi.addEventListener(Ln,Dn)},this)},Ha=function(Ln,Dn){r.forEach(function(Fi){Fi.removeEventListener(Ln,Dn)},this)},bi=function dn(){Ha("wordcloudstart",dn),xi(bn)};li("wordcloudstart",bi);var bn=Rn(function dn(){if(Kr>=e.data.length){xi(bn),dr("wordcloudstop",!1),Ha("wordcloudstart",bi);return}bt=new Date().getTime();var Ln=Tr(e.data[Kr]),Dn=!dr("wordclouddrawn",!0,{item:e.data[Kr],drawn:Ln});if(Ue()||Dn){xi(bn),e.abort(),dr("wordcloudabort",!1),dr("wordcloudstop",!1),Ha("wordcloudstart",bi);return}Kr++,bn=Rn(dn,e.wait)},e.wait)}else{t.maskImage&&r.forEach(function(dn){if(dn.getContext){var Ln=dn.getContext("2d");Ln.fillStyle=e.backgroundColor,Ln.clearRect(0,0,H*(c+1),V*(c+1)),Ln.fillRect(0,0,H*(c+1),V*(c+1))}});for(var Pi=[],Di=0;Di<e.data.length;Di++){var ni=Tr(e.data[Di]);ni&&Pi.push(ni)}if(Pi.length===e.data.length&&!Lr){for(r.forEach(function(dn){if(dn.getContext){var Ln=dn.getContext("2d");Ln.fillStyle=e.backgroundColor,Ln.clearRect(0,0,H*(c+1),V*(c+1)),Ln.fillRect(0,0,H*(c+1),V*(c+1))}}),Vr=H;Vr--;)for(R[Vr]=[],Dr=V;Dr--;)R[Vr][Dr]=!0;Lr=!0;for(var _r=0;_r<e.data.length;_r++)Tr((0,zt.__assign)((0,zt.__assign)({},e.data[_r]),{twiceRender:Lr}))}}}};jr()};Ch.isSupported=Mh,Ch.minFontSize=es;var AI=Ch,TI=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e._toolTipsAction=function(n,a,o,s){a?(e._toolTips.update({items:[{color:n.color||"red",name:n.word,value:n.weight}],x:o.offsetX,y:o.offsetY}),e._toolTips.show()):e._toolTips.hide(),e._toolTips.render(),e._configHoverAction&&e._configHoverAction(n,a,o,s)},e._configHoverAction=t.onWordCloudHover,e._enableToolTips=(0,f.get)(t,"tooltip.visible",!0),e.options=(0,f.deepMix)({},{width:400,height:400,enableToolTips:!0},t,{onWordCloudHover:e._enableToolTips?e._toolTipsAction:e._configHoverAction}),e}return r.prototype.init=function(){i.prototype.init.call(this),this._initToolTips()},r.prototype.render=function(){i.prototype.render.call(this),this._render()},r.prototype._initToolTips=function(){this._toolTips=new CI({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},r.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},r.prototype._handleMaskImage=function(){var t=this,e=new Image;e.src=this.options.maskImage+"?"+new Date().getTime(),e.crossOrigin="Anonymous",e.onload=function(){e.naturalHeight+e.naturalWidth===0||e.width+e.height===0?t._start():t._startWithMaskImage(e)},e.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},r.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext("2d"),e=this.canvas.get("width")/this.canvas.get("el").width;t.scale(e,e),AI(this._targetCanvas,this.options)},r.prototype._handleG2PlotConfig=function(){var t=this.options.wordStyle.fontSize||[10,60],e=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2],n,a,o;this.options.wordStyle.active?(n=!0,a=this.options.wordStyle.active.shadowColor||"#333",o=this.options.wordStyle.active.shadowBlur||10):n=!1,this.options=(0,f.deepMix)({},this.options,{minFontSize:t[0],maxFontSize:t[1],minRotation:e[0],maxRotation:e[1],active:n,shadowColor:a,shadowBlur:o})},r.prototype._startWithMaskImage=function(t){var e=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),n=e.maskImageCanvas,a=e.maskImageContext,o=document.createElement("canvas").getContext("2d");o.fillStyle=this.options.backgroundColor||"#fff",o.fillRect(0,0,1,1);for(var s=o.getImageData(0,0,1,1).data,l=a.getImageData(0,0,n.width,n.height),u=a.createImageData(l),h=0;h<l.data.length;h+=4)l.data[h+3]>128?(u.data[h]=s[0],u.data[h+1]=s[1],u.data[h+2]=s[2],u.data[h+3]=s[3]):(u.data[h]=s[0],u.data[h+1]=s[1],u.data[h+2]=s[2],u.data[h+3]=254);a.putImageData(u,0,0);var c=this._targetCanvas.getContext("2d");c.drawImage(n,0,0),this.options=(0,f.deepMix)({},this.options,{clearCanvas:!1}),this._start()},r.prototype._scaleMaskImageCanvas=function(t){var e=document.createElement("canvas");e.width=this.canvas.get("width"),e.height=this.canvas.get("height");var n=e.getContext("2d");return n.imageSmoothingEnabled=!0,n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),{maskImageCanvas:e,maskImageContext:n}},r.prototype._transformWhite2BlackPixels=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);for(var a=n.getImageData(0,0,e.width,e.height),o=4,s=0,l=255,u=0;u<a.data.length;u+=o){var h=a.data[u]+a.data[u+1]+a.data[u+2],c=a.data[u+3];c<128||h>250*3?(a.data[u]=l,a.data[u+1]=l,a.data[u+2]=l,a.data[u+3]=s):(a.data[u]=s,a.data[u+1]=s,a.data[u+2]=s,a.data[u+3]=l)}return n.putImageData(a,0,0),e},r}(El),PI=TI,_I=function(i){(0,zt.__extends)(r,i);function r(t,e){var n=this;return e.renderer="canvas",n=i.call(this,t,e)||this,n}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="wordCloud",e.container=this.containerDOM,i.prototype.createLayers.call(this,e)},r}(Xr),LI=_I;qr("wordCloud",PI);var OI={rose:"interval"},II=yi(OI);(0,f.assign)(on,II);var kI={rose:"interval"},BI={rose:"column"},ly=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t),n=t.sectorStyle,a=t.categoryField,o=t.radiusField;return(0,f.deepMix)({},e,{columnStyle:n,xField:a,yField:o})},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;t&&this.view.getScaleByField(t)},r.prototype.getAngleScale=function(){var t=this.options.categoryField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?kI[e]:BI[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:"cat"},this.setConfig("scales",e)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=Wn("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.adjustRoseAdjust=function(){},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.rose.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,g)},r.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=(0,f.deepMix)({},t.label);this.adjustLabelOptions(e);var n=[t.categoryField,t.radiusField],a=Ei("label",(0,zt.__assign)({plot:this,labelType:"polar",fields:n},e));return a},r.prototype.adjustLabelOptions=function(t){var e=this.options.radiusField;if(t){var n=t.offset,a=t.type,o=t.content;a==="inner"?t.offset=n<0?n:-10:a==="outer"&&(t.offset=n>=0?n:10),o||(t.content=function(s,l){return""+l._origin[e]})}},r}(Gn),Eh=ly;qr("rose",ly);var DI=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=Eh.getDefaultOptions,r}(Xr),uy=DI,FI=function(i){var r=i.opacity||1;return{opacity:r*.5}},RI=function(i){var r=i.opacity||1;return{opacity:r*.5}};ji("funnel",{columnStyle:{normal:{},active:FI,disable:RI,selected:{lineWidth:1,stroke:"black"}}});var fy=d(95280);function NI(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,f.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,u;(0,f.isArray)(t)?(l=t[0],u=t[1]):(l=t-a/2,u=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:u,y:(s+o)/2}):h.push({x:u,y:s},{x:u,y:o}),h}function YI(i,r){var t=[],e=i.points,n=i.nextPoints;if(r){var a=r.yValues,o=r.yValuesMax,s=r.yValuesNext,l=(e[0].y+e[1].y)/2,u=a[0]+a[1],h=a.map(function(k){return k/u/.5}),c=(o[0]/(o[0]+o[1])-.5)*.9,v=.001;if((0,f.isNil)(n))t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l],["L",e[1].x,c+l],["L",e[2].x,c+l],["L",e[3].x,c+(e[3].y-l)*h[0]+l],["Z"]),t.push(["M",e[0].x,c+.002+l],["L",e[1].x,c+.002+(e[1].y-l)*h[1]+l],["L",e[2].x,c+.002+(e[2].y-l)*h[1]+l],["L",e[3].x,c+.002+l],["Z"]);else{var y=s[0]+s[1],A=s.map(function(k){return k/y/.5});t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l-v],["L",e[1].x,c+l-v],["L",n[1].x,c+l-v],["L",n[0].x,c+(n[3].y-l)*A[0]+l-v],["Z"]),t.push(["M",e[0].x,c+l+v],["L",e[1].x,c+(e[1].y-l)*h[1]+l+v],["L",n[1].x,c+(n[2].y-l)*A[1]+l+v],["L",n[0].x,c+l+v],["Z"])}}else(0,f.isNil)(n)?t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",n[1].x,n[1].y],["L",n[0].x,n[0].y],["Z"]);return t}fn("interval","funnel-basic-rect",{getPoints:function(i){return i.size=i.size*1.8,NI(i)},draw:function(i,r){var t,e=(0,fy.getStyle)(i,!1,!0),n=(0,f.get)(i,"data.__compare__"),a=this.parsePath(YI(i,n));return r.addShape("path",(t={name:"interval",attrs:(0,zt.__assign)((0,zt.__assign)({},e),{path:a})},t.__compare__=n,t))},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function Ah(i,r,t){return(1-t)*i+t*r}function GI(i,r){var t=r.reverse,e=r.ratioUpper,n=r.ratioLower,a=[],o=i[0],s=(i[1].x+i[2].x)/2,l=1.2,u=.6;if(t){var h=n;n=e,e=h}var c=(o.x-s)*Ah(u,l,n)+s;a.push(["M",c,o.y]);for(var v=1,y=i.length;v<y;v++){var A=i[v].x;switch(v){case 1:case 2:A=(A-s)*Ah(u,l,e)+s;break;case 3:A=(A-s)*Ah(u,l,n)+s;break}a.push(["L",A,i[v].y])}return a.push(["L",c,o.y]),a.push(["z"]),a}fn("interval","funnel-dynamic-rect",{draw:function(i,r){var t=(0,fy.getStyle)(i,!1,!0),e=(0,f.get)(i,"data.__custom__"),n=this.parsePath(GI(i.points,e));return r.addShape("path",{attrs:(0,zt.__assign)((0,zt.__assign)({},t),{path:n})})},getMarker:function(i){var r=i.color,t=i.isInPolar;return{symbol:t?"circle":"square",style:{r:t?4.5:4,fill:r}}}});function hy(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,u=i.getBBox(),h=l?u.maxX:u.minX,c=(u.minY+u.maxY)/2,v=i.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}}),y={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(yn.transform(v.getMatrix(),[["t",-h,-c],["s",0,1],["t",h,c]]));var A={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(y,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(A,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}hy.animationName="funnelScaleInX",qn("funnelScaleInX",hy);function cy(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,u=i.getBBox(),h=(u.minX+u.maxX)/2,c=l?u.maxY:u.minY,v=i.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}}),y={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(yn.transform(v.getMatrix(),[["t",-h,-c],["s",1,0],["t",h,c]]));var A={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(y,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(A,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}cy.animationName="funnelScaleInY",qn("funnelScaleInY",cy);function $l(i,r,t){return(1-t)*i+t*r}var zI={column:"interval"},XI={interval:"funnel"},vy=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="funnel",e._shouldResetPercentages=!0,e._shouldResetLabels=!0,e._shouldResetCompareTexts=!0,e._legendsListenerAttached=!1,e._onLegendContainerMouseDown=function(n){var a=e.options,o=n.target.get("name");if(o.startsWith("legend-item")){var s=n.target.get("parent");if(s.set("unchecked",!s.get("unchecked")),e.refreshPercentages(),e.refreshLabels(),a.dynamicHeight){var l=e._findCheckedDataByMouseDownLegendItem(s);e._genCustomFieldForDynamicHeight(l)}if(a.compareField){var l=e._findCheckedDataByMouseDownLegendItem(s);e._updateDataForCompare(l),e.refreshCompareTexts()}}},e.adjustProps(e.options),t.dynamicHeight&&e._genCustomFieldForDynamicHeight(e.getData()),t.compareField&&(e.options.data=e._reduceDataForCompare(e.getData())),e}return r.getDefaultOptions=function(t){var e={label:{visible:!0,adjustColor:!0},percentage:{visible:!0,offsetX:t.transpose?0:40,offsetY:t.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"\u8F6C\u5316\u7387",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(n,a){return(100*a/n).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:(0,f.deepMix)({},vo.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}},legend:{position:"bottom-center"},interactions:[{type:"tooltip"},{type:"legend-filter"}]};return(0,f.deepMix)({},i.getDefaultOptions.call(this),e)},r.prototype.getColorScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.coord=function(){var t=this.options,e={type:"rect",actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coordinate",e)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustFunnel=function(t){var e=this.options;t.shape=e.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect",t.color={fields:[e.xField],values:e.color&&(Array.isArray(e.color)?e.color:[e.color])},(0,f.isFunction)(e.funnelStyle)?t.style={callback:e.funnelStyle}:t.style={cfg:e.funnelStyle},t.adjust=[{type:e.dynamicHeight?"stack":"symmetric"}]},r.prototype.tooltip=function(){var t=this.options;t.compareField&&(0,f.deepMix)(t.tooltip,{htmlContent:function(e,n){var a,o,s,l;a=ei.CONTAINER_CLASS,o=(0,lt.Z)('<div class="'+a+'"></div>'),(0,st.Z)(o,Io.default[a]);var u=o;if(e){a=ei.TITLE_CLASS,o=(0,lt.Z)('<div class="'+a+'"></div>'),(0,st.Z)(o,Io.default[a]),u.appendChild(o);var h=o;a=ei.MARKER_CLASS,o=(0,lt.Z)('<span class="'+a+'"></span>'),(0,st.Z)(o,Io.default[a]),(0,st.Z)(o,{width:"10px",height:"10px"}),h.appendChild(o),l=o,o=(0,lt.Z)("<span>"+e+"</span>"),h.appendChild(o)}if(n){a=ei.LIST_CLASS,o=(0,lt.Z)('<ul class="'+a+'"></ul>'),(0,st.Z)(o,Io.default[a]),u.appendChild(o);var c=o;n.reduce(function(v,y){s||(s=y.color);var A=(0,f.get)(y,"point._origin.__compare__.compareValues"),k=(0,f.get)(y,"point._origin.__compare__.yValues");return k.forEach(function(R,H){return v.push([A[H],R])}),v},[]).forEach(function(v,y){var A=v[0],k=v[1];a=ei.LIST_ITEM_CLASS,o=(0,lt.Z)('<li class="'+a+'" data-index='+y+"></li>"),(0,st.Z)(o,Io.default[a]),c.appendChild(o);var R=o;a=ei.NAME_CLASS,o=(0,lt.Z)('<span class="'+a+'">'+A+"</span>"),(0,st.Z)(o,Io.default[a]),R.appendChild(o),a=ei.VALUE_CLASS,o=(0,lt.Z)('<span class="'+a+'">'+k+"</span>"),(0,st.Z)(o,Io.default[a]),R.appendChild(o)})}return s&&l&&(0,st.Z)(l,{backgroundColor:s}),u}}),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){var t=this.options,e=Wn("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});this.adjustFunnel(e),this.funnel=e,this.setConfig("geometry",e),t.compareField||this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.options.tooltip;t.fields&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.fields=t.fields),t.formatter&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.callback=t.formatter,t.fields||(this.funnel.tooltip.fields=[this.options.xField,this.options.yField]))},r.prototype.animation=function(){var t=this;i.prototype.animation.call(this);var e=this.options;if(e.animation===!1)this.funnel.animate=!1;else{var n=this.getData(),a=(0,f.get)(e,"animation.appear.duration"),o=a/(n.length||1);this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout(function(){t.fadeInPercentages(o),e.compareField&&t.fadeInCompareTexts(o),delete t._animationAppearTimeoutHandler},a),this.funnel.animate=(0,f.deepMix)({},e.animation,{appear:{animation:e.transpose?"funnelScaleInX":"funnelScaleInY",duration:o,delay:function(s){return(0,f.findIndex)(n,function(l){return(0,f.isEqual)(l,s)})*o},callback:function(s){t.fadeInLabels(s,.5*o)}},enter:{animation:"fade-in"}})}},r.prototype.afterRender=function(){var t=this.options;if(this.resetLabels(),this.resetPercentages(),t.compareField&&this.resetCompareTexts(),t.padding=="auto"){var e=this._findPercentageContainer();e&&this.paddingController.registerPadding(e,"inner",!0);var n=this._findCompareTextContainer();n&&this.paddingController.registerPadding(n,"inner",!0)}if(i.prototype.afterRender.call(this),t.animation===!1&&(this.fadeInLabels(),this.fadeInPercentages(),t.compareField&&this.fadeInCompareTexts()),!this._legendsListenerAttached){this._legendsListenerAttached=!0;var a=this.view.getController("legend").container;a.on("mousedown",this._onLegendContainerMouseDown)}},r.prototype.updateConfig=function(t){t=this.adjustProps(t),i.prototype.updateConfig.call(this,t),this._legendsListenerAttached=!1},r.prototype.changeData=function(t){var e=this.options;if(e.animation!==!1&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),e.dynamicHeight){var n=this._findCheckedDataInNewData(t);this._genCustomFieldForDynamicHeight(n)}if(e.compareField){t=this._reduceDataForCompare(t);var n=this._findCheckedDataInNewData(t);this._updateDataForCompare(n)}i.prototype.changeData.call(this,t),this.refreshPercentages(),this.refreshLabels(),e.compareField&&this.fadeInCompareTexts()},r.prototype.geometryParser=function(t,e){return t==="g2"?zI[e]:XI[e]},r.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&((0,f.set)(t,"meta."+t.yField+".nice",!1),(0,f.set)(t,"tooltip.shared",!1)),t},r.prototype.resetPercentages=function(){var t=this;if(!!this._shouldResetPercentages){var e=this.options,n=e.percentage||{},a=n.offsetX,o=n.offsetY,s=n.spacing,l=n.line,u=l===void 0?{}:l,h=n.text,c=h===void 0?{}:h,v=n.value,y=v===void 0?{}:v,A=Date.now(),k=this._findPercentageContainer(!0);this._eachShape(function(R,H,V,ot){if(H>0){var ut=R.getBBox(),bt=ut.minX,Ft=ut.maxX,Xt=ut.maxY,Ut=ut.minY,Gt=e.transpose?bt:Ft,te=e.transpose&&e.compareField?Xt:Ut,ue=t._findPercentageMembersInContainerByIndex(k,H,!0),se=ue.line,Me=ue.text,Pe=ue.value,Te=[function(Ge,ze,ur,lr,pr){ur&&(ur.attr((0,f.deepMix)({},u.style,{x1:Ge,y1:ze,x2:e.transpose?Ge+a:Ge-a,y2:e.transpose?ze-o:ze+o,opacity:0})),ur.set("adjustTimestamp",A));var Ze=0,cr=0,Tr=function(){lr&&(lr.attr((0,f.deepMix)({},c.style,{x:e.transpose?Ge+a:Ge-a-s-cr-s,y:e.transpose?ze-o-s:ze+o,opacity:0,text:c.content,textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),lr.set("adjustTimestamp",A),Ze=lr.getBBox().width)},dr=function(){pr&&(pr.attr((0,f.deepMix)({},y.style,{x:e.transpose?Ge+a+Ze+s:Ge-a-s,y:e.transpose?ze-o-s:ze+o,opacity:0,text:(0,f.isFunction)(y.formatter)?e.compareField?y.formatter((0,f.get)(ot,"__compare__.yValues.0"),(0,f.get)(V,"__compare__.yValues.0")):y.formatter(ot[e.yField],V[e.yField]):"",textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),pr.set("adjustTimestamp",A),cr=pr.getBBox().width)};e.transpose?(Tr(),dr()):(dr(),Tr())},function(Ge,ze,ur,lr,pr){ur&&(ur.attr((0,f.deepMix)({},u.style,{x1:Ge,y1:ze,x2:Ge+a,y2:e.transpose?e.compareField?ze+o:ze-o:ze+o,opacity:0})),ur.set("adjustTimestamp",A));var Ze=0;lr&&(lr.attr((0,f.deepMix)({},c.style,{x:e.transpose?Ge+a:Ge+a+s,y:e.transpose?e.compareField?ze+o+s:ze-o-s:ze+o,opacity:0,text:c.content,textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),lr.set("adjustTimestamp",A),Ze=lr.getBBox().width),pr&&(pr.attr((0,f.deepMix)({},y.style,{x:e.transpose?Ge+a+Ze+s:Ge+a+s+Ze+s,y:e.transpose?e.compareField?ze+o+s:ze-o-s:ze+o,opacity:0,text:(0,f.isFunction)(y.formatter)?e.compareField?y.formatter((0,f.get)(ot,"__compare__.yValues.1"),(0,f.get)(V,"__compare__.yValues.1")):y.formatter(ot[e.yField],V[e.yField]):"",textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),pr.set("adjustTimestamp",A))}];if(e.compareField){var Ve=[bt,Ut],je=Ve[0],Ue=Ve[1];[[je,Ue],[Gt,te]].forEach(function(Ge,ze){var ur=Ge[0],lr=Ge[1];return Te[ze](ur,lr,se&&se[ze],Me&&Me[ze],Pe&&Pe[ze])})}else Te[1](Gt,te,se,Me,Pe)}ot=V,H++}),k.get("children").forEach(function(R){R.get("adjustTimestamp")!=A&&(R.attr({opacity:0}),k.set(R.get("id"),null),setTimeout(function(){return R.remove()},0))})}},r.prototype.fadeInPercentages=function(t,e){var n=this,a=this.options,o=this._findPercentageContainer(),s=function(l){var u={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity};n._eachShape(function(h,c){var v=n._findPercentageMembersInContainerByIndex(o,c),y={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity},A=function(R){if(R&&R.get("type")=="text"){var H=R.getBBox(),V=H.minX,ot=H.maxX,ut=H.minY,bt=H.maxY;V<y.minX&&(y.minX=V),ot>y.maxX&&(y.maxX=ot),ut<y.minY&&(y.minY=ut),bt>y.maxY&&(y.maxY=bt)}};if((0,f.each)(v,function(R){return(0,f.isArray)(R)?A(R[l]):A(R)}),y.minX>u.maxX||y.maxX<u.minX||y.minY>u.maxY||y.maxY<u.minY){var k=function(R){if(R){var H={opacity:1};t?R.animate(H,t):R.attr(H)}};(0,f.each)(v,function(R){return(0,f.isArray)(R)?k(R[l]):k(R)}),(0,f.assign)(u,y)}})};a.compareField?[0,1].forEach(s):s(),t&&e&&setTimeout(e,t)},r.prototype.fadeOutPercentages=function(t,e){var n=this,a=this._findPercentageContainer();this._eachShape(function(o,s){var l=n._findPercentageMembersInContainerByIndex(a,s),u=function(h){if(h){var c={opacity:0};t?h.animate(c,t):h.attr(c)}};(0,f.each)(l,function(h){return(0,f.isArray)(h)?h.forEach(u):u(h)})}),t&&e&&setTimeout(e,t)},r.prototype.refreshPercentages=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetPercentages=!1,this.fadeOutPercentages(o,function(){e._shouldResetPercentages=!0,e.resetPercentages(),e.fadeInPercentages(s,t)})}},r.prototype._findPercentageContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("percentageContainer");return!n&&t&&(n=e.addGroup(),e.set("percentageContainer",n)),n},r.prototype._findPercentageMembersInContainerByIndex=function(t,e,n){n===void 0&&(n=!1);var a=this.options,o=a.percentage||{},s=o.visible,l=o.line,u=l===void 0?{}:l,h=o.text,c=h===void 0?{}:h,v=o.value,y=v===void 0?{}:v,A={line:void 0,text:void 0,value:void 0};if(s===!1||!t)return A;if(u.visible!==!1){var k=function(ot){var ut="_percentage-line-"+e+"-"+ot,bt=t.get(ut);return!bt&&n&&(bt=t.addShape({id:ut,type:"line",attrs:{}}),t.set(ut,bt)),bt},R=a.compareField?[0,1].map(k):k(0);A.line=R}if(c.visible!==!1){var k=function(ut){var bt="_percentage-text-"+e+"-"+ut,Ft=t.get(bt);return!Ft&&n&&(Ft=t.addShape({id:bt,type:"text",attrs:{}}),t.set(bt,Ft)),Ft},H=a.compareField?[0,1].map(k):k(0);A.text=H}if(y.visible!==!1){var k=function(ut){var bt="_percentage-value-"+e+"-"+ut,Ft=t.get(bt);return!Ft&&n&&(Ft=t.addShape({id:bt,type:"text",attrs:{}}),t.set(bt,Ft)),Ft},V=a.compareField?[0,1].map(k):k(0);A.value=V}return A},r.prototype._calcRefreshFadeDurations=function(){var t=this.options,e=(0,f.get)(t,"animation.update.duration"),n=(0,f.get)(t,"animation.enter.duration"),a=Math.min(n,e)*.6,o=Math.max(n,e)*1.2;return{fadeInDuration:a,fadeOutDuration:o}},r.prototype.resetLabels=function(){var t=this;if(!!this._shouldResetLabels){var e=this.options,n=e.xField,a=e.yField,o=Date.now(),s=this._getGeometry().labelsContainer,l=e.label||{},u=(0,f.deepMix)((0,zt.__assign)({},this.theme.label),e.label.style,{opacity:0,textAlign:"center",textBaseline:"middle"}),h;this._eachShape(function(c,v,y,A){var k,R=c.get("element");v==0&&(h=y);var H=c.getBBox(),V=H.minX,ot=H.maxX,ut=H.minY,bt=H.maxY,Ft=y[n],Xt=y[a];l.adjustColor&&(u.fill=t._getAdjustedTextFillByShape(c));var Ut=y.__compare__,Gt,te=(k={},k[As]=y,k.element=R,k.elementIndex=A,k.mappingDatum=[].concat(R.getModel().mappingData)[0],k.mappingDatumIndex=0,k);l.formatter?Gt=l.formatter(Ft,te,v,Xt,h[a]):Ut?Gt=[0,1].map(function(){return""+Xt}).join(e.transpose?`

`:"    "):Gt=Ft+" "+Xt;var ue=t._findLabelInContainerByIndex(s,v,!0),se=Ut?Ut.yValues[0]/(Ut.yValues[0]+Ut.yValues[1]):.5;ue&&(ue.attr((0,zt.__assign)((0,zt.__assign)({},u),{x:$l(V,ot,e.transpose?.5:se),y:$l(ut,bt,e.transpose?se:.5),text:Gt})),ue.set("adjustTimestamp",o))}),s.get("children").forEach(function(c){c.get("adjustTimestamp")!=o&&(c.attr({opacity:0}),s.set(c.get("id"),null),setTimeout(function(){return c.remove()}))})}},r.prototype.fadeInLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var u=a._findLabelInContainerByIndex(o,l);if(u){var h=s.getBBox(),c=u.getBBox();if(c.minX>=h.minX&&c.maxX<=h.maxX&&c.minY>=h.minY&&c.maxY<=h.maxY){var v={opacity:1};e?u.animate(v,e):u.attr(v)}}}}),e&&n&&setTimeout(n,e)},r.prototype.fadeOutLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var u=a._findLabelInContainerByIndex(o,l);if(u){var h={opacity:0};e?u.animate(h,e):u.attr(h)}}}),e&&n&&setTimeout(n,e)},r.prototype.refreshLabels=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetLabels=!1,this.fadeOutLabels(null,o,function(){e._shouldResetLabels=!0,e.resetLabels(),e.fadeInLabels(null,s,t)})}},r.prototype._findLabelInContainerByIndex=function(t,e,n){var a;n===void 0&&(n=!1);var o=this.options,s;if(((a=o.label)===null||a===void 0?void 0:a.visible)===!1)return s;var l="_label-"+e;return s=t.get(l),!s&&n&&(s=t.addShape({id:l,type:"text",attrs:{}}),t.set(l,s)),s},r.prototype.resetCompareTexts=function(){if(!!this._shouldResetCompareTexts){var t=this.options,e,n;if(this._eachShape(function(y,A,k){A==0&&(e=y.get("parent").getBBox(),n=(0,f.get)(k,"__compare__"))}),e&&n&&(0,f.get)(t,"compareText.visible")!==!1){var a=this._findCompareTextContainer(!0),o=n.yValuesMax,s=n.compareValues,l=e.minX,u=e.maxX,h=e.minY,c=e.maxY,v=a.get("children");[0,1].forEach(function(y){var A=v[y];A||(A=a.addShape({type:"text"})),A.attr((0,f.deepMix)({},(0,f.get)(t,"compareText.style"),{text:t.transpose?s[y]:y?"  "+s[y]:s[y]+"  ",x:t.transpose?l+(0,f.get)(t,"compareText.offsetX"):$l(l,u,o[0]/(o[0]+o[1])),y:t.transpose?$l(h,c,o[0]/(o[0]+o[1]))+(y?8:-8):h+(0,f.get)(t,"compareText.offsetY"),opacity:0,textAlign:t.transpose?"right":y?"left":"right",textBaseline:t.transpose&&y?"top":"bottom"}))})}}},r.prototype.fadeInCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:1};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.fadeOutCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:0};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.refreshCompareTexts=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeInDuration,s=a.fadeOutDuration;this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(s,function(){e._shouldResetCompareTexts=!0,e.resetCompareTexts(),e.fadeInCompareTexts(o,t)})}},r.prototype._findCompareTextContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("compareTextContainer");return!n&&t&&(n=e.addGroup(),e.set("compareTextContainer",n)),n},r.prototype._eachShape=function(t){var e,n=this._findCheckedData(this.getData()),a=n.length,o=0,s;(e=this._getGeometry())===null||e===void 0||e.elements.forEach(function(l,u){var h=l.shape,c=n[o];o<a&&t(h,o,c,s,u),s=c,o++})},r.prototype._getGeometry=function(){return this.view.geometries[0]},r.prototype._getAdjustedTextFillByShape=function(t){var e=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,a=qa(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=Xl(s,o);return l},r.prototype._genCustomFieldForDynamicHeight=function(t){var e=this.options,n=t.reduce(function(o,s){return o+s[e.yField]},0),a=1;t.forEach(function(o,s){var l=o[e.yField],u=l/n,h=a-u;o.__custom__={datumIndex:s,dataLength:t.length,ratioUpper:a,ratioLower:h,reverse:e.transpose},a=h})},r.prototype._findCheckedDataByMouseDownLegendItem=function(t){var e=t.get("parent").get("children").map(function(a){return!a.get("unchecked")}),n=this.getData().filter(function(a,o){return e[o]});return n},r.prototype._findCheckedDataInNewData=function(t){var e=this.options,n=this.view.getController("legend").container,a=n.findAll(function(s){return s.get("name")=="legend-item"}).filter(function(s){return s.get("unchecked")}).map(function(s){return s.get("id").replace("-legend-item-","")}),o=t.filter(function(s){return!(0,f.contains)(a,s[e.xField])});return o},r.prototype._findCheckedData=function(t){var e,n=this.options;if((e=n.legend)===null||e===void 0?void 0:e.visible){var a=this.view.getController("legend").container,o=a.findAll(function(l){return l.get("name")=="legend-item"}).filter(function(l){return!l.get("unchecked")}).map(function(l){return l.get("id").replace("-legend-item-","")}),s=t.filter(function(l){return(0,f.contains)(o,l[n.xField])});return s}else return this.processData(n.data)},r.prototype._reduceDataForCompare=function(t){var e=this.options,n,a=[-Infinity,-Infinity];return t=t.reduce(function(o,s){var l,u=s[e.xField],h=s[e.yField],c=s[e.compareField];n||(n=c);var v=o.find(function(A){return A[e.xField]==u});v||(v=(l={},l[e.xField]=u,l[e.yField]=0,l.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:e.transpose},l),o.push(v));var y=c==n?0:1;return v.__compare__.yValues[y]=h,a[y]<h&&(a[y]=h),v.__compare__.compareValues[y]=c,o},[]),t.forEach(function(o,s){o[e.yField]=(0,f.get)(o,"__compare__.yValues",[]).reduce(function(l,u){return l+=u},0),(0,f.set)(o,"__compare__.yValuesMax",a),(0,f.set)(o,"__compare__.yValuesNext",(0,f.get)(t,s+1+".__compare__.yValues"))}),t},r.prototype._updateDataForCompare=function(t){var e=[-Infinity,-Infinity];t.forEach(function(n){var a=(0,f.get)(n,"__compare__.yValues");[0,1].forEach(function(o){a[o]>e[o]&&(e[o]=a[o])})}),t.forEach(function(n,a){(0,f.set)(n,"__compare__.yValuesMax",e),(0,f.set)(n,"__compare__.yValuesNext",(0,f.get)(t,a+1+".__compare__.yValues"))})},r}(Gn),VI=vy;qr("funnel",vy);var HI=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="funnel",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=VI.getDefaultOptions,r}(Xr),WI=HI,dy=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"stack"}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.stackField]))},r}(Eh),jI=dy;qr("stackedRose",dy);var UI=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedRose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=jI.getDefaultOptions,r}(Xr),py=UI,gy=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"dodge",marginRatio:1}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.groupField]))},r}(Eh),ZI=gy;qr("groupedRose",gy);var KI=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedRose",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ZI.getDefaultOptions,r}(Xr),yy=KI,$I={area:"area",line:"line",point:"point"},QI=yi($I);(0,f.assign)(on,QI);var JI=function(i){var r=i.opacity||1;return{opacity:r}},qI=function(i){var r=i.opacity||1;return{opacity:r*.5}},tk=function(i){var r=i.opacity||1;return{opacity:r}},ek=function(i){var r=i.opacity||1;return{opacity:r*.5}},rk=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},nk=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},ik=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},ak=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}};ji("radar",{areaStyle:{normal:{},active:JI,disable:qI,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:tk,disable:ek,selected:rk},pointStyle:{normal:{},active:nk,disable:ak,selected:ik}});var ok={area:"area",line:"line",point:"point"},my=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="radar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},r.prototype.init=function(){var t=this.options;t.xField=t.angleField,t.yField=t.radiusField,i.prototype.init.call(this)},r.prototype.getAngleScale=function(){var t=this.options.angleField;return this.view.getScaleByField(t)},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options.seriesField;return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return ok[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.angleField]={},(0,f.has)(t,"angleAxis")&&si(e[t.angleField],t.angleAxis),e[t.radiusField]={},(0,f.has)(t,"radiusAxis")&&si(e[t.radiusField],t.radiusAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius}};this.setConfig("coordinate",e)},r.prototype.axis=function(){var t=this.options,e=Ei("axis",{plot:this,dim:"angle"}),n=Ei("axis",{plot:this,dim:"radius"}),a={};a[t.angleField]=e,a[t.radiusField]=n,this.setConfig("axes",a)},r.prototype.addGeometry=function(){var t=this.options;if(t.area.visible){var e=Wn("area","main",{plot:this});this.setConfig("geometry",e),this.area=e}if(t.line&&t.line.visible){var n=Wn("line","main",{plot:this});this.setConfig("geometry",n),this.line=n}if(t.point&&t.point.visible){var a=Wn("point","guide",{plot:this});this.setConfig("geometry",a),this.point=a}t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),this.area&&(this.area.label=!1);return}var e=Ei("label",(0,zt.__assign)({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=e:this.line?this.line.label=e:this.area&&(this.area.label=e)},r.prototype.annotation=function(){},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,C)},r}(Gn),sk=my;qr("radar",my);var lk=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="radar",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getColorScale=function(){var t=this.layers[0];return t.getColorScale()},r.getDefaultOptions=sk.getDefaultOptions,r}(Xr),xy=lk,uk=d(89810),fk=d(79189),hk=function(){function i(r){var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}return i.prototype.render=function(){if((0,f.isElement)(this.container)){this.wrapperNode=(0,lt.Z)('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),(0,st.Z)(this.wrapperNode,{position:"absolute",pointerEvents:"none"});var r=this.html;this.wrapperNode.appendChild(r),this.setDomPosition(this.x,this.y)}},i.prototype.updateHtml=function(r){(0,f.isType)(r,"HTMLDivElement")?(this.wrapperNode.innerHTML="",this.wrapperNode.appendChild(r)):this.wrapperNode.innerHTML=r,this.setDomPosition(this.x,this.y)},i.prototype.updatePosition=function(r,t){this.x=r,this.y=t,this.setDomPosition(r,t)},i.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},i.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},i.prototype.setDomPosition=function(r,t){var e=r,n=t,a=(0,uk.Z)(this.wrapperNode),o=(0,fk.Z)(this.wrapperNode);this.options.alignX==="middle"&&(e=r-a/2),this.options.alignY==="middle"&&(n=t-o/2),(0,st.Z)(this.wrapperNode,{top:Math.round(n)+"px",left:Math.round(e)+"px",transform:a>0?"none":"translate(-50%, -50%)"})},i}(),by=hk,ck="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",vk="font-size:32px;font-weight:bold;color:#4D4D4D";function dk(i,r){var t='<span class="liquid-guide-value" style='+vk+">"+i+"</span>";return'<div class="liquid-guide-html '+r+'" style='+ck+">"+t+"</div>"}var pk=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.getTotalHtmlString=function(){var t=document.createElement("div"),e=this.plot.options,n=e.value,a=n===void 0?0:n,o=e.statistic;if(o&&!o.visible)return t;var s=this.options.htmlContent(a);return(0,f.isType)(s,"HTMLDivElement")?t.appendChild(s):t.innerHTML=dk(s,this.statisticClass),t},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r}(by),gk=pk,yk={liquid:"intervl",statistic:"annotation-text"},mk=yi(yk);(0,f.assign)(on,mk);var wy=Ii(),Sy={splitPoints:function(i){var r=[],t=i.x,e=i.y;return e=(0,f.isArray)(e)?e:[e],(0,f.each)(e,function(n,a){var o={x:(0,f.isArray)(t)?t[a]:t,y:n};r.push(o)}),r},addFillAttrs:function(i,r){r.color&&!i.fill&&(i.fill=r.color),(0,f.isNumber)(r.opacity)&&(i.opacity=i.fillOpacity=r.opacity)},addStrokeAttrs:function(i,r){r.color&&!i.stroke&&(i.stroke=r.color),(0,f.isNumber)(r.opacity)&&(i.opacity=i.strokeOpacity=r.opacity)}},Th={lerp:function(i,r,t){return(1-t)*i+t*r}},xk=function(i){var r={lineWidth:0,fill:wy.color,fillOpacity:.85},t=(0,f.mix)({},r,i.style);return Sy.addFillAttrs(t,i),i.color&&!t.stroke&&(t.stroke=t.stroke||i.color),t},bk=function(i){var r={fill:"#fff",stroke:wy.color,fillOpacity:0,lineWidth:2},t=(0,f.mix)({},r,i.style);return Sy.addStrokeAttrs(t,i),t};function wk(i,r,t,e){return r===0?[[i+1/2*t/Math.PI/2,e/2],[i+1/2*t/Math.PI,e],[i+t/4,e]]:r===1?[[i+1/2*t/Math.PI/2*(Math.PI-2),e],[i+1/2*t/Math.PI/2*(Math.PI-1),e/2],[i+t/4,0]]:r===2?[[i+1/2*t/Math.PI/2,-e/2],[i+1/2*t/Math.PI,-e],[i+t/4,-e]]:[[i+1/2*t/Math.PI/2*(Math.PI-2),-e],[i+1/2*t/Math.PI/2*(Math.PI-1),-e/2],[i+t/4,0]]}function Sk(i,r,t,e,n,a,o){for(var s=Math.ceil(2*i/t*4)*2,l=[],u=e;u<-Math.PI*2;)u+=Math.PI*2;for(;u>0;)u-=Math.PI*2;u=u/Math.PI/2*t;var h=a-i+u-i*2;l.push(["M",h,r]);for(var c=0,v=0;v<s;++v){var y=v%4,A=wk(v*t/4,y,t,n);l.push(["C",A[0][0]+h,-A[0][1]+r,A[1][0]+h,-A[1][1]+r,A[2][0]+h,-A[2][1]+r]),v===s-1&&(c=A[2][0])}return l.push(["L",c+h,o+i]),l.push(["L",h,o+i]),l.push(["L",h,r]),l}function Mk(i,r,t,e,n,a,o,s){for(var l=o.getBBox(),u=l.maxX-l.minX,h=l.maxY-l.minY,c=5e3,v=0;v<e;v++){var y=e<=1?0:v/(e-1),A=a.addShape("path",{attrs:{path:Sk(s,l.minY+h*t,u/4,0,u/Th.lerp(56,64,y),i,r),fill:n,opacity:Th.lerp(.6,.3,y)}}),k=$o([["t",u/2,0]]);A.animate({matrix:k},{duration:Th.lerp(c,.7*c,y),repeat:!0})}}fn("interval","liquid-fill-gauge",{draw:function(i,r){var t=.5,e=Infinity;(0,f.each)(i.points,function(v){v.x<e&&(e=v.x)});var n=.5,a=this.parsePoint({x:n,y:t}),o=this.parsePoint({x:e,y:.5}),s=a.x-o.x,l=Math.min(s,o.y),u=xk(i).fill,h=r.addGroup({name:"waves",attrs:{x:a.x,y:a.y}});h.setClip({type:"circle",attrs:{x:a.x,y:a.y,r:l}});var c=h.get("clipShape");return Mk(a.x,a.y,1-i.points[1].y,3,u,h,c,l*4),r.addShape("circle",{name:"wrap",attrs:(0,f.mix)(bk(i),{x:a.x,y:a.y,r:l,fill:"transparent"})}),h[0]}});function My(i,r){var t=i.get("parent"),e=t.getBBox(),n=Math.min(Math.max(0,(0,f.get)(r,"factor",.5)),1),a=(0,f.get)(r,"delay",0),o=(0,f.get)(r,"duration",800),s=r.callback,l=(e.minX+e.maxX)/2,u=e.maxY,h=t.find(function(k){return k.get("name")=="wrap"}),c=h.attr("opacity");h.attr("opacity",0),h.animate({opacity:c},o*n,"easeLinear",null,a);var v=t.find(function(k){return k.get("name")=="waves"}),y=(0,f.clone)(v.attr("matrix"))||[1,0,0,0,1,0,0,0,1],A=$o(y,[["t",-l,-u],["s",1,0],["t",l,u]]);v.setMatrix(A),v.animate({matrix:y},o,r.easing,function(){return s&&s(t,h,v)},a)}My.animationName="liquidMoveIn",qn("liquidMoveIn",My);var Ck={column:"interval"},Ek={interval:"liquid"},Cy=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="liquid",t.shouldFadeInAnnotation=!0,t}return r.getDefaultOptions=function(){var t={padding:[0,0,0,0],animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2},color:"#6a99f9",interactions:[],statistic:{visible:!0}};return(0,f.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){var t=this.options,e=t.min,n=t.max,a=t.value;if(!(0,f.isNumber)(e))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!(0,f.isNumber)(n))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!(0,f.isNumber)(a))throw new Error("The value of Liquid is required, and the type of value must be Number.")},r.prototype.init=function(){this.options.data=[{}],i.prototype.init.call(this)},r.prototype.coord=function(){},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a={value:{}};si(a.value,{min:Math.min(e,n),max:Math.max(e,n)}),this.setConfig("scales",a),i.prototype.scale.call(this)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustLiquid=function(t){var e=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var n=e.liquidStyle;(0,f.isFunction)(n)&&(n=n()),n&&(t.style=n)},r.prototype.addGeometry=function(){var t=Wn("interval","main",{positionFields:[1,"value"],plot:this});this.adjustLiquid(t);var e=this.getViewRange(),n=Math.min(e.width,e.height)*.8,a=this.options.liquidSize?this.options.liquidSize:n;t.size={values:[a]},this.liquid=t,this.setConfig("geometry",t)},r.prototype.animation=function(){var t=this.options;if(t.animation===!1)this.liquid.animate=!1;else{var e=(0,f.get)(t,"animation.factor"),n=(0,f.get)(t,"animation.easing"),a=(0,f.get)(t,"animation.duration");this.liquid.animate={appear:{animation:"liquidMoveIn",factor:e,easing:n,duration:a}}}},r.prototype.geometryParser=function(t,e){return t==="g2"?Ck[e]:Ek[e]},r.prototype.annotation=function(){var t=[],e=this.extractStatistic();t.push(e),this.setConfig("annotations",t)},r.prototype.useHtmlContent=function(){var t=this.options,e=t.statistic||{};return(0,f.isFunction)(e.htmlContent)},r.prototype.extractStatistic=function(){if(!this.useHtmlContent()){var t=this.options,e=t.statistic||{},n;(0,f.isFunction)(e.formatter)?n=e.formatter(t.value):n=""+t.value;var a,o;if(n){var s=Math.min(this.width,this.height);a=s/n.length*.5,o=Math.max(1,Math.ceil(.025*a))}var l;if(e.visible!==!1){var u=(0,f.deepMix)({style:{fontSize:a,shadowBlur:o}},{top:!0,content:n,type:"text",position:["50%","50%"],style:{opacity:l,fill:"transparent",shadowColor:"transparent",textAlign:"center"}},e);return delete u.visible,delete u.formatter,delete u.adjustColor,u}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,_)},r.prototype.afterRender=function(){var t;((t=this.options.statistic)===null||t===void 0?void 0:t.visible)&&!this.useHtmlContent()&&this.fadeInAnnotation();var e=this.options,n=e.padding?e.padding:this.config.theme.padding;if(e.defaultState&&n!=="auto"&&this.stateController.defaultStates(e.defaultState),n==="auto"&&this.paddingController.processAutoPadding(),this.useHtmlContent()){var a=this.canvas.get("container");if(this.statistic&&a.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible){var o=this.canvas.get("container");(0,st.Z)(o,{position:"relative"}),this.statistic=new gk((0,zt.__assign)({container:o,view:this.view,plot:this},this.options.statistic)),this.statistic.render()}i.prototype.afterRender.call(this)}},r.prototype.processData=function(){var t=this.options;return[{_:"_",value:t.value}]},r.prototype.changeValue=function(t){var e=this.options;e.value=t,this.changeData([])},r.prototype.fadeInAnnotation=function(){var t=this,e=this.options,n=this.view.foregroundGroup.findAll(function(s){return s.get("name")==="annotation-text"})[0],a=e.animation||{},o=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?n.animate(o,a.duration*Math.min(1,1.5*a.factor),null,function(){t.shouldFadeInAnnotation=!1}):(0,f.forIn)(o,function(s,l){return n.attr(l,s)})},r.prototype.calcAnnotationColorStyle=function(){var t=this.options,e={fill:"#f6f6f6",shadowColor:"black"},n={fill:"#303030",shadowColor:"white"};if((0,f.get)(t,"statistic.adjustColor")===!1)return{fill:(0,f.get)(t,"statistic.style.fill",n.fill),shadowColor:(0,f.get)(t,"statistic.style.shadowColor",n.shadowColor)};var a=t.min,o=t.max,s=t.value;a=Math.min(a,o),o=Math.max(a,o);var l;if(a==o?l=1:l=(s-a)/(o-a),l>.55){var u=this.options.color,h=.8,c=qa(u),v=Math.round(c[0]*.299+c[1]*.587+c[2]*.114)/h;return v<156?e:n}return n},r.prototype.updateConfig=function(t){i.prototype.updateConfig.call(this,t),this.shouldFadeInAnnotation=!0},r.prototype.getViewRange=function(){var t=i.prototype.getViewRange.call(this),e=this.options.liquidStyle,n=e.lineWidth?e.lineWidth:2,a=t.minX,o=t.minY,s=t.width,l=t.height,u=Math.min(s,l)-n*2,h=a+s/2,c=o+l/2,v=h-u/2,y=c-u/2;return new Wr(v,y,u,u)},r}(Gn),Ph=Cy;qr("liquid",Cy);var Ak=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="liquid",i.prototype.createLayers.call(this,e)},r.prototype.changeValue=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Ph&&a.changeValue(t)});else{var n=this.layers[0];n instanceof Ph&&n.changeValue(t)}},r.getDefaultOptions=Ph.getDefaultOptions,r}(Xr),Ey=Ak,Ay=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="histogram",t}return r.prototype.init=function(){this.options.xField="range",this.options.yField="count",i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=(0,f.clone)(t);(0,f.sortBy)(l,a);var u=(0,f.valuesOfKey)(l,a),h=(0,f.getRange)(u),c=h.max-h.min,v=o;if(!o&&s&&(v=c/s),!o&&!s){var y=Od(u);v=c/y}var A={};(0,f.each)(l,function(R){var H=R[a],V=e.getBin(H,v),ot=V[0]+"-"+V[1];(0,f.hasKey)(A,ot)||(A[ot]={name:ot,range:V,count:0,data:[]}),A[ot].data.push(R),A[ot].count+=1});var k=[];return(0,f.each)(A,function(R){k.push(R)}),k},r.prototype.scale=function(){i.prototype.scale.call(this);var t=this.config.scales.range;t.nice=!1,t.type="linear"},r.prototype.getBin=function(t,e){var n=Math.floor(t/e);return[e*n,e*(n+1)]},r}(ts),Tk=Ay;qr("histogram",Ay);var Pk=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="histogram",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Tk.getDefaultOptions,r}(Xr),Ty=Pk,_k={epanechnikov:function(i){return Math.abs(i)<=1?.75*(1-i*i):0},gaussian:function(i){return 1/Math.sqrt(Math.PI*2)*Math.exp(-.5*Math.pow(i,2))},uniform:function(i){return Math.abs(i)<=1?.5:0},triangle:function(i){return Math.abs(i)<=1?1-Math.abs(i):0},quartic:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*r*r:0},triweight:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*Math.pow(r,3):0},cosinus:function(i){var r=Math.PI/4*Math.cos(.5*Math.PI*i);return Math.abs(i)<=1?r:0}},Py=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="density",t}return r.prototype.init=function(){var t=this.options.xAxis?(0,f.clone)(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=(0,f.deepMix)({},t,{type:"linear"}),this.options.smooth=!0,i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=n.kernel,u=l||"epanechnikov",h=_k[u],c=(0,f.clone)(t);(0,f.sortBy)(c,a);var v=(0,f.valuesOfKey)(c,a),y=(0,f.getRange)(v),A=y.max-y.min,k=s,R=o;!s&&o&&(k=Math.floor(A/o)),!o&&s&&(R=A/s),!s&&!o&&(k=Od(v),R=A/s);var H=(0,Ar.getScale)("linear"),V=new H({min:y.min,max:y.max,tickCount:k,nice:!1}),ot=V.getTicks(),ut=[];return(0,f.each)(ot,function(bt){var Ft=e.kernelDensityEstimator(R,h,bt,v);ut.push({value:bt.text,density:Ft})}),ut},r.prototype.kernelDensityEstimator=function(t,e,n,a){var o=0;return(0,f.each)(a,function(s){var l=(n.tickValue-s)/t;o+=e(l)}),a.length===0?0:o/a.length},r}(dh),Lk=Py;qr("density",Py);var _G=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="density",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Lk.getDefaultOptions,r}(Xr),LG=null,Ok={ring:"interval"},Ik=yi(Ok);(0,f.assign)(on,Ik);var kk="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",Bk="font-weight:300;white-space: nowrap;text-overflow: ellipsis;",Dk="font-size:32px;font-weight:bold;color:#4D4D4D";function Fk(i,r,t,e){var n=kk+"width:"+e+"px;",a=i?'<span class="ring-guide-name" style='+Bk+">"+i+"</span><br/>":"",o='<span class="ring-guide-value" style='+Dk+">"+r+"</span>";return'<div class="ring-guide-html '+t+'" style='+n+">"+a+o+"</div>"}var Rk=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.triggerOn=function(){var t=this,e=this.options.triggerOn;this.view.on("interval:"+e,(0,f.debounce)(function(a){var o=t.parseStatisticData("item",a.data.data,a.data.color),s=t.getStatisticHtmlString(o);t.updateHtml(s)},150));var n=this.options.triggerOff?this.options.triggerOff:"mouseleave";this.view.on("interval:"+n,(0,f.debounce)(function(){var a=t.getTotalHtmlString();t.updateHtml(a)},150))},r.prototype.getTotalHtmlString=function(){var t;if(this.options.content)t=this.options.content;else{var e=this.getTotalValue();t=this.parseStatisticData("total",e)}var n;this.options.htmlContent?n=this.options.htmlContent(t,this.getStatisticSize()):n=this.getStatisticTemplate(t);var a=document.createElement("div");return(0,f.isType)(n,"HTMLDivElement")?a.appendChild(n):a.innerHTML=n,a},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r.prototype.getTotalValue=function(){var t,e=0,n=this.plot.options,a=n.angleField,o=n.colorField,s=this.options.totalLabel;(0,f.each)(this.plot.options.data,function(u){typeof u[a]=="number"&&(e+=u[a])});var l=(t={},t[a]=e,t[o]=s,t);return l},r.prototype.parseStatisticData=function(t,e,n){var a=this.plot,o=a.options,s=o.angleField,l=o.colorField,u=a.getScaleByField(s),h=a.getScaleByField(l),c={name:h?h.getText(e[l]):null,value:u.getText(e[s])};return t==="item"&&(c.itemData=e,c.color=n),c},r.prototype.getStatisticTemplate=function(t){var e=this.getStatisticSize(),n=Fk(t.name,t.value,this.statisticClass,e);return n},r.prototype.getStatisticSize=function(){var t=this.plot.view.coordinateBBox,e=this.plot.options,n=e.radius,a=e.innerRadius,o=Math.min(t.width,t.height),s=o*n*a;return s},r.prototype.getStatisticHtmlString=function(t){var e=this.options.htmlContent,n;return e?n=e(t,this.getStatisticSize()):n=this.getStatisticTemplate(t),n},r}(by),Nk=Rk,Yk={ring:"interval"},Gk={interval:"ring"},_y=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="donut",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{radius:.8,innerRadius:.64,tooltip:{visible:!1},statistic:{visible:!0,totalLabel:"\u603B\u8BA1",triggerOn:"mouseenter",triggerOff:"mouseleave"}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),r.centralId++,this.statisticClass="statisticClassId"+r.centralId,this.adjustLabelDefaultOptions()},r.prototype.afterRender=function(){var t=this.canvas.get("container");if(this.statistic&&(t.removeChild(this.statistic.wrapperNode),this.statistic=null),this.options.statistic&&this.options.statistic.visible){var e=this.canvas.get("container");(0,st.Z)(e,{position:"relative"}),this.statistic=new Nk((0,zt.__assign)({container:e,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()}i.prototype.afterRender.call(this)},r.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),i.prototype.destroy.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?Yk[e]:Gk[e]},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coordinate",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,B)},r.prototype.adjustLabelDefaultOptions=function(){var t=this.options.label;if(t&&t.type==="inner"){var e=t.style||{};e.textAlign||(e.textAlign="center"),t.style=e,t.offset||(t.offset=(this.options.innerRadius-1)/2*100+"%")}},r.centralId=0,r}(qg),Ly=_y;qr("donut",_y);var zk=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=Ly.getDefaultOptions,r}(Xr),Oy=zk;function Xk(i,r,t){var e=i.style,n=i.defaultStyle,a=i.color,o=(0,zt.__assign)((0,zt.__assign)({},n),e);return a&&(r&&(o.stroke=a),t&&(o.fill=a)),o}function Vk(i){var r=[],t=i[0];r.push(["M",t.x,t.y]);for(var e=1,n=i.length;e<n;e++)r.push(["L",i[e].x,i[e].y]);return r.push(["L",t.x,t.y]),r.push(["z"]),r}fn("interval","waterfall",{draw:function(i,r){var t=Xk(i,!1,!0),e=this.parsePath(Vk(i.points)),n=r.addShape("path",{attrs:(0,zt.__assign)((0,zt.__assign)({},t),{path:e}),name:"interval"}),a=(0,f.get)(i.style,"leaderLine");if(a&&a.visible){var o=a.style||{};if(i.nextPoints){var s=[["M",i.points[2].x,i.points[2].y],["L",i.nextPoints[0].x,i.nextPoints[0].y]];s=this.parsePath(s),r.addShape("path",{attrs:(0,zt.__assign)({path:s,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},o),name:"leader-line"})}}return n}});var Iy=2,Hk=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n,a,o=e.shape,s=o.getBBox(),l=e.getData(),u=l[qi],h=l[this.layer.options.yField],c=(0,f.isArray)(u)?u[1]:u,v=this.options.formatter,y=[].concat(e.getModel().mappingData),A=v?y[0]&&y[0]._origin[Ql]:0,k=v?v(c,(n={},n[As]=(a=y[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=y[0],n.mappingDatumIndex=0,n.element=e,n.elementIndex=A,n),A):c,R=(s.minY+s.maxY)/2,H="bottom";h<0?(R=s.maxY+Iy,H="top"):R=s.minY-Iy,t.attr("y",R),t.attr("text",k),t.attr("textBaseline",H)},r}(yh),OG=null;Wi("waterfall",Hk);function Wk(){return{fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"}}var jk=function(){function i(r){this.textAttrs={},this.view=r.view,this.fields=r.fields,this.formatter=r.formatter,this.textAttrs=(0,f.mix)(Wk(),r.style),this._init()}return i.prototype.draw=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,f.clone)(this.view.getData());this.container=this.view.foregroundGroup.addGroup();var e=this.view.geometries[0].elements.map(function(n){return n.shape});(0,f.each)(e,function(n,a){if(!!n.cfg.origin){var o=n.cfg.origin.data,s=n.getBBox(),l=o[qi],u=l;(0,f.isArray)(l)&&(u=l[1]-l[0]),u=u>0?"+"+u:u,o[_h]&&(u=l[0]-l[1]);var h=u;if(r.formatter){var c=e[a].attr("fill");h=r.formatter(""+u,{_origin:t[a],color:c},a)}var v=r.container.addShape("text",{attrs:(0,zt.__assign)({text:h,textBaseline:"middle",textAlign:"center",x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},r.textAttrs),name:"dill-label"});v.getBBox().height>s.height&&v.set("visible",!1)}}),this.view.getCanvas().draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype._init=function(){var r=this;this.view.on(vn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){r.clear()}),this.view.on(vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){r.draw()})},i}(),Uk=jk,Zk={waterfall:"interval"},Kk={interval:"waterfall"},qi="$$value$$",_h="$$total$$",Ql="$$index$$",ky=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="watarfall",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:"\u603B\u8BA1\u503C"},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustLegendOptions(e),this.adjustMeta(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options;t.diffLabel&&t.diffLabel.visible?this.diffLabel=new Uk({view:this.view,fields:[t.xField,t.yField,qi],formatter:t.diffLabel.formatter,style:t.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;this.view.on("tooltip:change",function(e){for(var n=e.items,a=0;a<n.length;a++){var o=n[a],s=(0,f.get)(o,"data",{});if(o.name=s[t.xField],o.value=s[t.yField],!o.value&&s[_h]){var l=s[qi];o.value=l[0]-l[1]}e.items[a]=o}}),this.renderLabel()},r.prototype.renderLabel=function(){var t=go(this.view,"interval");this.options.label&&this.options.label.visible&&this.doRenderLabel(t,(0,zt.__assign)({type:"waterfall"},this.options.label))},r.prototype.geometryParser=function(t,e){return t==="g2"?Zk[e]:Kk[e]},r.prototype.interaction=function(){this.setConfig("interactions",[{type:"tooltip"},{type:"active-region"}])},r.prototype.addGeometry=function(){var t=this.options,e={type:"interval",position:{fields:[t.xField,qi]},shape:{values:["waterfall"]}};e.style=this._parseStyle(),e.color=this._parseColor(),this.waterfall=e,this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.processData=function(t){var e,n=[],a=this.options.xField,o=this.options.yField;if((0,f.map)(t,function(u,h){var c,v=u[o];if(h>0){var y=n[h-1][qi];(0,f.isArray)(y)?v=[y[1],u[o]+y[1]]:v=[y,u[o]+y]}n.push((0,zt.__assign)((0,zt.__assign)({},u),(c={},c[qi]=v,c[Ql]=h,c)))}),this.options.showTotal&&this.options.showTotal.visible){var s=(0,f.map)(t,function(u){return u[o]}),l=(0,f.reduce)(s,function(u,h){return u+h},0);n.push((e={},e[a]=this.options.showTotal.label,e[o]=null,e[qi]=[l,0],e[Ql]=n.length,e[_h]=!0,e))}return n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&si(e[t.xField],t.xAxis),e[qi]={},(0,f.has)(t,"yAxis")&&si(e[qi],t.yAxis),this.setConfig("scales",e)},r.prototype.axis=function(){var t=Ei("axis",{plot:this,dim:"x"}),e=Ei("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[qi]=e,this.setConfig("axes",n)},r.prototype.coord=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,D)},r.prototype.geometryTooltip=function(){this.waterfall.tooltip={};var t=this.options.tooltip;t.fields&&(this.waterfall.tooltip.fields=t.fields),t.formatter&&(this.waterfall.tooltip.callback=t.formatter,t.fields||(this.waterfall.tooltip.fields=[this.options.xField,qi]))},r.prototype._parseStyle=function(){var t=this.options.waterfallStyle,e=this.options.leaderLine,n={};return(0,f.isFunction)(t)?n.callback=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return Object.assign({},t.apply(void 0,a),{leaderLine:e})}:n.cfg=(0,zt.__assign)((0,zt.__assign)({},t),{leaderLine:e}),n},r.prototype._parseColor=function(){var t=this,e=this.options,n=this.options,a=n.xField,o=n.yField,s={fields:[a,o,qi,Ql]};if((0,f.isFunction)(e.color))s.callback=e.color;else{var l="#f4664a",u="#30bf78",h="rgba(0, 0, 0, 0.25)";if((0,f.isString)(e.color))l=u=h=e.color;else if((0,f.isObject)(e.color)){var c=e.color,v=c.rising,y=c.falling,A=c.total;l=v,u=y,h=A}s.callback=function(k,R,H,V){return V===t.options.data.length?h||(H[0]>=0?l:u):((0,f.isArray)(H)?H[1]-H[0]:H)>=0?l:u}}return s},r.prototype.adjustLegendOptions=function(t){var e=t.legend;e&&(e.visible=!1)},r.prototype.adjustMeta=function(t){var e=t.meta;if(e){var n=e?e[t.yField]:{};n.alias=n.alias||t.yField,t.meta[qi]=n}},r}(Gn),$k=ky;qr("waterfall",ky);var Qk=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="waterfall",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=$k.getDefaultOptions,r}(Xr),By=Qk,Jk=function(){function i(r){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=r,this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options,t=r.xBaseline,e=r.yBaseline,n=this.view.getCoordinate(),a=this.view.getScaleByField(this.options.plotOptions.xField),o=this.view.getScaleByField(this.options.plotOptions.yField),s;if(t>a.min&&t<a.max){var l=(t-a.min)/(a.max-a.min);s=[new Wr(n.start.x,n.end.y,n.getWidth()*l,n.getHeight()),new Wr(n.start.x+n.getWidth()*l,n.end.y,n.getWidth()*(1-l),n.getHeight())];var u={start:{x:n.start.x+n.getWidth()*l,y:n.end.y},end:{x:n.start.x+n.getWidth()*l,y:n.start.y}};this.lineData.push(u)}else s=[new Wr(n.start.x,n.end.y,n.getWidth(),n.getHeight())];if(e>o.min&&e<o.max){var l=(e-o.min)/(o.max-o.min),h={start:{x:n.start.x,y:n.start.y-n.getHeight()*l},end:{x:n.end.x,y:n.start.y-n.getHeight()*l}};this.lineData.push(h);var c={name:t<=a.min?"top-right":"top-left",bbox:new Wr(s[0].minX,s[0].minY,s[0].width,s[0].height*(1-l)),index:t<=a.min?2:0};this.regionData.push(c);var v={name:t<=a.min?"bottom-right":"bottom-left",bbox:new Wr(s[0].minX,s[0].minY+s[0].height*(1-l),s[0].width,s[0].height*l),index:t<=a.min?3:1};if(this.regionData.push(v),s.length>1){var y={name:"top-right",bbox:new Wr(s[1].minX,s[1].minY,s[1].width,s[1].height*(1-l)),index:2};this.regionData.push(y);var A={name:"bottom-right",bbox:new Wr(s[1].minX,s[1].minY+s[1].height*(1-l),s[1].width,s[1].height*l),index:3};this.regionData.push(A)}}else if(s.length===2)if(e<=o.min){var k={name:"top-left",bbox:s[0],index:0};this.regionData.push(k);var y={name:"top-right",bbox:s[1],index:2};this.regionData.push(y)}else{var R={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(R);var A={name:"bottom-right",bbox:s[1],index:3};this.regionData.push(A)}else if(t<=a.min)if(e<=o.min){var y={name:"top-right",bbox:s[0],index:2};this.regionData.push(y)}else{var A={name:"bottom-right",bbox:s[0],index:3};this.regionData.push(A)}else if(e<=o.min){var k={name:"top-left",bbox:s[0],index:0};this.regionData.push(k)}else{var R={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(R)}this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this;if(this.regionData.length>0){var t=this.getDefaultStyle(),e=this.getRegionStyle(this.regionData);(0,f.each)(this.regionData,function(a){var o=a.index,s=r.container.addGroup(),l=s.addShape("rect",{attrs:(0,zt.__assign)({x:a.bbox.minX,y:a.bbox.minY,width:a.bbox.width,height:a.bbox.height},e[o]),name:"quadrant"});if(r.options.label&&r.options.label.text){var u=(0,f.deepMix)({},t.label,r.options.label),h=r.getLabelConfig(a,u);s.addShape("text",{attrs:(0,zt.__assign)({},h),name:"quadrant-label"})}l.set("data",a),r.quadrantGroups.push(s)});var n=(0,f.deepMix)({},t.line,this.options.lineStyle);(0,f.each)(this.lineData,function(a){r.container.addShape("path",{attrs:(0,zt.__assign)({path:[["M",a.start.x,a.start.y],["L",a.end.x,a.end.y]]},n),name:"quadrant-line"})}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},regionStyle:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},i.prototype.getRegionStyle=function(r){var t=this.getDefaultStyle(),e=t.regionStyle;if(this.options.regionStyle){var n=this.options.regionStyle;(0,f.isArray)(n)?e=e.map(function(a,o){return n.length>o&&n[o]?n[o]:a}):(0,f.isFunction)(n)&&(0,f.each)(r,function(a,o){e[o]=n(a)})}return e},i.prototype.getLabelConfig=function(r,t){var e=r.index,n=0,a=0,o={},s=t.text;(0,f.isFunction)(s)?s=s(r):(0,f.isArray)(s)&&(s=s[e]);var l=t.position,u=l.split("-"),h=r.name.split("-");return h[1]==="left"?(u[0]==="inner"&&(n=r.bbox.maxX-t.offset,o.textAlign="right"),u[0]==="outter"&&(n=r.bbox.minX+t.offset,o.textAlign="left")):h[1]==="right"&&(u[0]==="inner"&&(n=r.bbox.minX+t.offset,o.textAlign="left"),u[0]==="outter"&&(n=r.bbox.maxX-t.offset,o.textAlign="right")),h[0]==="top"?(u[1]==="inner"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom"),u[1]==="outter"&&(a=r.bbox.minY+t.offset,o.textBaseline="top")):h[0]==="bottom"&&(u[1]==="inner"&&(a=r.bbox.minY+t.offset,o.textBaseline="top"),u[1]==="outter"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom")),o=(0,f.deepMix)({},t.style,o),o.lineHeight=o.fontSize,(0,zt.__assign)({x:n,y:a,text:s},o)},i}(),qk=Jk,Do=d(56645),tB={exp:Do.regressionExp,linear:Do.regressionLinear,loess:Do.regressionLoess,log:Do.regressionLog,poly:Do.regressionPoly,pow:Do.regressionPow,quad:Do.regressionQuad};function eB(i,r){return Math.sqrt(i*(1-i)/r)*1.96}var rB=function(){function i(r){var t={type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}};this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options.plotOptions,t=r.xField,e=r.yField,n=r.data,a=tB[this.options.type]().x(function(o){return o[t]}).y(function(o){return o[e]});this.data=this.processData(a(n)),this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this.view.getScaleByField(this.options.plotOptions.xField),t=this.view.getScaleByField(this.options.plotOptions.yField),e=this.view.getCoordinate(),n=this.data.trendlineData,a=(0,Ar.getScale)("linear"),o=this.adjustScale(r,n,"x"),s=new a({min:o.min,max:o.max}),l=this.adjustScale(t,n,"y"),u=new a({min:l.min,max:l.max});if(this.options.showConfidence){var h=this.getConfidencePath(s,u,e);this.container.addShape("path",{attrs:(0,zt.__assign)({path:h},this.options.confidenceStyle),name:"confidence"})}var c=this.getTrendlinePoints(s,u,e),v=[[0,0],[1,1]],y=ih(c,!1,v);this.shape=this.container.addShape("path",{attrs:(0,zt.__assign)({path:y},this.options.style),name:"trendline"})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.destroy()},i.prototype.processData=function(r){var t=[],e=[];return(0,f.each)(r,function(n){t.push({x:n[0],y:n[1]});var a=eB(r.rSquared,n[1]);e.push({x:n[0],y0:n[1]-a,y1:n[1]+a})}),{trendlineData:t,confidenceData:e}},i.prototype.getTrendlinePoints=function(r,t,e){var n=[];return(0,f.each)(this.data.trendlineData,function(a){var o=r.scale(a.x),s=t.scale(a.y),l=e.start.x+e.width*o,u=e.start.y-e.height*s;n.push({x:l,y:u})}),n},i.prototype.getConfidencePath=function(r,t,e){var n=[],a=[],o=[];(0,f.each)(this.data.confidenceData,function(c){var v=r.scale(c.x),y=t.scale(c.y0),A=t.scale(c.y1),k=e.start.x+e.width*v,R=e.start.y-e.height*y,H=e.start.y-e.height*A;n.push({x:k,y:R}),a.push({x:k,y:H})});for(var s=0;s<n.length;s++){var l=s===0?"M":"L",u=n[s];!isNaN(u.x)&&!isNaN(u.y)&&o.push([l,u.x,u.y])}for(var h=a.length-1;h>0;h--){var u=a[h];!isNaN(u.x)&&!isNaN(u.y)&&o.push(["L",u.x,u.y])}return o},i.prototype.adjustScale=function(r,t,e){var n=r.min,a=r.max,o=this.options.plotOptions,s=o.data,l=o.xField,u=o.yField,h=e==="x"?l:u,c=(0,f.minBy)(s,h)[h],v=(0,f.maxBy)(s,h)[h],y=(n-c)/(v-c),A=(a-v)/(v-c),k=(0,f.minBy)(t,e)[e],R=(0,f.maxBy)(t,e)[e];return{min:k+y*(R-k),max:R+A*(R-k)}},i}(),nB=rB,iB={point:"point",trendline:"trendline",confidence:"confidence",quadrant:"quadrant",quadrantLabel:"quadrant-label",quadrantLine:"quadrant-line"},aB=yi(iB);(0,f.assign)(on,aB);var oB=function(i){var r=i.stroke||"#000";return{stroke:r}},sB=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},lB=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};ji("scatter",{pointStyle:{normal:{},active:oB,selected:sB,inactive:lB}});var uB={scatter:"point"},fB={point:"point"},Dy=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="scatter",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:"#fff"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showTitle:!1,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:"circle"})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new qk((0,zt.__assign)({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new nB((0,zt.__assign)({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},r.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),i.prototype.destroy.call(this)},r.prototype.isValidLinearValue=function(t){return(0,f.isNil)(t)?!1:!Number.isNaN(Number(t))},r.prototype.processData=function(t){var e=this,n=this.options,a=n.xField,o=n.yField,s=(0,f.get)(this.options,["xAxis","type"],"linear"),l=(0,f.get)(this.options,["yAxis","type"],"linear");if(s&&l){var u=t.filter(function(h){return!(s==="linear"&&!e.isValidLinearValue(h[a])||l==="linear"&&!e.isValidLinearValue(h[o]))}).map(function(h){var c;return(0,zt.__assign)((0,zt.__assign)({},h),(c={},c[a]=s==="linear"?Number(h[a]):String(h[a]),c[o]=l==="linear"?Number(h[o]):String(h[o]),c))});return u}return t},r.prototype.geometryParser=function(t,e){return t==="g2"?uB[e]:fB[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&si(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&si(e[t.yField],t.yAxis);var n=(0,f.find)(t.interactions,function(o){return o.type==="timeline"});if(n&&(0,f.get)(n,"cfg.key")){var a=n.cfg.key;e[a]?e[a].key=!0:e[a]={key:!0}}this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=Wn("point","circle",{plot:this});if(this.points=t,this.options.tooltip&&this.options.tooltip.visible){var e=this.options.tooltip,n=e.showTitle,a=e.titleField;this.extractTooltip(),this.setConfig("tooltip",(0,zt.__assign)({showTitle:n,title:n?a:void 0},this.options.tooltip))}this.options.label&&this.label(),this.setConfig("geometry",t)},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.points&&(this.points.label=!1);return}var e=Ei("label",(0,zt.__assign)((0,zt.__assign)({fields:t.label.field?[t.label.field]:[t.yField]},t.label),{plot:this}));this.points&&(this.points.label=e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.points.animate=!1)},r.prototype.parseEvents=function(t){i.prototype.parseEvents.call(this,t||W)},r.prototype.extractTooltip=function(){this.points.tooltip={};var t=this.options.tooltip;t.fields?this.points.tooltip.fields=t.fields:this.points.tooltip.fields=[this.options.xField,this.options.yField],t.formatter&&(this.points.tooltip.callback=t.formatter,this.options.colorField&&this.points.tooltip.fields.push(this.options.colorField))},r}(Gn),Fy=Dy;qr("scatter",Dy);var hB=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="scatter",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Fy.getDefaultOptions,r}(Xr),Ry=hB,cB=d(78685);fn("point","bubble-point",{draw:function(i,r){var t=(0,cB.iV)(this,i,r,"circle",!1);if(!i.style.stroke){var e=t.attr("fill");t.attr("stroke",e)}return t},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}});var vB=function(i){var r=i.stroke||"#000",t=i.fillOpacity||i.opacity||.95;return{stroke:r,fillOpacity:t}},dB=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},pB=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};ji("bubble",{pointStyle:{normal:{},active:vB,selected:dB,inactive:pB}});var Ny=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bubble",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:"middle",style:{stroke:"#fff",lineWidth:2}},shape:"bubble-point"})},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.legend=function(){var t;i.prototype.legend.call(this),!(this.options.legend&&this.options.legend.visible===!1)&&this.setConfig("legends",(t={},t[this.options.sizeField]=!1,t))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,W)},r}(Fy),gB=Ny;qr("bubble",Ny);var yB=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bubble",i.prototype.createLayers.call(this,e)},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=gB.getDefaultOptions,r}(Xr),Yy=yB,mB={bullet:"interval",bulletTarget:"bullet-target"},xB=yi(mB);(0,f.assign)(on,xB);var bB=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.middleGroup.addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var r=this.getGeometry(),t=(0,f.map)(r==null?void 0:r.elements,function(o){return o.shape}),e=0;e<this.cfg.ranges.length;e+=1){var n=t[e].getBBox(),a=n.width/t[e].get("origin").data[this.cfg.yField];this.drawRect(n,this.cfg.ranges[e]||[0,1],a)}this.view.canvas.draw()}},i.prototype.drawRect=function(r,t,e){for(var n=this.cfg,a=n.rangeColors,o=r.minX,s=r.minY-r.height*(n.rangeSize-1)/2,l=1;l<t.length;l+=1){var u=(t[l]-t[l-1])*n.rangeMax*e;this.container.addShape("rect",{name:"bullet-rect",attrs:{width:u,height:r.height*n.rangeSize,x:o,y:s,fill:a[(l-1)%a.length],fillOpacity:.25}}).set("zIndex",-1),o+=u}if(n.axis&&n.axis.visible){var h=n.rangeMax/(n.axis.tickCount-1),c=new Wr(r.x,s,o,r.height*n.rangeSize);this.drawBulletTicks(c,h,e)}},i.prototype.drawBulletTicks=function(r,t,e){for(var n=this.cfg,a=n.axis.style,o=n.axis.tickCount,s=n.axis.position,l=(0,f.get)(a,"lineHeight",0)-a.fontSize/2,u=0;u<o;u+=1){var h=r.minX+t*u*e,c=""+t*u;if(n.axis.formatter&&(c=n.axis.formatter(c,u)),this.container.addShape("text",{name:"tick",attrs:(0,zt.__assign)({x:h,y:s==="before"?r.minY-l:r.maxY+l,text:""+c},a)}),n.axis.tickLine&&n.axis.tickLine.visible){var v=n.axis.tickLine;u>0&&u!==o-1&&this.container.addShape("path",{attrs:(0,zt.__assign)({path:[["M",h,r.minY],["L",h,r.maxY]]},v)}).set("zIndex",-1)}}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),wB=bB,SB=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.foregroundGroup.addGroup(),this.container.set("name","targetGroups");for(var r=(0,f.map)(this.getGeometry().elements,function(a){return a.shape}),t=0;t<this.cfg.targets.length;t+=1){var e=r[t].getBBox(),n=e.width/r[t].get("origin").data[this.cfg.yField];this.drawTarget(e,this.cfg.targets[t],n)}this.view.canvas.draw()}},i.prototype.drawTarget=function(r,t,e){var n=this,a=this.cfg,o=a.markerColors;t.forEach(function(s,l){var u=a.markerStyle;n.container.addShape("rect",{name:"bullet-target",attrs:(0,zt.__assign)((0,zt.__assign)({width:u.width,height:r.height*a.markerSize-u.width/2,x:r.minX+s*e,y:r.minY-r.height*(a.markerSize-1)/2},u),{fill:o[l%o.length]||u.fill})})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),MB=SB,CB=function(i){var r=i.opacity||1;return{opacity:r*.5,lineWidth:0}},EB=function(i){var r=i.opacity||1;return{opacity:r*.5}};ji("bullet",{columnStyle:{normal:{},active:CB,disable:EB,selected:{}}});var AB={bullet:"interval"},TB={interval:"bullet"},PB="$$stackField$$",_B="$$xField$$",LB="$$yField$$",Gy=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bullet",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{data:[],stackField:PB,xField:_B,yField:LB,rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,e){return""+e},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.view.removeInteraction("legend-filter")},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={},(0,f.has)(t,"yAxis")&&si(e[t.yField],t.yAxis),e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&si(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustOptions(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.data.map(function(a){return a.ranges}),n=t.data.map(function(a){return a.targets});this.bulletRect=new wB(this.view,{ranges:e,rangeMax:t.rangeMax,yField:t.yField,rangeSize:t.rangeSize,rangeColors:t.rangeColors||[],axis:t.axis}),this.bulletTarget=new MB(this.view,{targets:n,yField:t.yField,markerSize:t.markerSize,markerColors:t.markerColors||[],markerStyle:t.markerStyle})},r.prototype.geometryParser=function(t,e){return t==="g2"?AB[e]:TB[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.legend=function(){var t=this.options,e=t.markerStyle.fill,n=t.measureColors||this.theme.colors,a=[{name:"\u5B9E\u9645\u8FDB\u5EA6",value:"\u5B9E\u9645\u8FDB\u5EA6",marker:{symbol:"square",style:{fill:n[0]}}},{name:"\u76EE\u6807\u503C",value:"\u76EE\u6807\u503C",marker:{symbol:"line",style:{stroke:e,lineWidth:2}}}],o=(0,zt.__assign)({custom:!0,position:"bottom",items:a},t.legend);this.setConfig("legends",o)},r.prototype.addGeometry=function(){var t=this.options,e=Wn("interval","main",{positionFields:[t.xField,t.yField],plot:this});e.adjust=[{type:"stack"}],t.label&&(e.label=this.extractLabel()),this.bullet=e,this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Z)},r.prototype.extractLabel=function(){var t=this.options,e=(0,f.deepMix)({},t.label);if(e.visible===!1)return!1;var n=Ei("label",(0,zt.__assign)({plot:this,labelType:"barLabel",fields:[t.yField]},e));return n},r.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},r.prototype.adjustYAxisOptions=function(t){var e=[];t.data.forEach(function(n){return e.push(n.measures.reduce(function(a,o){return a+o},0))}),e.push(t.rangeMax),t.yAxis.max=Math.max.apply([],e)},r.prototype.processData=function(t){var e=this.options,n=[];return t.forEach(function(a,o){for(var s,l=0;l<a.measures.length;l+=1){var u=a.measures[l],h=a.title||""+o;n.push((s={},s[e.xField]=h,s[e.yField]=u,s[e.stackField]=""+l,s))}}),n},r}(Gn),OB=Gy;qr("bullet",Gy);var IB=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bullet",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=OB.getDefaultOptions,r}(Xr),zy=IB,rs="$$day$$",ns="$$week$$",Xy="$$date$$",IG="$$is_month_center$$",is="YYYY-MM-DD",kB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],BB=["S","M","T","W","T","F","S"],Is=864e5;function DB(i){var r=(0,zt.__spreadArrays)(i).sort(function(t,e){return t.getTime()-e.getTime()});return[yo().format((0,f.head)(r),is),yo().format((0,f.last)(r),is)]}function kG(i){var r=i||new Date;return[fecha.format(new Date(r.getFullYear(),0,1),FORMATTER),fecha.format(new Date(r.getFullYear(),11,30),FORMATTER)]}function FB(i){return i.getMonth()!==Jl(new Date(i),7*Is).getMonth()}function RB(i){return i.getMonth()!==Jl(new Date(i),Is).getMonth()}function Vy(i){var r=new Date(i.getFullYear(),0,1);return Math.ceil(((i.getTime()-r.getTime())/Is+r.getDay()+1)/7)}function NB(i){return i.getDay()}function Jl(i,r){return i.setMilliseconds(i.getMilliseconds()+r),i}function Hy(i){var r,t=i[0],e=i[1],n=yo().parse(t,is),a=yo().parse(e,is);return n>a&&(r=[n,a],a=r[0],n=r[1]),[n,a]}function YB(i,r,t){for(var e=[],n=Hy(r),a=n[0],o=n[1],s=new Date(a),l=function(){var u,h=yo().format(s,is),c=(0,f.find)(i,function(v){return v[t]===h});e.push((0,zt.__assign)((u={},u[rs]=NB(s),u[ns]=""+Vy(s),u[t]=h,u[Xy]=new Date(s),u),c)),Jl(s,Is)};s<=o;)l();return e}function GB(i){var r=Hy(i),t=r[0],e=r[1],n=new Map;function a(l){var u=l.getMonth(),h=Vy(l);n.has(u)||n.set(u,[]),n.get(u).push(h)}for(var o=new Date(t);o<=e;)a(o),Jl(o,Is*7);e<o&&a(e);var s={};return n.forEach(function(l,u){var h=Math.ceil(((0,f.head)(l)+(0,f.last)(l))/2);s[h]=u}),s}var zB={rect:"polygon"},XB=yi(zB);(0,f.assign)(on,XB);var Wy=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="calendar",t}return r.getDefaultOptions=function(){var t;return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:(t={},t[rs]={type:"cat",alias:"Day",values:[0,1,2,3,4,5,6]},t[ns]={type:"cat",alias:"Month"},t),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:"date"}})},r.prototype.processData=function(t){var e=this.options.dateField,n=this.options.dateRange;if((0,f.isNil)(n)){var a=(0,f.map)(t,function(o){return yo().parse(""+o[e],is)});n=DB(a)}return YB(t,n,e)},r.prototype.addGeometry=function(){var t=this.options,e=t.valueField,n=t.colors,a=t.tooltip,o={type:"polygon",position:{fields:[ns,rs]},shape:{values:["calendar-polygon"]},color:{fields:[e],values:n},label:this.extractLabel()};a&&(a.fields||a.formatter)&&this.geometryTooltip(o),this.setConfig("geometry",o)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[ns,rs]))},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=this.options.valueField;return Ei("label",(0,zt.__assign)({plot:this,fields:[n],position:"top",offset:0},e))},r.prototype.coord=function(){var t={type:"rect",cfg:{},actions:[["reflect","y"]]};this.setConfig("coordinate",t)},r.prototype.geometryParser=function(){return""},r.prototype.axis=function(){var t=Ei("axis",{plot:this,dim:"x"}),e=Ei("axis",{plot:this,dim:"y"}),n={};n[ns]=t,n[rs]=e,this.setConfig("axes",n)},r.prototype.scale=function(){i.prototype.scale.call(this);var t=GB(this.options.dateRange),e=this.config.scales,n=this.options,a=n.weeks,o=a===void 0?BB:a,s=n.months,l=s===void 0?kB:s,u=e[ns],h=e[rs];u.formatter=function(A){var k=t[A];return k!==void 0?l[k]:""},h.formatter=function(A){return o[A]||""};var c=this.options,v=c.xAxis,y=c.yAxis;u.alias=(0,f.get)(v,["title","text"],u.alias),h.alias=(0,f.get)(y,["title","text"],h.alias),this.setConfig("scales",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,X)},r}(Gn),VB=Wy;qr("calendar",Wy),fn("polygon","calendar-polygon",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=i.points,e=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]];e=this.parsePath(e);var n=(0,zt.__assign)((0,zt.__assign)({stroke:"#fff",lineWidth:1,fill:i.color},i.style),{path:e}),a=r.addShape("path",{attrs:n}),o=i.data[Xy];if(FB(o)){var s=[["M",t[2].x,t[2].y],["L",t[3].x,t[3].y]];r.addShape("path",{zIndex:1,attrs:{path:this.parsePath(s),lineWidth:1,stroke:"#404040"}}),RB(o)&&r.addShape("path",{zIndex:1,attrs:{path:this.parsePath([["M",t[1].x,t[1].y],["L",t[2].x,t[2].y]]),lineWidth:1,stroke:"#404040"}})}return r.sort(),a}}});var HB=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="calendar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=VB.getDefaultOptions,r}(Xr),WB=HB,jy=function(){function i(r){this.uid=r}return i.prototype.setOption=function(r,t){this.type=r,this.options=t,this.axis=t.axis,this.pivot=t.pivot},i.prototype.render=function(){var r=this;fn("point","gauge",{draw:function(t,e){var n,a,o;this.gauge={},this.gauge.options=r.options,this.gauge.axis=r.axis,this.gauge.pivot=r.pivot,this.gauge.type=r.type;var s=this.gauge,l=this.gauge.type,u=t.points[0],h=this.parsePoint({x:0,y:0}),c=this.parsePoint({x:u.x||0,y:1});s.center=h,s.group=e;var v={x:h.x-c.x,y:h.y-c.y};this.gauge.ringRadius=Math.sqrt(v.x*v.x+v.y*v.y);var y=this.getAngleRange(),A=y.starAngle,k=y.endAngle,R=u.x*(k-A)+A;switch(l){case"meterGauge":this.drawBarGauge(R),this.gauge.axis.visible&&((n=this.gauge.axis.tickLine)===null||n===void 0?void 0:n.visible)&&this.drawInSideAxis();break;case"fanGauge":this.drawGauge(R),this.gauge.axis.visible&&((a=this.gauge.axis.tickLine)===null||a===void 0?void 0:a.visible)&&this.drawOutSideAxis();break;case"standardGauge":default:this.drawGauge(R),this.gauge.axis.visible&&((o=this.gauge.axis.tickLine)===null||o===void 0?void 0:o.visible)&&this.drawAxis();break}this.gauge.pivot.visible&&this.drawPivot(t,e)},drawGauge:function(t){var e=this.gauge.options.range;this.drawBottomRing(),e&&e.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.range,o=t.color,s=t.rangeStyle,l=o||Ii().colors,u=this.getAngleRange(),h=u.starAngle,c=u.endAngle,v={min:e,max:n,starAngle:h,endAngle:c},y=0;y<a.length;y++){var A=this.valueToAngle(a[y],v),k=this.valueToAngle(a[y+1],v);if(k>=A){var R=this.getPath(A,k),H=(0,f.deepMix)({fill:l[y]},s);this.drawRing(R,H)}}},drawBottomRing:function(){var t=this.getAngleRange(),e=t.starAngle,n=t.endAngle,a=this.gauge.options.rangeBackgroundStyle,o=this.getPath(e,n);this.drawRing(o,a)},drawCurrentRing:function(t){var e=this.getAngleRange().starAngle,n=this.gauge.rangeStyle,a=this.getPath(e,t);this.drawRing(a,n)},drawInSideAxis:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.axis,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:e,max:n,starAngle:s,endAngle:l},h=(n-e)/a.tickCount,c=0;c<a.tickCount;c++){var v=e+c*h,y=this.valueToAngle(v+h/2,u);this.drawRect(y,{length:a.tickLine.length,style:a.tickLine.style})}},drawAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,y=this.valueToAngle(v,u),A=(0,f.clone)(t.tickLine.style);c%5!=0&&(A.lineWidth=A.lineWidth/2),this.drawRect(y,{length:c%5==0?t.tickLine.length:t.tickLine.length/2,style:A})}},drawOutSideAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,y=this.valueToAngle(v,u);this.drawRect(y,{length:t.tickLine.length,style:t.tickLine.style})}},drawBarGauge:function(t){for(var e=this,n=this.gauge.options,a=n.min,o=n.max,s=n.range,l=n.color,u=n.rangeStyle,h=n.rangeBackgroundStyle,c=l||Ii().colors,v=this.getAngleRange(),y=v.starAngle,A=v.endAngle,k={min:a,max:o,starAngle:y,endAngle:A},R=(A-y)/(50-1),H=R/3,V=0;V<50;V++){var ot=y+V*R,ut=this.getPath(ot-H/2,ot+H-H/2),bt=h;if(s&&s.length){var Ft=s.map(function(Gt){return e.valueToAngle(Gt,k)}),Xt=DE(Ft,ot),Ut=Math.min(Xt,s.length-1);bt=(0,f.deepMix)({},{fill:c[Ut-1]},u)||h}else bt=t>=ot?(0,f.deepMix)({},{fill:l},u):h;this.drawRing(ut,bt)}},getAngleRange:function(){var t=this.gauge.options.angle,e=90-(360-t)*.5,n=(270-90-e)*Math.PI/180,a=(270+90+e)*Math.PI/180;return{starAngle:n,endAngle:a}},valueToAngle:function(t,e){var n=e.min,a=e.max,o=e.starAngle,s=e.endAngle;if(t===a)return s;if(t===n)return o;var l=(t-n)/(a-n);a===n&&(l=1);var u=l*(s-o)+o;return u=Math.max(u,o),u=Math.min(u,s),u},drawRing:function(t,e){this.gauge.group.addShape("path",{attrs:(0,f.deepMix)({},{path:t},e)})},drawRect:function(t,e){var n=this.gauge.axis,a=(0,zt.__assign)((0,zt.__assign)({},n),e),o=a.offset,s=a.length,l=this.gauge.center,u;o<0?u=this.gauge.ringRadius-this.gauge.options.rangeSize+o:u=this.gauge.ringRadius+o;var h=u*Math.cos(t)+l.x,c=u*Math.sin(t)+l.y,v=(u+s)*Math.cos(t)+l.x,y=(u+s)*Math.sin(t)+l.y,A=this.gauge.group.addShape("line",{attrs:(0,f.deepMix)({},{x1:h,y1:c,x2:v,y2:y},e.style)});A.set("name","axis-tickLine")},getPath:function(t,e){var n=this.gauge.center,a=this.gauge.ringRadius,o=this.gauge.options.rangeSize,s=a*Math.cos(t)+n.x,l=a*Math.sin(t)+n.y,u=(a-o)*Math.cos(t)+n.x,h=(a-o)*Math.sin(t)+n.y,c=a*Math.cos(e)+n.x,v=a*Math.sin(e)+n.y,y=(a-o)*Math.cos(e)+n.x,A=(a-o)*Math.sin(e)+n.y,k=Math.abs(t-e)>Math.PI?1:0;return[["M",s,l],["A",a,a,0,k,1,c,v],["L",y,A],["A",a-o,a-o,0,k,0,u,h],["Z"]]},drawPivot:function(t){var e=this.getAngleRange(),n=e.starAngle,a=e.endAngle,o=this.gauge.options,s=o.radius,l=o.rangeSize,u=this.gauge.pivot,h=u.thickness,c=u.thickness/2.5,v=this.gauge.group,y=t.points[0],A=this.parsePoint({x:0,y:0}),k=y.x*(a-n)+n,R=(this.gauge.ringRadius-l)*s*Math.cos(k)+this.gauge.center.x,H=(this.gauge.ringRadius-l)*s*Math.sin(k)+this.gauge.center.y,V={x:R,y:H};if(u.base.visible&&v.addShape("circle",{attrs:(0,f.deepMix)({},{x:A.x,y:A.y,r:u.base.size?u.base.size/2:h*2.2},u.base.style)}),u.pointer.visible){var ot={x:A.x-V.x,y:A.y-V.y},ut=Math.sqrt(ot.x*ot.x+ot.y*ot.y);ot.x*=1/ut,ot.y*=1/ut;var bt=-Math.PI/2,Ft=Math.cos(bt)*ot.x-Math.sin(bt)*ot.y,Xt=Math.sin(bt)*ot.x+Math.cos(bt)*ot.y,Ut=Math.PI/2,Gt=Math.cos(Ut)*ot.x-Math.sin(Ut)*ot.y,te=Math.sin(Ut)*ot.x+Math.cos(Ut)*ot.y,ue=[["M",V.x+Ft*c,V.y+Xt*c],["L",A.x+Ft*h,A.y+Xt*h],["L",A.x+Gt*h,A.y+te*h],["L",V.x+Gt*c,V.y+te*c],["Z"]];v.addShape("path",{attrs:(0,f.deepMix)({},{path:ue},u.pointer.style)}),v.addShape("circle",{attrs:{x:V.x,y:V.y,r:c,fill:u.pointer.style.fill}}),v.addShape("circle",{attrs:{x:A.x,y:A.y,r:h,fill:u.pointer.style.fill}})}u.pin.visible&&v.addShape("circle",{attrs:(0,f.deepMix)({},{x:A.x,y:A.y,r:c/1.2},u.pin.style)})}})},i}(),jB={range:"point",statistic:"annotation-text"},UB=yi(jB);(0,f.assign)(on,UB);var Uy=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="gauge",e}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,rangeBackgroundStyle:{fill:"#f0f0f0"},rangeSize:24,statistic:{position:["50%","80%"]},axis:{visible:!0,offset:-10,tickCount:21,subTickCount:4,tickLine:{visible:!0,length:5,style:{stroke:"#aaa",lineWidth:2}},label:{visible:!0,offset:8,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}},pivot:{visible:!0,thickness:6,pin:{visible:!0,size:2,style:{fill:"#2E364B"}},base:{visible:!0,style:{fill:"#EEEEEE"}},pointer:{visible:!0,style:{fill:"#CFCFCF"}}}})},r.prototype.init=function(){var t=this.options,e=t.value,n=t.range,a=(n||[]).map(function(A){return+A}).sort(function(A,k){return A-k}),o=this.options,s=o.min,l=s===void 0?a[0]:s,u=o.max,h=u===void 0?a[a.length-1]:u,c=o.format,v=c===void 0?function(A){return""+A}:c,y=v(e);this.options.data=[{value:e||0}],this.options.valueText=y,this.options.min=l,this.options.max=h,this.options.format=v,this.initG2Shape(),i.prototype.init.call(this)},r.prototype.initG2Shape=function(){this.gaugeShape=new jy((0,f.uniqueId)()),this.gaugeShape.setOption(this.type,(0,f.deepMix)({},this.options,{radius:.6,angle:240,textPosition:"100%"})),this.gaugeShape.render()},r.prototype.geometryParser=function(){return"gauge"},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a=t.format,o={value:{}};si(o.value,{min:e,max:n,minLimit:e,maxLimit:n,nice:!0,formatter:a,tickInterval:20}),this.setConfig("scales",o),i.prototype.scale.call(this)},r.prototype.coord=function(){var t={type:"polar",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coordinate",t)},r.prototype.axis=function(){var t=this.options.axis,e={value:{line:null,grid:null,tickLine:null}},n;t.offset<0?n=t.offset-this.options.rangeSize-t.tickLine.length-t.label.offset:n=t.offset+t.tickLine.length+t.label.offset,t.label.visible?e.value.label={offset:n,textStyle:t.label.style,autoRotate:!0}:e.value.label={style:{opacity:0}},e["1"]=!1,e.value=t.visible?e.value:!1,this.setConfig("axes",e)},r.prototype.addGeometry=function(){var t=this.options.pivot.pointer.style.fill||this.theme.defaultColor,e={type:"point",position:{fields:["value","1"]},shape:{values:["gauge"]},color:{values:[t]}};this.setConfig("geometry",e)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}this.setConfig("annotations",e)},r.prototype.renderStatistic=function(){var t=Math.max(this.options.width,this.options.height)/20,e=this.options.statistic,n={type:"text",content:e.text,top:!0,position:e.position,style:{fill:e.color,fontSize:e.size?e.size:t*1.2,textAlign:"center",textBaseline:"middle"}};return n},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,j)},r}(Gn),Lh=Uy;qr("gauge",Uy);var ZB=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="gauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Lh.getDefaultOptions,r}(Xr),Zy=ZB,Ky=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="fanGauge",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{rangeColor:"#F6445A",rangeSize:70,axis:{visible:!0,offset:5,tickCount:10,subTickCount:4,tickLine:{visible:!0,length:3,style:{stroke:"#aaa",lineWidth:3}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}}})},r.prototype.initG2Shape=function(){this.gaugeShape=new jy((0,f.uniqueId)()),this.gaugeShape.setOption(this.type,(0,f.deepMix)({},this.options,{radius:1,angle:120,textPosition:"125%",bottomRatio:3.5})),this.gaugeShape.render()},r.prototype.axis=function(){var t={value:!1,1:!1};this.setConfig("axes",t)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}var a=this.renderSideText(),o=e.concat(a);this.setConfig("annotations",o)},r.prototype.renderSideText=function(){var t=this.options,e=t.max,n=t.min,a=t.format,o=t.rangeSize,s=t.axis,l=12;return[n,e].map(function(u,h){return{type:"text",top:!0,position:["50%","50%"],content:a(u),style:(0,f.deepMix)({},s.label.style,{textAlign:"center"}),offsetX:h?o:-o,offsetY:l}})},r}(Lh),KB=Ky;qr("fanGauge",Ky);var $B=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="fanGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=KB.getDefaultOptions,r}(Xr),$y=$B,Qy=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="meterGauge",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},r}(Lh),QB=Qy;qr("meterGauge",Qy);var JB=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="meterGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=QB.getDefaultOptions,r}(Xr),Jy=JB,qB=d(25155),to=d.n(qB),BG=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e),to()(!1,'Please use "Donut" instead of "Ring" which was not recommended.')},r.getDefaultOptions=Ly.getDefaultOptions,r}(Xr),DG=null,FG=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e),to()(!1,'Please use "GroupedColumn" instead of "GroupColumn" which was not recommended.')},r.getDefaultOptions=xh.getDefaultOptions,r}(Xr),RG=null,NG=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e),to()(!1,'Please use "GroupedBar" instead of "GroupBar" which was not recommended.')},r.getDefaultOptions=fg.getDefaultOptions,r}(Xr),YG=null,GG=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e),to()(!1,'Please use "PercentStackedArea" instead of "PercentageStackArea" which was not recommended.')},r.getDefaultOptions=Lg.getDefaultOptions,r}(Xr),zG=null,XG=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e),to()(!1,'Please use "PercentStackedBar" instead of "PercentageStackBar" which was not recommended.')},r.getDefaultOptions=vg.getDefaultOptions,r}(Xr),VG=null,HG=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e),to()(!1,'Please use "PercentStackedColumn" instead of "PercentageStackColumn" which was not recommended.')},r.getDefaultOptions=Ug.getDefaultOptions,r}(Xr),WG=null,jG=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e),to()(!1,'Please use "StackedArea" instead of "StackArea" which was not recommended.')},r.getDefaultOptions=gh.getDefaultOptions,r}(Xr),UG=null,ZG=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e),to()(!1,'Please use "StackedBar" instead of "StackBar" which was not recommended.')},r.getDefaultOptions=ch.getDefaultOptions,r}(Xr),KG=null,$G=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e),to()(!1,'Please use "StackedColumn" instead of "StackColumn" which was not recommended.')},r.getDefaultOptions=Hl.getDefaultOptions,r}(Xr),QG=null,tD=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},r.prototype.coord=function(){},r.prototype.addGeometry=function(){},r.prototype.annotation=function(){var t=this,e=this.options,n=[],a={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};(0,f.each)(e.guideLine,function(o){var s=Ei("guideLine",{plot:t,cfg:(0,f.deepMix)({},a,o)});n.push(s)}),this.setConfig("annotations",n)},r}(Gn),ql=tD,eD=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.destroy=function(){this.shape&&this.shape.destroy()},i.prototype.update=function(r,t,e){var n={};if((0,f.assign)(this,r),this.coord=this.view.geometries[0].coordinate,r.value){var a=this.coord.convert({x:0,y:this.value}).x,o=[1,0,0,0,1,0,a,0,1];n.matrix=o}if(r.style){var s=this.shape,l=s.attrs,u=(0,f.deepMix)({},l,r.style);n=(0,f.deepMix)({},u,n)}this.shape.stopAnimate(),this.shape.animate(n,t,e)},i.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var r=this.coord.convert({x:0,y:this.value}).x,t=this.coord.center.y-this.progressSize/2-2,e=this.coord.center.y+this.progressSize/2+2,n=(0,f.deepMix)({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:(0,zt.__assign)({path:[["M",0,t],["L",0,e]]},n),name:"progress-marker"}),this.shape.move(r,0),this.canvas.draw()},i}(),qy=eD,rD={progress:"interval"},nD=yi(rD);(0,f.assign)(on,nD);var iD={progress:"interval"},aD={interval:"progress"},t0=["#55A6F3","#E8EDF3"],e0=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="progress",t.isEntered=!1,t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:t.size?t.size:this.getSize(),barStyle:t.progressStyle,color:this.parseColorProps(t)||t0};t=(0,f.mix)(t,e)},r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.beforeInit=function(){var t=this.options.percent;if(!(0,f.isNumber)(t))throw new Error("Percent value is required, and the type of percent must be Number.")},r.prototype.update=function(t){var e=this.options;if((0,f.hasKey)(t,"percent")&&(e.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color){var n=void 0;(0,f.isArray)(t.color)?(this.options.color=t.color,n=[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,n={fill:t.color}),this.styleUpdateAnimation(n)}t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},r.prototype.destroy=function(){this.markers&&this.markers.length>0&&((0,f.each)(this.markers,function(t){t.destroy()}),this.markers=[]),i.prototype.destroy.call(this)},r.prototype.afterRender=function(){var t=this;this.options.marker&&!this.markers&&(this.markers=[],(0,f.each)(this.options.marker,function(s){var l=(0,f.mix)({canvas:t.canvas,view:t.view,progressSize:t.options.barSize},s),u=new qy(l);t.markers.push(u)}));var e=this.view.geometries[0].container,n=e.getBBox(),a=e.addShape("rect",{attrs:{width:n.width,height:n.height,x:n.minX,y:n.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),a.on("mouseenter",function(s){t.isEntered=!0,t.view.emit("progress:mouseenter",s)}),a.on("mouseleave",function(s){t.isEntered=!1,t.view.emit("progress:mouseleave",s)});var o=this.canvas.get("container");o.addEventListener("mouseleave",function(s){t.isEntered&&(t.view.emit("progress:mouseleave",s),t.isEntered=!1)})},r.prototype.geometryParser=function(t,e){return t==="g2"?iD[e]:aD[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.addGeometry=function(){var t=this.options,e=Wn("interval","main",{positionFields:[t.yField,t.xField],plot:this});e.adjust=[{type:"stack"}],(0,f.has)(t,"animation")&&(e.animate=t.animation),this.setConfig("geometry",e)},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,it)},r.prototype.parseColorProps=function(t){var e;if(t.color)if((0,f.isFunction)(t.color)?e=t.color(t.percent):e=t.color,(0,f.isString)(e)){var n=(0,f.clone)(t0);return n[0]=e,n}else return e;return t.color},r.prototype.processData=function(){var t=this.options,e=[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}];return e},r.prototype.updateMarkers=function(t){var e=t.length,n=this.getUpdateAnimationOptions();if((0,f.each)(this.markers,function(u,h){h>e-1?u.destroy():u.update(t[h],n.duration,n.easing)}),this.markers.length<e)for(var a=this.markers.length,o=a;o<e;o++){var s=(0,f.deepMix)({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},t[o]),l=new qy(s);this.markers.push(l)}},r.prototype.getSize=function(){var t=this.height;return t>=50?10:4},r.prototype.styleUpdateAnimation=function(t){var e=this.getUpdateAnimationOptions(),n=e.duration,a=e.easing,o=[],s=this.view,l=s.geometries;(0,f.each)(l,function(u){if(u.type==="interval"){var h=u.elements;(0,f.each)(h,function(c){o.push.apply(o,c.shape)})}}),(0,f.isArray)(t)?(0,f.each)(t,function(u,h){o[h].animate(u,n,a)}):o[0].animate(t,n,a)},r.prototype.getUpdateAnimationOptions=function(){var t=450,e="easeQuadInOut",n=this.options.animation;return n&&n.update&&(n.update.duration&&(t=n.update.duration),n.update.easing&&(e=n.update.easing)),{duration:t,easing:e}},r.prototype.updateColorConfigByStyle=function(t){var e=this;(0,f.isArray)(t)?(0,f.each)(t,function(n,a){n.fill&&(e.options.color[a]=n.fill)}):t.fill&&(this.options.color[0]=t.fill)},r}(ql),r0=e0;qr("progress",e0);var oD=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="progress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t,e){var n=this.layers[0];n.update(t,e)},r.getDefaultOptions=r0.getDefaultOptions,r}(Xr),n0=oD,sD={ringProgress:"interval"},lD=yi(sD);(0,f.assign)(on,lD);var uD=["#55A6F3","#E8EDF3"],i0=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ringProgrsss",t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:t.progressStyle,color:this.parseColorProps(t)||uD};t=(0,f.mix)(t,e)},r.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coordinate",t)},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=this.options;this.ring=Wn("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("geometry",this.ring)},r.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,tt)},r.prototype.getThickness=function(t){var e=this.width,n=this.height,a=Math.min(e,n);return t?1-t/a:a>=60?1-20/a:1-10/a},r}(r0),fD=i0;qr("ringProgress",i0);var hD=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="ringProgress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t){var e=this.layers[0];e.update(t)},r.getDefaultOptions=fD.getDefaultOptions,r}(Xr),a0=hD,cD={onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"};(0,f.assign)(on,cD);var vD=.6,dD={column:"interval"},pD={interval:"column"},o0=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyColumn",t}return r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?dD[e]:pD[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},this.setConfig("scales",e)},r.prototype.addGeometry=function(){var t=this.options,e=Wn("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,yt)},r.prototype.processProps=function(){var t={padding:[0,0,0,0],columnSize:this.getSize()};this.options=(0,f.mix)(this.options,t)},r.prototype.getSize=function(){var t=this.options,e=this.getColumnNum(t.data,t.xField),n=this.width;return n/e*vD},r.prototype.getColumnNum=function(t,e){var n=[];return(0,f.each)(t,function(a){var o=a[e];n.indexOf(o)<0&&n.push(o)}),n.length},r}(ql),gD=o0;qr("tinyColumn",o0);var yD=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=gD.getDefaultOptions,r}(Xr),s0=yD,mD={onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,f.assign)(on,mD);var xD={area:"area",line:"line"},l0=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyArea",t}return r.prototype.geometryParser=function(t,e){return xD[e]},r.prototype.addGeometry=function(){this.area=Wn("area","mini",{plot:this}),this.setConfig("geometry",this.area),this.line=Wn("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,dt)},r}(ql),bD=l0;qr("tinyArea",l0);var wD=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=bD.getDefaultOptions,r}(Xr),u0=wD,SD={onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,f.assign)(on,SD);var MD={line:"line"},f0=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyLine",t}return r.prototype.geometryParser=function(t,e){return MD[e]},r.prototype.addGeometry=function(){this.line=Wn("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Ct)},r}(ql),CD=f0;qr("tinyLine",f0);var ED=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=CD.getDefaultOptions,r}(Xr),h0=ED,Oh=5,AD=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.geomLayers=[],e.legends=[],e.requiredField=["xField","yField"],e.options=e.getOptions(t),e.initialOptions=(0,f.deepMix)({},t),e.themeController=new rh,e}return r.getDefaultOptions=function(){return{title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"}}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t);return(0,f.deepMix)({},n,a,e,t)},r.prototype.checkData=function(){for(var t=this,e,n,a=this.options,o=a.data,s=a.xField,l=a.yField,u=0;u<this.requiredField.length;u++){var h=this.requiredField[u];if(!(0,f.hasKey)(this.options,h))return!1}return!(!(0,f.isArray)(l)||l.length<2||!(0,f.isArray)(o)||o.length===0||((e=o[0])===null||e===void 0?void 0:e.length)===0&&((n=o[1])===null||n===void 0?void 0:n.length)===0||((0,f.each)(o,function(c,v){if(!(0,f.isArray)(c)||c.length===0){var y=t.getMockData(v);o[v]=y}}),!o[0][0][s]||!o[1][0][s]))},r.prototype.init=function(){i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.drawTitle(),this.drawDescription()},r.prototype.updateConfig=function(t){this.doDestroy(),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){t&&t.length<2||!(0,f.isArray)(t[0])||(0,f.each)(this.geomLayers,function(e,n){e.changeData(t[n])})},r.prototype.changeDataByIndex=function(t,e){if(!(0,f.isArray)(t[0])){var n=this.geomLayers[e];n.changeData(t)}},r.prototype.doDestroy=function(){(0,f.each)(this.geomLayers,function(t){t.doDestroy()}),this.geomLayers=[],(0,f.each)(this.legends,function(t){t.destroy()}),this.legends=[]},r.prototype.createLayer=function(t,e,n){var a=this.getViewRange(),o=new t((0,zt.__assign)({canvas:this.canvas,container:this.container,x:a.minX,y:a.minY,width:a.width,height:a.height,data:e},n));return this.geomLayers.push(o),o},r.prototype.getLeftYAxisMax=function(){var t=this.getScaleData(0),e=this.getScaleData(1);return t.min==0&&t.max===0?Math.max(e.max,0):t.max},r.prototype.yAxis=function(t){var e=this.getScaleData(0),n=this.options.yAxis,a=t===0?n.leftConfig:n.rightConfig,o=this.colors[t],s=(0,f.clone)(a),l={title:"stroke",line:"stroke",label:"fill",tickLine:"stroke"};a.visible&&a.colorMapping&&(0,f.each)(s,function(h,c){if(!(0,f.isString)(h)&&(0,f.hasKey)(l,c)){var v=l[c];h.style||(h.style={}),h.style[v]=o}}),a.visible||(s.title.visible=!1,s.tickLine.visible=!1,s.label.visible=!1,s.line.visible=!1,s.visible=!0);var u=this.getYAxisGlobalConfig();return t===0&&e.max===0&&e.min===0&&(s.max=this.getLeftYAxisMax()),(0,f.deepMix)({},u,s)},r.prototype.getTicks=function(){for(var t=this.options.yAxis,e=this.getScaleData(0),n=(0,Ar.getScale)("linear"),a=new n((0,f.deepMix)({},{min:0,max:this.getLeftYAxisMax(),nice:!0,values:e.values},{tickCount:t.tickCount})),o=a.ticks.length,s=t.max?a.max:this.getScaleData(1).max,l=s/(o-1),u=[],h=0;h<o;h++){var c=h*l;Number.isInteger(c)||(c=parseFloat(c.toFixed(1))),u.push(c)}return u},r.prototype.getScaleData=function(t){var e=this.options,n=e.data,a=e.yField,o=e.yAxis,s=[];(0,f.each)(n[t],function(h){s.push(h[a[t]])}),s.sort(function(h,c){return h-c});var l=s[0],u=o.max?o.max:s[s.length-1];return{min:l,max:u,values:s}},r.prototype.getDataByXField=function(t,e){var n=this.options,a=n.data,o=n.xField,s=a[e];return s.filter(function(l){return l[o]===t})},r.prototype.getYAxisGlobalConfig=function(){var t=this.options.yAxis,e=t.min,n=t.max,a=t.tickCount;return{min:e,max:n,tickCount:a}},r.prototype.adjustLayout=function(){var t=this,e,n,a=Ii().bleeding;(0,f.isArray)(a)&&(0,f.each)(a,function(y,A){typeof a[A]=="function"&&(a[A]=a[A](t.options))});var o=this.getViewRange(),s=this.transfromPadding(this.geomLayers[0].options.padding),l=this.transfromPadding(this.geomLayers[1].options.padding),u=0,h,c;((e=this.options.legend)===null||e===void 0?void 0:e.visible)&&(h=this.legends[0].getLayoutBBox(),c=this.legends[1].getLayoutBBox(),u=h.height+Oh*2);var v=s.map(function(y,A){return A===0?Math.max.apply(null,[y+u,l[A]]):Math.max.apply(null,[y,l[A]])});this.geomLayers[0].updateConfig({padding:v}),this.geomLayers[0].render(),this.geomLayers[1].updateConfig({padding:v}),this.geomLayers[1].render(),((n=this.options.legend)===null||n===void 0?void 0:n.visible)&&(this.legends[0].setLocation({x:a[3],y:o.minY+Oh}),this.legends[1].setLocation({x:o.maxX-a[1]-c.width,y:o.minY+Oh}))},r.prototype.transfromPadding=function(t){return typeof t=="string"||typeof t=="number"?[Number(t)]:t},r.prototype.legendFilter=function(t){var e=this,n=this.legends[t],a=n.get("group");a.on("click",function(){var o=n.get("items")[0];o.unchecked?(n.setItemState(o,"unchecked",!1),e.showLayer(t)):(n.setItemState(o,"unchecked",!0),e.hideLayer(t))})},r.prototype.hideLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!1),this.setGeometryVisibility(a,!1),this.canvas.draw()},r.prototype.showLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!0),this.setGeometryVisibility(a,!0),this.canvas.draw()},r.prototype.setGeometryVisibility=function(t,e){(0,f.each)(t.geometries,function(n){var a=n.container,o=n.labelsContainer;a&&a.set("visible",e),o&&o.set("visible",e)})},r.prototype.getYAxisContainer=function(t,e){var n,a=t.controllers.filter(function(l){return(0,f.hasKey)(l,"axisContainer")})[0];if(a){var o=a,s=o.axisContainer.get("children");(0,f.each)(s,function(l){var u=l.get("component").get("field");u===e&&(n=l)})}return n},r.prototype.getUnCheckedValue=function(){var t=[];return(0,f.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,f.each)(n,function(a){t.push(a.name)})}),t},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),Zo(t.title)){var n=this.width,a=this.theme,o=new Al({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,f.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:Zo(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),Zo(t.description)){var n=this.width,a=this.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new Al({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,f.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l}},r.prototype.getViewRange=function(){this.layerBBox||(this.layerBBox=new Wr(this.x,this.y,this.width,this.height));var t=this.layerBBox.minX,e=this.layerBBox.maxX,n=this.layerBBox.minY,a=this.layerBBox.maxY,o=[this.title,this.description];return(0,f.each)(o,function(s){if(s){var l=s.position,u=s.getBBox(),h=u.minX,c=u.maxX,v=u.minY,y=u.maxY;y>=n&&y<=a&&l==="top"&&(n=y),v>=n&&v<=a&&l==="bottom"&&(a=v),c>t&&c<=e&&l==="left"&&(t=c),h>=t&&c<=e&&l==="right"&&(e=h)}}),new Wr(t,n,e-t,a-n)},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o={};return o[n]="null",o[a[t]]=0,[o]},r}(El),c0=AD,v0={lineSize:2,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},d0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},p0=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dualLine",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0},yAxis:{leftConfig:d0,rightConfig:d0},lineConfigs:[(0,f.deepMix)({},v0,{color:"#5B8FF9"}),(0,f.deepMix)({},v0,{color:"#e76c5e"})]})},r.prototype.init=function(){var t=this;if(i.prototype.init.call(this),!!this.checkData()){var e=this.options,n=e.data,a=e.meta,o=e.xField,s=e.yField,l=e.xAxis,u=e.tooltip,h=e.lineConfigs,c=e.legend,v=e.events,y=e.customMeta;this.colors=[h[0].color,h[1].color];var A=this.getYAxisGlobalConfig(),k=this.createLayer(_s,n[0],(0,zt.__assign)({meta:a,xField:o,yField:s[0],xAxis:{visible:!1},yAxis:(0,f.deepMix)({},A,{grid:{visible:!1},nice:!0},this.yAxis(0)),tooltip:{visible:!1},events:v},h[0]));k.render();var R={};R[s[1]]={ticks:this.getTicks()};var H=this.createLayer(_s,n[1],(0,zt.__assign)({xField:o,yField:s[1],meta:y?a:(0,f.deepMix)({},a,R),serieField:s[1],xAxis:l,yAxis:(0,f.deepMix)({},A,{position:"right",nice:!1},this.yAxis(1)),tooltip:(0,f.deepMix)({},{showMarkers:!1,custom:{onChange:function(V,ot){t.tooltip(V,ot)}}},u),events:v},h[1]));H.render(),c.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.tooltip=function(t,e){var n=this.getUnCheckedValue();if(n.length===this.colors.length){t.style.display="none";return}else t.style.display="block";var a=this.options,o=a.yField,s=a.legend,l=(0,f.clone)(e.items[0]),u=this.getDataByXField(e.title,0)[0];u&&(0,f.findIndex)(e.items,function(h){return h.name===o[0]})<0&&e.items.push((0,zt.__assign)((0,zt.__assign)({},l),{mappingData:(0,f.deepMix)({},l.mappingData,{_origin:u}),data:u,name:o[0],value:u[o[0]],color:this.colors[0]})),s.visible&&(0,f.each)(this.legends,function(h,c){var v=h.get("items")[0];if(v.unchecked){var y=c===0?1:0;e.items.splice(y,1)}})},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a;(0,f.each)(this.geomLayers,function(u,h){var c=(0,f.deepMix)({},{symbol:"circle",style:{r:4,fill:o[h]}},l.marker),v=[{name:n[h],unchecked:!1,marker:c}],y=new Qr.Legend.Category({id:t.type,container:s,x:0,y:0,items:v,updateAutoRender:!0,itemBackground:null,itemName:l.text});y.init(),y.render(),t.legends.push(y)}),(0,f.each)(this.geomLayers,function(u,h){t.legendFilter(h)})},r}(c0),TD=p0;qr("dualLine",p0);var PD=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="dualLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=TD.getDefaultOptions,r}(Xr),g0=PD,_D={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},LD={color:"#5B8FF9"},y0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},m0=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="columnLine",t.legends=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:y0,rightConfig:y0},lineConfig:_D,columnConfig:LD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions;if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var s=Ii(),l=s.colors,u=s.colors_20,h=this.getValueBySeriesField(),c=h.length>l.length?u:l,v=[];(0,f.each)(h,function(y,A){v.push(c[A+1])}),a.lineConfig.color=v}},r.prototype.init=function(){if(i.prototype.init.call(this),!!this.checkData()){var t=this.options,e=t.data,n=t.meta,a=t.xField,o=t.yField,s=t.lineSeriesField,l=t.legend,u=t.lineConfig,h=t.columnConfig,c=t.events,v=t.customMeta;this.colors=[h.color,u.color],this.drawColumn();var y={};y[o[1]]={ticks:this.getTicks()};var A=this.createLayer(_s,e[1],(0,zt.__assign)({xField:a,yField:o[1],seriesField:s,meta:v?n:(0,f.deepMix)({},n,y),xAxis:{visible:!1},yAxis:(0,f.deepMix)({},{position:"right",grid:{visible:!1},nice:!0},this.yAxis(1)),tooltip:{visible:!1},legend:{visible:!1},events:c},u));A.render(),l.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.xAxis,l=e.tooltip,u=e.columnConfig,h=e.meta,c=e.events,v=this.createLayer(ts,n[0],(0,zt.__assign)({xField:a,yField:o[0],meta:h,xAxis:s,yAxis:(0,f.deepMix)({},{grid:{visible:!0},nice:!0},this.yAxis(0)),tooltip:(0,f.deepMix)({},{showMarkers:!1,custom:{onChange:function(y,A){t.tooltip(y,A)}}},l),events:c},u));v.render()},r.prototype.tooltip=function(t,e){var n=this,a=this.options,o=a.xField,s=a.yField,l=a.tooltip,u=(0,f.clone)(e.items[0]),h=this.getDataByXField(e.title,1),c=(0,f.get)(l,"formatter");if(h&&(0,f.each)(h,function(R,H){var V=n.geomLayers[1].options.seriesField,ot=V?R[V]:s[1],ut=c?c(R[o],R[s[1]],R[V]):{name:ot,value:R[s[1]]};e.items.push((0,zt.__assign)((0,zt.__assign)((0,zt.__assign)((0,zt.__assign)({},u),{mappingData:(0,f.deepMix)({},u.mappingData,{_origin:h}),data:R}),ut),{color:(0,f.isArray)(n.colors[1])?n.colors[1][H]:n.colors[1]}))}),this.options.legend.visible){var v=this.getUnCheckedValue(),y=this.legends[0].get("items").length+this.legends[1].get("items").length;if(v.length===y){t.style.display="none";return}else t.style.display="block";var A=[],k=[];(0,f.each)(e.items,function(R){var H=R.name;!(0,f.contains)(A,H)&&!(0,f.contains)(v,H)&&(A.push(H),k.push(R))}),(0,f.each)(e.items,function(R,H){H<k.length?e.items[H]=k[H]:e.items.pop()})}},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var y=t.getValueBySeriesField();v=t.createNormalLegend(y,u[c],o[c],l,s)}else v=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(v)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):t.legendFilter(c)})},r.prototype.createSingleLegend=function(t,e,n,a,o){var s=(0,f.deepMix)({},{symbol:e,style:{r:4,fill:n}},a.marker),l=[{name:t,unchecked:!1,marker:s}],u=new Qr.Legend.Category({id:this.type,container:o,x:0,y:0,items:l,updateAutoRender:!0,itemBackground:null,itemName:a.text});return u.init(),u.render(),u},r.prototype.createNormalLegend=function(t,e,n,a,o){var s=[];(0,f.each)(t,function(u,h){s.push({name:u,unchecked:!1,marker:{symbol:e,style:{r:4,fill:n[h]}}})});var l=new Qr.Legend.Category({id:this.type,container:o,x:0,y:0,items:s,updateAutoRender:!0,itemBackground:null,itemName:a.text,offsetX:0});return l.init(),l.render(),l},r.prototype.multipleLegendFilter=function(t,e){var n=this,a=this.legends[t],o=[],s=a.get("group"),l=!1;s.on("click",function(u){var h=n.geomLayers[t].view,c=u.target.get("delegateObject").item;c.unchecked?(l===!0&&(n.showLayer(t),l=!1),(0,f.pull)(o,c.name),h.filter(c.value,function(v){return!(0,f.contains)(o,v)}),h.render(),a.setItemState(c,"unchecked",!1)):(a.setItemState(c,"unchecked",!0),o.push(c.name),o.length===n.legends[t].get("items").length?(n.hideLayer(t),l=!0):(h.filter(e,function(v){return!(0,f.contains)(o,v)}),h.render())),n.canvas.draw()})},r.prototype.getValueBySeriesField=function(){var t=this.options,e=t.lineSeriesField,n=t.data,a=n[1],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r}(c0),Ih=m0;qr("columnLine",m0);var OD=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="columnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Ih.getDefaultOptions,r}(Xr),x0=OD,ID={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},kD={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},b0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},w0=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnGroupField"],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,f.deepMix)({},b0,{colorMapping:!1}),rightConfig:b0},lineConfig:ID,columnConfig:kD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions,s=this.getValueByGroupField();if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var l=Ii(),u=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>u.length?h:u,y=[],A=s.length;(0,f.each)(c,function(R,H){y.push(v[H+A])}),a.lineConfig.color=y}var k=this.options.columnConfig.color;this.options.columnConfig.color=k.slice(0,s.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnGroupField,l=e.xAxis,u=e.tooltip,h=e.columnConfig,c=e.events,v=this.createLayer(xh,n[0],(0,zt.__assign)({xField:a,yField:o[0],groupField:s,xAxis:l,yAxis:(0,f.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,f.deepMix)({},u,{showMarkers:!1,custom:{onChange:function(y,A){t.tooltip(y,A)}}}),events:c},h));v.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var y=t.getValueBySeriesField();v=t.createNormalLegend(y,u[c],o[c],l,s)}else if(h.options.groupField){var y=t.getValueByGroupField();v=t.createNormalLegend(y,u[c],o[c],l,s)}else v=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(v)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.groupField?t.multipleLegendFilter(c,h.options.groupField):t.legendFilter(c)})},r.prototype.getValueByGroupField=function(){var t=this.options,e=t.columnGroupField,n=t.data,a=n[0],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnGroupField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(Ih),BD=w0;qr("groupedColumnLine",w0);var DD=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=BD.getDefaultOptions,r}(Xr),S0=DD,FD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},RD={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},M0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},C0=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnStackField"],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,f.deepMix)({},M0,{colorMapping:!1}),rightConfig:M0},lineConfig:FD,columnConfig:RD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this.getValueByStackField(),a=this,o=a.options,s=a.initialOptions;if(o.lineSeriesField&&(o.yAxis.rightConfig.colorMapping=!1,((t=s.lineConfig)===null||t===void 0?void 0:t.lineSize)||(o.lineConfig.lineSize=3),!((e=s.lineConfig)===null||e===void 0?void 0:e.color))){var l=Ii(),u=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>u.length?h:u,y=[],A=n.length;(0,f.each)(c,function(R,H){y.push(v[H+A])}),o.lineConfig.color=y}var k=this.options.columnConfig.color;this.options.columnConfig.color=k.slice(0,n.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnStackField,l=e.xAxis,u=e.tooltip,h=e.columnConfig,c=e.events,v=this.createLayer(Hl,n[0],(0,zt.__assign)({xField:a,yField:o[0],stackField:s,xAxis:l,yAxis:(0,f.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,f.deepMix)({},u,{showMarkers:!1,custom:{onChange:function(y,A){t.tooltip(y,A)}}}),events:c},h));v.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var y=t.getValueBySeriesField();v=t.createNormalLegend(y,u[c],o[c],l,s)}else if(h.options.stackField){var y=t.getValueByStackField();v=t.createNormalLegend(y,u[c],o[c],l,s)}else v=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(v)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.stackField?t.multipleLegendFilter(c,h.options.stackField):t.legendFilter(c)})},r.prototype.getValueByStackField=function(){var t=this.options,e=t.columnStackField,n=t.data,a=n[0],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r.prototype.getUnCheckedValue=function(){var t=[];return(0,f.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,f.each)(n,function(a){t.push(a.name)})}),t},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnStackField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(Ih),ND=C0;qr("stackedColumnLine",C0);var YD=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ND.getDefaultOptions,r}(Xr),E0=YD,GD=function(r){return r.charAt(0).toUpperCase()+r.slice(1).replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},JG=function(r,t){return JSON.stringify(r)===JSON.stringify(t)},zD=function(r,t){return new Set(r.concat(t)).size===r.length},XD=function(r,t){var e={}.toString;return e.call(r)==="[object "+t+"]"},VD=function(r){if(!r)return r;var t={};for(var e in r)t[e]=r[e];return t},ks={sameArray:zD,camelCase:GD,isType:XD,clone:VD},HD=d(73935),WD=function(r){var t=document.createElement("div");return t.className="g2-tooltip eva-charts-tootip",HD.render(r,t),t},kh=WD;function A0(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function jD(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?A0(Object(t),!0).forEach(function(e){UD(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):A0(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function UD(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}function en(i,r){var t=(0,J.useRef)(),e=(0,J.useRef)(null),n=function(){var l,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",h=arguments.length>1?arguments[1]:void 0;return(l=t.current)===null||l===void 0?void 0:l.canvas.cfg.el.toDataURL(u,h)},a=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/png",h=arguments.length>2?arguments[2]:void 0;try{var c;l&&l.indexOf(".")===-1&&(l="".concat(l,".png"));var v=l;if(!v){var y,A=r;v="".concat((A==null||(y=A.title)===null||y===void 0?void 0:y.text)||(i==null?void 0:i.name),".png")}var k=(c=t.current)===null||c===void 0?void 0:c.canvas.cfg.el.toDataURL(u,h),R=document.createElement("a");R.href=k,R.download=v,document.body.appendChild(R),R.click(),document.body.removeChild(R),R=null}catch(H){console.log(H)}},o=function(){var l,u,h,c,v;if((l=r.statistic)===null||l===void 0?void 0:l.htmlContent){var y=r.statistic.htmlContent;r.statistic.htmlContent=function(){var k=y.apply(void 0,arguments);return ks.isType(k,"String")||ks.isType(k,"Number")||ks.isType(k,"HTMLDivElement")?k:kh(k)}}if(((u=r.tooltip)===null||u===void 0||(h=u.custom)===null||h===void 0?void 0:h.container)&&(r.tooltip.custom.container=kh(r.tooltip.custom.container)),(c=r.tooltip)===null||c===void 0||(v=c.custom)===null||v===void 0?void 0:v.customContent){var A=r.tooltip.custom.customContent;r.tooltip.custom.customContent=function(k,R){var H=A(k,R)||"";return ks.isType(H,"HTMLDivElement")?H:kh(H)}}};return(0,J.useEffect)(function(){t.current&&(r.onlyChangeData?t.current.changeData((r==null?void 0:r.data)||[]):(o(),t.current.updateConfig(r),t.current.render()))},[(r==null?void 0:r.memoData)?r.memoData:JSON.stringify(r)]),(0,J.useEffect)(function(){if(!e.current)return function(){return null};o();var s=new i(e.current,jD({},r));return s.__proto__.toDataURL=function(l,u){return n(l,u)},s.__proto__.downloadImage=function(l,u,h){return a(l,u,h)},s.render(),t.current=ks.clone(s),function(){return s.destroy()}},[]),{chart:t,container:e,toDataURL:n,downloadImage:a}}var ZD=J.createContext({});function tu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tu=function(t){return typeof t}:tu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(i)}function KD(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function T0(i,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function $D(i,r,t){return r&&T0(i.prototype,r),t&&T0(i,t),i}function QD(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),r&&Bh(i,r)}function Bh(i,r){return Bh=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},Bh(i,r)}function JD(i){var r=e5();return function(){var e=eu(i),n;if(r){var a=eu(this).constructor;n=Reflect.construct(e,arguments,a)}else n=e.apply(this,arguments);return qD(this,n)}}function qD(i,r){return r&&(tu(r)==="object"||typeof r=="function")?r:t5(i)}function t5(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function e5(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(i){return!1}}function eu(i){return eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},eu(i)}var r5=function(i){QD(t,i);var r=JD(t);function t(){var e;return KD(this,t),e=r.apply(this,arguments),e.state={hasError:!1},e.renderError=function(n){switch(n){default:return J.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",n.message)}},e}return $D(t,[{key:"render",value:function(){return this.state.hasError?this.renderError(this.state.error):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0,error:n}}},{key:"getDerivedStateFromProps",value:function(n,a){return a.children!==n.children?{children:n.children,hasError:!1,error:void 0}:null}}]),t}(J.Component),$r=r5,qG=ZD.Provider;function n5(i,r){if(i==null)return{};var t=i5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function i5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var P0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=n5(i,["chartRef","style","className"]),s=en(Eg,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});P0.defaultProps=Eg.getDefaultOptions();var a5=P0;function o5(i,r){if(i==null)return{};var t=s5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function s5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var _0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=o5(i,["chartRef","style","className"]),s=en(og,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});_0.defaultProps=og.getDefaultOptions();var l5=_0;function u5(i,r){if(i==null)return{};var t=f5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function f5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var L0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=u5(i,["chartRef","style","className"]),s=en(Yy,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});L0.defaultProps=Yy.getDefaultOptions();var h5=L0;function c5(i,r){if(i==null)return{};var t=v5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function v5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var O0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=c5(i,["chartRef","style","className"]),s=en(zy,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});O0.defaultProps=zy.getDefaultOptions();var d5=O0;function p5(i,r){if(i==null)return{};var t=g5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function g5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var y5=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=p5(i,["chartRef","style","className"]),s=en(WB,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))}),m5=y5;function x5(i,r){if(i==null)return{};var t=b5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function b5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var I0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=x5(i,["chartRef","style","className"]),s=en(Dg,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});I0.defaultProps=Dg.getDefaultOptions();var k0=I0;function w5(i,r){if(i==null)return{};var t=S5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function S5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var B0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=w5(i,["chartRef","style","className"]),s=en(x0,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});B0.defaultProps=x0.getDefaultOptions();var M5=B0;function C5(i,r){if(i==null)return{};var t=E5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function E5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var D0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=C5(i,["chartRef","style","className"]),s=en(ny,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});D0.defaultProps=ny.getDefaultOptions();var A5=D0;function T5(i,r){if(i==null)return{};var t=P5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function P5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var F0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=T5(i,["chartRef","style","className"]),s=en(Oy,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});F0.defaultProps=Oy.getDefaultOptions();var R0=F0;function _5(i,r){if(i==null)return{};var t=L5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function L5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var N0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=_5(i,["chartRef","style","className"]),s=en(g0,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});N0.defaultProps=g0.getDefaultOptions();var O5=N0;function I5(i,r){if(i==null)return{};var t=k5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function k5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Y0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=I5(i,["chartRef","style","className"]),s=en($y,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});Y0.defaultProps=$y.getDefaultOptions();var B5=Y0;function D5(i,r){if(i==null)return{};var t=F5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function F5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var R5=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=D5(i,["chartRef","style","className"]),s=en(WI,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))}),N5=R5;function Y5(i,r){if(i==null)return{};var t=G5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function G5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var G0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=Y5(i,["chartRef","style","className"]),s=en(Zy,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});G0.defaultProps=Zy.getDefaultOptions();var z0=G0;function z5(i,r){if(i==null)return{};var t=X5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function X5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var X0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=z5(i,["chartRef","style","className"]),s=en(hg,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});X0.defaultProps=hg.getDefaultOptions();var V5=X0;function H5(i,r){if(i==null)return{};var t=W5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function W5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var V0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=H5(i,["chartRef","style","className"]),s=en(Rg,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});V0.defaultProps=Rg.getDefaultOptions();var j5=V0;function U5(i,r){if(i==null)return{};var t=Z5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function Z5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var H0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=U5(i,["chartRef","style","className"]),s=en(S0,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});H0.defaultProps=S0.getDefaultOptions();var K5=H0;function $5(i,r){if(i==null)return{};var t=Q5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function Q5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var W0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=$5(i,["chartRef","style","className"]),s=en(yy,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});W0.defaultProps=yy.getDefaultOptions();var J5=W0;function q5(i,r){if(i==null)return{};var t=tF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function tF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var j0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=q5(i,["chartRef","style","className"]),s=en(sy,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});j0.defaultProps=sy.getDefaultOptions();var eF=j0;function rF(i,r){if(i==null)return{};var t=nF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function nF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var U0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=rF(i,["chartRef","style","className"]),s=en(Ty,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});U0.defaultProps=Ty.getDefaultOptions();var iF=U0;function aF(i,r){if(i==null)return{};var t=oF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function oF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Z0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=aF(i,["chartRef","style","className"]),s=en(Gp,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});Z0.defaultProps=Gp.getDefaultOptions();var K0=Z0;function sF(i,r){if(i==null)return{};var t=lF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function lF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var $0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=sF(i,["chartRef","style","className"]),s=en(Ey,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});$0.defaultProps=Ey.getDefaultOptions();var Q0=$0;function uF(i,r){if(i==null)return{};var t=fF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function fF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var J0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=uF(i,["chartRef","style","className"]),s=en(Jy,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});J0.defaultProps=Jy.getDefaultOptions();var hF=J0;function cF(i,r){if(i==null)return{};var t=vF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function vF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var q0=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=cF(i,["chartRef","style","className"]),s=en(Og,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});q0.defaultProps=Og.getDefaultOptions();var dF=q0;function pF(i,r){if(i==null)return{};var t=gF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function gF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var tm=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=pF(i,["chartRef","style","className"]),s=en(dg,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});tm.defaultProps=dg.getDefaultOptions();var yF=tm;function mF(i,r){if(i==null)return{};var t=xF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function xF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var em=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=mF(i,["chartRef","style","className"]),s=en(Zg,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});em.defaultProps=Zg.getDefaultOptions();var bF=em;function wF(i,r){if(i==null)return{};var t=SF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function SF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var rm=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=wF(i,["chartRef","style","className"]),s=en(ty,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});rm.defaultProps=ty.getDefaultOptions();var MF=rm;function CF(i,r){if(i==null)return{};var t=EF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function EF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var nm=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=CF(i,["chartRef","style","className"]),s=en(n0,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});nm.defaultProps=n0.getDefaultOptions();var im=nm;function AF(i,r){if(i==null)return{};var t=TF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function TF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var am=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=AF(i,["chartRef","style","className"]),s=en(xy,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});am.defaultProps=xy.getDefaultOptions();var om=am;function PF(i,r){if(i==null)return{};var t=_F(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function _F(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var sm=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=PF(i,["chartRef","style","className"]),s=en(bg,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});sm.defaultProps=bg.getDefaultOptions();var LF=sm;function OF(i,r){if(i==null)return{};var t=IF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function IF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var lm=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=OF(i,["chartRef","style","className"]),s=en(Wg,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});lm.defaultProps=Wg.getDefaultOptions();var kF=lm;function BF(i,r){if(i==null)return{};var t=DF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function DF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var um=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=BF(i,["chartRef","style","className"]),s=en(a0,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});um.defaultProps=a0.getDefaultOptions();var fm=um;function FF(i,r){if(i==null)return{};var t=RF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function RF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var hm=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=FF(i,["chartRef","style","className"]),s=en(uy,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});hm.defaultProps=uy.getDefaultOptions();var NF=hm;function YF(i,r){if(i==null)return{};var t=GF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function GF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var cm=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=YF(i,["chartRef","style","className"]),s=en(Ry,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});cm.defaultProps=Ry.getDefaultOptions();var zF=cm;function XF(i,r){if(i==null)return{};var t=VF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function VF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var vm=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=XF(i,["chartRef","style","className"]),s=en(Pg,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});vm.defaultProps=Pg.getDefaultOptions();var HF=vm;function WF(i,r){if(i==null)return{};var t=jF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function jF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var dm=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=WF(i,["chartRef","style","className"]),s=en(lg,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});dm.defaultProps=lg.getDefaultOptions();var UF=dm;function ZF(i,r){if(i==null)return{};var t=KF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function KF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var pm=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=ZF(i,["chartRef","style","className"]),s=en(Gg,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});pm.defaultProps=Gg.getDefaultOptions();var $F=pm;function QF(i,r){if(i==null)return{};var t=JF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function JF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var gm=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=QF(i,["chartRef","style","className"]),s=en(E0,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});gm.defaultProps=E0.getDefaultOptions();var qF=gm;function tR(i,r){if(i==null)return{};var t=eR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function eR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var ym=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=tR(i,["chartRef","style","className"]),s=en(py,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});ym.defaultProps=py.getDefaultOptions();var rR=ym;function nR(i,r){if(i==null)return{};var t=iR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function iR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var mm=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=nR(i,["chartRef","style","className"]),s=en(qp,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});mm.defaultProps=qp.getDefaultOptions();var aR=mm;function oR(i,r){if(i==null)return{};var t=sR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function sR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var xm=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=oR(i,["chartRef","style","className"]),s=en(u0,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});xm.defaultProps=u0.getDefaultOptions();var bm=xm;function lR(i,r){if(i==null)return{};var t=uR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function uR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var wm=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=lR(i,["chartRef","style","className"]),s=en(s0,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});wm.defaultProps=s0.getDefaultOptions();var Sm=wm;function fR(i,r){if(i==null)return{};var t=hR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function hR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Mm=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=fR(i,["chartRef","style","className"]),s=en(h0,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});Mm.defaultProps=h0.getDefaultOptions();var cR=Mm;function vR(i,r){if(i==null)return{};var t=dR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function dR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Cm=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=vR(i,["chartRef","style","className"]),s=en(Qp,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});Cm.defaultProps=Qp.getDefaultOptions();var pR=Cm;function gR(i,r){if(i==null)return{};var t=yR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function yR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Em=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=gR(i,["chartRef","style","className"]),s=en(By,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))});Em.defaultProps=By.getDefaultOptions();var mR=Em;function xR(i,r){if(i==null)return{};var t=bR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function bR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var wR=(0,J.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=xR(i,["chartRef","style","className"]),s=en(LI,o),l=s.chart,u=s.container;return(0,J.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,J.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),J.createElement($r,null,J.createElement("div",{className:a,style:n,ref:u}))}),Am=wR,SR={i8:"3.8.5"},Vn=d(50229),MR={getDefaultCfg:function(){return{}},getEvents:function(){return{}},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(r){var t=this,e=this.events;this.graph=r,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!0),(0,Mn.default)(e,function(n,a){r.on(a,n)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(r){var t=this.events;(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!1),(0,Mn.default)(t,function(e,n){r.off(n,e)})},get:function(r){return this[r]},set:function(r,t){return this[r]=t,this}},CR=function(){function i(){}return i.registerBehavior=function(r,t){if(!t)throw new Error("please specify handler for this behavior: "+r);var e=(0,Vn.d9)(MR);Object.assign(e,t);var n=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var l=this.getEvents();this.events=null;var u={};l&&((0,Vn.S6)(l,function(h,c){u[c]=(0,Vn.Ko)(s,h)}),this.events=u)};n.prototype=e,i.types[r]=n},i.hasBehavior=function(r){return!!i.types[r]},i.getBehavior=function(r){return i.types[r]},i.types={},i}(),Dh=CR,Fh;(function(i){i.CLICK="click",i.DBLCLICK="dblclick",i.MOUSEDOWN="mousedown",i.MOUDEUP="mouseup",i.CONTEXTMENU="contextmenu",i.MOUSEENTER="mouseenter",i.MOUSEOUT="mouseout",i.MOUSEOVER="mouseover",i.MOUSEMOVE="mousemove",i.MOUSELEAVE="mouseleave",i.DRAGSTART="dragstart",i.DRAGEND="dragend",i.DRAG="drag",i.DRAGENTER="dragenter",i.DRAGLEAVE="dragleave",i.DRAGOVER="dragover",i.DRAGOUT="dragout",i.DDROP="drop",i.KEYUP="keyup",i.KEYDOWN="keydown",i.WHEEL="wheel",i.FOCUS="focus",i.BLUR="blur",i.TOUCHSTART="touchstart",i.TOUCHMOVE="touchmove",i.TOUCHEND="touchend",i.NODE_CONTEXTMENU="node:contextmenu",i.NODE_CLICK="node:click",i.NODE_DBLCLICK="node:dblclick",i.NODE_MOUSEDOWN="node:mousedown",i.NODE_MOUSEUP="node:mouseup",i.NODE_MOUSEENTER="node:mouseenter",i.NODE_MOUSELEAVE="node:mouseleave",i.NODE_MOUSEMOVE="node:mousemove",i.NODE_MOUSEOUT="node:mouseout",i.NODE_MOUSEOVER="node:mouseover",i.NODE_DROP="node:drop",i.NODE_DRAGOVER="node:dragover",i.NODE_DRAGENTER="node:dragenter",i.NODE_DRAGLEAVE="node:dragleave",i.NODE_DRAGSTART="node:dragstart",i.NODE_DRAG="node:drag",i.NODE_DRAGEND="node:dragend",i.COMBO_CONTEXTMENU="combo:contextmenu",i.COMBO_CLICK="combo:click",i.COMBO_DBLCLICK="combo:dblclick",i.COMBO_MOUSEDOWN="combo:mousedown",i.COMBO_MOUSEUP="combo:mouseup",i.COMBO_MOUSEENTER="combo:mouseenter",i.COMBO_MOUSELEAVE="combo:mouseleave",i.COMBO_MOUSEMOVE="combo:mousemove",i.COMBO_MOUSEOUT="combo:mouseout",i.COMBO_MOUSEOVER="combo:mouseover",i.COMBO_DROP="combo:drop",i.COMBO_DRAGOVER="combo:dragover",i.COMBO_DRAGENTER="combo:dragenter",i.COMBO_DRAGLEAVE="combo:dragleave",i.COMBO_DRAGSTART="combo:dragstart",i.COMBO_DRAG="combo:drag",i.COMBO_DRAGEND="combo:dragend",i.EDGE_CONTEXTMENU="edge:contextmenu",i.EDGE_CLICK="edge:click",i.EDGE_DBLCLICK="edge:dblclick",i.EDGE_MOUSEDOWN="edge:mousedown",i.EDGE_MOUSEUP="edge:mouseup",i.EDGE_MOUSEENTER="edge:mouseenter",i.EDGE_MOUSELEAVE="edge:mouseleave",i.EDGE_MOUSEMOVE="edge:mousemove",i.EDGE_MOUSEOUT="edge:mouseout",i.EDGE_MOUSEOVER="edge:mouseover",i.EDGE_DROP="edge:drop",i.EDGE_DRAGOVER="edge:dragover",i.EDGE_DRAGENTER="edge:dragenter",i.EDGE_DRAGLEAVE="edge:dragleave",i.CANVAS_CONTEXTMENU="canvas:contextmenu",i.CANVAS_CLICK="canvas:click",i.CANVAS_DBLCLICK="canvas:dblclick",i.CANVAS_MOUSEDOWN="canvas:mousedown",i.CANVAS_MOUSEUP="canvas:mouseup",i.CANVAS_MOUSEENTER="canvas:mouseenter",i.CANVAS_MOUSELEAVE="canvas:mouseleave",i.CANVAS_MOUSEMOVE="canvas:mousemove",i.CANVAS_MOUSEOUT="canvas:mouseout",i.CANVAS_MOUSEOVER="canvas:mouseover",i.CANVAS_DROP="canvas:drop",i.CANVAS_DRAGENTER="canvas:dragenter",i.CANVAS_DRAGLEAVE="canvas:dragleave",i.CANVAS_DRAGSTART="canvas:dragstart",i.CANVAS_DRAG="canvas:drag",i.CANVAS_DRAGEND="canvas:dragend",i.BEFORERENDER="beforerender",i.AFTERRENDER="afterrender",i.BEFOREADDITEM="beforeadditem",i.AFTERADDITEM="afteradditem",i.BEFOREREMOVEITEM="beforeremoveitem",i.AFTERREMOVEITEM="afterremoveitem",i.BEFOREUPDATEITEM="beforeupdateitem",i.AFTERUPDATEITEM="afterupdateitem",i.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",i.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",i.BEFOREITEMSTATECHANGE="beforeitemstatechange",i.AFTERITEMSTATECHANGE="afteritemstatechange",i.BEFOREITEMREFRESH="beforeitemrefresh",i.AFTERITEMREFRESH="afteritemrefresh",i.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",i.AFTERITEMSTATESCLEAR="afteritemstatesclear",i.BEFOREMODECHANGE="beforemodechange",i.AFTERMODECHANGE="aftermodechange",i.BEFORELAYOUT="beforelayout",i.AFTERLAYOUT="afterlayout",i.BEFORECREATEEDGE="beforecreateedge",i.AFTERCREATEEDGE="aftercreateedge",i.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",i.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",i.BEFOREGRAPHREFRESH="beforegraphrefresh",i.AFTERGRAPHREFRESH="aftergraphrefresh",i.BEFOREANIMATE="beforeanimate",i.AFTERANIMATE="afteranimate",i.BEFOREPAINT="beforepaint",i.AFTERPAINT="afterpaint",i.GRAPHSTATECHANGE="graphstatechange",i.AFTERACTIVATERELATIONS="afteractivaterelations",i.NODESELECTCHANGE="nodeselectchange",i.TOOLTIPCHANGE="tooltipchange",i.WHEELZOOM="wheelzoom",i.VIEWPORTCHANGE="viewportchange",i.DRAGNODEEND="dragnodeend",i.STACKCHANGE="stackchange"})(Fh||(Fh={}));var Ma=d(16185);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Rh=function(r,t){return Rh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Rh(r,t)};function In(i,r){Rh(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var $t=function(){return $t=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},$t.apply(this,arguments)};function Yi(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t}function tz(i,r,t,e){var n=arguments.length,a=n<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,r,t,e);else for(var s=i.length-1;s>=0;s--)(o=i[s])&&(a=(n<3?o(a):n>3?o(r,t,a):o(r,t))||a);return n>3&&a&&Object.defineProperty(r,t,a),a}function ez(i,r){return function(t,e){r(t,e,i)}}function rz(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)}function nz(i,r,t,e){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(h){try{u(e.next(h))}catch(c){o(c)}}function l(h){try{u(e.throw(h))}catch(c){o(c)}}function u(h){h.done?a(h.value):n(h.value).then(s,l)}u((e=e.apply(i,r||[])).next())})}function iz(i,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},e,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(h){return l([u,h])}}function l(u){if(e)throw new TypeError("Generator is already executing.");for(;t;)try{if(e=1,n&&(a=u[0]&2?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(i,t)}catch(h){u=[6,h],n=0}finally{e=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function az(i,r,t,e){e===void 0&&(e=t),i[e]=r[t]}function oz(i,r){for(var t in i)t!=="default"&&!r.hasOwnProperty(t)&&(r[t]=i[t])}function Tm(i){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&i[r],e=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&e>=i.length&&(i=void 0),{value:i&&i[e++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function ER(i,r){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var e=t.call(i),n,a=[],o;try{for(;(r===void 0||r-- >0)&&!(n=e.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(t=e.return)&&t.call(e)}finally{if(o)throw o.error}}return a}function sz(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(ER(arguments[r]));return i}function Bs(){for(var i=0,r=0,t=arguments.length;r<t;r++)i+=arguments[r].length;for(var e=Array(i),n=0,r=0;r<t;r++)for(var a=arguments[r],o=0,s=a.length;o<s;o++,n++)e[n]=a[o];return e}function ru(i){return this instanceof ru?(this.v=i,this):new ru(i)}function lz(i,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t.apply(i,r||[]),n,a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(v){e[v]&&(n[v]=function(y){return new Promise(function(A,k){a.push([v,y,A,k])>1||s(v,y)})})}function s(v,y){try{l(e[v](y))}catch(A){c(a[0][3],A)}}function l(v){v.value instanceof ru?Promise.resolve(v.value.v).then(u,h):c(a[0][2],v)}function u(v){s("next",v)}function h(v){s("throw",v)}function c(v,y){v(y),a.shift(),a.length&&s(a[0][0],a[0][1])}}function uz(i){var r,t;return r={},e("next"),e("throw",function(n){throw n}),e("return"),r[Symbol.iterator]=function(){return this},r;function e(n,a){r[n]=i[n]?function(o){return(t=!t)?{value:ru(i[n](o)),done:n==="return"}:a?a(o):o}:a}}function fz(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],t;return r?r.call(i):(i=typeof Tm=="function"?Tm(i):i[Symbol.iterator](),t={},e("next"),e("throw"),e("return"),t[Symbol.asyncIterator]=function(){return this},t);function e(a){t[a]=i[a]&&function(o){return new Promise(function(s,l){o=i[a](o),n(s,l,o.done,o.value)})}}function n(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}function hz(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i}function cz(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var t in i)Object.hasOwnProperty.call(i,t)&&(r[t]=i[t]);return r.default=i,r}function vz(i){return i&&i.__esModule?i:{default:i}}function dz(i,r){if(!r.has(i))throw new TypeError("attempted to get private field on non-instance");return r.get(i)}function pz(i,r,t){if(!r.has(i))throw new TypeError("attempted to set private field on non-instance");return r.set(i,t),t}var AR=d(30490),TR=function(i){In(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.item=e.item,n.canvasX=e.canvasX,n.canvasY=e.canvasY,n.wheelDelta=e.wheelDelta,n.detail=e.detail,n}return r}(AR.Z),Nh=function(r){var t=0,e=0,n=0,a=0;if((0,Ma.default)(r))t=e=n=a=r;else if((0,gn.default)(r)){var o=parseInt(r,10);t=e=n=a=o}else(0,Ci.default)(r)&&(t=r[0],n=(0,Mi.default)(r[1])?r[0]:r[1],a=(0,Mi.default)(r[2])?r[0]:r[2],e=(0,Mi.default)(r[3])?n:r[3]);return[t,n,a,e]},nu=function(r){var t=new TR(r.type,r);return t.clientX=r.clientX,t.clientY=r.clientY,t.x=r.x,t.y=r.y,t.target=r.target,t.currentTarget=r.currentTarget,t.bubbles=!0,t.item=r.item,t},Pm=function(r){if(!r)return!1;for(var t=9,e=[1,0,0,0,1,0,0,0,1],n=0;n<t;n++)if(r[n]!==e[n])return!0;return!1},eo=function(r){return Number.isNaN(Number(r))},_m=function(r){for(var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity,o=0;o<r.length;o++){var s=r[o],l=s.getBBox(),u=l.minX,h=l.minY,c=l.maxX,v=l.maxY;u<t&&(t=u),h<n&&(n=h),c>e&&(e=c),v>a&&(a=v)}var y=Math.floor(t),A=Math.floor(n),k=Math.ceil(e)-Math.floor(t),R=Math.ceil(a)-Math.floor(n);return{x:y,y:A,width:k,height:R,minX:t,minY:n,maxX:e,maxY:a}},PR=function(r,t){t===void 0&&(t=15);for(var e=r.length,n=t*2,a=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],o={},s=[],l={},u=0;u<e;u++){var h=r[u],c=h.source,v=h.target,y=c+"-"+v;if(!s[u]){o[y]||(o[y]=[]),s[u]=!0,o[y].push(h);for(var A=0;A<e;A++)if(u!==A){var k=r[A],R=k.source,H=k.target;s[A]||(c===H&&v===R?(o[y].push(k),s[A]=!0,l[R+"|"+H+"|"+(o[y].length-1)]=!0):c===R&&v===H&&(o[y].push(k),s[A]=!0))}}}for(var V in o)for(var ot=o[V],ut=ot.length,bt=0;bt<ut;bt++){var Ft=ot[bt];if(Ft.source===Ft.target){Ft.type="loop",Ft.loopCfg={position:a[bt%8],dist:Math.floor(bt/8)*20+50};continue}Ft.type="quadratic";var Xt=(bt%2==0?1:-1)*(l[Ft.source+"|"+Ft.target+"|"+bt]?-1:1);ut%2==1?Ft.curveOffset=Xt*Math.ceil(bt/2)*n:Ft.curveOffset=Xt*(Math.floor(bt/2)*n+t)}return r},Lm=Math.abs,_R=10,LR=["shift","ctrl","alt","control"],OR={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0}},getEvents:function(){return{dragstart:"onMouseDown",mousedown:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp",mouseup:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"}},updateViewport:function(r){var t=this.origin,e=+r.clientX,n=+r.clientY;if(!(eo(e)||eo(n))){var a=e-t.x,o=n-t.y;this.get("direction")==="x"?o=0:this.get("direction")==="y"&&(a=0),this.origin={x:e,y:n};var s=this.graph.get("width"),l=this.graph.get("height"),u=this.graph.get("canvas").getCanvasBBox();(u.minX<=s+this.scalableRange&&u.minX+a>s+this.scalableRange||u.maxX+this.scalableRange>=0&&u.maxX+this.scalableRange+a<0)&&(a=0),(u.minY<=l+this.scalableRange&&u.minY+o>l+this.scalableRange||u.maxY+this.scalableRange>=0&&u.maxY+this.scalableRange+o<0)&&(o=0),this.graph.translate(a,o)}},onMouseDown:function(r){var t=this,e=r.originalEvent;if(!(e&&e.button!==0)&&!(r.name!==Fh.TOUCHSTART&&window&&window.event&&typeof window!="undefined"&&!window.event.buttons&&!window.event.button)&&!(t.keydown||r.shape)&&(t.origin={x:r.clientX,y:r.clientY},t.dragging=!1,this.enableOptimize)){for(var n=this.graph,a=n.getEdges(),o=0,s=a.length;o<s;o++){var l=a[o].get("group").get("children");!l||l.forEach(function(V){V.hide()})}for(var u=n.getNodes(),h=0,c=u.length;h<c;h++)for(var v=u[h].getContainer(),y=v.get("children"),A=0,k=y;A<k.length;A++){var R=k[A],H=R.get("isKeyShape");H||R.hide()}}},onMouseMove:function(r){var t=this.graph;if(!(this.keydown||r.shape)&&(r=nu(r),!!this.origin)){if(this.dragging)r.type="drag",t.emit("canvas:drag",r);else{if(Lm(this.origin.x-r.clientX)+Lm(this.origin.y-r.clientY)<_R)return;this.shouldBegin.call(this,r)&&(r.type="dragstart",t.emit("canvas:dragstart",r),this.dragging=!0)}this.shouldUpdate.call(this,r)&&this.updateViewport(r)}},onMouseUp:function(r){var t=this.graph;if(!(this.keydown||r.shape)){if(this.enableOptimize){for(var e=t.getEdges(),n=0,a=e.length;n<a;n++){var o=e[n].get("group").get("children");!o||o.forEach(function(R){R.show()})}for(var s=t.getNodes(),l=0,u=s.length;l<u;l++)for(var h=s[l].getContainer(),c=h.get("children"),v=0,y=c;v<y.length;v++){var A=y[v],k=A.get("isKeyShape");k||A.show()}}if(!this.dragging){this.origin=null;return}r=nu(r),this.shouldEnd.call(this,r)&&this.updateViewport(r),r.type="dragend",t.emit("canvas:dragend",r),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(r){var t=this,e=r.key;!e||(LR.indexOf(e.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},IR=d(6767),iu=d.n(IR),kR=d(17621),au=d.n(kR),ou=2,Om=.16,BR=.05,DR=.05,FR=.15,Im=5,km=4,RR=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Bm(i,r,t){var e;return Math.round(i.h)>=60&&Math.round(i.h)<=240?e=t?Math.round(i.h)-ou*r:Math.round(i.h)+ou*r:e=t?Math.round(i.h)+ou*r:Math.round(i.h)-ou*r,e<0?e+=360:e>=360&&(e-=360),e}function Dm(i,r,t){if(i.h===0&&i.s===0)return i.s;var e;return t?e=i.s-Om*r:r===km?e=i.s+Om:e=i.s+BR*r,e>1&&(e=1),t&&r===Im&&e>.1&&(e=.1),e<.06&&(e=.06),Number(e.toFixed(2))}function Fm(i,r,t){var e;return t?e=i.v+DR*r:e=i.v-FR*r,e>1&&(e=1),Number(e.toFixed(2))}function Yh(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],e=au()(i),n=Im;n>0;n-=1){var a=e.toHsv(),o=au()({h:Bm(a,n,!0),s:Dm(a,n,!0),v:Fm(a,n,!0)}).toHexString();t.push(o)}t.push(e.toHexString());for(var s=1;s<=km;s+=1){var l=e.toHsv(),u=au()({h:Bm(l,s),s:Dm(l,s),v:Fm(l,s)}).toHexString();t.push(u)}return r.theme==="dark"?RR.map(function(h){var c=h.index,v=h.opacity,y=au().mix(r.backgroundColor||"#141414",t[c],v*100).toHexString();return y}):t}var Gh={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Gi={},zh={};Object.keys(Gh).forEach(function(i){Gi[i]=Yh(Gh[i]),Gi[i].primary=Gi[i][5],zh[i]=Yh(Gh[i],{theme:"dark",backgroundColor:"#141414"}),zh[i].primary=zh[i][5]});var gz=Gi.red,yz=Gi.volcano,mz=Gi.gold,xz=Gi.orange,bz=Gi.yellow,wz=Gi.lime,Sz=Gi.green,Mz=Gi.cyan,Cz=Gi.blue,Ez=Gi.geekblue,Az=Gi.purple,Tz=Gi.magenta,Pz=Gi.grey,Da=function(r,t,e){var n=iu()(r),a=iu()(t);return iu()([(1-e)*n.color[0]+e*a.color[0],(1-e)*n.color[1]+e*a.color[1],(1-e)*n.color[2]+e*a.color[2]]).rgb()},Rm=function(r,t,e,n){t===void 0&&(t="#fff"),e===void 0&&(e="default"),n===void 0&&(n="rgb(150, 150, 150)");var a=Da(t,r,.05).rgb().toString(),o=Da(t,n,.02).rgb().toString(),s=Da(t,n,.05).rgb().toString(),l=Da(t,n,.1).rgb().toString(),u=Da(t,n,.2).rgb().toString(),h=Da(t,n,.3).rgb().toString(),c=Yh(r,{theme:e,backgroundColor:t}),v=iu()(r).hex().toLowerCase(),y=c.indexOf(v),A=r;return y!==-1&&(A=c[y+1]),{mainStroke:r,mainFill:Da(t,r,.1).rgb().toString(),activeStroke:r,activeFill:a,inactiveStroke:Da(t,r,.4).rgb().toString(),inactiveFill:a,selectedStroke:r,selectedFill:t,highlightStroke:A,highlightFill:Da(t,r,.2).rgb().toString(),disableStroke:h,disableFill:s,edgeMainStroke:h,edgeActiveStroke:r,edgeInactiveStroke:u,edgeSelectedStroke:r,edgeHighlightStroke:r,edgeDisableStroke:l,comboMainStroke:h,comboMainFill:o,comboActiveStroke:r,comboActiveFill:a,comboInactiveStroke:h,comboInactiveFill:o,comboSelectedStroke:r,comboSelectedFill:o,comboHighlightStroke:A,comboHighlightFill:o,comboDisableStroke:u,comboDisableFill:s}},NR="rgb(95, 149, 255)",YR="rgb(255, 255, 255)",Nm="rgb(0, 0, 0)",un=Rm(NR,YR),Ye={version:"3.8.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",customGroupContainerClassName:"custom-group-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:un.mainStroke,fill:un.mainFill},size:20,color:un.mainStroke,linkPoints:{size:8,lineWidth:1,fill:un.activeFill,stroke:un.activeStroke}},nodeStateStyles:{active:{fill:un.activeFill,stroke:un.activeStroke,lineWidth:2,shadowColor:un.mainStroke,shadowBlur:10},selected:{fill:un.selectedFill,stroke:un.selectedStroke,lineWidth:4,shadowColor:un.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:un.highlightFill,stroke:un.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:un.inactiveFill,stroke:un.inactiveStroke,lineWidth:1},disable:{fill:un.disableFill,stroke:un.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:Nm,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:un.edgeMainStroke,lineAppendWidth:2},color:un.edgeMainStroke},edgeStateStyles:{active:{stroke:un.edgeActiveStroke,lineWidth:1},selected:{stroke:un.edgeSelectedStroke,lineWidth:2,shadowColor:un.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:un.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:un.edgeInactiveStroke,lineWidth:1},disable:{stroke:un.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:Nm,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:un.comboMainFill,lineWidth:1,stroke:un.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:un.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:un.comboActiveStroke,lineWidth:1,fill:un.comboActiveFill},selected:{stroke:un.comboSelectedStroke,lineWidth:2,fill:un.comboSelectedFill,shadowColor:un.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:un.comboHighlightStroke,lineWidth:2,fill:un.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:un.comboInactiveStroke,fill:un.comboInactiveFill,lineWidth:1},disable:{stroke:un.comboDisableStroke,fill:un.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},GR={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(r){if(!this.origin||!r||r.destroyed)return!1;var t=r.getType();return t==="combo"},onDragStart:function(r){var t=this;if(!!this.shouldBegin.call(this,r)){var e=r.item;if(!(!e||e.destroyed||e.hasLocked())){var n=e.getContainer();n.set("capture",!1);var a=r.target;if(a){var o=a.get("isAnchorPoint");if(o)return}var s=this.graph;this.targets=[],this.targetCombo=null;var l=s.findAllByState("node",this.selectedState),u=e.get("id"),h=l.filter(function(v){var y=v.get("id");return u===y});h.length===0?this.targets.push(e):l.length>1?l.forEach(function(v){var y=v.hasLocked();y||t.targets.push(v)}):this.targets.push(e);var c=[];this.targets.forEach(function(v){c.push((0,Vn.d9)(v.getModel()))}),this.set("beforeDragNodes",c),this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}}},onDrag:function(r){var t=this;!this.origin||!this.shouldUpdate(this,r)||(this.get("enableDelegate")?this.updateDelegate(r):this.targets.map(function(e){t.update(e,r)}))},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){var t=r.item;if(t){var e=t.getContainer();e.set("capture",!0)}this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(r);var n=this.graph;if(n.get("enabledStack")){var a={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach(function(o){a.after.nodes.push(o.getModel())}),n.pushStack("update",(0,Vn.d9)(a))}n.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(r){var t=r.item;if(!!this.validationCombo(t)){this.updatePositions(r);var e=this.graph;if(this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)e.updateCombos();else{var n=t.getModel();this.targets.map(function(a){var o=a.getModel();o.comboId!==n.id&&e.updateComboTree(a,n.id)}),e.updateCombo(t)}e.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(r){var t=this.graph;!this.targets||this.targets.length===0||(this.updatePositions(r),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(e){var n=e.getModel();n.comboId&&t.updateComboTree(e)}))},onDropNode:function(r){if(!(!this.targets||this.targets.length===0)){var t=this,e=r.item;this.updatePositions(r);var n=t.graph,a=e.getModel().comboId;if(a){var o=n.findById(a);t.comboActiveState&&n.setItemState(o,t.comboActiveState,!1),this.targets.map(function(s){var l=s.getModel();a!==l.comboId&&n.updateComboTree(s,a)}),n.updateCombo(o)}else this.targets.map(function(s){var l=s.getModel();l.comboId&&n.updateComboTree(s)});n.emit("dragnodeend",{items:this.targets,targetItem:e})}},onDragEnter:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(r){var t=this;!this.targets||this.targets.length===0||this.get("enableDelegate")&&this.targets.map(function(e){return t.update(e,r)})},update:function(r,t){var e=this.origin,n=r.get("model"),a=r.get("id");this.point[a]||(this.point[a]={x:n.x||0,y:n.y||0});var o=t.x-e.x+this.point[a].x,s=t.y-e.y+this.point[a].y,l={x:o,y:s};this.get("updateEdge")?this.graph.updateItem(r,l,!1):r.updatePosition(l)},updateDelegate:function(r){var t=this.graph;if(this.delegateRect){var v=r.x-this.origin.x+this.originPoint.minX,y=r.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:v,y})}else{var e=this.graph.get("group"),n=(0,Vn.b$)({},Ye.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(r),o=a.x,s=a.y,l=a.width,u=a.height,h=a.minX,c=a.minY;this.originPoint={x:o,y:s,width:l,height:u,minX:h,minY:c},this.delegateRect=e.addShape("rect",{attrs:$t({width:l,height:u,x:o,y:s},n),name:"rect-delegate-shape"}),this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(r){var t=this.graph,e=t.findAllByState("node",this.selectedState);e.length===0&&e.push(r.item);for(var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity,l=0;l<e.length;l++){var u=e[l],h=u.getBBox(),c=h.minX,v=h.minY,y=h.maxX,A=h.maxY;c<n&&(n=c),v<o&&(o=v),y>a&&(a=y),A>s&&(s=A)}var k=Math.floor(n),R=Math.floor(o),H=Math.ceil(a)-Math.floor(n),V=Math.ceil(s)-Math.floor(o);return{x:k,y:R,width:H,height:V,minX:n,minY:o}}},zR={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(r){var t=r.item,e=this.graph;if(this.item=t,!!this.shouldUpdate(r.item,{event:r,action:"activate"})){for(var n=this,a=this.activeState,o=this.inactiveState,s=e.getNodes(),l=e.getEdges(),u=s.length,h=l.length,c=0;c<u;c++){var v=s[c],y=v.hasState("selected");n.resetSelected&&y&&e.setItemState(v,"selected",!1),e.setItemState(v,a,!1),o&&e.setItemState(v,o,!0)}for(var c=0;c<h;c++){var A=l[c];e.setItemState(A,a,!1),o&&e.setItemState(A,o,!0)}o&&e.setItemState(t,o,!1),e.setItemState(t,a,!0);for(var k=t.getEdges(),R=k.length,c=0;c<R;c++){var A=k[c],H=void 0;A.getSource()===t?H=A.getTarget():H=A.getSource(),o&&e.setItemState(H,o,!1),e.setItemState(H,a,!0),e.setItemState(A,o,!1),e.setItemState(A,a,!0),A.toFront()}e.emit("afteractivaterelations",{item:r.item,action:"activate"})}},clearActiveState:function(r){var t=this,e=t.get("graph");if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){var n=this.activeState,a=this.inactiveState,o=e.get("autoPaint");e.setAutoPaint(!1);for(var s=e.getNodes(),l=e.getEdges(),u=s.length,h=l.length,c=0;c<u;c++){var v=s[c];e.clearItemStates(v,[n,a])}for(var c=0;c<h;c++){var y=l[c];e.clearItemStates(y,[n,a,"deactivate"])}e.paint(),e.setAutoPaint(o),e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}},clearAllItemStates:function(r){var t=this,e=t.graph;if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){for(var n=this.activeState,a=this.inactiveState,o=e.getNodes(),s=e.getEdges(),l=o.length,u=s.length,h=0;h<l;h++){var c=o[h];e.clearItemStates(c,[n,a])}for(var h=0;h<u;h++){var v=s[h];e.clearItemStates(v,[n,a,"deactivate"])}e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}}},su=Math.min,Ym=Math.max,Gm=Math.abs,zm="shift",XR=["drag","shift","ctrl","alt","control"],VR={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:zm,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return XR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=zm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(r){var t=r.item,e=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),e||(e=this.createBrush()),this.originPoint={x:r.canvasX,y:r.canvasY},e.attr({width:0,height:0}),e.show(),this.dragging=!0)},onMouseMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(r)},onMouseUp:function(r){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(r),this.dragging=!1)},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(r){var t=this,e=this,n=e.graph,a=e.originPoint,o=e.shouldUpdate,s=this.selectedState,l={x:r.x,y:r.y},u=n.getPointByCanvas(a.x,a.y),h=su(l.x,u.x),c=Ym(l.x,u.x),v=su(l.y,u.y),y=Ym(l.y,u.y),A=[],k=[];n.getNodes().forEach(function(H){var V=H.getBBox();if(V.centerX>=h&&V.centerX<=c&&V.centerY>=v&&V.centerY<=y&&o(H,"select")){A.push(H);var ot=H.getModel();k.push(ot.id),n.setItemState(H,s,!0)}});var R=[];this.includeEdges&&A.forEach(function(H){var V=H.getOutEdges();V.forEach(function(ot){var ut=ot.getModel(),bt=ut.source,Ft=ut.target;k.includes(bt)&&k.includes(Ft)&&o(ot,"select")&&(R.push(ot),n.setItemState(ot,t.selectedState,!0))})}),this.selectedEdges=R,this.selectedNodes=A,this.onSelect&&this.onSelect(A,R),n.emit("nodeselectchange",{selectedItems:{nodes:A,edges:R},select:!0})},createBrush:function(){var r=this,t=r.graph.get("canvas").addShape("rect",{attrs:r.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,t},updateBrush:function(r){var t=this.originPoint;this.brush.attr({width:Gm(r.canvasX-t.x),height:Gm(r.canvasY-t.y),x:su(r.canvasX,t.x),y:su(r.canvasY,t.y)})},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},Xm="shift",HR=["shift","ctrl","alt","control"],WR={getDefaultCfg:function(){return{multiple:!0,trigger:Xm,selectedState:"selected"}},getEvents:function(){var r=this;return HR.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=Xm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),r.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(r){var t=this,e=r.item;if(!(!e||e.destroyed)){var n=e.getType(),a=this,o=a.graph,s=a.keydown,l=a.multiple,u=a.shouldUpdate,h=a.shouldBegin;if(!!h.call(this,r)){if(!s||!l){var c=o.findAllByState(n,this.selectedState);(0,Mn.default)(c,function(A){A!==e&&o.setItemState(A,t.selectedState,!1)})}if(e.hasState(this.selectedState)){u.call(this,r)&&o.setItemState(e,this.selectedState,!1);var v=o.findAllByState("node",this.selectedState),y=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:v,combos:y},select:!1})}else{u.call(this,r)&&o.setItemState(e,this.selectedState,!0);var v=o.findAllByState("node",this.selectedState),y=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:v,combos:y},select:!0})}}}},onCanvasClick:function(){var r=this,t=this.graph,e=t.findAllByState("node",this.selectedState);(0,Mn.default)(e,function(a){t.setItemState(a,r.selectedState,!1)});var n=t.findAllByState("combo",this.selectedState);(0,Mn.default)(n,function(a){t.setItemState(a,r.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()||t.toLowerCase()==="control"?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},ta=d(31502);ta.translate=function(i,r,t){var e=new Array(9);return ta.fromTranslation(e,t),ta.multiply(i,e,r)},ta.rotate=function(i,r,t){var e=new Array(9);return ta.fromRotation(e,t),ta.multiply(i,e,r)},ta.scale=function(i,r,t){var e=new Array(9);return ta.fromScaling(e,t),ta.multiply(i,e,r)},ta.transform=function(i,r){for(var t=[].concat(i),e=0,n=r.length;e<n;e++){var a=r[e];switch(a[0]){case"t":ta.translate(t,t,[a[1],a[2]]);break;case"s":ta.scale(t,t,[a[1],a[2]]);break;case"r":ta.rotate(t,t,a[1]);break;default:break}}return t};var ro=ta,Fa=d(76172);Fa.angle=function(i,r){var t=Fa.dot(i,r)/(Fa.length(i)*Fa.length(r));return Math.acos((0,f.clamp)(t,-1,1))},Fa.direction=function(i,r){return i[0]*r[1]-r[0]*i[1]},Fa.angleTo=function(i,r,t){var e=Fa.angle(i,r),n=Fa.direction(i,r)>=0;return t?n?Math.PI*2-e:e:n?e:Math.PI*2-e},Fa.vertical=function(i,r,t){return t?(i[0]=r[1],i[1]=-1*r[0]):(i[0]=-1*r[1],i[1]=r[0]),i};var kn=Fa,jR=d(88395),Vm=jR,Ra=function(i,r){var t=i?(0,f.clone)(i):[1,0,0,0,1,0,0,0,1];return(0,f.each)(r,function(e){switch(e[0]){case"t":ro.translate(t,t,[e[1],e[2]]);break;case"s":ro.scale(t,t,[e[1],e[2]]);break;case"r":ro.rotate(t,t,e[1]);break;case"m":ro.multiply(t,t,e[1]);break;default:return!1}}),t},Hm=.05,UR={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.7,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var r=this.fixSelectedItems;return r.fixState||(r.fixState="selected"),r.fixAll&&(r.fixLineWidth=!0,r.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(r){var t=r.originalEvent.touches,e=t[0],n=t[1];r.preventDefault(),!!n&&(this.startPoint={pageX:e.pageX,pageY:e.pageY},this.moveable=!0,n&&(this.endPoint={pageX:n.pageX,pageY:n.pageY}),this.originScale=this.currentScale||1)},onTouchMove:function(r){if(!!this.moveable){r.preventDefault();var t=r.originalEvent.touches,e=t[0],n=t[1];if(!!n){this.endPoint||(this.endPoint={pageX:n.pageX,pageY:n.pageY});var a=function(y,A){return Math.hypot(A.x-y.x,A.y-y.y)},o=a({x:e.pageX,y:e.pageY},{x:n.pageX,y:n.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var l=this.get("minZoom")||this.graph.get("minZoom"),u=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>u||s<l)){var h=this.graph.get("canvas"),c=h.getPointByClient(r.clientX,r.clientY);this.graph.zoomTo(s,{x:c.x,y:c.y}),this.graph.emit("wheelzoom",r)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(r){var t=this,e=this,n=e.graph,a=e.fixSelectedItems;if(!!this.shouldUpdate.call(this,r)){r.preventDefault();var o=n.get("canvas"),s=o.getPointByClient(r.clientX,r.clientY),l=this.get("sensitivity"),u=n.getZoom(),h=u,c=u;r.wheelDelta<0?h=1-Hm*l:h=1/(1-Hm*l),c=u*h;var v=this.get("minZoom")||n.get("minZoom"),y=this.get("maxZoom")||n.get("maxZoom");if(!(c>y||c<v)){var A=this.get("enableOptimize");if(A){var k=this.get("optimizeZoom"),R=this.get("optimized"),H=n.getNodes(),V=n.getEdges(),ot=H.length,ut=V.length;if(!R){for(var bt=0;bt<ot;bt++){var Ft=H[bt];if(!Ft.destroyed)for(var Xt=Ft.get("group").get("children"),Ut=Xt.length,Gt=0;Gt<Ut;Gt++){var te=Xt[Gt];!te.destoryed&&!te.get("isKeyShape")&&te.hide()}}for(var ue=0;ue<ut;ue++)for(var se=V[ue],Xt=se.get("group").get("children"),Ut=Xt.length,Gt=0;Gt<Ut;Gt++){var te=Xt[Gt];te.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var Me=setTimeout(function(){var Dr=n.getZoom(),Kr=t.get("optimized");if(Kr){t.set("optimized",!1);for(var sn=0;sn<ot;sn++){var _n=H[sn],xn=_n.get("group").get("children"),Fn=xn.length;if(Dr<k)_n.getKeyShape().show();else for(var Hn=0;Hn<Fn;Hn++){var Pi=xn[Hn];Pi.get("visible")||Pi.show()}}for(var Di=0;Di<ut;Di++){var ni=V[Di],xn=ni.get("group").get("children"),Fn=xn.length;if(Dr<k)ni.getKeyShape().show();else for(var Hn=0;Hn<Fn;Hn++){var Pi=xn[Hn];Pi.get("visible")||Pi.show()}}}},500);this.set("timeout",Me)}if(u<=1){var Pe=void 0,Te=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){Pe=n.findAllByState("node",a.fixState),Te=n.findAllByState("edge",a.fixState);for(var Ve=u/c,je=Pe.length,Ue=0;Ue<je;Ue++){var Ft=Pe[Ue],Ge=Ft.getContainer(),ze=Ft.getModel(),ur=Ft.getOriginStyle(),lr=Ft.getStateStyle(a.fixState),pr=Ft.get("shapeFactory").getShape(ze.shape||ze.type).getStateStyle(a.fixState,Ft)[a.fixState];if(a.fixAll){if(c<=1){var Ze=(0,f.clone)(Ge.getMatrix());Ze||(Ze=[1,0,0,0,1,0,0,0,1]);var cr=Ft.getModel(),Tr=cr.x,dr=cr.y;ro.translate(Ze,Ze,[-Tr,-dr]),ro.scale(Ze,Ze,[Ve,Ve]),ro.translate(Ze,Ze,[Tr,dr]),Ge.setMatrix(Ze)}}else for(var Xt=Ge.get("children"),Ut=Xt.length,Gt=0;Gt<Ut;Gt++){var te=Xt[Gt],vr=void 0,Lr=void 0;if(a.fixLabel){var jr=te.get("type");if(jr==="text"){vr=te.attr("fontSize")||12;var xr=lr[te.get("name")],Le=pr[te.get("name")],$e=xr?xr.fontSize:12,Or=Le?Le.fontSize:12,Rr=$e||Or||12;if(c<=1&&te.attr("fontSize",Rr/c),Lr)break}}if(a.fixLineWidth&&te.get("isKeyShape")){Lr=te.attr("lineWidth")||0;var Sr=lr.lineWidth||pr.lineWidth||ur.lineWidth||0;if(c<=1&&te.attr("lineWidth",Sr/c),vr)break}}}for(var Zr=Te.length,Vr=0;Vr<Zr;Vr++)for(var se=Te[Vr],Ge=se.getContainer(),Xt=Ge.get("children"),ze=se.getModel(),lr=se.getStateStyle(a.fixState),pr=se.get("shapeFactory").getShape(ze.shape||ze.type).getStateStyle(a.fixState,se)[a.fixState],Ut=Xt.length,Gt=0;Gt<Ut;Gt++){var te=Xt[Gt],vr=void 0,Lr=void 0;if(a.fixLabel||a.fixAll){var jr=te.get("type");if(jr==="text"){vr=te.attr("fontSize")||12;var xr=lr[te.get("name")],Le=pr[te.get("name")],$e=xr?xr.fontSize:12,Or=Le?Le.fontSize:12,Rr=$e||Or||12;if(c<=1&&te.attr("fontSize",Rr/c),Lr)break}}if((a.fixLineWidth||a.fixAll)&&te.get("isKeyShape")){Lr=te.attr("lineWidth")||0;var Sr=lr.lineWidth||pr.lineWidth||1;if(c<=1&&te.attr("lineWidth",Sr/c),vr)break}}}}n.zoomTo(c,{x:s.x,y:s.y}),n.emit("wheelzoom",r)}}}},En=d(1513),ri=d(57821),Wm={onMouseEnter:function(r){var t=r.item;this.currentTarget=t,this.showTooltip(r),this.graph.emit("tooltipchange",{item:r.item,action:"show"})},onMouseMove:function(r){if(!this.shouldUpdate(r)){this.hideTooltip();return}!this.currentTarget||r.item!==this.currentTarget||this.updatePosition(r)},onMouseLeave:function(r){!this.shouldEnd(r)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(r){var t=this.container;if(!(!r.item||r.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var e=this.formatText(r.item.get("model"),r);t.innerHTML=e,(0,En.Z)(this.container,{visibility:"visible"}),this.updatePosition(r)}},hideTooltip:function(){(0,En.Z)(this.container,{visibility:"hidden"})},updatePosition:function(r){var t=this.get("shouldBegin"),e=this,n=e.width,a=e.height,o=e.container,s=e.graph;if(!t(r)){(0,En.Z)(o,{visibility:"hidden"});return}var l=s.getPointByClient(r.clientX,r.clientY),u=s.getCanvasByPoint(l.x,l.y),h=u.x,c=u.y,v=o.getBoundingClientRect();h>n/2?h-=v.width:h+=this.offset,c>a/2?c-=v.height:c+=this.offset;var y=h+"px",A=c+"px";(0,En.Z)(this.container,{left:y,top:A,visibility:"visible"})},createTooltip:function(r){var t=r.get("el");t.style.position="relative";var e=(0,ri.Z)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(e),(0,En.Z)(e,{position:"absolute",visibility:"visible"}),this.width=r.get("width"),this.height=r.get("height"),this.container=e,this.graph.get("tooltips").push(e),e}},ZR=$t({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Wm),KR=$t({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Wm),ki=d(90497),$R={getDefaultCfg:function(){return{delegate:!0,delegateStyle:{},delegateShapes:{},delegateShapeBBoxs:{}}},getEvents:function(){return{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd","canvas:mouseleave":"onOutOfRange"}},onDragStart:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(!!n){var a=t.get("customGroupControll"),o=a.customGroup,s=o[n].nodeGroup;this.targetGroup=s,this.mouseOrigin={x:r.x,y:r.y};for(var l=t.save().groups,u=null,h=0;h<l.length;h++){var c=l[h];if(n===c.id){u=c.parentId;break}}if(u){var v=o[u].nodeGroup;a.setGroupStyle(v.get("keyShape"),"hover")}}},onDrag:function(r){!this.mouseOrigin||this.updateDelegate(r)},onDragEnd:function(r){var t=this.graph,e=r.target.get("groupId");if(this.delegateShapes[e]&&(this.delegateShapeBBox=this.delegateShapes[e].getBBox(),this.delegateShapes[e].remove(),delete this.delegateShapes[e]),!!this.delegateShapeBBox){var n=t.get("customGroupControll"),a=this.delegateShapeBBoxs[e];n.updateGroup(e,a,this.mouseOrigin),this.mouseOrigin=null,this.shapeOrigin=null,n.resetNodePoint(),this.delegateShapeBBox=null}},updateDelegate:function(r){var t=this.graph,e=r.target.get("groupId"),n=this.targetGroup.get("keyShape"),a=this.delegateShapes[e],o=n.getBBox(),s=n.get("type");if(a){var H=this,V=H.mouseOrigin,ot=H.shapeOrigin,ut=r.x-V.x,bt=r.y-V.y,Ft=ut+ot.x,Xt=bt+ot.y;a.attr({x:Ft,y:Xt}),this.delegateShapeBBoxs[e]=a.getBBox()}else{var l=t.get("delegateGroup"),u=o.x,h=o.y,c=o.width,v=o.height,y=$t({width:c,height:v},(0,ki.default)({},Ye.delegateStyle,this.delegateStyle));if(s==="circle"){var A=c>v?c/2:v/2,k=u+A,R=h+A;a=l.addShape("circle",{attrs:$t({x:k,y:R,r:A},y),name:"circle-delegate-shape"}),this.shapeOrigin={x:k,y:R}}else a=l.addShape("rect",{attrs:$t({x:u,y:h},y),name:"rect-delegate-shape"}),this.shapeOrigin={x:u,y:h};this.delegateShapes[e]=a,this.delegateShapeBBoxs[e]=a.getBBox()}},onOutOfRange:function(r){var t=this,e=this.graph.get("canvas").get("el"),n=function a(o){o.target!==e&&(t.onDragEnd(r),document.body.removeEventListener("mouseup",a,!0))};this.mouseOrigin&&document.body.addEventListener("mouseup",n,!0)}},QR=document.body,JR={getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},maxMultiple:1.1,minMultiple:1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","canvas:mouseleave":"onOutOfRange",dragover:"onDragOver",dragleave:"onDragLeave"}},onDragOver:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");this.inGroupId=n,a.setGroupStyle(l,"hover")}}},onDragLeave:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");a.setGroupStyle(l,"default")}}n||(this.inGroupId=null)},onDragStart:function(r){var t=this.graph;if(!!this.shouldBegin.call(this,r)){var e=r.item;this.target=e;var n=e.getModel(),a=n.groupId;if(a){var o=t.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,u=l.get("keyShape");o.setGroupStyle(u,"hover"),this.inGroupId=a}}this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}},onDrag:function(r){if(!!this.origin&&!!this.get("shouldUpdate").call(this,r)){this.update(this.target,r,!0);var t=r.item,e=this.graph,n=t.getModel(),a=n.groupId;if(a){var o=e.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,u=l.get("keyShape");this.inGroupId!==a?o.setGroupStyle(u,"default"):o.setGroupStyle(u,"hover")}}}},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){if(this.shape&&(this.shape.remove(),this.shape=null),this.target){var t=this.target.get("delegateShape");t&&(t.remove(),this.target.set("delegateShape",null))}this.target&&this.update(this.target,r),this.point={},this.origin=null,this.originPoint={},this.target=null,this.setCurrentGroupStyle(r)}},setCurrentGroupStyle:function(r){var t=this.graph,e=r.item,n=e.getModel(),a=n.groupId,o=n.id,s=t.get("customGroupControll"),l=s.customGroup,u=t.get("groupNodes");if(this.inGroupId&&a){var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape"),v=e.getBBox(),y=c.getBBox(),A=v.centerX,k=v.centerY,R=y.minX,H=y.minY,V=y.maxX,ot=y.maxY;if(!(A<V*this.maxMultiple&&A>R*this.minMultiple&&k<ot*this.maxMultiple&&k>H*this.minMultiple)||this.inGroupId!==a){var ut=u[a];u[a]=ut.filter(function(Xt){return Xt!==o}),s.dynamicChangeGroupSize(r,h,c),delete n.groupId}if(this.inGroupId!==a){var bt=l[this.inGroupId].nodeGroup;if(!bt)return;var Ft=bt.get("keyShape");u[this.inGroupId].indexOf(o)===-1&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,bt,Ft)}s.setGroupStyle(c,"default")}else if(this.inGroupId&&!a){var bt=l[this.inGroupId].nodeGroup;if(!bt)return;var c=bt.get("keyShape");u[this.inGroupId].indexOf(o)===-1&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,bt,c)}else if(!this.inGroupId&&a){Object.keys(u).forEach(function(Gt){var te=u[Gt];u[Gt]=te.filter(function(ue){return ue!==o})});var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape");s.dynamicChangeGroupSize(r,h,c),delete n.groupId}this.inGroupId=null},onOutOfRange:function(r){var t=this,e=t.graph.get("canvas").get("el");function n(a){a.target!==e&&(r.item=t.target,t.onDragEnd(r),document.body.removeEventListener("mouseup",n,!0))}t.origin&&QR.addEventListener("mouseup",n,!0)},update:function(r,t,e){var n=this.origin,a=r.get("model"),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-n.x+this.point[o].x,l=t.y-n.y+this.point[o].y;if(e){this.updateDelegate(t,s,l);return}var u={x:s,y:l};this.get("updateEdge")?this.graph.updateItem(r,u):(r.updatePosition(u),this.graph.paint())},updateDelegate:function(r,t,e){var n=this.graph,a=r.item,o=n.get("groupType"),s=a.get("keyShape").getBBox();if(!this.shape){var l=n.get("delegateGroup"),u=(0,ki.default)({},Ye.delegateStyle,this.delegateStyle);this.target&&(this.shape=l.addShape("rect",{attrs:$t({width:s.width,height:s.height,x:t-s.width/2,y:e-s.height/2},u),name:"delegate-shape"}),this.target.set("delegateShape",this.shape)),this.shape.set("capture",!1)}this.target&&(o==="circle"?this.shape.attr({x:t-s.width/2,y:e-s.height/2}):o==="rect"&&this.shape.attr({x:t,y:e}))}},jm="dblclick",qR=["click","dblclick"],t3={getDefaultCfg:function(){return{trigger:jm}},getEvents:function(){var r,t;return qR.includes(this.trigger)?t=this.trigger:(t=jm,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r[""+t]="onGroupClick",r},onGroupClick:function(r){var t=r.target,e=this.graph,n=t.get("groupId");if(!!n){var a=e.get("customGroupControll");a.collapseExpandGroup(n)}}},Um="click",e3=["click","dblclick"],r3={getDefaultCfg:function(){return{trigger:Um,onChange:function(){}}},getEvents:function(){var r,t;return e3.includes(this.trigger)?t=this.trigger:(t=Um,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["node:"+t]="onNodeClick",r.touchstart="onNodeClick",r},onNodeClick:function(r){var t=r.item,e=this.graph.findDataById(t.get("id"));if(!!e){var n=e.children;if(!(!n||n.length===0)){var a=!e.collapsed;if(!!this.shouldBegin(r,a)&&(e.collapsed=a,t.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:r.item,collapsed:a}),!!this.shouldUpdate(r,a))){try{this.onChange(t,a)}catch(o){console.warn("G6 \u81EA 3.0.4 \u7248\u672C\u652F\u6301\u76F4\u63A5\u4ECE item.getModel() \u83B7\u53D6\u6E90\u6570\u636E(\u4E34\u65F6\u901A\u77E5\uFF0C\u5C06\u57283.2.0\u7248\u672C\u4E2D\u6E05\u9664)",o)}this.graph.layout()}}}}},n3=function i(r,t){if(t(r)!==!1&&r){var e=r.get("combos");if(e.length===0)return!1;(0,Vn.S6)(e,function(n){i(n,t)})}},i3={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(r){var t=r.item;if(!t||t.destroyed||!this.shouldUpdate(this,r))return!1;var e=t.getType();return e==="combo"},onDragStart:function(r){var t=this,e=this.graph,n=r.item;if(!!this.validationCombo(r)){this.targets=[];var a=e.findAllByState("combo",this.selectedState),o=n.get("id"),s=a.filter(function(l){var u=l.get("id");return o===u});s.length===0?this.targets.push(n):this.targets=a,this.activeState&&this.targets.map(function(l){var u=l.getModel();if(u.parentId){var h=e.findById(u.parentId);h&&e.setItemState(h,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:r.x,y:r.y},this.currentItemChildCombos=[],n3(n,function(l){if(l.destroyed)return!1;var u=l.getModel();return t.currentItemChildCombos.push(u.id),!0})}},onDrag:function(r){var t=this;if(!!this.origin&&!!this.validationCombo(r))if(this.enableDelegate)this.updateDelegate(r);else{if(this.activeState){var e=this.graph,n=r.item,a=n.getModel(),o=e.getCombos(),s=n.getBBox(),l=s.centerX,u=s.centerY,h=s.width,c=o.filter(function(v){var y=v.getModel();return a.parentId,y.id!==a.id&&!t.currentItemChildCombos.includes(y.id)});c.map(function(v){var y=v.getBBox(),A=y.centerX,k=y.centerY,R=y.width,H=l-A,V=u-k,ot=2*Math.sqrt(H*H+V*V);h+R-ot>.8*h?e.setItemState(v,t.activeState,!0):e.setItemState(v,t.activeState,!1)})}(0,Vn.S6)(this.targets,function(v){t.updateCombo(v,r)})}},updatePositions:function(r){var t=this;this.enableDelegate&&(0,Vn.S6)(this.targets,function(e){t.updateCombo(e,r)})},onDrop:function(r){var t=this,e=r.item;if(!(!e||!this.targets||e.destroyed)){this.updatePositions(r);var n=this.graph,a=e.getModel();this.targets.map(function(o){var s=o.getModel();s.parentId!==a.id?(t.activeState&&n.setItemState(e,t.activeState,!1),t.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o,a.id)):n.updateCombo(e)}),this.end(e,r),this.endComparison=!0}},onNodeDrop:function(r){var t=this;if(!(!this.targets||this.targets.length===0)){this.updatePositions(r);var e=this.graph,n=r.item,a=n.getModel().comboId,o;if(a){if(this.activeState){var s=e.findById(a);e.setItemState(s,this.activeState,!1)}this.targets.map(function(l){t.onlyChangeComboSize?e.updateCombo(l):a!==l.getID()&&(o=e.findById(a),a!==l.getModel().parentId&&e.updateComboTree(l,a))})}else this.targets.map(function(l){if(t.onlyChangeComboSize)e.updateCombo(l);else{var u=l.getModel();u.comboId&&e.updateComboTree(l)}});this.endComparison=!0,this.end(o,r)}},onDragEnter:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!0)}},onDragLeave:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!1)}},onDragEnd:function(r){if(!(!this.targets||this.targets.length===0)){var t=r.item;this.updatePositions(r);var e=this.getParentCombo(t.getModel().parentId),n=this.graph;e&&this.activeState&&n.setItemState(e,this.activeState,!1),this.end(void 0,r)}},end:function(r,t){var e=this;if(!!this.origin){var n=this.graph;if(this.delegateShape){var a=n.get("delegateGroup");a.clear(),this.delegateShape=null}r&&this.activeState&&n.setItemState(r,this.activeState,!1),r||this.targets.map(function(o){e.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(r,t){var e=this;if(t(r)!==!1&&r){var n=r.get("combos");(0,Vn.S6)(n,function(o){e.traverse(o,t)});var a=r.get("nodes");(0,Vn.S6)(a,function(o){e.traverse(o,t)})}},updateCombo:function(r,t){var e=this;this.traverse(r,function(n){return n.destroyed?!1:(e.updateSignleItem(n,t),!0)})},updateSignleItem:function(r,t){var e=this.origin,n=this.graph,a=r.getModel(),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-e.x+this.point[o].x,l=t.y-e.y+this.point[o].y;n.updateItem(r,{x:s,y:l})},getParentCombo:function(r){var t=this.graph;if(!!r){var e=t.findById(r);if(!!e)return e}},updateDelegate:function(r){var t=this.graph;if(this.delegateShape){var v=r.x-this.origin.x+this.originPoint.minX,y=r.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:v,y})}else{var e=t.get("delegateGroup"),n=null;this.targets.length>1?n=_m(this.targets):n=this.targets[0].getBBox();var a=n.x,o=n.y,s=n.width,l=n.height,u=n.minX,h=n.minY;this.originPoint={x:a,y:o,width:s,height:l,minX:u,minY:h};var c=$t($t({},Ye.delegateStyle),this.delegateStyle);this.delegateShape=e.addShape("rect",{attrs:$t({width:n.width,height:n.height,x:n.x,y:n.y},c),name:"combo-delegate-shape"})}}},Zm="dblclick",a3=["click","dblclick"],o3={getDefaultCfg:function(){return{trigger:Zm,relayout:!0}},getEvents:function(){var r,t;return a3.includes(this.trigger)?t=this.trigger:(t=Zm,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["combo:"+t]="onComboClick",r},onComboClick:function(r){var t=r.item,e=this,n=e.graph,a=e.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var o=t.getModel(),s=o.id;!s||(n.collapseExpandCombo(s),a&&n.get("layout")?n.layout():n.refreshPositions())}}},Km=function(r,t,e){return r>=t&&r<=e},Ds=function(r,t,e,n){var a=.001,o={x:e.x-r.x,y:e.y-r.y},s={x:t.x-r.x,y:t.y-r.y},l={x:n.x-e.x,y:n.y-e.y},u=s.x*l.y-s.y*l.x,h=u*u,c=s.x*s.x+s.y*s.y,v=l.x*l.x+l.y*l.y,y=null;if(h>a*c*v){var A=(o.x*l.y-o.y*l.x)/u,k=(o.x*s.y-o.y*s.x)/u;Km(A,0,1)&&Km(k,0,1)&&(y={x:r.x+A*s.x,y:r.y+A*s.y})}return y},$m=function(r,t){var e=r.x,n=r.y,a=r.width,o=r.height,s=e+a/2,l=n+o/2,u=[],h={x:s,y:l};u.push({x:e,y:n}),u.push({x:e+a,y:n}),u.push({x:e+a,y:n+o}),u.push({x:e,y:n+o}),u.push({x:e,y:n});for(var c=null,v=1;v<u.length&&(c=Ds(u[v-1],u[v],h,t),!c);v++);return c},Qm=function(r,t){var e=r.x,n=r.y,a=r.r,o=t.x,s=t.y,l=o-e,u=s-n,h=Math.sqrt(l*l+u*u);if(h<a)return null;var c=Math.sign(l),v=Math.sign(u),y=Math.atan(u/l);return{x:e+Math.abs(a*Math.cos(y))*c,y:n+Math.abs(a*Math.sin(y))*v}},Jm=function(r,t){var e=r.rx,n=r.ry,a=r.x,o=r.y,s=t.x-a,l=t.y-o,u=Math.atan2(l/n,s/e);return u<0&&(u+=2*Math.PI),{x:a+e*Math.cos(u),y:o+n*Math.sin(u)}},Fs=function(r,t,e){e===void 0&&(e=1);var n=[r.x,r.y,e];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),Vm.transformMat3(n,n,t),{x:n[0],y:n[1]}},qm=function(r,t,e){e===void 0&&(e=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var n=ro.invert([],t);n||(n=[1,0,0,0,1,0,0,0,1]);var a=[r.x,r.y,e];return Vm.transformMat3(a,a,n),{x:a[0],y:a[1]}},Xh=function(r,t,e){var n=r.x-t.x,a=r.y-t.y,o=r.x-e.x,s=r.y-e.y,l=(r.x*r.x-t.x*t.x-t.y*t.y+r.y*r.y)/2,u=(r.x*r.x-e.x*e.x-e.y*e.y+r.y*r.y)/2,h=a*o-n*s;return{x:-(s*l-a*u)/h,y:-(n*u-o*l)/h}},Rs=function(r,t){var e=r.x-t.x,n=r.y-t.y;return Math.sqrt(e*e+n*n)},tx=function(r,t){var e=[];return r.forEach(function(n){var a=[];n.forEach(function(o){a.push(o*t)}),e.push(a)}),e},Vh=function(r){for(var t=[],e=r.length,n=0;n<e;n+=1){t[n]=[];for(var a=0;a<e;a+=1)n===a?t[n][a]=0:r[n][a]===0||!r[n][a]?t[n][a]=Infinity:t[n][a]=r[n][a]}for(var o=0;o<e;o+=1)for(var n=0;n<e;n+=1)for(var a=0;a<e;a+=1)t[n][a]>t[n][o]+t[o][a]&&(t[n][a]=t[n][o]+t[o][a]);return t},Hh=function(r,t){var e=r.nodes,n=r.edges,a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.id]=l;var u=[];a.push(u)}),n&&n.forEach(function(s){var l=s.source,u=s.target,h=o[l],c=o[u];a[h][c]=1,t||(a[c][h]=1)}),a},ex=function(r,t){r.translate(t.x,t.y)},rx=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=r.getCanvasBBox(),a=t.x-n.minX,o=t.y-n.minY,s=Ra(e,[["t",a,o]]);r.setMatrix(s)},s3=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=t;(0,Ci.default)(t)||(n=[t,t]),(0,Ci.default)(t)&&t.length===1&&(n=[t[0],t[0]]),e=Ra(e,[["s",n[0],n[1]]]),r.setMatrix(e)},l3=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]),e=Ra(e,[["r",t]]),r.setMatrix(e)},lu=function(r,t,e){for(var n=[],a=0;a<r;a++)n[a]=0;return e.forEach(function(o){o.source&&(n[t[o.source]]+=1),o.target&&(n[t[o.target]]+=1)}),n};function u3(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}var Ns=function(r,t,e){var n=!1,a=r.length,o=1e-6;function s(c){return Math.abs(c)<o?0:c<0?-1:1}if(a<=2)return!1;for(var l=0;l<a;l++){var u=r[l],h=r[(l+1)%a];if(u3(u,h,[t,e]))return!0;s(u[1]-e)>0!=s(h[1]-e)>0&&s(t-(e-u[1])*(u[0]-h[0])/(u[1]-h[1])-u[0])<0&&(n=!n)}return n},nx=function(r,t){return!(t.minX>r.maxX||t.maxX<r.minX||t.minY>r.maxY||t.maxY<r.minY)},f3=function(r,t){var e=!1;return(0,f.each)(r,function(n){if(Ds(n.from,n.to,t.from,t.to))return e=!0,!1}),e},Wh=function(r,t){var e=function(v){var y=v.map(function(k){return k[0]}),A=v.map(function(k){return k[1]});return{minX:Math.min.apply(null,y),maxX:Math.max.apply(null,y),minY:Math.min.apply(null,A),maxY:Math.max.apply(null,A)}},n=function(v){for(var y=[],A=v.length,k=0;k<A-1;k++){var R=v[k],H=v[k+1];y.push({from:{x:R[0],y:R[1]},to:{x:H[0],y:H[1]}})}if(y.length>1){var V=v[0],ot=v[A-1];y.push({from:{x:ot[0],y:ot[1]},to:{x:V[0],y:V[1]}})}return y};if(r.length<2||t.length<2)return!1;var a=e(r),o=e(t);if(!nx(a,o))return!1;var s=!1;if((0,f.each)(t,function(c){if(Ns(r,c[0],c[1]))return s=!0,!1}),s||((0,f.each)(r,function(c){if(Ns(t,c[0],c[1]))return s=!0,!1}),s))return!0;var l=n(r),u=n(t),h=!1;return(0,f.each)(u,function(c){if(f3(l,c))return h=!0,!1}),h},Fo=function(){function i(r,t,e,n){this.x1=r,this.y1=t,this.x2=e,this.y2=n}return i.prototype.getBBox=function(){var r=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),e=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2),a={x:r,y:t,minX:r,minY:t,maxX:e,maxY:n,width:e-r,height:n-t};return a},i}(),jh=function(r,t){var e={top:[r.minX,r.minY,r.maxX,r.minY],left:[r.minX,r.minY,r.minX,r.maxY],bottom:[r.minX,r.maxY,r.maxX,r.maxY],right:[r.maxX,r.minY,r.maxX,r.maxY]};return e[t]},h3=function(r,t){var e=(t.x2-t.x1)*(r.y1-t.y1)-(t.y2-t.y1)*(r.x1-t.x1),n=(r.x2-r.x1)*(r.y1-t.y1)-(r.y2-r.y1)*(r.x1-t.x1),a=(t.y2-t.y1)*(r.x2-r.x1)-(t.x2-t.x1)*(r.y2-r.y1);if(a){var o=e/a,s=n/a;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},ix=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=0,o=[],s=0;s<4;s++){var l=jh(n,e[s]),u=l[0],h=l[1],c=l[2],v=l[3];o[s]=Ds({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:u,y:h},{x:c,y:v}),o[s]&&(a+=1)}return[o,a]},Uh=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var l=jh(n,e[s]),u=l[0],h=l[1],c=l[2],v=l[3],y=h3(t,new Fo(u,h,c,v));y=Math.abs(y-.5),y>=0&&y<=1&&(o+=1,a=y<a?y:a)}return o===0?-1:a},ax=function(r){var t=0,e=0;if(r.length>0){for(var n=0,a=r;n<a.length;n++){var o=a[n];t+=o.x,e+=o.y}t/=r.length,e/=r.length}return{x:t,y:e}},uu=function(r,t){return Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)},ox=function(r,t){var e=t.x1,n=t.y1,a=t.x2-e,o=t.y2-n,s=r.x-e,l=r.y-n,u=s*a+l*o,h;u<=0?h=0:(s=a-s,l=o-l,u=s*a+l*o,u<=0?h=0:h=u*u/(a*a+o*o));var c=s*s+l*l-h;return c<0&&(c=0),c},Zh=function(r,t,e){return e===void 0&&(e=.001),Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)<Math.pow(e,2)},sx=function(r,t){var e=r.x<t.x,n=r.x>t.x+t.width,a=r.y>t.y+t.height,o=r.y<t.y,s=e||n||a||o;if(!s)return 0;if(a&&!e&&!n)return Math.pow(t.y+t.height-r.y,2);if(o&&!e&&!n)return Math.pow(r.y-t.y,2);if(e&&!a&&!o)return Math.pow(t.x-r.x,2);if(n&&!a&&!o)return Math.pow(t.x+t.width-r.x,2);var l=Math.min(Math.abs(t.x-r.x),Math.abs(t.x+t.width-r.x)),u=Math.min(Math.abs(t.y-r.y),Math.abs(t.y+t.height-r.y));return l*l+u*u},c3=function(r,t){return!r||!t?r:r.replace(/\\?\{([^{}]+)\}/g,function(e,n){if(e.charAt(0)==="\\")return e.slice(1);var a=t[n];return a===0&&(a="0"),a||""})},lx=function(r){var t=[];if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);for(var e=0,n=r;e<n.length;e++){var a=n[e],o=a.x,s=a.y;t.push(o),t.push(s)}var l=(0,nl.catmullRom2Bezier)(t);return l.unshift(["M",r[0].x,r[0].y]),l},fu=function(r,t,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var a={x:(1-e)*r.x+e*t.x,y:(1-e)*r.y+e*t.y},o=[];kn.normalize(o,[t.x-r.x,t.y-r.y]),o.length===0&&(o=[0,0]);var s=[-o[1]*n,o[0]*n];return a.x+=s[0],a.y+=s[1],a},ux=function(r,t){var e=r.length;if(!e)return"";for(var n="",a="",o=0;o<e;o++){var s=r[o];o===0?a="M{x} {y}":a="L{x} {y}",n+=c3(a,s)}return t&&(n+="Z"),n},hu=function(r){var t=[];return r.forEach(function(e){var n=e[0];if(n!=="A")for(var a=1;a<e.length;a=a+2)t.push([e[a],e[a+1]]);else{var o=e.length;t.push([e[o-2],e[o-1]])}}),t},Kh=function(r){if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);var t=r[0],e=r[1],n=r[r.length-1],a=r[r.length-2];r.unshift(n),r.unshift(a),r.push(t),r.push(e);for(var o=[],s=1;s<r.length-2;s+=1){var l=r[s-1].x,u=r[s-1].y,h=r[s].x,c=r[s].y,v=r[s+1].x,y=r[s+1].y,A=s!==r.length-2?r[s+2].x:v,k=s!==r.length-2?r[s+2].y:y,R=h+(v-l)/6,H=c+(y-u)/6,V=v-(A-h)/6,ot=y-(k-c)/6;o.push(["C",R,H,V,ot,v,y])}return o.unshift(["M",n.x,n.y]),o},fx=function(r,t){return kn.scale([],kn.normalize([],r),t)},hx=function(r,t){var e=[r[1]-t[1],t[0]-r[0]],n=Math.sqrt(e[0]*e[0]+e[1]*e[1]);if(n===0)throw new Error("p0 should not be equal to p1");return[e[0]/n,e[1]/n]},cx=function(r,t){return[t[0]-r[0],t[1]-r[1]]};function vx(i,r){var t=function(c){var v=[c[0][0],c[0][1]-r],y=[c[0][0],c[0][1]+r];return"M "+v+" A "+r+","+r+",0,0,0,"+y+" A "+r+","+r+",0,0,0,"+v},e=function(c){var v=kn.scale([],hx(c[0],c[1]),r),y=kn.scale([],v,-1),A=kn.add([],c[0],v),k=kn.add([],c[1],v),R=kn.add([],c[1],y),H=kn.add([],c[0],y);return"M "+A+" L "+k+" A "+[r,r,"0,0,0",R].join(",")+" L "+H+" A "+[r,r,"0,0,0",A].join(",")};if(!i||i.length<1)return"";if(i.length===1)return t(i);if(i.length===2)return e(i);for(var n=new Array(i.length),a=0;a<n.length;++a){var o=a===0?i[i.length-1]:i[a-1],s=i[a],l=kn.scale([],hx(o,s),r);n[a]=[kn.add([],o,l),kn.add([],s,l)]}var u="A "+[r,r,"0,0,0,"].join(",");return n=n.map(function(h,c){var v="";return c===0&&(v="M "+n[n.length-1][1]+" "),v+=u+h[0]+" L "+h[1],v}),n.join(" ")}function dx(i,r){var t=i.length,e=function(h){var c=[h[0][0],h[0][1]-r],v=[h[0][0],h[0][1]+r];return"M "+c+" A "+[r,r,"0,0,0",v].join(",")+" A "+[r,r,"0,0,0",c].join(",")},n=function(h){var c=cx(h[0],h[1]),v=fx(c,r),y=kn.add([],h[0],kn.scale([],v,-1)),A=kn.add([],h[1],v),k=1.2*r,R=fx(kn.normalize([],c),k),H=kn.scale([],R,-1),V=kn.add([],y,H),ot=kn.add([],A,H),ut=kn.add([],y,R);return"M "+y+" C "+[V,ot,A].join(",")+" S "+[ut,y].join(",")+" Z"};if(!i||t<1)return"";if(t===1)return e(i);if(t===2)return n(i);for(var a=i.map(function(u,h){var c=i[(h+1)%t];return{p:u,v:kn.normalize([],cx(u,c))}}),o=0;o<a.length;++o){var s=o>0?o-1:t-1,l=kn.normalize([],kn.add([],a[s].v,kn.scale([],a[o].v,-1)));a[o].p=kn.add([],a[o].p,kn.scale([],l,r))}return a.map(function(u){var h=u.p;return{x:h[0],y:h[1]}})}var px="shift",v3=["drag","shift","ctrl","alt","control"],d3=function(r,t){var e,n=r.getKeyShape();if(r.get("type")==="path")e=hu(n.attr("path"));else{var a=n.getCanvasBBox();e=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return Wh(t,e)},p3={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:px,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return v3.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=px,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(r){var t=this.lasso,e=r.item;e||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:r.x,y:r.y},this.points.push(this.originPoint),t.show())},onDragMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:r.x,y:r.y}),this.updateLasso(r))},onDragEnd:function(r){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var r=this.points,t=[];return r.length&&(r.forEach(function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t.push(["L",r[0].x,r[0].y])),t},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var r=this,t=this,e=t.graph,n=t.shouldUpdate,a=this.points.map(function(h){return[e.getCanvasByPoint(h.x,h.y).x,e.getCanvasByPoint(h.x,h.y).y]}),o=this.selectedState,s=[],l=[];e.getNodes().forEach(function(h){if(d3(h,a)&&n(h,"select")){s.push(h);var c=h.getModel();l.push(c.id),e.setItemState(h,o,!0)}});var u=[];this.includeEdges&&s.forEach(function(h){var c=h.getOutEdges();c.forEach(function(v){var y=v.getModel(),A=y.source,k=y.target;l.includes(A)&&l.includes(k)&&n(v,"select")&&(u.push(v),e.setItemState(v,r.selectedState,!0))})}),this.selectedEdges=u,this.selectedNodes=s,this.onSelect&&this.onSelect(s,u),e.emit("nodeselectchange",{selectedItems:{nodes:s,edges:u},select:!0})},createLasso:function(){var r=this,t=r.graph.get("delegateGroup").addShape("path",{attrs:$t({path:[]},r.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.points=[],t},updateLasso:function(r){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},gx="click",g3=["click","drag"],yx=void 0,y3=["shift","ctrl","control","alt","meta",void 0],m3={getDefaultCfg:function(){return{trigger:gx,key:yx,edgeConfig:{}}},getEvents:function(){var r=this;g3.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=gx,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),r.key&&y3.indexOf(r.key.toLowerCase())===-1&&(r.trigger=yx,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return r.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:r.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),r.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item;(!e||e.getID()===t.source||e.getType()!=="node")&&t.cancelCreating({item:t.edge,x:r.x,y:r.y})}},onClick:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item,n=t.graph,a=e.getModel();if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,r))return;var o={target:a.id};t.source===a.id&&(o.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(t.edge,o),n.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,r))return;t.edge=n.addItem("edge",$t({source:a.id,target:a.id},t.edgeConfig),!1),t.source=a.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(r){var t=this;if(!(t.key&&!t.keydown)){var e={x:r.x,y:r.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:e},!1)}},cancelCreating:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=t.graph,n=r.item;if(t.addingEdge&&r.target&&r.target.isCanvas&&r.target.isCanvas()){e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1;return}if(t.addingEdge&&t.edge===n){var a=!0;if(!e.get("groupByTypes"))for(var o=r.x,s=r.y,l=e.getNodes(),u=l.length,h=0;h<u;h++){var c=l[h],v=c.getModel(),y=c.getBBox();if(o<=y.maxX&&o>=y.minX&&s<=y.maxY&&s>=y.minY){if(!t.shouldEnd.call(t,{x:r.x,y:r.y,canvasX:r.canvasX,canvasY:r.canvasY,clientX:r.clientX,clientY:r.clientY,item:c}))return;e.emit("beforecreateedge",{}),e.updateItem(t.edge,{target:v.id}),e.emit("aftercreateedge",{edge:t.edge}),a=!1;break}}a&&e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1}}},onKeyDown:function(r){var t=this,e=r.key;!e||(e.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var r=this;r.addingEdge&&r.edge&&(r.graph.removeItem(r.edge,!1),r.addingEdge=!1,r.edge=null),this.keydown=!1}},mx="ctrl",x3=["shift","ctrl","alt","control"],b3="1",w3={getDefaultCfg:function(){return{trigger:mx,combinedKey:b3,functionName:"fitView",functionParams:[]}},getEvents:function(){return x3.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=mx,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();this.triggerKeydown||(n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]();return}var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===o||n==="control"&&o==="ctrl"||n==="ctrl"&&o==="control")&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},S3={"drag-canvas":OR,"zoom-canvas":UR,"drag-node":GR,"activate-relations":zR,"brush-select":VR,"click-select":WR,"lasso-select":p3,tooltip:ZR,"edge-tooltip":KR,"drag-group":$R,"drag-node-with-group":JR,"collapse-expand-group":t3,"collapse-expand":r3,"drag-combo":i3,"collapse-expand-combo":o3,"create-edge":m3,"shortcuts-call":w3};(0,Mn.default)(S3,function(i,r){Dh.registerBehavior(r,i)});var xx=Dh,Ro=d(14563),Ys=d(70673),Ca=d(83077),bx=d(54544),M3=function(r){var t=(0,bx.default)(r.groups,"id"),e=(0,bx.default)(r.groups,"parentId"),n={};for(var a in e)if(!!a){var o=e[a],s=t[a];if(s&&o){var l=Bs(o,s);n[a]=l}else o&&(n[a]=o)}var u=$t($t({},t),n),h={};for(var c in u)if(!(!c||c==="undefined")){var o=u[c].map(function(k){return k.id});h[c]=o}var v={},y=function(k){if(!k||k==="undefined")return"continue";for(var R=h[k],H=[],V=0,ot=R;V<ot.length;V++){var ut=ot[V],bt=u[ut].map(function(Xt){return Xt.id});H.push.apply(H,bt)}var Ft=r.nodes?r.nodes.filter(function(Xt){return H.indexOf(Xt.groupId)>-1||H.indexOf(Xt.parentId)>-1}).map(function(Xt){return Xt.id}):[];v[k]=Ft};for(var c in h)y(c);return v},C3=function(){function i(r){this.graph=r,this.destroyed=!1,this.modes=r.get("modes")||{default:[]},this.formatModes(),this.mode=r.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return i.prototype.formatModes=function(){var r=this.modes;(0,Mn.default)(r,function(t){(0,Mn.default)(t,function(e,n){(0,gn.default)(e)&&(t[n]={type:e})})})},i.prototype.setBehaviors=function(r){var t=this.graph,e=this.modes[r],n=[],a;(0,Mn.default)(e||[],function(o){var s=Dh.getBehavior(o.type);!s||(a=new s(o),a&&(a.bind(t),n.push(a)))}),this.currentBehaves=n},i.mergeBehaviors=function(r,t){return(0,Mn.default)(t,function(e){r.indexOf(e)<0&&((0,gn.default)(e)&&(e={type:e}),r.push(e))}),r},i.filterBehaviors=function(r,t){var e=[];return r.forEach(function(n){var a="";(0,gn.default)(n)?a=n:a=n.type,t.indexOf(a)<0&&e.push(n)}),e},i.prototype.setMode=function(r){var t=this,e=t.modes,n=t.graph,a=r,o=e[a];!o||(n.emit("beforemodechange",{mode:r}),(0,Mn.default)(this.currentBehaves,function(s){s.unbind(n)}),this.setBehaviors(a),n.emit("aftermodechange",{mode:r}),this.mode=r)},i.prototype.getMode=function(){return this.mode},i.prototype.manipulateBehaviors=function(r,t,e){var n=this,a;if((0,Ci.default)(r)?a=r:a=[r],(0,Ci.default)(t))return(0,Mn.default)(t,function(s){n.modes[s]?e?n.modes[s]=i.mergeBehaviors(n.modes[s]||[],a):n.modes[s]=i.filterBehaviors(n.modes[s]||[],a):e&&(n.modes[s]=a)}),this;var o=t;return t||(o=this.mode),this.modes[o]||e&&(this.modes[o]=a),e?this.modes[o]=i.mergeBehaviors(this.modes[o]||[],a):this.modes[o]=i.filterBehaviors(this.modes[o]||[],a),this.setMode(this.mode),this},i.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},i}(),E3=C3,A3=function(){function i(r){this.destroyed=!1,this.graph=r,this.destroyed=!1}return i.prototype.getViewCenter=function(){var r=this.getFormatPadding(),t=this.graph,e=this.graph.get("width"),n=t.get("height");return{x:(e-r[1]-r[3])/2+r[3],y:(n-r[0]-r[2])/2+r[0]}},i.prototype.fitCenter=function(){var r=this.graph,t=r.get("group");t.resetMatrix();var e=t.getCanvasBBox();if(!(e.width===0||e.height===0)){var n=this.getViewCenter(),a={x:e.x+e.width/2,y:e.y+e.height/2};r.translate(n.x-a.x,n.y-a.y)}},i.prototype.fitView=function(){var r=this.graph,t=this.getFormatPadding(),e=r.get("width"),n=r.get("height"),a=r.get("group");a.resetMatrix();var o=a.getCanvasBBox();if(!(o.width===0||o.height===0)){var s=this.getViewCenter(),l={x:o.x+o.width/2,y:o.y+o.height/2};r.translate(s.x-l.x,s.y-l.y);var u=(e-t[1]-t[3])/o.width,h=(n-t[0]-t[2])/o.height,c=u;u>h&&(c=h),r.zoom(c,s)}},i.prototype.getFormatPadding=function(){var r=this.graph.get("fitViewPadding");return Nh(r)},i.prototype.focusPoint=function(r,t,e){var n=this,a=this.getViewCenter(),o=this.getPointByCanvas(a.x,a.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),t){var l=(o.x-r.x)*s[0],u=(o.y-r.y)*s[4],h=0,c=0,v=0,y=0;this.graph.get("canvas").animate(function(A){v=l*A,y=u*A,n.graph.translate(v-h,y-c),h=v,c=y},$t({},e))}else this.graph.translate((o.x-r.x)*s[0],(o.y-r.y)*s[4])},i.prototype.getPointByCanvas=function(r,t){var e=this.graph.get("group").getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=qm({x:r,y:t},e);return n},i.prototype.getPointByClient=function(r,t){var e=this.graph.get("canvas"),n=e.getPointByClient(r,t);return this.getPointByCanvas(n.x,n.y)},i.prototype.getClientByPoint=function(r,t){var e=this.graph.get("canvas"),n=this.getCanvasByPoint(r,t),a=e.getClientByPoint(n.x,n.y);return{x:a.x,y:a.y}},i.prototype.getCanvasByPoint=function(r,t){var e=this.graph.get("group").getMatrix();return e||(e=[1,0,0,0,1,0,0,0,1]),Fs({x:r,y:t},e)},i.prototype.focus=function(r,t,e){(0,gn.default)(r)&&(r=this.graph.findById(r));var n=r.get("group"),a=n.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r&&this.focusPoint({x:a[6],y:a[7]},t,e)},i.prototype.changeSize=function(r,t){var e=this.graph;if(!(0,Ma.default)(r)||!(0,Ma.default)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");e.set({width:r,height:t});var n=e.get("canvas");n.changeSize(r,t);var a=e.get("plugins");a.forEach(function(o){if(o.get("gridContainer")){var s=e.get("minZoom");(0,En.Z)(o.get("container"),{width:r+"px",height:t+"px"}),(0,En.Z)(o.get("gridContainer"),{width:r/s+"px",height:t/s+"px",left:0,top:0})}})},i.prototype.destroy=function(){this.graph=null,this.destroyed=!1},i}(),T3=A3,Gs=d(73136),cu=d(61262),P3=function(){function i(r){this.preItem=null,this.graph=r,this.extendEvents=[],this.dragging=!1,this.destroyed=!1,this.initEvents()}return i.prototype.initEvents=function(){var r=this,t=r.graph,e=r.extendEvents,n=t.get("canvas"),a=n.get("el"),o=(0,cu.default)(this,"onCanvasEvents"),s=(0,cu.default)(this,"onExtendEvents"),l=(0,cu.default)(this,"onWheelEvent");n.on("*",o),this.canvasHandler=o,e.push((0,Gs.Z)(a,"DOMMouseScroll",l)),e.push((0,Gs.Z)(a,"mousewheel",l)),typeof window!="undefined"&&(e.push((0,Gs.Z)(window,"keydown",s)),e.push((0,Gs.Z)(window,"keyup",s)),e.push((0,Gs.Z)(window,"focus",s)))},i.getItemRoot=function(r){for(;r&&!r.get("item");)r=r.get("parent");return r},i.prototype.onCanvasEvents=function(r){var t=this.graph,e=t.get("canvas"),n=r.target,a=r.type;r.canvasX=r.x,r.canvasY=r.y;var o={x:r.canvasX,y:r.canvasY},s=t.get("group"),l=s.getMatrix();if(l||(l=[1,0,0,0,1,0,0,0,1]),Pm(l)&&(o=t.getPointByClient(r.clientX,r.clientY)),r.x=o.x,r.y=o.y,r.currentTarget=t,n===e){a==="mousemove"&&this.handleMouseMove(r,"canvas"),r.target=e,r.item=null,t.emit(a,r),t.emit("canvas:"+a,r);return}var u=i.getItemRoot(n);if(!u){t.emit(a,r);return}var h=u.get("item");if(!h.destroyed){var c=h.getType();if(r.target=n,r.item=h,r.canvasX===r.x&&r.canvasY===r.y){var v=t.getCanvasByPoint(r.x,r.y);r.canvasX=v.x,r.canvasY=v.y}t.emit(a,r),r.name&&!r.name.includes(":")?t.emit(c+":"+a,r):t.emit(r.name,r),a==="dragstart"&&(this.dragging=!0),a==="dragend"&&(this.dragging=!1),a==="mousemove"&&this.handleMouseMove(r,c)}},i.prototype.onExtendEvents=function(r){this.graph.emit(r.type,r)},i.prototype.onWheelEvent=function(r){(0,Mi.default)(r.wheelDelta)&&(r.wheelDelta=-r.detail),this.graph.emit("wheel",r)},i.prototype.handleMouseMove=function(r,t){var e=this,n=e.graph,a=e.preItem,o=n.get("canvas"),s=r.target===o?null:r.item;r=nu(r),a&&a!==s&&!a.destroyed&&(r.item=a,this.emitCustomEvent(a.getType(),"mouseleave",r),this.dragging&&this.emitCustomEvent(a.getType(),"dragleave",r)),s&&a!==s&&(r.item=s,this.emitCustomEvent(t,"mouseenter",r),this.dragging&&this.emitCustomEvent(t,"dragenter",r)),this.preItem=s},i.prototype.emitCustomEvent=function(r,t,e){e.type=t,this.graph.emit(r+":"+t,e)},i.prototype.destroy=function(){var r=this,t=r.graph,e=r.canvasHandler,n=r.extendEvents,a=t.get("canvas");a.off("*",e),(0,Mn.default)(n,function(o){o.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},i}(),_3=P3,wx=d(8289),Sx=d(33643),Mx=d(85260),L3=d(58070),O3={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},ca=Math.PI,$h=Math.sin,Qh=Math.cos,Ai=$h(ca/8),Ti=Qh(ca/8),vu=function(r,t){var e=r.getBBox(),n={x:e.minX,y:e.minY},a={x:e.maxX,y:e.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n=Fs(n,o),a=Fs(a,o)}var s=n.x,l=n.y,u=a.x,h=a.y;return{x:s,y:l,minX:s,minY:l,maxX:u,maxY:h,width:u-s,height:h-l}},Cx=function(r){var t=r.sourceNode||r.targetNode,e=t.get("group"),n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var a=t.getKeyShape(),o=a.getBBox(),s=r.loopCfg||{},l=s.dist||Math.max(o.width,o.height)*2,u=s.position||Ye.defaultLoopPosition,h=[n[6],n[7]],c=[r.startPoint.x,r.startPoint.y],v=[r.endPoint.x,r.endPoint.y],y=o.height/2,A=o.height/2,k=y*Ai,R=y*Ti,H=A*Ai,V=A*Ti;if(c[0]===v[0]&&c[1]===v[1]){switch(u){case"top":c=[h[0]-k,h[1]-R],v=[h[0]+H,h[1]-V];break;case"top-right":y=o.height/2,A=o.width/2,k=y*Ai,R=y*Ti,H=A*Ai,V=A*Ti,c=[h[0]+k,h[1]-R],v=[h[0]+V,h[1]-H];break;case"right":y=o.width/2,A=o.width/2,k=y*Ai,R=y*Ti,H=A*Ai,V=A*Ti,c=[h[0]+R,h[1]-k],v=[h[0]+V,h[1]+H];break;case"bottom-right":y=o.width/2,A=o.height/2,k=y*Ai,R=y*Ti,H=A*Ai,V=A*Ti,c=[h[0]+R,h[1]+k],v=[h[0]+H,h[1]+V];break;case"bottom":y=o.height/2,A=o.height/2,k=y*Ai,R=y*Ti,H=A*Ai,V=A*Ti,c=[h[0]+k,h[1]+R],v=[h[0]-H,h[1]+V];break;case"bottom-left":y=o.height/2,A=o.width/2,k=y*Ai,R=y*Ti,H=A*Ai,V=A*Ti,c=[h[0]-k,h[1]+R],v=[h[0]-V,h[1]+H];break;case"left":y=o.width/2,A=o.width/2,k=y*Ai,R=y*Ti,H=A*Ai,V=A*Ti,c=[h[0]-R,h[1]+k],v=[h[0]-V,h[1]-H];break;case"top-left":y=o.width/2,A=o.height/2,k=y*Ai,R=y*Ti,H=A*Ai,V=A*Ti,c=[h[0]-R,h[1]-k],v=[h[0]-H,h[1]-V];break;default:y=o.width/2,A=o.width/2,k=y*Ai,R=y*Ti,H=A*Ai,V=A*Ti,c=[h[0]-k,h[1]-R],v=[h[0]+H,h[1]-V]}if(s.clockwise===!1){var ot=[c[0],c[1]];c=[v[0],v[1]],v=[ot[0],ot[1]]}}var ut=[c[0]-h[0],c[1]-h[1]],bt=(y+l)/y,Ft=(A+l)/A;s.clockwise===!1&&(bt=(A+l)/A,Ft=(y+l)/y);var Xt=kn.scale([],ut,bt),Ut=[h[0]+Xt[0],h[1]+Xt[1]],Gt=[v[0]-h[0],v[1]-h[1]],te=kn.scale([],Gt,Ft),ue=[h[0]+te[0],h[1]+te[1]];return r.startPoint={x:c[0],y:c[1]},r.endPoint={x:v[0],y:v[1]},r.controlPoints=[{x:Ut[0],y:Ut[1]},{x:ue[0],y:ue[1]}],r},du=function(r,t,e,n,a){var o=1e-4,s=[],l=r.getPoint(t);if(l===null)return{x:0,y:0,angle:0};if(t<o)s=r.getStartTangent().reverse();else if(t>1-o)s=r.getEndTangent();else{var u=r.getPoint(t+o);s.push([l.x,l.y]),s.push([u.x,u.y])}var h=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(h<0&&(h+=ca*2),e&&(l.x+=Qh(h)*e,l.y+=$h(h)*e),n){var c=h-ca/2;h>1/2*ca&&h<3*1/2*ca&&(c-=ca),l.x+=Qh(c)*n,l.y+=$h(c)*n}var v={x:l.x,y:l.y,angle:h};return a?(h>1/2*ca&&h<3*1/2*ca&&(h-=ca),$t({rotate:h},v)):v},Ex=function i(r,t){if(t(r)===!1)return!1;if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return!1}return!0},I3=function i(r,t){if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return}return t(r)!==!1},zi=function(r,t){typeof t=="function"&&Ex(r,t)},va=function(r,t){typeof t=="function"&&I3(r,t)},Ax=function(r,t){var e=["V","TB","BT"],n={x:Infinity,y:Infinity},a={x:-Infinity,y:-Infinity},o="x",s="y";t&&e.indexOf(t)>=0&&(s="x",o="y");var l=0;zi(r,function(c){return l++,c.x>a.x&&(a.x=c.x),c.x<n.x&&(n.x=c.x),c.y>a.y&&(a.y=c.y),c.y<n.y&&(n.y=c.y),!0});var u=ca*2/l,h=a[s]-n[s];return h===0||zi(r,function(c){var v=(c[s]-n[s])/h*(ca*2-u)+u,y=Math.abs(o==="x"?c.x-r.x:c.y-r.y);return c.x=y*Math.cos(v),c.y=y*Math.sin(v),!0}),r},Tx=function(r,t){return t*(O3[r]||1)},Px=function(r,t){var e=0,n=new RegExp("[\u4E00-\u9FA5]+");return r.split("").forEach(function(a){n.test(a)?e+=t:e+=Tx(a,t)}),[e,t]},Jh=function(r,t){var e=[],n={},a={};r.forEach(function(s){a[s.id]=s}),r.forEach(function(s,l){var u=(0,f.clone)(s);u.itemType="combo",u.children=void 0,u.parentId===u.id?(console.warn("The parentId for combo "+u.id+" can not be the same as the combo's id"),delete u.parentId):u.parentId&&!a[u.parentId]&&(console.warn("The parent combo for combo "+u.id+" does not exist!"),delete u.parentId);var h=n[u.id];if(h){if(u.children=h.children,n[u.id]=u,h=u,!h.parentId){e.push(h);return}var c=n[h.parentId];if(c)c.children?c.children.push(u):c.children=[u];else{var v={id:h.parentId,children:[h]};n[h.parentId]=v,n[u.id]=u}return}if((0,f.isString)(s.parentId)){var y=n[s.parentId];if(y)y.children?y.children.push(u):y.children=[u],n[u.id]=u;else{var A={id:s.parentId,children:[u]};n[A.id]=A,n[u.id]=u}}else e.push(u),n[u.id]=u});var o={};return(t||[]).forEach(function(s){o[s.id]=s;var l=n[s.comboId];if(l){var u={id:s.id,comboId:s.comboId};l.children?l.children.push(u):l.children=[u],u.itemType="node",n[s.id]=u}}),e.forEach(function(s){s.depth=0,Ex(s,function(l){var u,h=n[l.id].itemType;h==="node"?u=n[l.comboId]:u=n[l.parentId],u?h==="node"?l.depth=u.depth+1:l.depth=u.depth+2:l.depth=0;var c=o[l.id];return c&&(c.depth=l.depth),!0})}),e},qh=function(r,t,e){var n=r,a,o={root:{children:r}},s=!1,l="root";(r||[]).forEach(function(y){if(!s){if(y.id===t){a=y,y.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0;return}zi(y,function(A){return o[A.id]={children:A.children},n=o[A.parentId||A.comboId||"root"].children,A&&(A.removed||t===A.id)&&n?(l=A.parentId||A.comboId||"root",a=A,A.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0,!1):!0})}}),n=o[l].children;var u=n?n.indexOf(a):-1;if(u>-1&&n.splice(u,1),s||(a={id:t,itemType:"node",comboId:e},o[t]={children:void 0}),t){var h=!1;if(e){var c=0;(r||[]).forEach(function(y){h||zi(y,function(A){return e===A.id?(h=!0,A.children?A.children.push(a):A.children=[a],c=A.depth,a.itemType==="node"?a.depth=c+2:a.depth=c+1,!1):!0})})}else(!e||!h)&&a.itemType!=="node"&&r.push(a);var v=a.depth;zi(a,function(y){return y.itemType==="node"?v+=2:v+=1,y.depth=v,!0})}return r},tc=function(r,t){var e={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return!r||r.length===0||(r.forEach(function(n){var a=t.findById(n.id);if(!(!a||!a.isVisible())){a.set("bboxCanvasCache",void 0);var o=a.getCanvasBBox();o.x&&e.minX>o.minX&&(e.minX=o.minX),o.y&&e.minY>o.minY&&(e.minY=o.minY),o.x&&e.maxX<o.maxX&&(e.maxX=o.maxX),o.y&&e.maxY<o.maxY&&(e.maxY=o.maxY)}}),e.x=(e.minX+e.maxX)/2,e.y=(e.minY+e.maxY)/2,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,Object.keys(e).forEach(function(n){(e[n]===Infinity||e[n]===-Infinity)&&(e[n]=void 0)})),e},k3=function(r){var t=r.group,e=r.height,n=r.width,a=r.x,o=r.y,s=t.get("canvas"),l=s.get("width"),u=s.get("height"),h={start:{x:0,y:0},end:{x:0,y:0}};return h.start.x=a/l,h.start.y=o/u,h.end.x=(a+n)/l,h.end.y=(o+e)/u,h};function pu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pu=function(t){return typeof t}:pu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(i)}function _x(i){if(typeof i!="string")return i;var r=function(Xt){if(typeof Xt!="string")return Xt;try{return JSON.parse(Xt.trim())}catch(Ut){return Xt.trim()}},t=r(i);if(typeof t!="string")return t;for(var e=function(Xt){return Xt[Xt.length-1]},n=i.trim(),a=[],o=[],s=function(){for(var Xt=[],Ut=0;Ut<arguments.length;Ut++)Xt[Ut]=arguments[Ut];return Xt.some(function(Gt){return e(o)===Gt})},l=function(){return e(a)},u=null,h=0,c="";h<n.length;){var v=n[h],y=s('"',"'");if(!y&&!v.trim()){h+=1;continue}var A=n[h-1]==="\\",k=s("}"),R=s("]"),H=s(","),V=l();if(y)if(e(o)===v&&!A){o.pop();var ot=r(c);V.push(ot),u=ot,c=""}else c+=v;else if(R&&v===",")c&&(V.push(r(c)),c="");else if(k&&v===":")o.push(","),c&&(V.push(c),c="");else if(H&&v===",")c&&(V.push(r(c)),c=""),o.pop();else if(v==="}"&&(k||H)){c&&(V.push(r(c)),c=""),H&&o.pop();for(var ut={},bt=1;bt<V.length;bt+=2)ut[V[bt-1]]=V[bt];a.pop(),a.length&&e(a).push(ut),o.pop(),u=ut}else v==="]"&&R?(c&&(V.push(r(c)),c=""),a.pop(),a.length&&e(a).push(V),o.pop(),u=V):v==="{"?(a.push([]),o.push("}")):v==="["?(a.push([]),o.push("]")):v==='"'?o.push('"'):v==="'"?o.push("'"):c+=v;h+=1}return u||c}var B3=function(r){return r.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})},D3=function(r){return function(t){for(var e=r.length,n=[],a=0,o="";a<e;)if(r[a]==="{"&&r[a+1]==="{")n.push(o),o="",a+=2;else if(r[a]==="}"&&r[a+1]==="}"){if(n.length){var s=n.pop();o=(0,L3.default)(t,o,s.endsWith("=")?'"{'+o+'}"':o),n.push(s+o)}a+=2,o=""}else o+=r[a],a+=1;return n.push(o),n.map(function(l,u){return n[u-1]&&n[u-1].endsWith("=")?'"{'+l+'}"':l}).join("")}};function Lx(i,r){var t={},e=i.getAttributeNames&&i.getAttributeNames()||[],n=i.children&&Array.from(i.children).map(function(s){return Lx(s,r)}),a={},o=i.tagName?i.tagName.toLowerCase():"group";return o==="text"&&(t.text=i.innerText),a.type=o,o==="img"&&(a.type="image"),Array.from(e).forEach(function(s){var l=B3(s),u=i.getAttribute(s);try{if(l==="style"||l==="attrs"){var h=_x(u);t=$t($t({},t),h)}else a[l]=_x(u)}catch(c){if(l==="style")throw c;a[l]=u}}),a.attrs=t,r&&r.style&&a.name&&pu(r.style[a.name])==="object"&&(a.attrs=$t($t({},a.attrs),r.style[a.name])),r&&r.style&&a.keyshape&&(a.attrs=$t($t({},a.attrs),r.style)),n.length&&(a.children=n),a}function F3(i,r,t){var e=i.attrs,n=e===void 0?{}:e,a={x:r.x||0,y:r.y||0,width:t.width||0,height:t.height||0},o,s;switch(i.type){case"maker":case"circle":n.r&&(s=2*n.r,o=2*n.r);break;case"text":n.text&&(s=Px(n.text,n.fontSize||12)[0],o=16,a.y+=o,a.height=o,a.width=s,i.attrs=$t({fontSize:12,fill:"#000"},n));break;default:n.width&&(s=n.width),n.height&&(o=n.height)}return o>=0&&(a.height=o),s>=0&&(a.width=s),n.marginTop&&(a.y+=n.marginTop),n.marginLeft&&(a.x+=n.marginLeft),a}function Ox(i,r){var t;r===void 0&&(r={x:0,y:0});var e=$t({x:0,y:0,width:0,height:0},r);if((t=i.children)===null||t===void 0?void 0:t.length){var n=i.attrs,a=n===void 0?{}:n,o=a.marginTop,s=$t({},r);o&&(s.y+=o);for(var l=0;l<i.children.length;l++){i.children[l].attrs.key=(a.key||"root")+" -"+l+" ";var u=Ox(i.children[l],s);if(u.bbox){var h=u.bbox;u.attrs.next==="inline"?s.x+=u.bbox.width:s.y+=u.bbox.height,h.width+h.x>e.width&&(e.width=h.width+h.x),h.height+h.y>e.height&&(e.height=h.height+h.y)}}}return i.bbox=F3(i,r,e),i.attrs=$t($t({},i.attrs),i.bbox),i}function Ix(i,r){var t,e,n,a,o=(i||{}).type,s=((r==null?void 0:r.attrs)||{}).key;if(s&&i&&(i.attrs.key=s),!i&&r)return{action:"delete",val:r,type:o,key:s};if(i&&!r)return{action:"add",val:i,type:o};if(!i&&!r)return{action:"same",type:o};var l=[];if(((t=i.children)===null||t===void 0?void 0:t.length)>0||((e=r.children)===null||e===void 0?void 0:e.length)>0)for(var u=Math.max((n=i.children)===null||n===void 0?void 0:n.length,(a=r.children)===null||a===void 0?void 0:a.length),h=r.children||[],c=i.children||[],v=0;v<u;v+=1)l.push(Ix(c[v],h[v]));var y=Object.keys(r.attrs),A=Object.keys(i.attrs);return r.type!==i.type?{action:"restructure",nowTarget:i,formerTarget:r,key:s,children:l}:y.filter(function(k){return k!=="children"}).some(function(k){return i.attrs[k]!==r.attrs[k]||!A.includes(k)})?{action:"change",val:i,children:l,type:o,key:s}:{action:"same",children:l,type:o,key:s}}function kx(i){var r={},t=function(n){var a=typeof i=="function"?i(n):i,o=D3(a)(n),s=document.createElement("div");s.innerHTML=o;var l=s.children[0],u=Ox(Lx(l,n));return s.remove(),u};return{draw:function(n,a){var o=t(n),s=a,l=function u(h){var c=h.attrs,v=c===void 0?{}:c,y=h.bbox,A=h.type,k=h.children,R=Yi(h,["attrs","bbox","type","children"]);if(h.type!=="group"){var H=a.addShape(h.type,$t({attrs:v,origin:{bbox:y,type:A,children:k}},R));h.keyshape&&(s=H)}h.children&&h.children.forEach(function(V){return u(V)})};return l(o),r[n.id]=[o],s},update:function(n,a){r[n.id]||(r[n.id]=[]);var o=a.getContainer(),s=o.get("children"),l=t(n),u=r[n.id].pop(),h=Ix(l,u),c=function A(k){var R;k.type!=="group"&&o.addShape(k.type,{attrs:k.attrs}),((R=k.children)===null||R===void 0?void 0:R.length)&&k.children.map(function(H){return A(H)})},v=function A(k){var R,H=s.find(function(V){return V.attrs.key===k.attrs.key});H&&o.removeChild(H),((R=k.children)===null||R===void 0?void 0:R.length)&&k.children.map(function(V){return A(V)})},y=function A(k){var R=k.key;if(k.type!=="group"){var H=s.find(function(ot){return ot.attrs.key===R});switch(k.action){case"change":if(H){var V=k.val.keyshape?a.getOriginStyle():{};H.attr($t($t({},V),k.val.attrs))}break;case"add":c(k.val);break;case"delete":v(k.val);break;case"restructure":v(k.formerTarget),c(k.nowTarget);break;default:break}}k.children&&k.children.forEach(function(ot){return A(ot)})};y(h),r[n.id].push(l)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var ec={};function Bx(i){return ec[i]||(ec[i]=(0,f.upperFirst)(i)),ec[i]}var R3={defaultShapeType:"defaultType",className:null,getShape:function(r){var t=this,e=t[r]||t[t.defaultShapeType];return e},draw:function(r,t,e){var n=this.getShape(r),a=n.draw(t,e);return n.afterDraw&&n.afterDraw(t,e,a),a},baseUpdate:function(r,t,e){var n=this.getShape(r);n.update&&n.update(t,e),n.afterUpdate&&n.afterUpdate(t,e)},setState:function(r,t,e,n){var a=this.getShape(r);a.setState(t,e,n)},shouldUpdate:function(r){var t=this.getShape(r);return!!t.update},getControlPoints:function(r,t){var e=this.getShape(r);return e.getControlPoints(t)},getAnchorPoints:function(r,t){var e=this.getShape(r);return e.getAnchorPoints(t)}},rc={options:{},draw:function(r,t){return this.drawShape(r,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.options.anchorPoints,e=r.anchorPoints||t;return e}},gu=function(){function i(){}return i.registerFactory=function(r,t){var e=Bx(r),n=R3,a=$t($t({},n),t);return i[e]=a,a.className=e,a},i.getFactory=function(r){var t=Bx(r);return i[t]},i.registerNode=function(r,t,e){var n=i.Node,a;if(typeof t=="string"||typeof t=="function"){var o=kx(t);a=$t($t({},n.getShape("single-node")),o)}else if(t.jsx){var s=t.jsx,o=kx(s);a=$t($t($t({},n.getShape("single-node")),o),t)}else{var l=e?n.getShape(e):rc;a=$t($t({},l),t)}return a.type=r,a.itemType="node",n[r]=a,a},i.registerEdge=function(r,t,e){var n=i.Edge,a=e?n.getShape(e):rc,o=$t($t({},a),t);return o.type=r,o.itemType="edge",n[r]=o,o},i.registerCombo=function(r,t,e){var n=i.Combo,a=e?n.getShape(e):rc,o=$t($t({},a),t);return o.type=r,o.itemType="combo",n[r]=o,o},i}(),jn=gu;gu.registerFactory("node",{defaultShapeType:"circle"}),gu.registerFactory("edge",{defaultShapeType:"line"}),gu.registerFactory("combo",{defaultShapeType:"circle"});var nc="bboxCache",ic="bboxCanvasCache",N3=function(){function i(r){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),r);var e=this.get("model"),n=e.id,a=this.get("type");n||(n=(0,f.uniqueId)(a),this.get("model").id=n),this.set("id",n);var o=r.group;o&&(o.set("item",this),o.set("id",n)),this.init(),this.draw();var s=e.shape||e.type||(a==="edge"?"line":"circle"),l=this.get("shapeFactory");if(l&&l[s]){var u=l[s].options;if(u&&u.stateStyles){var h=this.get("styles")||e.stateStyles;h=(0,f.deepMix)({},u.stateStyles,h),this.set("styles",h)}}}return i.prototype.calculateBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=vu(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.calculateCanvasBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=vu(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.drawInner=function(){var r=this,t=r.get("shapeFactory"),e=r.get("group"),n=r.get("model");e.clear();var a=n.visible;if(a!==void 0&&!a&&r.changeVisibility(a),!!t){r.updatePosition(n);var o=r.getShapeCfg(n),s=o.shape||o.type,l=t.draw(s,o,e);l&&(r.set("keyShape",l),l.set("isKeyShape",!0),l.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(t,s)}},i.prototype.setOriginStyle=function(r){var t={},e=this.get("group"),n=e.get("children"),a=this.getKeyShape(),o=this;(0,f.each)(n,function(u){var h=u.get("name");if(h)t[h]=o.getShapeStyleByName(h);else{var c=a.get("name"),v=o.getShapeStyleByName();c?t[c]=v:Object.assign(t,v)}});var s=this.getOriginStyle(),l={};r?l=(0,f.deepMix)({},s,t,r.style,{labelCfg:r.labelCfg}):l=(0,f.deepMix)({},s,t),o.set("originStyle",l)},i.prototype.restoreStates=function(r,t){var e=this,n=e.get("states");(0,f.each)(n,function(a){r.setState(t,a,!0,e)})},i.prototype.init=function(){var r=jn.getFactory(this.get("type"));this.set("shapeFactory",r)},i.prototype.get=function(r){return this._cfg[r]},i.prototype.set=function(r,t){(0,f.isPlainObject)(r)?this._cfg=$t($t({},this._cfg),r):this._cfg[r]=t},i.prototype.getDefaultCfg=function(){return{}},i.prototype.clearCache=function(){this.set(nc,null),this.set(ic,null)},i.prototype.beforeDraw=function(){},i.prototype.afterDraw=function(){},i.prototype.afterUpdate=function(){},i.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},i.prototype.getShapeStyleByName=function(r){var t=this.get("group"),e=this.getKeyShape();if(r&&(e=t.find(function(a){return a.get("name")===r})),e){var n={};return(0,f.each)(e.attr(),function(a,o){o!=="img"&&(n[o]=a)}),n}return{}},i.prototype.getShapeCfg=function(r){var t=this.get("styles");if(t){var e=r;return e.style=$t($t({},t),r.style),e}return r},i.prototype.getStateStyle=function(r){var t=this.get("styles"),e=t&&t[r];return e},i.prototype.getOriginStyle=function(){return this.get("originStyle")},i.prototype.getCurrentStatesStyle=function(){var r=this,t={};return(0,f.each)(r.getStates(),function(e){t=Object.assign(t,r.getStateStyle(e))}),t},i.prototype.setState=function(r,t){var e=this.get("states"),n=this.get("shapeFactory"),a=r,o=r;(0,f.isString)(t)&&(a=r+":"+t,o=r+":");var s=e;if((0,f.isBoolean)(t)){var l=e.indexOf(o);if(t){if(l>-1)return;e.push(a)}else l>-1&&e.splice(l,1)}else if((0,f.isString)(t)){var u=e.filter(function(v){return v.includes(o)});u.length>0&&this.clearStates(u),s=s.filter(function(v){return!v.includes(o)}),s.push(a),this.set("states",s)}if(n){var h=this.get("model"),c=h.shape||h.type;n.setState(c,r,t,this)}},i.prototype.clearStates=function(r){var t=this,e=t.getStates(),n=t.get("shapeFactory"),a=t.get("model"),o=a.shape||a.type;r||(r=e),(0,f.isString)(r)&&(r=[r]);var s=e.filter(function(l){return r.indexOf(l)===-1});t.set("states",s),r.forEach(function(l){n.setState(o,l,!1,t)})},i.prototype.getContainer=function(){return this.get("group")},i.prototype.getKeyShape=function(){return this.get("keyShape")},i.prototype.getModel=function(){return this.get("model")},i.prototype.getType=function(){return this.get("type")},i.prototype.getID=function(){return this.get("id")},i.prototype.isItem=function(){return!0},i.prototype.getStates=function(){return this.get("states")},i.prototype.hasState=function(r){var t=this.getStates();return t.indexOf(r)>=0},i.prototype.refresh=function(){var r=this.get("model");this.updatePosition(r),this.updateShape(),this.afterUpdate(),this.clearCache()},i.prototype.isOnlyMove=function(r){return!1},i.prototype.update=function(r){var t=this.get("model"),e=t.visible,n=r.visible;e!==n&&n!==void 0&&this.changeVisibility(n);var a={x:t.x,y:t.y};r.x=isNaN(r.x)?t.x:r.x,r.y=isNaN(r.y)?t.y:r.y;var o=this.get("styles");if(r.stateStyles){var s=r.stateStyles;(0,f.mix)(o,s),delete r.stateStyles}Object.assign(t,r);var l=this.isOnlyMove(r);l?this.updatePosition(r):((a.x!==r.x||a.y!==r.y)&&this.updatePosition(r),this.updateShape()),this.afterUpdate(),this.clearCache()},i.prototype.updateShape=function(){var r=this.get("shapeFactory"),t=this.get("model"),e=t.shape||t.type;if(r.shouldUpdate(e)&&e===this.get("currentShape")){var n=this.getShapeCfg(t);r.baseUpdate(e,n,this)}else this.draw();this.setOriginStyle(t),this.restoreStates(r,e)},i.prototype.updatePosition=function(r){var t=this.get("model"),e=(0,f.isNil)(r.x)?t.x:r.x,n=(0,f.isNil)(r.y)?t.y:r.y,a=this.get("group");(0,f.isNil)(e)||(0,f.isNil)(n)||(a.resetMatrix(),ex(a,{x:e,y:n}),t.x=e,t.y=n,this.clearCache())},i.prototype.getBBox=function(){var r=this.get(nc);return r||(r=this.calculateBBox(),this.set(nc,r)),r},i.prototype.getCanvasBBox=function(){var r=this.get(ic);return r||(r=this.calculateCanvasBBox(),this.set(ic,r)),r},i.prototype.toFront=function(){var r=this.get("group");r.toFront()},i.prototype.toBack=function(){var r=this.get("group");r.toBack()},i.prototype.show=function(){this.changeVisibility(!0)},i.prototype.hide=function(){this.changeVisibility(!1)},i.prototype.changeVisibility=function(r){var t=this.get("group");r?t.show():t.hide(),this.set("visible",r)},i.prototype.isVisible=function(){return this.get("visible")},i.prototype.enableCapture=function(r){var t=this.get("group");t&&t.set("capture",r)},i.prototype.destroy=function(){if(!this.destroyed){var r=this.get("animate"),t=this.get("group");r&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},i}(),Dx=N3,yu={source:"start",target:"end"},Na="Node",as="Point",Y3="Anchor",G3=function(i){In(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},r.prototype.setEnd=function(t,e){var n=yu[t]+as,a=t+Na,o=this.get(a);o&&!o.destroyed&&o.removeEdge(this),(0,f.isPlainObject)(e)?(this.set(n,e),this.set(a,null)):(e.addEdge(this),this.set(a,e),this.set(n,null))},r.prototype.getLinkPoint=function(t,e,n){var a=yu[t]+as,o=t+Na,s=this.get(a);if(!s){var l=this.get(o),u=t+Y3,h=this.getPrePoint(t,n),c=e[u];(0,f.isNil)(c)||(s=l.getLinkPointByAnchor(c)),s=s||l.getLinkPoint(h),(0,f.isNil)(s.index)||this.set(t+"AnchorIndex",s.index)}return s},r.prototype.getPrePoint=function(t,e){if(e&&e.length){var n=t==="source"?0:e.length-1;return e[n]}var a=t==="source"?"target":"source";return this.getEndPoint(a)},r.prototype.getEndPoint=function(t){var e=t+Na,n=yu[t]+as,a=this.get(e);return a?a.get("model"):this.get(n)},r.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),n=this.getEndPoint("target"),a=this.get("shapeFactory"),o=t.shape||t.type;return a.getControlPoints(o,{startPoint:e,endPoint:n})},r.prototype.getEndCenter=function(t){var e=t+Na,n=yu[t]+as,a=this.get(e);if(a){var o=a.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(n)},r.prototype.init=function(){i.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},r.prototype.getShapeCfg=function(t){var e=this,n=e.get("linkCenter"),a=i.prototype.getShapeCfg.call(this,t);if(n)a.startPoint=e.getEndCenter("source"),a.endPoint=e.getEndCenter("target");else{var o=a.controlPoints||e.getControlPointsByCenter(a);a.startPoint=e.getLinkPoint("source",t,o),a.endPoint=e.getLinkPoint("target",t,o)}return a.sourceNode=e.get("sourceNode"),a.targetNode=e.get("targetNode"),a},r.prototype.getModel=function(){var t=this.get("model"),e=this.get("source"+Na),n=this.get("target"+Na);return e?delete t["source"+Na]:t.source=this.get("start"+as),n?delete t["target"+Na]:t.target=this.get("end"+as),!(0,f.isString)(t.source)&&!(0,f.isPlainObject)(t.source)&&(t.source=t.source.getID()),!(0,f.isString)(t.target)&&!(0,f.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},r.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},r.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},r.prototype.getSource=function(){return this.get("source")},r.prototype.getTarget=function(){return this.get("target")},r.prototype.updatePosition=function(){},r.prototype.update=function(t){var e=this.get("model"),n=e.visible,a=t.visible;n!==a&&a!==void 0&&this.changeVisibility(a);var o=this.get("styles");if(t.stateStyles){var s=t.stateStyles;(0,f.mix)(o,s),delete t.stateStyles}Object.assign(e,t),this.updateShape(),this.afterUpdate(),this.clearCache()},r.prototype.destroy=function(){var t=this.get("source"+Na),e=this.get("target"+Na);t&&!t.destroyed&&t.removeEdge(this),e&&!e.destroyed&&e.removeEdge(this),i.prototype.destroy.call(this)},r}(Dx),z3=G3,zs=d(66974),ac="anchorPointsCache",X3="bboxCache",V3=function(i){In(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getNearestPoint=function(t,e){for(var n=0,a=t[0],o=Rs(t[0],e),s=0;s<t.length;s++){var l=t[s],u=Rs(l,e);u<o&&(a=l,o=u,n=s)}return a.anchorIndex=n,a},r.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("target")===t})},r.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("source")===t})},r.prototype.getNeighbors=function(t){var e=this,n=this.get("edges");if(t==="target"){var a=function(u){return u.getSource()===e};return n.filter(a).map(function(l){return l.getTarget()})}if(t==="source"){var o=function(u){return u.getTarget()===e};return n.filter(o).map(function(l){return l.getSource()})}var s=function(u){return u.getSource()===e?u.getTarget():u.getSource()};return n.map(s)},r.prototype.getLinkPointByAnchor=function(t){var e=this.getAnchorPoints();return e[t]},r.prototype.getLinkPoint=function(t){var e=this.get("keyShape"),n=e.get("type"),a=this.get("type"),o,s,l=this.getBBox();a==="combo"?(o=(l.maxX+l.minX)/2,s=(l.maxY+l.minY)/2):(o=l.centerX,s=l.centerY);var u=this.getAnchorPoints(),h;switch(n){case"circle":h=Qm({x:o,y:s,r:l.width/2},t);break;case"ellipse":h=Jm({x:o,y:s,rx:l.width/2,ry:l.height/2},t);break;default:h=$m(l,t)}var c=h;return u.length&&(c||(c=t),c=this.getNearestPoint(u,c)),c||(c={x:o,y:s}),c},r.prototype.getAnchorPoints=function(){var t=this.get(ac);if(!t){t=[];var e=this.get("shapeFactory"),n=this.getBBox(),a=this.get("model"),o=this.getShapeCfg(a),s=a.shape||a.type,l=e.getAnchorPoints(s,o)||[];(0,Mn.default)(l,function(u,h){var c=(0,zs.default)({x:n.minX+u[0]*n.width,y:n.minY+u[1]*n.height},u[2],{index:h});t.push(c)}),this.set(ac,t)}return t},r.prototype.addEdge=function(t){this.get("edges").push(t)},r.prototype.lock=function(){this.set("locked",!0)},r.prototype.unlock=function(){this.set("locked",!1)},r.prototype.hasLocked=function(){return this.get("locked")},r.prototype.removeEdge=function(t){var e=this.getEdges(),n=e.indexOf(t);n>-1&&e.splice(n,1)},r.prototype.clearCache=function(){this.set(X3,null),this.set(ac,null)},r.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!(0,Mi.default)(t.x),n=!(0,Mi.default)(t.y),a=Object.keys(t);return a.length===1&&(e||n)||a.length===2&&e&&n},r}(Dx),Fx=V3,H3="bboxCache",Rx="bboxCanvasCache",oc="sizeCache",W3="anchorPointsCache",j3=function(i){In(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},r.prototype.getShapeCfg=function(t){var e=this.get("styles"),n=this.get("bbox");if(e&&n){var a=t,o={r:Math.hypot(n.height,n.width)/2||Ye.defaultCombo.size[0]/2,width:n.width||Ye.defaultCombo.size[0],height:n.height||Ye.defaultCombo.size[1]};a.style=$t($t($t({},e),t.style),o);var s=t.padding||Ye.defaultCombo.padding;return(0,Ma.default)(s)?(o.r+=s,o.width+=s*2,o.height+=s*2):(o.r+=s[0],o.width+=s[1]+s[3]||s[1]*2,o.height+=s[0]+s[2]||s[0]*2),this.set(oc,o),a}return t},r.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=vu(t,e);n.x=n.minX,n.y=n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var a=this.get(oc);if(a){var o=t.get("type");o==="circle"?(n.width=a.r*2,n.height=a.r*2):(n.width=a.width,n.height=a.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2}else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n},r.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},r.prototype.getNodes=function(){var t=this;return t.get("nodes")},r.prototype.getCombos=function(){var t=this;return t.get("combos")},r.prototype.addChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.addNode(t);break;case"combo":e.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.addCombo=function(t){var e=this;return e.get("combos").push(t),!0},r.prototype.addNode=function(t){var e=this;return e.get("nodes").push(t),!0},r.prototype.removeChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.removeNode(t);break;case"combo":e.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.removeCombo=function(t){if(!!t){var e=this.getCombos(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.removeNode=function(t){if(!!t){var e=this.getNodes(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.isOnlyMove=function(t){return!1},r.prototype.getBBox=function(){this.set(Rx,null);var t=this.calculateCanvasBBox();return t},r.prototype.clearCache=function(){this.set(H3,null),this.set(Rx,null),this.set(W3,null)},r.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),this.set(oc,null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},r}(Fx),U3=j3,mu="node",xu="edge",Nx="vedge",bu="combo",Z3="default",Yx="Mapper",no="stateStyles",K3=Object.hasOwnProperty,$3=function(){function i(r){this.graph=r,this.destroyed=!1}return i.prototype.addItem=function(r,t){var e=this,n=this.graph,a=r===Nx?xu:r,o=n.get(a+"Group")||n.get("group"),s=(0,Mx.default)(a),l=null,u=n.get(a+(0,Mx.default)(no))||{},h=n.get(Z3+s);t[no]&&(u=t[no]);var c=n.get(a+Yx);if(c){var v=c(t);v[no]&&(u=v[no],delete v[no]),t=(0,ki.default)({},h,t,v)}else h&&(0,Mn.default)(h,function(ot,ut){K3.call(t,ut)||((0,Sx.default)(ot)?t[ut]=(0,wx.default)(ot):t[ut]=h[ut])});if(t.shape&&!t.type&&console.warn("shape \u5B57\u6BB5\u5373\u5C06\u88AB\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 type \u4EE3\u66FF"),n.emit("beforeadditem",{type:r,model:t}),r===xu||r===Nx){var y=void 0,A=void 0;if(y=t.source,A=t.target,y&&(0,gn.default)(y)&&(y=n.findById(y)),A&&(0,gn.default)(A)&&(A=n.findById(A)),!y||!A){console.warn("The source or target node of edge "+t.id+" does not exist!");return}y.getType&&y.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(y)),A.getType&&A.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(A)),l=new z3({model:t,source:y,target:A,styles:u,linkCenter:n.get("linkCenter"),group:o.addGroup()})}else if(r===mu)l=new Fx({model:t,styles:u,group:o.addGroup()});else if(r===bu){var k=t.children,R=tc(k,n);t.x=R.x||t.x||Math.random()*100,t.y=R.y||t.y||Math.random()*100;var H=o.addGroup();H.setZIndex(t.depth),l=new U3({model:t,styles:u,bbox:R,group:H});var V=l.getModel();(k||[]).forEach(function(ot){var ut=n.findById(ot.id);l.addChild(ut),ot.depth=V.depth+2}),t.collapsed&&setTimeout(function(){n.collapseCombo(l),e.updateCombo(l,[])},250)}if(l)return n.get(r+"s").push(l),n.get("itemMap")[l.get("id")]=l,n.emit("afteradditem",{item:l,model:t}),l},i.prototype.updateItem=function(r,t){var e=this.graph;if((0,gn.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n="";r.getType&&(n=r.getType());var a=e.get(n+Yx),o=r.getModel();if(a){var s=(0,ki.default)({},o,t),l=a(s),u=(0,ki.default)({},o,l,t);l[no]&&(r.set("styles",u[no]),delete u[no]),(0,Mn.default)(u,function(y,A){t[A]=y})}else(0,Mn.default)(t,function(y,A){o[A]&&(0,Sx.default)(y)&&!(0,Ci.default)(y)&&(t[A]=$t($t({},o[A]),t[A]))});if(e.emit("beforeupdateitem",{item:r,cfg:t}),n===xu){if(t.source){var h=t.source;(0,gn.default)(h)&&(h=e.findById(h)),r.setSource(h)}if(t.target){var c=t.target;(0,gn.default)(c)&&(c=e.findById(c)),r.setTarget(c)}}if(r.update(t),n===mu||n===bu){var v=r.getEdges();(0,Mn.default)(v,function(y){y.refresh()})}e.emit("afterupdateitem",{item:r,cfg:t})}},i.prototype.updateCombo=function(r,t){var e=this.graph;if((0,gn.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=tc(t,e);r.set("bbox",n),r.update({x:n.x,y:n.y});for(var a=r.getEdges()||[],o=a.length,s=0;s<o;s++){var l=a[s];l==null||l.refresh()}}},i.prototype.collapseCombo=function(r){var t=this.graph;(0,gn.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.hideItem(n)}),e.combos.forEach(function(n){t.hideItem(n)})},i.prototype.expandCombo=function(r){var t=this.graph;(0,gn.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.showItem(n)}),e.combos.forEach(function(n){n.getModel().collapsed?n.show():t.showItem(n)})},i.prototype.removeItem=function(r){var t=this,e=this.graph;if((0,gn.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=(0,wx.default)(r.getModel());e.emit("beforeremoveitem",{item:n});var a="";r.getType&&(a=r.getType());var o=e.get(a+"s"),s=o.indexOf(r);if(s>-1&&o.splice(s,1),a===xu){var l=e.get("v"+a+"s"),u=l.indexOf(r);u>-1&&l.splice(u,1)}var h=r.get("id"),c=e.get("itemMap");delete c[h];var v=e.get("comboTrees"),y=r.get("id");if(a===mu){var A=r.getModel().comboId;if(v){var k=v,R=!1;v.forEach(function(Ft){R||zi(Ft,function(Xt){if(Xt.id===y&&k){var Ut=k.indexOf(Xt);return k.splice(Ut,1),R=!0,!1}return k=Xt.children,!0})})}for(var H=r.getEdges(),V=H.length-1;V>=0;V--)e.removeItem(H[V],!1);A&&e.updateCombo(A)}else if(a===bu){var ot=r.getModel().parentId,ut,bt=!1;(v||[]).forEach(function(Xt){bt||zi(Xt,function(Ut){return Ut.id===y?(ut=Ut,bt=!0,!1):!0})}),ut.removed=!0,ut&&ut.children&&ut.children.forEach(function(Xt){t.removeItem(Xt.id)});for(var H=r.getEdges(),V=H.length;V>=0;V--)e.removeItem(H[V],!1);ot&&e.updateCombo(ot)}r.destroy(),e.emit("afterremoveitem",{item:n})}},i.prototype.setItemState=function(r,t,e){var n=this.graph,a=t;(0,gn.default)(e)&&(a=t+":"+e),!(r.hasState(a)===e||(0,gn.default)(e)&&r.hasState(a))&&(n.emit("beforeitemstatechange",{item:r,state:a,enabled:e}),r.setState(t,e),n.autoPaint(),n.emit("afteritemstatechange",{item:r,state:a,enabled:e}))},i.prototype.priorityState=function(r,t){var e=this.graph,n=r;(0,gn.default)(r)&&(n=e.findById(r)),this.setItemState(n,t,!1),this.setItemState(n,t,!0)},i.prototype.clearItemStates=function(r,t){var e=this.graph;(0,gn.default)(r)&&(r=e.findById(r)),e.emit("beforeitemstatesclear",{item:r,states:t}),r.clearStates(t),e.emit("afteritemstatesclear",{item:r,states:t})},i.prototype.refreshItem=function(r){var t=this.graph;(0,gn.default)(r)&&(r=t.findById(r)),t.emit("beforeitemrefresh",{item:r}),r.refresh(),t.emit("afteritemrefresh",{item:r})},i.prototype.addCombos=function(r,t){var e=this,n=this.graph;(r||[]).forEach(function(o){va(o,function(s){var l;return t.forEach(function(u){u.id===s.id&&(u.children=s.children,u.depth=s.depth,l=u)}),l&&e.addItem("combo",l),!0})});var a=n.get("comboGroup");a&&a.sort()},i.prototype.changeItemVisibility=function(r,t){var e=this,n=this.graph;if((0,gn.default)(r)&&(r=n.findById(r)),!r){console.warn("The item to be shown or hidden does not exist!");return}if(n.emit("beforeitemvisibilitychange",{item:r,visible:t}),r.changeVisibility(t),r.getType&&r.getType()===mu){var a=r.getEdges();(0,Mn.default)(a,function(h){t&&!(h.get("source").isVisible()&&h.get("target").isVisible())||e.changeItemVisibility(h,t)})}else if(r.getType&&r.getType()===bu){var o=n.get("comboTrees"),s=r.get("id"),l=[],u=!1;(o||[]).forEach(function(c){u||!c.children||c.children.length===0||zi(c,function(v){return v.id===s?(l=v.children,u=!0,!1):!0})}),l.forEach(function(c){var v=n.findById(c.id);e.changeItemVisibility(v,t)});var a=r.getEdges();(0,Mn.default)(a,function(c){t&&!(c.get("source").isVisible()&&c.get("target").isVisible())||e.changeItemVisibility(c,t)})}return n.emit("afteritemvisibilitychange",{item:r,visible:t}),r},i.prototype.destroy=function(){this.graph=null,this.destroyed=!0},i}(),Q3=$3,da=function(){function i(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return i.prototype.init=function(r){var t=this;t.nodes=r.nodes||[],t.edges=r.edges||[],t.combos=r.combos||[]},i.prototype.execute=function(){},i.prototype.layout=function(r){var t=this;t.init(r),t.execute()},i.prototype.getDefaultCfg=function(){return{}},i.prototype.updateCfg=function(r){var t=this;(0,zs.default)(t,r)},i.prototype.destroy=function(){var r=this;r.positions=null,r.nodes=null,r.edges=null,r.destroyed=!0},i}(),Gx={registerLayout:function(r,t,e){if(e===void 0&&(e=da),!t)throw new Error("please specify handler for this layout: "+r);var n=function(a){In(o,a);function o(s){var l=a.call(this)||this,u=l,h={},c=u.getDefaultCfg();return(0,zs.default)(h,c,t,s),(0,Mn.default)(h,function(v,y){u[y]=v}),l}return o}(e);Gx[r]=n}},zx=Gx;function J3(i,r,t,e){i.forEach(function(n,a){i[a].children=[],i[a].parent=[]}),e?r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].parent.push(i[a].id)}):r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].children.push(i[a].id)})}function q3(i,r,t){for(var e=t.length,n=0;n<e;n++)if(i.id===t[n].source&&r.id===t[n].target||r.id===t[n].source&&i.id===t[n].target)return!0;return!1}function tN(i,r){return i.degree<r.degree?-1:i.degree>r.degree?1:0}var eN=function(i){In(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.radius=null,t.startRadius=null,t.endRadius=null,t.startAngle=0,t.endAngle=2*Math.PI,t.clockwise=!0,t.divisions=1,t.ordering=null,t.angleRatio=1,t.nodes=[],t.edges=[],t.nodeMap={},t.degrees=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.radius,l=t.startRadius,u=t.endRadius,h=t.divisions,c=t.startAngle,v=t.endAngle,y=(v-c)/a,A={};e.forEach(function(Gt,te){A[Gt.id]=te}),t.nodeMap=A;var k=lu(e.length,A,n);t.degrees=k,!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),!s&&!l&&!u?s=t.height>t.width?t.width/2:t.height/2:!l&&u?l=u:l&&!u&&(u=l);var R=t.angleRatio,H=y*R;t.astep=H;var V=t.ordering,ot=[];V==="topology"?ot=t.topologyOrdering():V==="topology-directed"?ot=t.topologyOrdering(!0):V==="degree"?ot=t.degreeOrdering():ot=e;for(var ut=t.clockwise,bt=Math.ceil(a/h),Ft=0;Ft<a;++Ft){var Xt=s;!Xt&&l!==null&&u!==null&&(Xt=l+Ft*(u-l)/(a-1)),Xt||(Xt=10+Ft*100/(a-1));var Ut=c+Ft%bt*H+2*Math.PI/h*Math.floor(Ft/bt);ut||(Ut=v-Ft%bt*H-2*Math.PI/h*Math.floor(Ft/bt)),ot[Ft].x=o[0]+Math.cos(Ut)*Xt,ot[Ft].y=o[1]+Math.sin(Ut)*Xt,ot[Ft].weight=k[Ft]}}},r.prototype.topologyOrdering=function(t){t===void 0&&(t=!1);var e=this,n=e.degrees,a=e.edges,o=e.nodes,s=(0,f.clone)(o),l=e.nodeMap,u=[s[0]],h=[o[0]],c=[],v=o.length;c[0]=!0,J3(s,a,l,t);var y=0;return s.forEach(function(A,k){if(k!==0)if((k===v-1||n[k]!==n[k+1]||q3(u[y],A,a))&&c[k]!==!0)u.push(A),h.push(o[l[A.id]]),c[k]=!0,y++;else{for(var R=u[y].children,H=!1,V=0;V<R.length;V++){var ot=l[R[V]];if(n[ot]===n[k]&&c[ot]!==!0){u.push(s[ot]),h.push(o[l[s[ot].id]]),c[ot]=!0,H=!0;break}}for(var ut=0;!H&&(c[ut]||(u.push(s[ut]),h.push(o[l[s[ut].id]]),c[ut]=!0,H=!0),ut++,ut!==v););}}),h},r.prototype.degreeOrdering=function(){var t=this,e=t.nodes,n=[],a=t.degrees;return e.forEach(function(o,s){o.degree=a[s],n.push(o)}),n.sort(tN),n},r}(da),rN=eN,nN=function(i){In(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeSize=30,t.minNodeSpacing=10,t.preventOverlap=!1,t.equidistant=!1,t.startAngle=3/2*Math.PI,t.clockwise=!0,t.sortBy="degree",t.nodes=[],t.edges=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=[],l;(0,Ci.default)(t.nodeSize)?l=Math.max(t.nodeSize[0],t.nodeSize[1]):l=t.nodeSize,e.forEach(function(Ut){s.push(Ut);var Gt=l;(0,Ci.default)(Ut.size)?Gt=Math.max(Ut.size[0],Ut.size[1]):(0,f.isNumber)(Ut.size)&&(Gt=Ut.size),l=Math.max(l,Gt)}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.clockwise=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise;var u={},h={};if(s.forEach(function(Ut,Gt){u[Ut.id]=Ut,h[Ut.id]=Gt}),(t.sortBy==="degree"||!(0,gn.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",!(0,f.isNumber)(e[0].degree))){var c=lu(e.length,h,n);s.forEach(function(Ut,Gt){Ut.degree=c[Gt]})}s.sort(function(Ut,Gt){return Gt[t.sortBy]-Ut[t.sortBy]}),t.maxValueNode=s[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var v=[[]],y=v[0];s.forEach(function(Ut){if(y.length>0){var Gt=Math.abs(y[0][t.sortBy]-Ut[t.sortBy]);t.maxLevelDiff&&Gt>=t.maxLevelDiff&&(y=[],v.push(y))}y.push(Ut)});var A=l+t.minNodeSpacing;if(!t.preventOverlap){var k=v.length>0&&v[0].length>1,R=Math.min(t.width,t.height)/2-A,H=R/(v.length+(k?1:0));A=Math.min(A,H)}var V=0;if(v.forEach(function(Ut){var Gt=t.sweep;Gt===void 0&&(Gt=2*Math.PI-2*Math.PI/Ut.length);var te=Ut.dTheta=Gt/Math.max(1,Ut.length-1);if(Ut.length>1&&t.preventOverlap){var ue=Math.cos(te)-Math.cos(0),se=Math.sin(te)-Math.sin(0),Me=Math.sqrt(A*A/(ue*ue+se*se));V=Math.max(Me,V)}Ut.r=V,V+=A}),t.equidistant){for(var ot=0,ut=0,bt=0;bt<v.length;bt++){var Ft=v[bt],Xt=Ft.r-ut;ot=Math.max(ot,Xt)}ut=0,v.forEach(function(Ut,Gt){Gt===0&&(ut=Ut.r),Ut.r=ut,ut+=ot})}v.forEach(function(Ut){var Gt=Ut.dTheta,te=Ut.r;Ut.forEach(function(ue,se){var Me=t.startAngle+(t.clockwise?1:-1)*Gt*se;ue.x=o[0]+te*Math.cos(Me),ue.y=o[1]+te*Math.sin(Me)})})}},r}(da),iN=nN,aN=d(49772),Xx=d.n(aN),oN=function(i){In(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.rankdir="TB",t.nodesep=50,t.ranksep=50,t.controlPoints=!1,t.sortByCombo=!1,t}return r.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.nodeSize,a=t.rankdir;if(!!e){var o=t.edges||[],s=new(Xx()).graphlib.Graph,l;n?(0,Ci.default)(n)?l=function(){return n}:l=function(){return[n,n]}:l=function(y){return y.size?(0,Ci.default)(y.size)?y.size:[y.size,y.size]:[40,40]};var u=wu(t.nodesepFunc,t.nodesep,50),h=wu(t.ranksepFunc,t.ranksep,50);(a==="LR"||a==="RL")&&(u=wu(t.ranksepFunc,t.ranksep,50),h=wu(t.nodesepFunc,t.nodesep,50)),s.setDefaultEdgeLabel(function(){return{}}),s.setGraph(t),e.forEach(function(v){var y=l(v),A=h(v),k=u(v),R=y[0]+2*k,H=y[1]+2*A;s.setNode(v.id,{width:R,height:H})}),o.forEach(function(v){s.setEdge(v.source,v.target,{weight:v.weight||1})}),Xx().layout(s);var c;s.nodes().forEach(function(v){c=s.node(v);var y=e.findIndex(function(A){return A.id===v});e[y].x=c.x,e[y].y=c.y}),s.edges().forEach(function(v){c=s.edge(v);var y=o.findIndex(function(A){return A.source===v.v&&A.target===v.w});t.controlPoints&&o[y].type!=="loop"&&o[y].shape!=="loop"&&(o[y].controlPoints=c.points.slice(1,c.points.length-1))}),t.sortByCombo&&t.sortLevel("comboId")}},r.prototype.sortLevel=function(t){var e=this,n=e.nodes,a={};n.forEach(function(o){a[o.y]||(a[o.y]={y:o.y,nodes:[]}),a[o.y].nodes.push(o)}),Object.keys(a).forEach(function(o){var s=a[o].nodes,l=s.length,u={};if(s.forEach(function(k){var R=k.comboId;u[R]||(u[R]={x:0,y:0,count:0}),u[R].x+=k.x,u[R].y+=k.y,u[R].count++}),Object.keys(u).forEach(function(k){u[k].x/=u[k].count,u[k].y/=u[k].count}),l!==1){var h=s.sort(function(k,R){return k.x-R.x}),c=h[0].x,v=h[l-1].x,y=(v-c)/(l-1),A=s.sort(function(k,R){var H=k[t]||"undefined",V=R[t]||"undefined";return H<V?-1:H>V?1:0});A.forEach(function(k,R){k.x=c+R*y})}})},r}(da),sN=oN;function wu(i,r,t){var e;return i?e=i:(0,f.isNumber)(r)?e=function(){return r}:e=function(){return t},e}function lN(i){const r=+this._x.call(null,i),t=+this._y.call(null,i);return Vx(this.cover(r,t),r,t,i)}function Vx(i,r,t,e){if(isNaN(r)||isNaN(t))return i;var n,a=i._root,o={data:e},s=i._x0,l=i._y0,u=i._x1,h=i._y1,c,v,y,A,k,R,H,V;if(!a)return i._root=o,i;for(;a.length;)if((k=r>=(c=(s+u)/2))?s=c:u=c,(R=t>=(v=(l+h)/2))?l=v:h=v,n=a,!(a=a[H=R<<1|k]))return n[H]=o,i;if(y=+i._x.call(null,a.data),A=+i._y.call(null,a.data),r===y&&t===A)return o.next=a,n?n[H]=o:i._root=o,i;do n=n?n[H]=new Array(4):i._root=new Array(4),(k=r>=(c=(s+u)/2))?s=c:u=c,(R=t>=(v=(l+h)/2))?l=v:h=v;while((H=R<<1|k)==(V=(A>=v)<<1|y>=c));return n[V]=a,n[H]=o,i}function uN(i){var r,t,e=i.length,n,a,o=new Array(e),s=new Array(e),l=Infinity,u=Infinity,h=-Infinity,c=-Infinity;for(t=0;t<e;++t)isNaN(n=+this._x.call(null,r=i[t]))||isNaN(a=+this._y.call(null,r))||(o[t]=n,s[t]=a,n<l&&(l=n),n>h&&(h=n),a<u&&(u=a),a>c&&(c=a));if(l>h||u>c)return this;for(this.cover(l,u).cover(h,c),t=0;t<e;++t)Vx(this,o[t],s[t],i[t]);return this}function fN(i,r){if(isNaN(i=+i)||isNaN(r=+r))return this;var t=this._x0,e=this._y0,n=this._x1,a=this._y1;if(isNaN(t))n=(t=Math.floor(i))+1,a=(e=Math.floor(r))+1;else{for(var o=n-t||1,s=this._root,l,u;t>i||i>=n||e>r||r>=a;)switch(u=(r<e)<<1|i<t,l=new Array(4),l[u]=s,s=l,o*=2,u){case 0:n=t+o,a=e+o;break;case 1:t=n-o,a=e+o;break;case 2:n=t+o,e=a-o;break;case 3:t=n-o,e=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=t,this._y0=e,this._x1=n,this._y1=a,this}function hN(){var i=[];return this.visit(function(r){if(!r.length)do i.push(r.data);while(r=r.next)}),i}function cN(i){return arguments.length?this.cover(+i[0][0],+i[0][1]).cover(+i[1][0],+i[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ui(i,r,t,e,n){this.node=i,this.x0=r,this.y0=t,this.x1=e,this.y1=n}function vN(i,r,t){var e,n=this._x0,a=this._y0,o,s,l,u,h=this._x1,c=this._y1,v=[],y=this._root,A,k;for(y&&v.push(new Ui(y,n,a,h,c)),t==null?t=Infinity:(n=i-t,a=r-t,h=i+t,c=r+t,t*=t);A=v.pop();)if(!(!(y=A.node)||(o=A.x0)>h||(s=A.y0)>c||(l=A.x1)<n||(u=A.y1)<a))if(y.length){var R=(o+l)/2,H=(s+u)/2;v.push(new Ui(y[3],R,H,l,u),new Ui(y[2],o,H,R,u),new Ui(y[1],R,s,l,H),new Ui(y[0],o,s,R,H)),(k=(r>=H)<<1|i>=R)&&(A=v[v.length-1],v[v.length-1]=v[v.length-1-k],v[v.length-1-k]=A)}else{var V=i-+this._x.call(null,y.data),ot=r-+this._y.call(null,y.data),ut=V*V+ot*ot;if(ut<t){var bt=Math.sqrt(t=ut);n=i-bt,a=r-bt,h=i+bt,c=r+bt,e=y.data}}return e}function dN(i){if(isNaN(h=+this._x.call(null,i))||isNaN(c=+this._y.call(null,i)))return this;var r,t=this._root,e,n,a,o=this._x0,s=this._y0,l=this._x1,u=this._y1,h,c,v,y,A,k,R,H;if(!t)return this;if(t.length)for(;;){if((A=h>=(v=(o+l)/2))?o=v:l=v,(k=c>=(y=(s+u)/2))?s=y:u=y,r=t,!(t=t[R=k<<1|A]))return this;if(!t.length)break;(r[R+1&3]||r[R+2&3]||r[R+3&3])&&(e=r,H=R)}for(;t.data!==i;)if(n=t,!(t=t.next))return this;return(a=t.next)&&delete t.next,n?(a?n.next=a:delete n.next,this):r?(a?r[R]=a:delete r[R],(t=r[0]||r[1]||r[2]||r[3])&&t===(r[3]||r[2]||r[1]||r[0])&&!t.length&&(e?e[H]=t:this._root=t),this):(this._root=a,this)}function pN(i){for(var r=0,t=i.length;r<t;++r)this.remove(i[r]);return this}function gN(){return this._root}function yN(){var i=0;return this.visit(function(r){if(!r.length)do++i;while(r=r.next)}),i}function mN(i){var r=[],t,e=this._root,n,a,o,s,l;for(e&&r.push(new Ui(e,this._x0,this._y0,this._x1,this._y1));t=r.pop();)if(!i(e=t.node,a=t.x0,o=t.y0,s=t.x1,l=t.y1)&&e.length){var u=(a+s)/2,h=(o+l)/2;(n=e[3])&&r.push(new Ui(n,u,h,s,l)),(n=e[2])&&r.push(new Ui(n,a,h,u,l)),(n=e[1])&&r.push(new Ui(n,u,o,s,h)),(n=e[0])&&r.push(new Ui(n,a,o,u,h))}return this}function xN(i){var r=[],t=[],e;for(this._root&&r.push(new Ui(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var n=e.node;if(n.length){var a,o=e.x0,s=e.y0,l=e.x1,u=e.y1,h=(o+l)/2,c=(s+u)/2;(a=n[0])&&r.push(new Ui(a,o,s,h,c)),(a=n[1])&&r.push(new Ui(a,h,s,l,c)),(a=n[2])&&r.push(new Ui(a,o,c,h,u)),(a=n[3])&&r.push(new Ui(a,h,c,l,u))}t.push(e)}for(;e=t.pop();)i(e.node,e.x0,e.y0,e.x1,e.y1);return this}function bN(i){return i[0]}function wN(i){return arguments.length?(this._x=i,this):this._x}function SN(i){return i[1]}function MN(i){return arguments.length?(this._y=i,this):this._y}function sc(i,r,t){var e=new lc(r==null?bN:r,t==null?SN:t,NaN,NaN,NaN,NaN);return i==null?e:e.addAll(i)}function lc(i,r,t,e,n,a){this._x=i,this._y=r,this._x0=t,this._y0=e,this._x1=n,this._y1=a,this._root=void 0}function Hx(i){for(var r={data:i.data},t=r;i=i.next;)t=t.next={data:i.data};return r}var Zi=sc.prototype=lc.prototype;Zi.copy=function(){var i=new lc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,t,e;if(!r)return i;if(!r.length)return i._root=Hx(r),i;for(t=[{source:r,target:i._root=new Array(4)}];r=t.pop();)for(var n=0;n<4;++n)(e=r.source[n])&&(e.length?t.push({source:e,target:r.target[n]=new Array(4)}):r.target[n]=Hx(e));return i},Zi.add=lN,Zi.addAll=uN,Zi.cover=fN,Zi.data=hN,Zi.extent=cN,Zi.find=vN,Zi.remove=dN,Zi.removeAll=pN,Zi.root=gN,Zi.size=yN,Zi.visit=mN,Zi.visitAfter=xN,Zi.x=wN,Zi.y=MN;function Ki(i){return function(){return i}}function xo(i){return(i()-.5)*1e-6}var CN={value:function(){}};function Wx(){for(var i=0,r=arguments.length,t={},e;i<r;++i){if(!(e=arguments[i]+"")||e in t||/[\s.]/.test(e))throw new Error("illegal type: "+e);t[e]=[]}return new Su(t)}function Su(i){this._=i}function EN(i,r){return i.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}Su.prototype=Wx.prototype={constructor:Su,on:function(r,t){var e=this._,n=EN(r+"",e),a,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((a=(r=n[o]).type)&&(a=AN(e[a],r.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(a=(r=n[o]).type)e[a]=jx(e[a],r.name,t);else if(t==null)for(a in e)e[a]=jx(e[a],r.name,null);return this},copy:function(){var r={},t=this._;for(var e in t)r[e]=t[e].slice();return new Su(r)},call:function(r,t){if((a=arguments.length-2)>0)for(var e=new Array(a),n=0,a,o;n<a;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(o=this._[r],n=0,a=o.length;n<a;++n)o[n].value.apply(t,e)},apply:function(r,t,e){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var n=this._[r],a=0,o=n.length;a<o;++a)n[a].value.apply(t,e)}};function AN(i,r){for(var t=0,e=i.length,n;t<e;++t)if((n=i[t]).name===r)return n.value}function jx(i,r,t){for(var e=0,n=i.length;e<n;++e)if(i[e].name===r){i[e]=CN,i=i.slice(0,e).concat(i.slice(e+1));break}return t!=null&&i.push({name:r,value:t}),i}var TN=Wx,os=0,Xs=0,Vs=0,Ux=1e3,Mu,Hs,Cu=0,No=0,Eu=0,Ws=typeof performance=="object"&&performance.now?performance:Date,Zx=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function Kx(){return No||(Zx(PN),No=Ws.now()+Eu)}function PN(){No=0}function uc(){this._call=this._time=this._next=null}uc.prototype=$x.prototype={constructor:uc,restart:function(i,r,t){if(typeof i!="function")throw new TypeError("callback is not a function");t=(t==null?Kx():+t)+(r==null?0:+r),!this._next&&Hs!==this&&(Hs?Hs._next=this:Mu=this,Hs=this),this._call=i,this._time=t,fc()},stop:function(){this._call&&(this._call=null,this._time=Infinity,fc())}};function $x(i,r,t){var e=new uc;return e.restart(i,r,t),e}function _N(){Kx(),++os;for(var i=Mu,r;i;)(r=No-i._time)>=0&&i._call.call(null,r),i=i._next;--os}function Qx(){No=(Cu=Ws.now())+Eu,os=Xs=0;try{_N()}finally{os=0,ON(),No=0}}function LN(){var i=Ws.now(),r=i-Cu;r>Ux&&(Eu-=r,Cu=i)}function ON(){for(var i,r=Mu,t,e=Infinity;r;)r._call?(e>r._time&&(e=r._time),i=r,r=r._next):(t=r._next,r._next=null,r=i?i._next=t:Mu=t);Hs=i,fc(e)}function fc(i){if(!os){Xs&&(Xs=clearTimeout(Xs));var r=i-No;r>24?(i<Infinity&&(Xs=setTimeout(Qx,i-Ws.now()-Eu)),Vs&&(Vs=clearInterval(Vs))):(Vs||(Cu=Ws.now(),Vs=setInterval(LN,Ux)),os=1,Zx(Qx))}}var IN=1664525,kN=1013904223,Jx=4294967296;function BN(){var i=1;return function(){return(i=(IN*i+kN)%Jx)/Jx}}function DN(i){return i.x}function FN(i){return i.y}var RN=10,NN=Math.PI*(3-Math.sqrt(5));function qx(i){var r,t=1,e=.001,n=1-Math.pow(e,1/300),a=0,o=.6,s=new Map,l=$x(c),u=TN("tick","end"),h=BN();i==null&&(i=[]);function c(){v(),u.call("tick",r),t<e&&(l.stop(),u.call("end",r))}function v(k){var R,H=i.length,V;k===void 0&&(k=1);for(var ot=0;ot<k;++ot)for(t+=(a-t)*n,s.forEach(function(ut){ut(t)}),R=0;R<H;++R)V=i[R],V.fx==null?V.x+=V.vx*=o:(V.x=V.fx,V.vx=0),V.fy==null?V.y+=V.vy*=o:(V.y=V.fy,V.vy=0);return r}function y(){for(var k=0,R=i.length,H;k<R;++k){if(H=i[k],H.index=k,H.fx!=null&&(H.x=H.fx),H.fy!=null&&(H.y=H.fy),isNaN(H.x)||isNaN(H.y)){var V=RN*Math.sqrt(.5+k),ot=k*NN;H.x=V*Math.cos(ot),H.y=V*Math.sin(ot)}(isNaN(H.vx)||isNaN(H.vy))&&(H.vx=H.vy=0)}}function A(k){return k.initialize&&k.initialize(i,h),k}return y(),r={tick:v,restart:function(){return l.restart(c),r},stop:function(){return l.stop(),r},nodes:function(R){return arguments.length?(i=R,y(),s.forEach(A),r):i},alpha:function(R){return arguments.length?(t=+R,r):t},alphaMin:function(R){return arguments.length?(e=+R,r):e},alphaDecay:function(R){return arguments.length?(n=+R,r):+n},alphaTarget:function(R){return arguments.length?(a=+R,r):a},velocityDecay:function(R){return arguments.length?(o=1-R,r):1-o},randomSource:function(R){return arguments.length?(h=R,s.forEach(A),r):h},force:function(R,H){return arguments.length>1?(H==null?s.delete(R):s.set(R,A(H)),r):s.get(R)},find:function(R,H,V){var ot=0,ut=i.length,bt,Ft,Xt,Ut,Gt;for(V==null?V=Infinity:V*=V,ot=0;ot<ut;++ot)Ut=i[ot],bt=R-Ut.x,Ft=H-Ut.y,Xt=bt*bt+Ft*Ft,Xt<V&&(Gt=Ut,V=Xt);return Gt},on:function(R,H){return arguments.length>1?(u.on(R,H),r):u.on(R)}}}function t1(){var i,r,t,e,n=Ki(-30),a,o=1,s=Infinity,l=.81;function u(y){var A,k=i.length,R=sc(i,DN,FN).visitAfter(c);for(e=y,A=0;A<k;++A)r=i[A],R.visit(v)}function h(){if(!!i){var y,A=i.length,k;for(a=new Array(A),y=0;y<A;++y)k=i[y],a[k.index]=+n(k,y,i)}}function c(y){var A=0,k,R,H=0,V,ot,ut;if(y.length){for(V=ot=ut=0;ut<4;++ut)(k=y[ut])&&(R=Math.abs(k.value))&&(A+=k.value,H+=R,V+=R*k.x,ot+=R*k.y);y.x=V/H,y.y=ot/H}else{k=y,k.x=k.data.x,k.y=k.data.y;do A+=a[k.data.index];while(k=k.next)}y.value=A}function v(y,A,k,R){if(!y.value)return!0;var H=y.x-r.x,V=y.y-r.y,ot=R-A,ut=H*H+V*V;if(ot*ot/l<ut)return ut<s&&(H===0&&(H=xo(t),ut+=H*H),V===0&&(V=xo(t),ut+=V*V),ut<o&&(ut=Math.sqrt(o*ut)),r.vx+=H*y.value*e/ut,r.vy+=V*y.value*e/ut),!0;if(y.length||ut>=s)return;(y.data!==r||y.next)&&(H===0&&(H=xo(t),ut+=H*H),V===0&&(V=xo(t),ut+=V*V),ut<o&&(ut=Math.sqrt(o*ut)));do y.data!==r&&(ot=a[y.data.index]*e/ut,r.vx+=H*ot,r.vy+=V*ot);while(y=y.next)}return u.initialize=function(y,A){i=y,t=A,h()},u.strength=function(y){return arguments.length?(n=typeof y=="function"?y:Ki(+y),h(),u):n},u.distanceMin=function(y){return arguments.length?(o=y*y,u):Math.sqrt(o)},u.distanceMax=function(y){return arguments.length?(s=y*y,u):Math.sqrt(s)},u.theta=function(y){return arguments.length?(l=y*y,u):Math.sqrt(l)},u}function YN(i,r){var t,e=1;i==null&&(i=0),r==null&&(r=0);function n(){var a,o=t.length,s,l=0,u=0;for(a=0;a<o;++a)s=t[a],l+=s.x,u+=s.y;for(l=(l/o-i)*e,u=(u/o-r)*e,a=0;a<o;++a)s=t[a],s.x-=l,s.y-=u}return n.initialize=function(a){t=a},n.x=function(a){return arguments.length?(i=+a,n):i},n.y=function(a){return arguments.length?(r=+a,n):r},n.strength=function(a){return arguments.length?(e=+a,n):e},n}function GN(i){return i.index}function e1(i,r){var t=i.get(r);if(!t)throw new Error("node not found: "+r);return t}function r1(i){var r=GN,t=c,e,n=Ki(30),a,o,s,l,u,h=1;i==null&&(i=[]);function c(R){return 1/Math.min(s[R.source.index],s[R.target.index])}function v(R){for(var H=0,V=i.length;H<h;++H)for(var ot=0,ut,bt,Ft,Xt,Ut,Gt,te;ot<V;++ot)ut=i[ot],bt=ut.source,Ft=ut.target,Xt=Ft.x+Ft.vx-bt.x-bt.vx||xo(u),Ut=Ft.y+Ft.vy-bt.y-bt.vy||xo(u),Gt=Math.sqrt(Xt*Xt+Ut*Ut),Gt=(Gt-a[ot])/Gt*R*e[ot],Xt*=Gt,Ut*=Gt,Ft.vx-=Xt*(te=l[ot]),Ft.vy-=Ut*te,bt.vx+=Xt*(te=1-te),bt.vy+=Ut*te}function y(){if(!!o){var R,H=o.length,V=i.length,ot=new Map(o.map(function(bt,Ft){return[r(bt,Ft,o),bt]})),ut;for(R=0,s=new Array(H);R<V;++R)ut=i[R],ut.index=R,typeof ut.source!="object"&&(ut.source=e1(ot,ut.source)),typeof ut.target!="object"&&(ut.target=e1(ot,ut.target)),s[ut.source.index]=(s[ut.source.index]||0)+1,s[ut.target.index]=(s[ut.target.index]||0)+1;for(R=0,l=new Array(V);R<V;++R)ut=i[R],l[R]=s[ut.source.index]/(s[ut.source.index]+s[ut.target.index]);e=new Array(V),A(),a=new Array(V),k()}}function A(){if(!!o)for(var R=0,H=i.length;R<H;++R)e[R]=+t(i[R],R,i)}function k(){if(!!o)for(var R=0,H=i.length;R<H;++R)a[R]=+n(i[R],R,i)}return v.initialize=function(R,H){o=R,u=H,y()},v.links=function(R){return arguments.length?(i=R,y(),v):i},v.id=function(R){return arguments.length?(r=R,v):r},v.iterations=function(R){return arguments.length?(h=+R,v):h},v.strength=function(R){return arguments.length?(t=typeof R=="function"?R:Ki(+R),A(),v):t},v.distance=function(R){return arguments.length?(n=typeof R=="function"?R:Ki(+R),k(),v):n},v}function zN(i){return i.x+i.vx}function XN(i){return i.y+i.vy}function n1(i){var r,t,e,n=1,a=1;typeof i!="function"&&(i=Ki(i==null?1:+i));function o(){for(var u,h=r.length,c,v,y,A,k,R,H=0;H<a;++H)for(c=sc(r,zN,XN).visitAfter(s),u=0;u<h;++u)v=r[u],k=t[v.index],R=k*k,y=v.x+v.vx,A=v.y+v.vy,c.visit(V);function V(ot,ut,bt,Ft,Xt){var Ut=ot.data,Gt=ot.r,te=k+Gt;if(Ut){if(Ut.index>v.index){var ue=y-Ut.x-Ut.vx,se=A-Ut.y-Ut.vy,Me=ue*ue+se*se;Me<te*te&&(ue===0&&(ue=xo(e),Me+=ue*ue),se===0&&(se=xo(e),Me+=se*se),Me=(te-(Me=Math.sqrt(Me)))/Me*n,v.vx+=(ue*=Me)*(te=(Gt*=Gt)/(R+Gt)),v.vy+=(se*=Me)*te,Ut.vx-=ue*(te=1-te),Ut.vy-=se*te)}return}return ut>y+te||Ft<y-te||bt>A+te||Xt<A-te}}function s(u){if(u.data)return u.r=t[u.data.index];for(var h=u.r=0;h<4;++h)u[h]&&u[h].r>u.r&&(u.r=u[h].r)}function l(){if(!!r){var u,h=r.length,c;for(t=new Array(h),u=0;u<h;++u)c=r[u],t[c.index]=+i(c,u,r)}}return o.initialize=function(u,h){r=u,e=h,l()},o.iterations=function(u){return arguments.length?(a=+u,o):a},o.strength=function(u){return arguments.length?(n=+u,o):n},o.radius=function(u){return arguments.length?(i=typeof u=="function"?u:Ki(+u),l(),o):i},o}function VN(i){var r=Ki(.1),t,e,n;typeof i!="function"&&(i=Ki(i==null?0:+i));function a(s){for(var l=0,u=t.length,h;l<u;++l)h=t[l],h.vx+=(n[l]-h.x)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:Ki(+s),o(),a):r},a.x=function(s){return arguments.length?(i=typeof s=="function"?s:Ki(+s),o(),a):i},a}function HN(i){var r=Ki(.1),t,e,n;typeof i!="function"&&(i=Ki(i==null?0:+i));function a(s){for(var l=0,u=t.length,h;l<u;++l)h=t[l],h.vy+=(n[l]-h.y)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:Ki(+s),o(),a):r},a.y=function(s){return arguments.length?(i=typeof s=="function"?s:Ki(+s),o(),a):i},a}function WN(){function i(Ze){return function(){return Ze}}var r=function(cr){return cr.cluster},t=i(1),e=i(-1),n=i(100),a=i(.1),o=[0,0],s=[],l={},u=[],h=100,c=100,v={none:{x:0,y:0}},y=[],A,k="force",R=!0,H=.1;function V(Ze){if(!R)return V;A.tick(),Ut();for(var cr=0,Tr=s.length,dr=void 0,vr=Ze*H;cr<Tr;++cr)dr=s[cr],dr.vx+=(v[r(dr)].x-dr.x)*vr,dr.vy+=(v[r(dr)].y-dr.y)*vr}function ot(){!s||ut()}function ut(){if(!(!s||!s.length)){if(r(s[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var Ze=bt();A=qx(Ze.nodes).force("x",VN(h).strength(.1)).force("y",HN(c).strength(.1)).force("collide",n1(function(cr){return cr.r}).iterations(4)).force("charge",t1().strength(e)).force("links",r1(Ze.nodes.length?Ze.links:[]).distance(n).strength(a)),y=A.nodes(),Ut()}}function bt(){var Ze=[],cr=[],Tr={},dr=[],vr={},Lr=[];return vr=Ft(s),Lr=Xt(u),dr=Object.keys(vr),dr.forEach(function(jr,xr){var Le=vr[jr];Ze.push({id:jr,size:Le.count,r:Math.sqrt(Le.sumforceNodeSize/Math.PI)}),Tr[jr]=xr}),Lr.forEach(function(jr){var xr=Tr[jr.source],Le=Tr[jr.target];xr!==void 0&&Le!==void 0&&cr.push({source:xr,target:Le,count:jr.count})}),{nodes:Ze,links:cr}}function Ft(Ze){var cr={};return Ze.forEach(function(Tr){var dr=r(Tr);cr[dr]||(cr[dr]={count:0,sumforceNodeSize:0})}),Ze.forEach(function(Tr){var dr=r(Tr),vr=t(Tr),Lr=cr[dr];Lr.count=Lr.count+1,Lr.sumforceNodeSize=Lr.sumforceNodeSize+Math.PI*(vr*vr)*1.3,cr[dr]=Lr}),cr}function Xt(Ze){var cr={},Tr=[];Ze.forEach(function(vr){var Lr=Gt(vr),jr=0;cr[Lr]!==void 0&&(jr=cr[Lr]),jr+=1,cr[Lr]=jr});var dr=Object.entries(cr);return dr.forEach(function(vr){var Lr=vr[0],jr=vr[1],xr=Lr.split("~")[0],Le=Lr.split("~")[1];xr!==void 0&&Le!==void 0&&Tr.push({source:xr,target:Le,count:jr})}),Tr}function Ut(){return v={none:{x:0,y:0}},y.forEach(function(Ze){v[Ze.id]={x:Ze.x-o[0],y:Ze.y-o[1]}}),v}function Gt(Ze){var cr=r(l[Ze.source]),Tr=r(l[Ze.target]);return cr<=Tr?cr+"~"+Tr:Tr+"~"+cr}function te(Ze){l={},Ze.forEach(function(cr){l[cr.id]=cr})}function ue(Ze){return arguments.length?(k=Ze,ot(),V):k}function se(Ze){return arguments.length?typeof Ze=="string"?(r=function(Tr){return Tr[Ze]},V):(r=Ze,V):r}function Me(Ze){return arguments.length?(R=Ze,V):R}function Pe(Ze){return arguments.length?(H=Ze,V):H}function Te(Ze){return arguments.length?(h=Ze,V):h}function Ve(Ze){return arguments.length?(c=Ze,V):c}function je(Ze){return arguments.length?(te(Ze||[]),s=Ze||[],V):s}function Ue(Ze){return arguments.length?(u=Ze||[],ot(),V):u}function Ge(Ze){return arguments.length?(typeof Ze=="function"?t=Ze:t=i(+Ze),ot(),V):t}function ze(Ze){return arguments.length?(typeof Ze=="function"?e=Ze:e=i(+Ze),ot(),V):e}function ur(Ze){return arguments.length?(typeof Ze=="function"?n=Ze:n=i(+Ze),ot(),V):n}function lr(Ze){return arguments.length?(typeof Ze=="function"?a=Ze:a=i(+Ze),ot(),V):a}function pr(Ze){return arguments.length?(o=Ze,V):o}return V.initialize=function(Ze){s=Ze,ot()},V.template=ue,V.groupBy=se,V.enableGrouping=Me,V.strength=Pe,V.centerX=Te,V.centerY=Ve,V.nodes=je,V.links=Ue,V.forceNodeSize=Ge,V.nodeSize=V.forceNodeSize,V.forceCharge=ze,V.forceLinkDistance=ur,V.forceLinkStrength=lr,V.offset=pr,V.getFocis=Ut,V}var io={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK"},jN=function(i){In(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeStrength=null,t.edgeStrength=null,t.preventOverlap=!1,t.clusterNodeStrength=null,t.clusterEdgeStrength=null,t.clusterEdgeDistance=null,t.clusterNodeSize=null,t.clusterFociStrength=null,t.linkDistance=50,t.alphaDecay=.028,t.alphaMin=.001,t.alpha=.3,t.collideStrength=1,t.workerEnabled=!1,t.tick=function(){},t.onLayoutEnd=function(){},t.onTick=function(){},t.ticking=void 0,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},r.prototype.init=function(t){var e=this;e.nodes=t.nodes||[];var n=t.edges||[];e.edges=n.map(function(a){var o={},s=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(a).forEach(function(l){s.indexOf(l)>-1||(o[l]=a[l])}),o}),e.ticking=!1},r.prototype.execute=function(t){var e=this,n=e.nodes,a=e.edges;if(!e.ticking){var o=e.forceSimulation,s=e.alphaMin,l=e.alphaDecay,u=e.alpha;if(o)t&&(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(n),e.clusterForce.links(a)),o.nodes(n),e.edgeForce.links(a)),e.preventOverlap&&e.overlapProcess(o),o.alpha(u).restart(),this.ticking=!0;else try{var h=t1();if(e.nodeStrength&&h.strength(e.nodeStrength),o=qx().nodes(n),e.clustering){var c=WN();c.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),a&&c.links(a),n&&c.nodes(n),c.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=c,o.force("group",c)}if(o.force("center",YN(e.center[0],e.center[1])).force("charge",h).alpha(u).alphaDecay(l).alphaMin(s),e.preventOverlap&&e.overlapProcess(o),a){var v=r1().id(function(k){return k.id}).links(a);e.edgeStrength&&v.strength(e.edgeStrength),e.linkDistance&&v.distance(e.linkDistance),e.edgeForce=v,o.force("link",v)}if(e.workerEnabled&&!KN()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!e.workerEnabled)o.on("tick",function(){e.tick()}).on("end",function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()}),e.ticking=!0;else{o.stop();for(var y=ZN(o),A=1;A<=y;A++)o.tick(),postMessage({type:io.TICK,currentTick:A,totalTicks:y,nodes:n},void 0);e.ticking=!1}e.forceSimulation=o,e.ticking=!0}catch(k){e.ticking=!1,console.warn(k)}}},r.prototype.overlapProcess=function(t){var e=this,n=e.nodeSize,a=e.nodeSpacing,o,s,l=e.collideStrength;if((0,Ma.default)(a)?s=function(){return a}:(0,ol.default)(a)?s=a:s=function(){return 0},!n)o=function(y){if(y.size){if((0,Ci.default)(y.size)){var A=y.size[0]>y.size[1]?y.size[0]:y.size[1];return A/2+s(y)}return y.size/2+s(y)}return 10+s(y)};else if((0,ol.default)(n))o=function(y){var A=n(y);return A+s(y)};else if((0,Ci.default)(n)){var u=n[0]>n[1]?n[0]:n[1],h=u/2;o=function(y){return h+s(y)}}else if((0,Ma.default)(n)){var c=n/2;o=function(y){return c+s(y)}}else o=function(){return 10};t.force("collisionForce",n1(o).strength(l))},r.prototype.updateCfg=function(t){var e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.forceSimulation=null,(0,zs.default)(e,t)},r.prototype.destroy=function(){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.nodes=null,t.edges=null,t.destroyed=!0},r}(da),UN=jN;function ZN(i){var r=i.alphaMin(),t=i.alphaTarget(),e=i.alpha(),n=Math.log((r-t)/(e-t))/Math.log(1-i.alphaDecay()),a=Math.ceil(n);return a}function KN(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}var $N=function(i){In(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=500,t.gravity=10,t.clustering=!1,t.clusterGravity=10,t.linkDistance=50,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.linkStrength=1,t.nodeStrength=30,t.preventOverlap=!1,t.collideStrength=1,t.optimizeRangeFactor=1,t.tick=function(){},t.nodes=[],t.edges=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}var a={},o={};e.forEach(function(s,l){a[s.id]=s,o[s.id]=l}),t.nodeMap=a,t.nodeIdxMap=o,t.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.velocityDecay,l=t.clustering,u;t.initVals(),l&&(u=t.getClusterMap());for(var h=function(R){var H=[];e.forEach(function(V,ot){H[ot]={x:0,y:0}}),t.applyCalculate(e,n,H),l&&t.applyClusterForce(u,H),e.forEach(function(V,ot){!(0,f.isNumber)(V.x)||!(0,f.isNumber)(V.y)||(V.x+=H[ot].x*s,V.y+=H[ot].y*s)}),c.alpha+=(c.alphaTarget-c.alpha)*c.alphaDecay,t.tick()},c=this,v=0;v<a;v++)h(v);var y=[0,0];e.forEach(function(k){!(0,f.isNumber)(k.x)||!(0,f.isNumber)(k.y)||(y[0]+=k.x,y[1]+=k.y)}),y[0]/=e.length,y[1]/=e.length;var A=[o[0]-y[0],o[1]-y[1]];e.forEach(function(k,R){!(0,f.isNumber)(k.x)||!(0,f.isNumber)(k.y)||(k.x+=A[0],k.y+=A[1])})},r.prototype.initVals=function(){for(var t=this,e=t.edges,n={},a=0;a<e.length;++a)n[e[a].source]?n[e[a].source]++:n[e[a].source]=1,n[e[a].target]?n[e[a].target]++:n[e[a].target]=1;for(var o=[],a=0;a<e.length;++a)o[a]=n[e[a].source]/(n[e[a].source]+n[e[a].target]);this.bias=o;var s=t.nodeSize,l=t.nodeSpacing,u,h;if((0,f.isNumber)(l)?h=function(){return l}:(0,f.isFunction)(l)?h=l:h=function(){return 0},!s)u=function(bt){if(bt.size){if((0,f.isArray)(bt.size)){var Ft=bt.size[0]>bt.size[1]?bt.size[0]:bt.size[1];return Ft/2+h(bt)}return bt.size/2+h(bt)}return 10+h(bt)};else if((0,f.isFunction)(s))u=function(bt){var Ft=s(bt);return Ft+h(bt)};else if((0,f.isArray)(s)){var c=s[0]>s[1]?s[0]:s[1],v=c/2;u=function(bt){return v+h(bt)}}else if((0,f.isNumber)(s)){var y=s/2;u=function(bt){return y+h(bt)}}else u=function(){return 10};this.nodeSize=u;var A=this.linkDistance,k;A||(A=50),(0,f.isNumber)(A)&&(k=function(bt){return A}),this.linkDistance=k;var R=this.linkStrength,H;R||(R=1),(0,f.isNumber)(R)&&(H=function(bt){return R}),this.linkStrength=H;var V=this.nodeStrength,ot;V||(V=30),(0,f.isNumber)(V)&&(ot=function(bt){return V}),this.nodeStrength=ot},r.prototype.getClusterMap=function(){var t=this,e=t.nodes,n={};e.forEach(function(o){if(n[o.cluster]===void 0){var s={name:o.cluster,cx:0,cy:0,count:0};n[o.cluster]=s}var l=n[o.cluster];(0,f.isNumber)(o.x)&&(l.cx+=o.x),(0,f.isNumber)(o.y)&&(l.cy+=o.y),l.count++});for(var a in n)n[a].cx/=n[a].count,n[a].cy/=n[a].count;return n},r.prototype.applyClusterForce=function(t,e){var n=this,a=n.gravity,o=n.nodes,s=n.clusterGravity||a,l=this.alpha;o.forEach(function(h,c){if(!(!(0,f.isNumber)(h.x)||!(0,f.isNumber)(h.y))){var v=t[h.cluster],y=h.x-v.cx,A=h.y-v.cy,k=Math.sqrt(y*y+A*A);e[c].x-=y*s*l/k,e[c].y-=A*s*l/k}});for(var u in t)t[u].cx=0,t[u].cy=0,t[u].count=0;o.forEach(function(h){var c=t[h.cluster];(0,f.isNumber)(h.x)&&(c.cx+=h.x),(0,f.isNumber)(h.y)&&(c.cy+=h.y),c.count++});for(var u in t)t[u].cx/=t[u].count,t[u].cy/=t[u].count},r.prototype.applyCalculate=function(t,e,n){var a=this,o={};t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(u,h){if(!(l<h)){var c=s.x-u.x,v=s.y-u.y,y=c*c+v*v;y<1&&(y=Math.sqrt(y)),c===0&&(c=Math.random()*.01,y+=c*c),v===0&&(v=Math.random()*.01,y+=v*v);var A=Math.sqrt(y);o[s.id+"-"+u.id]={vx:c,vy:v,vl:y,sqrtVl:A},o[u.id+"-"+s.id]={vx:-c,vy:-v,vl:y,sqrtVl:A}}})}),a.calRepulsive(t,n,o),a.calAttractive(e,n,o)},r.prototype.calRepulsive=function(t,e,n){var a=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,o=this.nodeStrength,s=this.alpha,l=this.collideStrength,u=this.preventOverlap,h=this.nodeSize;t.forEach(function(c,v){t.forEach(function(y,A){if(v!==A&&!(!(0,f.isNumber)(c.x)||!(0,f.isNumber)(y.x)||!(0,f.isNumber)(c.y)||!(0,f.isNumber)(y.y))){var k=n[c.id+"-"+y.id],R=k.vl,H=k.vx,V=k.vy;if(!(R>a)&&(e[v].x+=H*o(y)*s/R,e[v].y+=V*o(y)*s/R,u&&v<A)){var ot=h(c),ut=h(y),bt=ot+ut;if(R<bt*bt){var Ft=n[c.id+"-"+y.id].sqrtVl,Xt=(bt-Ft)/Ft*l,Ut=ut*ut/(ot*ot+ut*ut),Gt=H*Xt,te=V*Xt;e[v].x+=Gt*Ut,e[v].y+=te*Ut,Ut=1-Ut,e[A].x-=Gt*Ut,e[A].y-=te*Ut}}}})})},r.prototype.calAttractive=function(t,e,n){var a=this,o=this.linkDistance,s=this.alpha,l=this.linkStrength,u=this.bias;t.forEach(function(h,c){if(!(!h.source||!h.target)){var v=a.nodeIdxMap[h.source],y=a.nodeIdxMap[h.target];if(v!==y){var A=a.nodeMap[h.source],k=a.nodeMap[h.target];if(!(!(0,f.isNumber)(k.x)||!(0,f.isNumber)(A.x)||!(0,f.isNumber)(k.y)||!(0,f.isNumber)(A.y))){var R=n[h.target+"-"+h.source],H=R.vl,V=R.sqrtVl,ot=R.vx,ut=R.vy,bt=(V-o(h))/V*s*l(h),Ft=ot*bt,Xt=ut*bt,Ut=u[c];e[y].x-=Ft*Ut,e[y].y-=Xt*Ut,e[v].x+=Ft*(1-Ut),e[v].y+=Xt*(1-Ut)}}}})},r}(da),QN=$N,JN=800,qN=function(i){In(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.gravity=10,t.speed=1,t.clustering=!1,t.clusterGravity=10,t.nodes=[],t.edges=[],t.width=300,t.height=300,t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},r.prototype.execute=function(){var t=this,e=this,n=e.nodes,a=e.center;if(!(!n||n.length===0)){if(n.length===1){n[0].x=a[0],n[0].y=a[1];return}var o={},s={};n.forEach(function(l,u){(0,f.isNumber)(l.x)||(l.x=Math.random()*t.width),(0,f.isNumber)(l.y)||(l.y=Math.random()*t.height),o[l.id]=l,s[l.id]=u}),e.nodeMap=o,e.nodeIdxMap=s,e.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.width/10,l=Math.sqrt(t.width*t.height/(e.length+1)),u=t.gravity,h=t.speed,c=t.clustering,v={};if(c){e.forEach(function(R){if(v[R.cluster]===void 0){var H={name:R.cluster,cx:0,cy:0,count:0};v[R.cluster]=H}var V=v[R.cluster];(0,f.isNumber)(R.x)&&(V.cx+=R.x),(0,f.isNumber)(R.y)&&(V.cy+=R.y),V.count++});for(var y in v)v[y].cx/=v[y].count,v[y].cy/=v[y].count}for(var A=function(H){var V=[];if(e.forEach(function(bt,Ft){V[Ft]={x:0,y:0}}),t.applyCalculate(e,n,V,l),c){var ot=t.clusterGravity||u;e.forEach(function(bt,Ft){if(!(!(0,f.isNumber)(bt.x)||!(0,f.isNumber)(bt.y))){var Xt=v[bt.cluster],Ut=Math.sqrt((bt.x-Xt.cx)*(bt.x-Xt.cx)+(bt.y-Xt.cy)*(bt.y-Xt.cy)),Gt=l*ot;V[Ft].x-=Gt*(bt.x-Xt.cx)/Ut,V[Ft].y-=Gt*(bt.y-Xt.cy)/Ut}});for(var ut in v)v[ut].cx=0,v[ut].cy=0,v[ut].count=0;e.forEach(function(bt){var Ft=v[bt.cluster];(0,f.isNumber)(bt.x)&&(Ft.cx+=bt.x),(0,f.isNumber)(bt.y)&&(Ft.cy+=bt.y),Ft.count++});for(var ut in v)v[ut].cx/=v[ut].count,v[ut].cy/=v[ut].count}e.forEach(function(bt,Ft){if(!(!(0,f.isNumber)(bt.x)||!(0,f.isNumber)(bt.y))){var Xt=.01*l*u;V[Ft].x-=Xt*(bt.x-o[0]),V[Ft].y-=Xt*(bt.y-o[1])}}),e.forEach(function(bt,Ft){if(!(!(0,f.isNumber)(bt.x)||!(0,f.isNumber)(bt.y))){var Xt=Math.sqrt(V[Ft].x*V[Ft].x+V[Ft].y*V[Ft].y);if(Xt>0){var Ut=Math.min(s*(h/JN),Xt);bt.x+=V[Ft].x/Xt*Ut,bt.y+=V[Ft].y/Xt*Ut}}})},k=0;k<a;k++)A(k)},r.prototype.applyCalculate=function(t,e,n,a){var o=this;o.calRepulsive(t,n,a),o.calAttractive(e,n,a)},r.prototype.calRepulsive=function(t,e,n){t.forEach(function(a,o){e[o]={x:0,y:0},t.forEach(function(s,l){if(o!==l&&!(!(0,f.isNumber)(a.x)||!(0,f.isNumber)(s.x)||!(0,f.isNumber)(a.y)||!(0,f.isNumber)(s.y))){var u=a.x-s.x,h=a.y-s.y,c=u*u+h*h;if(c===0){c=1;var v=o>l?1:-1;u=.01*v,h=.01*v}var y=n*n/c;e[o].x+=u*y,e[o].y+=h*y}})})},r.prototype.calAttractive=function(t,e,n){var a=this;t.forEach(function(o){if(!(!o.source||!o.target)){var s=a.nodeIdxMap[o.source],l=a.nodeIdxMap[o.target];if(s!==l){var u=a.nodeMap[o.source],h=a.nodeMap[o.target];if(!(!(0,f.isNumber)(h.x)||!(0,f.isNumber)(u.x)||!(0,f.isNumber)(h.y)||!(0,f.isNumber)(u.y))){var c=h.x-u.x,v=h.y-u.y,y=Math.sqrt(c*c+v*v),A=y*y/n;e[l].x-=c/y*A,e[l].y-=v/y*A,e[s].x+=c/y*A,e[s].y+=v/y*A}}}})},r}(da),t4=qN,e4=function(i){In(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.begin=[0,0],t.preventOverlap=!0,t.preventOverlapPadding=10,t.condense=!1,t.sortBy="degree",t.nodeSize=30,t.nodes=[],t.edges=[],t.center=[0,0],t.width=300,t.height=300,t.row=0,t.col=0,t.cellWidth=0,t.cellHeight=0,t.cellUsed={},t.id2manPos={},t}return r.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},r.prototype.execute=function(){var t=this,e=t.nodes,n=e.length,a=t.center;if(n!==0){if(n===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.edges,s=[];e.forEach(function(V){s.push(V)});var l={};if(s.forEach(function(V,ot){l[V.id]=ot}),(t.sortBy==="degree"||!(0,gn.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",eo(e[0].degree))){var u=lu(s.length,l,o);s.forEach(function(V,ot){V.degree=u[ot]})}s.sort(function(V,ot){return ot[t.sortBy]-V[t.sortBy]}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var h=t.rows,c=t.cols!=null?t.cols:t.columns;if(t.cells=n,h!=null&&c!=null?(t.rows=h,t.cols=c):h!=null&&c==null?(t.rows=h,t.cols=Math.ceil(t.cells/t.rows)):h==null&&c!=null?(t.cols=c,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells){var v=t.small(),y=t.large();(v-1)*y>=t.cells?t.small(v-1):(y-1)*v>=t.cells&&t.large(y-1)}else for(;t.cols*t.rows<t.cells;){var v=t.small(),y=t.large();(y+1)*v>=t.cells?t.large(y+1):t.small(v+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&s.forEach(function(V){(!V.x||!V.y)&&(V.x=0,V.y=0);var ot,ut;(0,f.isArray)(V.size)?(ot=V.size[0],ut=V.size[1]):(0,f.isNumber)(V.size)&&(ot=V.size,ut=V.size),(ot===void 0||ut===void 0)&&((0,f.isArray)(t.nodeSize)?(ot=t.nodeSize[0],ut=t.nodeSize[1]):(0,f.isNumber)(t.nodeSize)?(ot=t.nodeSize,ut=t.nodeSize):(ot=30,ut=30));var bt=t.preventOverlapPadding,Ft=ot+bt,Xt=ut+bt;t.cellWidth=Math.max(t.cellWidth,Ft),t.cellHeight=Math.max(t.cellHeight,Xt)}),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var A=0;A<s.length;A++){var k=s[A],R=void 0;if(t.position&&(R=t.position(k)),R&&(R.row!==void 0||R.col!==void 0)){var H={row:R.row,col:R.col};if(H.col===void 0)for(H.col=0;t.used(H.row,H.col);)H.col++;else if(H.row===void 0)for(H.row=0;t.used(H.row,H.col);)H.row++;t.id2manPos[k.id]=H,t.use(H.row,H.col)}t.getPos(k)}}},r.prototype.small=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.min(a,o);else{var s=Math.min(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.large=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.max(a,o);else{var s=Math.max(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.used=function(t,e){var n=this;return n.cellUsed["c-"+t+"-"+e]||!1},r.prototype.use=function(t,e){var n=this;n.cellUsed["c-"+t+"-"+e]=!0},r.prototype.moveToNextCell=function(){var t=this,e=t.cols||5;t.col++,t.col>=e&&(t.col=0,t.row++)},r.prototype.getPos=function(t){var e=this,n=e.begin,a=e.cellWidth,o=e.cellHeight,s,l,u=e.id2manPos[t.id];if(u)s=u.col*a+a/2+n[0],l=u.row*o+o/2+n[1];else{for(;e.used(e.row,e.col);)e.moveToNextCell();s=e.col*a+a/2+n[0],l=e.row*o+o/2+n[1],e.use(e.row,e.col),e.moveToNextCell()}t.x=s,t.y=l},r}(da),r4=e4,n4=d(40670),i1=d(81306),a1=d(59206),Au=d(69610),Tu=d(54941);const i4=Object.prototype.toString;function Pu(i){return i4.call(i).endsWith("Array]")}function a4(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Pu(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]>o&&(o=i[s]);return o}function o4(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Pu(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]<o&&(o=i[s]);return o}function o1(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Pu(i)){if(i.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(r.output!==void 0){if(!Pu(r.output))throw new TypeError("output option must be an array if specified");t=r.output}else t=new Array(i.length);var e=o4(i),n=a4(i);if(e===n)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=r.min,o=a===void 0?r.autoMinMax?e:0:a,s=r.max,l=s===void 0?r.autoMinMax?n:1:s;if(o>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-o)/(n-e),h=0;h<i.length;h++)t[h]=(i[h]-e)*u+o;return t}var _u=" ".repeat(2),s1=" ".repeat(4);function s4(){return l1(this)}function l1(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.maxRows,e=t===void 0?15:t,n=r.maxColumns,a=n===void 0?10:n,o=r.maxNumSize,s=o===void 0?8:o;return"".concat(i.constructor.name,` {
`).concat(_u,`[
`).concat(s1).concat(l4(i,e,a,s),`
`).concat(_u,`]
`).concat(_u,"rows: ").concat(i.rows,`
`).concat(_u,"columns: ").concat(i.columns,`
}`)}function l4(i,r,t,e){for(var n=i.rows,a=i.columns,o=Math.min(n,r),s=Math.min(a,t),l=[],u=0;u<o;u++){for(var h=[],c=0;c<s;c++)h.push(u4(i.get(u,c),e));l.push("".concat(h.join(" ")))}return s!==a&&(l[l.length-1]+=" ... ".concat(a-t," more columns")),o!==n&&l.push("... ".concat(n-r," more rows")),l.join(`
`.concat(s1))}function u4(i,r){var t=String(i);if(t.length<=r)return t.padEnd(r," ");var e=i.toPrecision(r-2);if(e.length<=r)return e;var n=i.toExponential(r-2),a=n.indexOf("e"),o=n.slice(a);return n.slice(0,r-o.length)+o}function f4(i,r){i.prototype.add=function(e){return typeof e=="number"?this.addS(e):this.addM(e)},i.prototype.addS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e);return this},i.prototype.addM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e.get(n,a));return this},i.add=function(e,n){var a=new r(e);return a.add(n)},i.prototype.sub=function(e){return typeof e=="number"?this.subS(e):this.subM(e)},i.prototype.subS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e);return this},i.prototype.subM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e.get(n,a));return this},i.sub=function(e,n){var a=new r(e);return a.sub(n)},i.prototype.subtract=i.prototype.sub,i.prototype.subtractS=i.prototype.subS,i.prototype.subtractM=i.prototype.subM,i.subtract=i.sub,i.prototype.mul=function(e){return typeof e=="number"?this.mulS(e):this.mulM(e)},i.prototype.mulS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e);return this},i.prototype.mulM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e.get(n,a));return this},i.mul=function(e,n){var a=new r(e);return a.mul(n)},i.prototype.multiply=i.prototype.mul,i.prototype.multiplyS=i.prototype.mulS,i.prototype.multiplyM=i.prototype.mulM,i.multiply=i.mul,i.prototype.div=function(e){return typeof e=="number"?this.divS(e):this.divM(e)},i.prototype.divS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e);return this},i.prototype.divM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e.get(n,a));return this},i.div=function(e,n){var a=new r(e);return a.div(n)},i.prototype.divide=i.prototype.div,i.prototype.divideS=i.prototype.divS,i.prototype.divideM=i.prototype.divM,i.divide=i.div,i.prototype.mod=function(e){return typeof e=="number"?this.modS(e):this.modM(e)},i.prototype.modS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e);return this},i.prototype.modM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e.get(n,a));return this},i.mod=function(e,n){var a=new r(e);return a.mod(n)},i.prototype.modulus=i.prototype.mod,i.prototype.modulusS=i.prototype.modS,i.prototype.modulusM=i.prototype.modM,i.modulus=i.mod,i.prototype.and=function(e){return typeof e=="number"?this.andS(e):this.andM(e)},i.prototype.andS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e);return this},i.prototype.andM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e.get(n,a));return this},i.and=function(e,n){var a=new r(e);return a.and(n)},i.prototype.or=function(e){return typeof e=="number"?this.orS(e):this.orM(e)},i.prototype.orS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e);return this},i.prototype.orM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e.get(n,a));return this},i.or=function(e,n){var a=new r(e);return a.or(n)},i.prototype.xor=function(e){return typeof e=="number"?this.xorS(e):this.xorM(e)},i.prototype.xorS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e);return this},i.prototype.xorM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e.get(n,a));return this},i.xor=function(e,n){var a=new r(e);return a.xor(n)},i.prototype.leftShift=function(e){return typeof e=="number"?this.leftShiftS(e):this.leftShiftM(e)},i.prototype.leftShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e);return this},i.prototype.leftShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e.get(n,a));return this},i.leftShift=function(e,n){var a=new r(e);return a.leftShift(n)},i.prototype.signPropagatingRightShift=function(e){return typeof e=="number"?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},i.prototype.signPropagatingRightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e);return this},i.prototype.signPropagatingRightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e.get(n,a));return this},i.signPropagatingRightShift=function(e,n){var a=new r(e);return a.signPropagatingRightShift(n)},i.prototype.rightShift=function(e){return typeof e=="number"?this.rightShiftS(e):this.rightShiftM(e)},i.prototype.rightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e);return this},i.prototype.rightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e.get(n,a));return this},i.rightShift=function(e,n){var a=new r(e);return a.rightShift(n)},i.prototype.zeroFillRightShift=i.prototype.rightShift,i.prototype.zeroFillRightShiftS=i.prototype.rightShiftS,i.prototype.zeroFillRightShiftM=i.prototype.rightShiftM,i.zeroFillRightShift=i.rightShift,i.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,~this.get(e,n));return this},i.not=function(e){var n=new r(e);return n.not()},i.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.abs(this.get(e,n)));return this},i.abs=function(e){var n=new r(e);return n.abs()},i.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acos(this.get(e,n)));return this},i.acos=function(e){var n=new r(e);return n.acos()},i.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acosh(this.get(e,n)));return this},i.acosh=function(e){var n=new r(e);return n.acosh()},i.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asin(this.get(e,n)));return this},i.asin=function(e){var n=new r(e);return n.asin()},i.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asinh(this.get(e,n)));return this},i.asinh=function(e){var n=new r(e);return n.asinh()},i.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atan(this.get(e,n)));return this},i.atan=function(e){var n=new r(e);return n.atan()},i.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atanh(this.get(e,n)));return this},i.atanh=function(e){var n=new r(e);return n.atanh()},i.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cbrt(this.get(e,n)));return this},i.cbrt=function(e){var n=new r(e);return n.cbrt()},i.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.ceil(this.get(e,n)));return this},i.ceil=function(e){var n=new r(e);return n.ceil()},i.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.clz32(this.get(e,n)));return this},i.clz32=function(e){var n=new r(e);return n.clz32()},i.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cos(this.get(e,n)));return this},i.cos=function(e){var n=new r(e);return n.cos()},i.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cosh(this.get(e,n)));return this},i.cosh=function(e){var n=new r(e);return n.cosh()},i.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.exp(this.get(e,n)));return this},i.exp=function(e){var n=new r(e);return n.exp()},i.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.expm1(this.get(e,n)));return this},i.expm1=function(e){var n=new r(e);return n.expm1()},i.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.floor(this.get(e,n)));return this},i.floor=function(e){var n=new r(e);return n.floor()},i.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.fround(this.get(e,n)));return this},i.fround=function(e){var n=new r(e);return n.fround()},i.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log(this.get(e,n)));return this},i.log=function(e){var n=new r(e);return n.log()},i.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log1p(this.get(e,n)));return this},i.log1p=function(e){var n=new r(e);return n.log1p()},i.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log10(this.get(e,n)));return this},i.log10=function(e){var n=new r(e);return n.log10()},i.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log2(this.get(e,n)));return this},i.log2=function(e){var n=new r(e);return n.log2()},i.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.round(this.get(e,n)));return this},i.round=function(e){var n=new r(e);return n.round()},i.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sign(this.get(e,n)));return this},i.sign=function(e){var n=new r(e);return n.sign()},i.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sin(this.get(e,n)));return this},i.sin=function(e){var n=new r(e);return n.sin()},i.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sinh(this.get(e,n)));return this},i.sinh=function(e){var n=new r(e);return n.sinh()},i.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sqrt(this.get(e,n)));return this},i.sqrt=function(e){var n=new r(e);return n.sqrt()},i.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tan(this.get(e,n)));return this},i.tan=function(e){var n=new r(e);return n.tan()},i.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tanh(this.get(e,n)));return this},i.tanh=function(e){var n=new r(e);return n.tanh()},i.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.trunc(this.get(e,n)));return this},i.trunc=function(e){var n=new r(e);return n.trunc()},i.pow=function(e,n){var a=new r(e);return a.pow(n)},i.prototype.pow=function(e){return typeof e=="number"?this.powS(e):this.powM(e)},i.prototype.powS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e));return this},i.prototype.powM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e.get(n,a)));return this}}function Ea(i,r,t){var e=t?i.rows:i.rows-1;if(r<0||r>e)throw new RangeError("Row index out of range")}function Aa(i,r,t){var e=t?i.columns:i.columns-1;if(r<0||r>e)throw new RangeError("Column index out of range")}function ss(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function ls(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function h4(i,r,t){return{row:c4(i,r),column:v4(i,t)}}function c4(i,r){if(typeof r!="object")throw new TypeError("unexpected type for row indices");var t=r.some(function(e){return e<0||e>=i.rows});if(t)throw new RangeError("row indices are out of range");return Array.isArray(r)||(r=Array.from(r)),r}function v4(i,r){if(typeof r!="object")throw new TypeError("unexpected type for column indices");var t=r.some(function(e){return e<0||e>=i.columns});if(t)throw new RangeError("column indices are out of range");return Array.isArray(r)||(r=Array.from(r)),r}function u1(i,r,t,e,n){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(Ou("startRow",r),Ou("endRow",t),Ou("startColumn",e),Ou("endColumn",n),r>t||e>n||r<0||r>=i.rows||t<0||t>=i.rows||e<0||e>=i.columns||n<0||n>=i.columns)throw new RangeError("Submatrix indices are out of range")}function Lu(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=[],e=0;e<i;e++)t.push(r);return t}function Ou(i,r){if(typeof r!="number")throw new TypeError("".concat(i," must be a number"))}function us(i){if(i.isEmpty())throw new Error("Empty matrix has no elements to index")}function d4(i){for(var r=Lu(i.rows),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]+=i.get(t,e);return r}function p4(i){for(var r=Lu(i.columns),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]+=i.get(t,e);return r}function g4(i){for(var r=0,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r+=i.get(t,e);return r}function y4(i){for(var r=Lu(i.rows,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]*=i.get(t,e);return r}function m4(i){for(var r=Lu(i.columns,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]*=i.get(t,e);return r}function x4(i){for(var r=1,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r*=i.get(t,e);return r}function b4(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<e;o++){for(var s=0,l=0,u=0,h=0;h<n;h++)u=i.get(o,h)-t[o],s+=u,l+=u*u;r?a.push((l-s*s/n)/(n-1)):a.push((l-s*s/n)/n)}return a}function w4(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<n;o++){for(var s=0,l=0,u=0,h=0;h<e;h++)u=i.get(h,o)-t[o],s+=u,l+=u*u;r?a.push((l-s*s/e)/(e-1)):a.push((l-s*s/e)/e)}return a}function S4(i,r,t){for(var e=i.rows,n=i.columns,a=e*n,o=0,s=0,l=0,u=0;u<e;u++)for(var h=0;h<n;h++)l=i.get(u,h)-t,o+=l,s+=l*l;return r?(s-o*o/a)/(a-1):(s-o*o/a)/a}function M4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[t])}function C4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[e])}function E4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r)}function A4(i){for(var r=[],t=0;t<i.rows;t++){for(var e=0,n=0;n<i.columns;n++)e+=Math.pow(i.get(t,n),2)/(i.columns-1);r.push(Math.sqrt(e))}return r}function T4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[t])}function P4(i){for(var r=[],t=0;t<i.columns;t++){for(var e=0,n=0;n<i.rows;n++)e+=Math.pow(i.get(n,t),2)/(i.rows-1);r.push(Math.sqrt(e))}return r}function _4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[e])}function L4(i){for(var r=i.size-1,t=0,e=0;e<i.columns;e++)for(var n=0;n<i.rows;n++)t+=Math.pow(i.get(n,e),2)/r;return Math.sqrt(t)}function O4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r)}var mi=function(){function i(){(0,Au.Z)(this,i)}return(0,Tu.Z)(i,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.call(this,e,n);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);t++}return a}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);for(var s=e+1;s<this.rows;s++)this.get(t,s)!==0&&(a=!1);t++}return a}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,n=0;e<t.rows&&n<t.columns;){for(var a=e,o=e;o<t.rows;o++)t.get(o,n)>t.get(a,n)&&(a=o);if(t.get(a,n)===0)n++;else{t.swapRows(e,a);for(var s=t.get(e,n),l=n;l<t.columns;l++)t.set(e,l,t.get(e,l)/s);for(var u=e+1;u<t.rows;u++){var h=t.get(u,n)/t.get(e,n);t.set(u,n,0);for(var c=n+1;c<t.columns;c++)t.set(u,c,t.get(u,c)-t.get(e,c)*h)}e++,n++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,n=t.rows,a=n-1;a>=0;)if(t.maxRow(a)===0)a--;else{for(var o=0,s=!1;o<n&&s===!1;)t.get(a,o)===1?s=!0:o++;for(var l=0;l<a;l++)for(var u=t.get(l,o),h=o;h<e;h++){var c=t.get(l,h)-u*t.get(a,h);t.set(l,h,c)}a--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.rows,n=e===void 0?1:e,a=t.columns,o=a===void 0?1:a;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");for(var s=new Ur(this.rows*n,this.columns*o),l=0;l<n;l++)for(var u=0;u<o;u++)s.setSubMatrix(this,this.rows*l,this.columns*u);return s}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){Ea(this,t);for(var e=[],n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"getRowVector",value:function(t){return Ur.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){Ea(this,t),e=ss(this,e);for(var n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}},{key:"swapRows",value:function(t,e){Ea(this,t),Ea(this,e);for(var n=0;n<this.columns;n++){var a=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,a)}return this}},{key:"getColumn",value:function(t){Aa(this,t);for(var e=[],n=0;n<this.rows;n++)e.push(this.get(n,t));return e}},{key:"getColumnVector",value:function(t){return Ur.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){Aa(this,t),e=ls(this,e);for(var n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}},{key:"swapColumns",value:function(t,e){Aa(this,t),Aa(this,e);for(var n=0;n<this.rows;n++){var a=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,a)}return this}},{key:"addRowVector",value:function(t){t=ss(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}},{key:"subRowVector",value:function(t){t=ss(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}},{key:"mulRowVector",value:function(t){t=ss(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}},{key:"divRowVector",value:function(t){t=ss(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}},{key:"addColumnVector",value:function(t){t=ls(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=ls(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=ls(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=ls(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}},{key:"mulRow",value:function(t,e){Ea(this,t);for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}},{key:"mulColumn",value:function(t,e){Aa(this,t);for(var n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}},{key:"maxIndex",value:function(){us(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)>t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}},{key:"minIndex",value:function(){us(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)<t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"maxRow",value:function(t){if(Ea(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxRowIndex",value:function(t){Ea(this,t),us(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)>e&&(e=this.get(t,a),n[1]=a);return n}},{key:"minRow",value:function(t){if(Ea(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minRowIndex",value:function(t){Ea(this,t),us(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)<e&&(e=this.get(t,a),n[1]=a);return n}},{key:"maxColumn",value:function(t){if(Aa(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}},{key:"maxColumnIndex",value:function(t){Aa(this,t),us(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)>e&&(e=this.get(a,t),n[0]=a);return n}},{key:"minColumn",value:function(t){if(Aa(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}},{key:"minColumnIndex",value:function(t){Aa(this,t),us(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)<e&&(e=this.get(a,t),n[0]=a);return n}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],n=0;n<t;n++)e.push(this.get(n,n));return e}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",e=0;if(t==="max")return this.max();if(t==="frobenius"){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)e=e+this.get(n,a)*this.get(n,a);return Math.sqrt(e)}else throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}},{key:"dot",value:function(t){i.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");for(var n=0,a=0;a<e.length;a++)n+=e[a]*t[a];return n}},{key:"mmul",value:function(t){t=Ur.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.columns,o=new Ur(e,a),s=new Float64Array(n),l=0;l<a;l++){for(var u=0;u<n;u++)s[u]=t.get(u,l);for(var h=0;h<e;h++){for(var c=0,v=0;v<n;v++)c+=this.get(h,v)*s[v];o.set(h,l,c)}}return o}},{key:"strassen2x2",value:function(t){t=Ur.checkMatrix(t);var e=new Ur(2,2),n=this.get(0,0),a=t.get(0,0),o=this.get(0,1),s=t.get(0,1),l=this.get(1,0),u=t.get(1,0),h=this.get(1,1),c=t.get(1,1),v=(n+h)*(a+c),y=(l+h)*a,A=n*(s-c),k=h*(u-a),R=(n+o)*c,H=(l-n)*(a+s),V=(o-h)*(u+c),ot=v+k-R+V,ut=A+R,bt=y+k,Ft=v-y+A+H;return e.set(0,0,ot),e.set(0,1,ut),e.set(1,0,bt),e.set(1,1,Ft),e}},{key:"strassen3x3",value:function(t){t=Ur.checkMatrix(t);var e=new Ur(3,3),n=this.get(0,0),a=this.get(0,1),o=this.get(0,2),s=this.get(1,0),l=this.get(1,1),u=this.get(1,2),h=this.get(2,0),c=this.get(2,1),v=this.get(2,2),y=t.get(0,0),A=t.get(0,1),k=t.get(0,2),R=t.get(1,0),H=t.get(1,1),V=t.get(1,2),ot=t.get(2,0),ut=t.get(2,1),bt=t.get(2,2),Ft=(n+a+o-s-l-c-v)*H,Xt=(n-s)*(-A+H),Ut=l*(-y+A+R-H-V-ot+bt),Gt=(-n+s+l)*(y-A+H),te=(s+l)*(-y+A),ue=n*y,se=(-n+h+c)*(y-k+V),Me=(-n+h)*(k-V),Pe=(h+c)*(-y+k),Te=(n+a+o-l-u-h-c)*V,Ve=c*(-y+k+R-H-V-ot+ut),je=(-o+c+v)*(H+ot-ut),Ue=(o-v)*(H-ut),Ge=o*ot,ze=(c+v)*(-ot+ut),ur=(-o+l+u)*(V+ot-bt),lr=(o-u)*(V-bt),pr=(l+u)*(-ot+bt),Ze=a*R,cr=u*ut,Tr=s*k,dr=h*A,vr=v*bt,Lr=ue+Ge+Ze,jr=Ft+Gt+te+ue+je+Ge+ze,xr=ue+se+Pe+Te+Ge+ur+pr,Le=Xt+Ut+Gt+ue+Ge+ur+lr,$e=Xt+Gt+te+ue+cr,Or=Ge+ur+lr+pr+Tr,Rr=ue+se+Me+Ve+je+Ue+Ge,Sr=je+Ue+Ge+ze+dr,Zr=ue+se+Me+Pe+vr;return e.set(0,0,Lr),e.set(0,1,jr),e.set(0,2,xr),e.set(1,0,Le),e.set(1,1,$e),e.set(1,2,Or),e.set(2,0,Rr),e.set(2,1,Sr),e.set(2,2,Zr),e}},{key:"mmulStrassen",value:function(t){t=Ur.checkMatrix(t);var e=this.clone(),n=e.rows,a=e.columns,o=t.rows,s=t.columns;a!==o&&console.warn("Multiplying ".concat(n," x ").concat(a," and ").concat(o," x ").concat(s," matrix: dimensions do not match."));function l(v,y,A){var k=v.rows,R=v.columns;if(k===y&&R===A)return v;var H=i.zeros(y,A);return H=H.setSubMatrix(v,0,0),H}var u=Math.max(n,o),h=Math.max(a,s);e=l(e,u,h),t=l(t,u,h);function c(v,y,A,k){if(A<=512||k<=512)return v.mmul(y);A%2==1&&k%2==1?(v=l(v,A+1,k+1),y=l(y,A+1,k+1)):A%2==1?(v=l(v,A+1,k),y=l(y,A+1,k)):k%2==1&&(v=l(v,A,k+1),y=l(y,A,k+1));var R=parseInt(v.rows/2,10),H=parseInt(v.columns/2,10),V=v.subMatrix(0,R-1,0,H-1),ot=y.subMatrix(0,R-1,0,H-1),ut=v.subMatrix(0,R-1,H,v.columns-1),bt=y.subMatrix(0,R-1,H,y.columns-1),Ft=v.subMatrix(R,v.rows-1,0,H-1),Xt=y.subMatrix(R,y.rows-1,0,H-1),Ut=v.subMatrix(R,v.rows-1,H,v.columns-1),Gt=y.subMatrix(R,y.rows-1,H,y.columns-1),te=c(i.add(V,Ut),i.add(ot,Gt),R,H),ue=c(i.add(Ft,Ut),ot,R,H),se=c(V,i.sub(bt,Gt),R,H),Me=c(Ut,i.sub(Xt,ot),R,H),Pe=c(i.add(V,ut),Gt,R,H),Te=c(i.sub(Ft,V),i.add(ot,bt),R,H),Ve=c(i.sub(ut,Ut),i.add(Xt,Gt),R,H),je=i.add(te,Me);je.sub(Pe),je.add(Ve);var Ue=i.add(se,Pe),Ge=i.add(ue,Me),ze=i.sub(te,ue);ze.add(se),ze.add(Te);var ur=i.zeros(2*je.rows,2*je.columns);return ur=ur.setSubMatrix(je,0,0),ur=ur.setSubMatrix(Ue,je.rows,0),ur=ur.setSubMatrix(Ge,0,je.columns),ur=ur.setSubMatrix(ze,je.rows,je.columns),ur.subMatrix(0,A-1,0,k-1)}return c(e,t,u,h)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new Ur(this.rows,this.columns),l=0;l<this.rows;l++){var u=this.getRow(l);u.length>0&&o1(u,{min:n,max:o,output:u}),s.setRow(l,u)}return s}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new Ur(this.rows,this.columns),l=0;l<this.columns;l++){var u=this.getColumn(l);u.length&&o1(u,{min:n,max:o,output:u}),s.setColumn(l,u)}return s}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var n=0;n<t;n++){var a=this.get(e,n),o=this.get(e,this.columns-1-n);this.set(e,n,o),this.set(e,this.columns-1-n,a)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var n=0;n<t;n++){var a=this.get(n,e),o=this.get(this.rows-1-n,e);this.set(n,e,o),this.set(this.rows-1-n,e,a)}return this}},{key:"kroneckerProduct",value:function(t){t=Ur.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.rows,o=t.columns,s=new Ur(e*a,n*o),l=0;l<e;l++)for(var u=0;u<n;u++)for(var h=0;h<a;h++)for(var c=0;c<o;c++)s.set(a*l+h,o*u+c,this.get(l,u)*t.get(h,c));return s}},{key:"kroneckerSum",value:function(t){if(t=Ur.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var e=this.rows,n=t.rows,a=this.kroneckerProduct(Ur.eye(n,n)),o=Ur.eye(e,e).kroneckerProduct(t);return a.add(o)}},{key:"transpose",value:function(){for(var t=new Ur(this.columns,this.rows),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f1,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f1,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,n,a){u1(this,t,e,n,a);for(var o=new Ur(e-t+1,a-n+1),s=t;s<=e;s++)for(var l=n;l<=a;l++)o.set(s-t,l-n,this.get(s,l));return o}},{key:"subMatrixRow",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var a=new Ur(t.length,n-e+1),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[o]));a.set(o,s-e,this.get(t[o],s))}return a}},{key:"subMatrixColumn",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var a=new Ur(n-e+1,t.length),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[o]));a.set(s-e,o,this.get(s,t[o]))}return a}},{key:"setSubMatrix",value:function(t,e,n){if(t=Ur.checkMatrix(t),t.isEmpty())return this;var a=e+t.rows-1,o=n+t.columns-1;u1(this,e,a,n,o);for(var s=0;s<t.rows;s++)for(var l=0;l<t.columns;l++)this.set(e+s,n+l,t.get(s,l));return this}},{key:"selection",value:function(t,e){for(var n=h4(this,t,e),a=new Ur(t.length,e.length),o=0;o<n.row.length;o++)for(var s=n.row[o],l=0;l<n.column.length;l++){var u=n.column[l];a.set(o,l,this.get(s,u))}return a}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,n=0;n<t;n++)e+=this.get(n,n);return e}},{key:"clone",value:function(){for(var t=new Ur(this.rows,this.columns),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}},{key:"sum",value:function(t){switch(t){case"row":return d4(this);case"column":return p4(this);case void 0:return g4(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return y4(this);case"column":return m4(this);case void 0:return x4(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":{for(var n=0;n<this.rows;n++)e[n]/=this.columns;return e}case"column":{for(var a=0;a<this.columns;a++)e[a]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.unbiased,o=a===void 0?!0:a,s=n.mean,l=s===void 0?this.mean(t):s;if(typeof o!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!Array.isArray(l))throw new TypeError("mean must be an array");return b4(this,o,l)}case"column":{if(!Array.isArray(l))throw new TypeError("mean must be an array");return w4(this,o,l)}case void 0:{if(typeof l!="number")throw new TypeError("mean must be a number");return S4(this,o,l)}default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){typeof t=="object"&&(e=t,t=void 0);var n=this.variance(t,e);if(t===void 0)return Math.sqrt(n);for(var a=0;a<n.length;a++)n[a]=Math.sqrt(n[a]);return n}},{key:"center",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.center,o=a===void 0?this.mean(t):a;switch(t){case"row":{if(!Array.isArray(o))throw new TypeError("center must be an array");return M4(this,o),this}case"column":{if(!Array.isArray(o))throw new TypeError("center must be an array");return C4(this,o),this}case void 0:{if(typeof o!="number")throw new TypeError("center must be a number");return E4(this,o),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e.scale;switch(t){case"row":{if(n===void 0)n=A4(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return T4(this,n),this}case"column":{if(n===void 0)n=P4(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return _4(this,n),this}case void 0:{if(n===void 0)n=L4(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return O4(this,n),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return l1(this,t)}}],[{key:"from1DArray",value:function(t,e,n){var a=t*e;if(a!==n.length)throw new RangeError("data length does not match given dimensions");for(var o=new Ur(t,e),s=0;s<t;s++)for(var l=0;l<e;l++)o.set(s,l,n[s*e+l]);return o}},{key:"rowVector",value:function(t){for(var e=new Ur(1,t.length),n=0;n<t.length;n++)e.set(0,n,t[n]);return e}},{key:"columnVector",value:function(t){for(var e=new Ur(t.length,1),n=0;n<t.length;n++)e.set(n,0,t[n]);return e}},{key:"zeros",value:function(t,e){return new Ur(t,e)}},{key:"ones",value:function(t,e){return new Ur(t,e).fill(1)}},{key:"rand",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");for(var a=n.random,o=a===void 0?Math.random:a,s=new Ur(t,e),l=0;l<t;l++)for(var u=0;u<e;u++)s.set(l,u,o());return s}},{key:"randInt",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");var a=n.min,o=a===void 0?0:a,s=n.max,l=s===void 0?1e3:s,u=n.random,h=u===void 0?Math.random:u;if(!Number.isInteger(o))throw new TypeError("min must be an integer");if(!Number.isInteger(l))throw new TypeError("max must be an integer");if(o>=l)throw new RangeError("min must be smaller than max");for(var c=l-o,v=new Ur(t,e),y=0;y<t;y++)for(var A=0;A<e;A++){var k=o+Math.round(h()*c);v.set(y,A,k)}return v}},{key:"eye",value:function(t,e,n){e===void 0&&(e=t),n===void 0&&(n=1);for(var a=Math.min(t,e),o=this.zeros(t,e),s=0;s<a;s++)o.set(s,s,n);return o}},{key:"diag",value:function(t,e,n){var a=t.length;e===void 0&&(e=a),n===void 0&&(n=e);for(var o=Math.min(a,e,n),s=this.zeros(e,n),l=0;l<o;l++)s.set(l,l,t[l]);return s}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new Ur(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.min(t.get(s,l),e.get(s,l)));return o}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new this(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.max(t.get(s,l),e.get(s,l)));return o}},{key:"checkMatrix",value:function(t){return i.isMatrix(t)?t:new Ur(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}}]),i}();mi.prototype.klass="Matrix",typeof Symbol!="undefined"&&(mi.prototype[Symbol.for("nodejs.util.inspect.custom")]=s4);function f1(i,r){return i-r}mi.random=mi.rand,mi.randomInt=mi.randInt,mi.diagonal=mi.diag,mi.prototype.diagonal=mi.prototype.diag,mi.identity=mi.eye,mi.prototype.negate=mi.prototype.neg,mi.prototype.tensorProduct=mi.prototype.kroneckerProduct;var Ur=function(i){(0,i1.Z)(t,i);var r=(0,a1.Z)(t);function t(e,n){var a;if((0,Au.Z)(this,t),a=r.call(this),t.isMatrix(e))return(0,n4.Z)(a,e.clone());if(Number.isInteger(e)&&e>=0)if(a.data=[],Number.isInteger(n)&&n>=0)for(var o=0;o<e;o++)a.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");else if(Array.isArray(e)){var s=e;if(e=s.length,n=e?s[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");a.data=[];for(var l=0;l<e;l++){if(s[l].length!==n)throw new RangeError("Inconsistent array dimensions");a.data.push(Float64Array.from(s[l]))}}else throw new TypeError("First argument must be a positive number or an array");return a.rows=e,a.columns=n,a}return(0,Tu.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}},{key:"removeRow",value:function(n){return Ea(this,n),this.data.splice(n,1),this.rows-=1,this}},{key:"addRow",value:function(n,a){return a===void 0&&(a=n,n=this.rows),Ea(this,n,!0),a=Float64Array.from(ss(this,a)),this.data.splice(n,0,a),this.rows+=1,this}},{key:"removeColumn",value:function(n){Aa(this,n);for(var a=0;a<this.rows;a++){for(var o=new Float64Array(this.columns-1),s=0;s<n;s++)o[s]=this.data[a][s];for(var l=n+1;l<this.columns;l++)o[l-1]=this.data[a][l];this.data[a]=o}return this.columns-=1,this}},{key:"addColumn",value:function(n,a){typeof a=="undefined"&&(a=n,n=this.columns),Aa(this,n,!0),a=ls(this,a);for(var o=0;o<this.rows;o++){for(var s=new Float64Array(this.columns+1),l=0;l<n;l++)s[l]=this.data[o][l];for(s[l++]=a[o];l<this.columns+1;l++)s[l]=this.data[o][l-1];this.data[o]=s}return this.columns+=1,this}}]),t}(mi);f4(mi,Ur);var I4=function(i){(0,i1.Z)(t,i);var r=(0,a1.Z)(t);function t(e){var n;return(0,Au.Z)(this,t),n=r.call(this),n.data=e,n.rows=e.length,n.columns=e[0].length,n}return(0,Tu.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}}]),t}(mi);function fs(i,r){var t=0;return Math.abs(i)>Math.abs(r)?(t=r/i,Math.abs(i)*Math.sqrt(1+t*t)):r!==0?(t=i/r,Math.abs(r)*Math.sqrt(1+t*t)):0}var h1=function(){function i(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,Au.Z)(this,i),r=I4.checkMatrix(r),r.isEmpty())throw new Error("Matrix must be non-empty");var e=r.rows,n=r.columns,a=t.computeLeftSingularVectors,o=a===void 0?!0:a,s=t.computeRightSingularVectors,l=s===void 0?!0:s,u=t.autoTranspose,h=u===void 0?!1:u,c=Boolean(o),v=Boolean(l),y=!1,A;if(e<n)if(!h)A=r.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{A=r.transpose(),e=A.rows,n=A.columns,y=!0;var k=c;c=v,v=k}else A=r.clone();for(var R=Math.min(e,n),H=Math.min(e+1,n),V=new Float64Array(H),ot=new Ur(e,R),ut=new Ur(n,n),bt=new Float64Array(n),Ft=new Float64Array(e),Xt=new Float64Array(H),Ut=0;Ut<H;Ut++)Xt[Ut]=Ut;for(var Gt=Math.min(e-1,n),te=Math.max(0,Math.min(n-2,e)),ue=Math.max(Gt,te),se=0;se<ue;se++){if(se<Gt){V[se]=0;for(var Me=se;Me<e;Me++)V[se]=fs(V[se],A.get(Me,se));if(V[se]!==0){A.get(se,se)<0&&(V[se]=-V[se]);for(var Pe=se;Pe<e;Pe++)A.set(Pe,se,A.get(Pe,se)/V[se]);A.set(se,se,A.get(se,se)+1)}V[se]=-V[se]}for(var Te=se+1;Te<n;Te++){if(se<Gt&&V[se]!==0){for(var Ve=0,je=se;je<e;je++)Ve+=A.get(je,se)*A.get(je,Te);Ve=-Ve/A.get(se,se);for(var Ue=se;Ue<e;Ue++)A.set(Ue,Te,A.get(Ue,Te)+Ve*A.get(Ue,se))}bt[Te]=A.get(se,Te)}if(c&&se<Gt)for(var Ge=se;Ge<e;Ge++)ot.set(Ge,se,A.get(Ge,se));if(se<te){bt[se]=0;for(var ze=se+1;ze<n;ze++)bt[se]=fs(bt[se],bt[ze]);if(bt[se]!==0){bt[se+1]<0&&(bt[se]=0-bt[se]);for(var ur=se+1;ur<n;ur++)bt[ur]/=bt[se];bt[se+1]+=1}if(bt[se]=-bt[se],se+1<e&&bt[se]!==0){for(var lr=se+1;lr<e;lr++)Ft[lr]=0;for(var pr=se+1;pr<e;pr++)for(var Ze=se+1;Ze<n;Ze++)Ft[pr]+=bt[Ze]*A.get(pr,Ze);for(var cr=se+1;cr<n;cr++)for(var Tr=-bt[cr]/bt[se+1],dr=se+1;dr<e;dr++)A.set(dr,cr,A.get(dr,cr)+Tr*Ft[dr])}if(v)for(var vr=se+1;vr<n;vr++)ut.set(vr,se,bt[vr])}}var Lr=Math.min(n,e+1);if(Gt<n&&(V[Gt]=A.get(Gt,Gt)),e<Lr&&(V[Lr-1]=0),te+1<Lr&&(bt[te]=A.get(te,Lr-1)),bt[Lr-1]=0,c){for(var jr=Gt;jr<R;jr++){for(var xr=0;xr<e;xr++)ot.set(xr,jr,0);ot.set(jr,jr,1)}for(var Le=Gt-1;Le>=0;Le--)if(V[Le]!==0){for(var $e=Le+1;$e<R;$e++){for(var Or=0,Rr=Le;Rr<e;Rr++)Or+=ot.get(Rr,Le)*ot.get(Rr,$e);Or=-Or/ot.get(Le,Le);for(var Sr=Le;Sr<e;Sr++)ot.set(Sr,$e,ot.get(Sr,$e)+Or*ot.get(Sr,Le))}for(var Zr=Le;Zr<e;Zr++)ot.set(Zr,Le,-ot.get(Zr,Le));ot.set(Le,Le,1+ot.get(Le,Le));for(var Vr=0;Vr<Le-1;Vr++)ot.set(Vr,Le,0)}else{for(var Dr=0;Dr<e;Dr++)ot.set(Dr,Le,0);ot.set(Le,Le,1)}}if(v)for(var Kr=n-1;Kr>=0;Kr--){if(Kr<te&&bt[Kr]!==0)for(var sn=Kr+1;sn<n;sn++){for(var _n=0,xn=Kr+1;xn<n;xn++)_n+=ut.get(xn,Kr)*ut.get(xn,sn);_n=-_n/ut.get(Kr+1,Kr);for(var Fn=Kr+1;Fn<n;Fn++)ut.set(Fn,sn,ut.get(Fn,sn)+_n*ut.get(Fn,Kr))}for(var Hn=0;Hn<n;Hn++)ut.set(Hn,Kr,0);ut.set(Kr,Kr,1)}for(var Pi=Lr-1,Di=0,ni=Number.EPSILON;Lr>0;){var _r=void 0,Rn=void 0;for(_r=Lr-2;_r>=-1&&_r!==-1;_r--){var xi=Number.MIN_VALUE+ni*Math.abs(V[_r]+Math.abs(V[_r+1]));if(Math.abs(bt[_r])<=xi||Number.isNaN(bt[_r])){bt[_r]=0;break}}if(_r===Lr-2)Rn=4;else{var li=void 0;for(li=Lr-1;li>=_r&&li!==_r;li--){var Ha=(li!==Lr?Math.abs(bt[li]):0)+(li!==_r+1?Math.abs(bt[li-1]):0);if(Math.abs(V[li])<=ni*Ha){V[li]=0;break}}li===_r?Rn=3:li===Lr-1?Rn=1:(Rn=2,_r=li)}switch(_r++,Rn){case 1:{var bi=bt[Lr-2];bt[Lr-2]=0;for(var bn=Lr-2;bn>=_r;bn--){var dn=fs(V[bn],bi),Ln=V[bn]/dn,Dn=bi/dn;if(V[bn]=dn,bn!==_r&&(bi=-Dn*bt[bn-1],bt[bn-1]=Ln*bt[bn-1]),v)for(var Fi=0;Fi<n;Fi++)dn=Ln*ut.get(Fi,bn)+Dn*ut.get(Fi,Lr-1),ut.set(Fi,Lr-1,-Dn*ut.get(Fi,bn)+Ln*ut.get(Fi,Lr-1)),ut.set(Fi,bn,dn)}break}case 2:{var Go=bt[_r-1];bt[_r-1]=0;for(var Ta=_r;Ta<Lr;Ta++){var Qs=fs(V[Ta],Go),Cc=V[Ta]/Qs,Ec=Go/Qs;if(V[Ta]=Qs,Go=-Ec*bt[Ta],bt[Ta]=Cc*bt[Ta],c)for(var bo=0;bo<e;bo++)Qs=Cc*ot.get(bo,Ta)+Ec*ot.get(bo,_r-1),ot.set(bo,_r-1,-Ec*ot.get(bo,Ta)+Cc*ot.get(bo,_r-1)),ot.set(bo,Ta,Qs)}break}case 3:{var Js=Math.max(Math.abs(V[Lr-1]),Math.abs(V[Lr-2]),Math.abs(bt[Lr-2]),Math.abs(V[_r]),Math.abs(bt[_r])),cs=V[Lr-1]/Js,lb=V[Lr-2]/Js,$u=bt[Lr-2]/Js,Ac=V[_r]/Js,TY=bt[_r]/Js,zo=((lb+cs)*(lb-cs)+$u*$u)/2,Qu=cs*$u*(cs*$u),qs=0;(zo!==0||Qu!==0)&&(zo<0?qs=0-Math.sqrt(zo*zo+Qu):qs=Math.sqrt(zo*zo+Qu),qs=Qu/(zo+qs));for(var Xo=(Ac+cs)*(Ac-cs)+qs,vs=Ac*TY,wn=_r;wn<Lr-1;wn++){var $i=fs(Xo,vs);$i===0&&($i=Number.MIN_VALUE);var Pa=Xo/$i,_a=vs/$i;if(wn!==_r&&(bt[wn-1]=$i),Xo=Pa*V[wn]+_a*bt[wn],bt[wn]=Pa*bt[wn]-_a*V[wn],vs=_a*V[wn+1],V[wn+1]=Pa*V[wn+1],v)for(var wo=0;wo<n;wo++)$i=Pa*ut.get(wo,wn)+_a*ut.get(wo,wn+1),ut.set(wo,wn+1,-_a*ut.get(wo,wn)+Pa*ut.get(wo,wn+1)),ut.set(wo,wn,$i);if($i=fs(Xo,vs),$i===0&&($i=Number.MIN_VALUE),Pa=Xo/$i,_a=vs/$i,V[wn]=$i,Xo=Pa*bt[wn]+_a*V[wn+1],V[wn+1]=-_a*bt[wn]+Pa*V[wn+1],vs=_a*bt[wn+1],bt[wn+1]=Pa*bt[wn+1],c&&wn<e-1)for(var So=0;So<e;So++)$i=Pa*ot.get(So,wn)+_a*ot.get(So,wn+1),ot.set(So,wn+1,-_a*ot.get(So,wn)+Pa*ot.get(So,wn+1)),ot.set(So,wn,$i)}bt[Lr-2]=Xo,Di=Di+1;break}case 4:{if(V[_r]<=0&&(V[_r]=V[_r]<0?-V[_r]:0,v))for(var Ju=0;Ju<=Pi;Ju++)ut.set(Ju,_r,-ut.get(Ju,_r));for(;_r<Pi&&!(V[_r]>=V[_r+1]);){var tl=V[_r];if(V[_r]=V[_r+1],V[_r+1]=tl,v&&_r<n-1)for(var ds=0;ds<n;ds++)tl=ut.get(ds,_r+1),ut.set(ds,_r+1,ut.get(ds,_r)),ut.set(ds,_r,tl);if(c&&_r<e-1)for(var ps=0;ps<e;ps++)tl=ot.get(ps,_r+1),ot.set(ps,_r+1,ot.get(ps,_r)),ot.set(ps,_r,tl);_r++}Di=0,Lr--;break}}}if(y){var PY=ut;ut=ot,ot=PY}this.m=e,this.n=n,this.s=V,this.U=ot,this.V=ut}return(0,Tu.Z)(i,[{key:"solve",value:function(t){for(var e=t,n=this.threshold,a=this.s.length,o=Ur.zeros(a,a),s=0;s<a;s++)Math.abs(this.s[s])<=n?o.set(s,s,0):o.set(s,s,1/this.s[s]);for(var l=this.U,u=this.rightSingularVectors,h=u.mmul(o),c=u.rows,v=l.rows,y=Ur.zeros(c,v),A=0;A<c;A++)for(var k=0;k<v;k++){for(var R=0,H=0;H<a;H++)R+=h.get(A,H)*l.get(k,H);y.set(A,k,R)}return y.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve(Ur.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,n=t.rows,a=t.columns,o=new Ur(n,this.s.length),s=0;s<n;s++)for(var l=0;l<a;l++)Math.abs(this.s[l])>e&&o.set(s,l,t.get(s,l)/this.s[l]);for(var u=this.U,h=u.rows,c=u.columns,v=new Ur(n,h),y=0;y<n;y++)for(var A=0;A<h;A++){for(var k=0,R=0;R<c;R++)k+=o.get(y,R)*u.get(A,R);v.set(y,A,k)}return v}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s,a=0,o=n.length;a<o;a++)n[a]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return Ur.diag(this.s)}}]),i}(),k4=function(i){In(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.linkDistance=50,t.scaledDistances=null,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=n===void 0?[]:n,o=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.linkDistance,l=Hh({nodes:e,edges:a},!1),u=Vh(l);t.handleInfinity(u);var h=tx(u,s);t.scaledDistances=h;var c=t.runMDS();t.positions=c,c.forEach(function(v,y){e[y].x=v[0]+o[0],e[y].y=v[1]+o[1]})}},r.prototype.runMDS=function(){var t=this,e=2,n=t.scaledDistances,a=Ur.mul(Ur.pow(n,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var u=new h1(a),h=Ur.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(c){return Ur.mul([c],[h]).toJSON()[0].splice(0,e)})},r.prototype.handleInfinity=function(t){var e=-999999;t.forEach(function(n){n.forEach(function(a){a!==Infinity&&e<a&&(e=a)})}),t.forEach(function(n,a){n.forEach(function(o,s){o===Infinity&&(t[a][s]=e)})})},r}(da),B4=k4,D4=function(){function i(r){this.distances=r.distances,this.dimension=r.dimension||2,this.linkDistance=r.linkDistance}return i.prototype.layout=function(){var r=this,t=r.dimension,e=r.distances,n=r.linkDistance;try{var a=Ur.mul(Ur.pow(e,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var u=new h1(a),h=Ur.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(k){return Ur.mul([k],[h]).toJSON()[0].splice(0,t)})}catch(k){for(var c=[],v=0;v<e.length;v++){var y=Math.random()*n,A=Math.random()*n;c.push([y,A])}return c}},i}(),F4=D4,R4=800,N4=function(){function i(r){this.disp=[],this.positions=r.positions,this.adjMatrix=r.adjMatrix,this.focusID=r.focusID,this.radii=r.radii,this.iterations=r.iterations||10,this.height=r.height||10,this.width=r.width||10,this.speed=r.speed||100,this.gravity=r.gravity||10,this.nodeSizeFunc=r.nodeSizeFunc,this.k=r.k||5,this.strictRadial=r.strictRadial,this.nodes=r.nodes}return i.prototype.layout=function(){var r=this,t=r.positions,e=[],n=r.iterations,a=r.width/10;r.maxDisplace=a,r.disp=e;for(var o=0;o<n;o++)t.forEach(function(s,l){e[l]={x:0,y:0}}),r.getRepulsion(),r.updatePositions();return t},i.prototype.getRepulsion=function(){var r=this,t=r.positions,e=r.nodes,n=r.disp,a=r.k,o=r.radii||[];t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(u,h){if(l!==h&&o[l]===o[h]){var c=s[0]-u[0],v=s[1]-u[1],y=Math.sqrt(c*c+v*v);if(y===0){y=1;var A=l>h?1:-1;c=.01*A,v=.01*A}if(y<r.nodeSizeFunc(e[l])/2+r.nodeSizeFunc(e[h])/2){var k=a*a/y;n[l].x+=c/y*k,n[l].y+=v/y*k}}})})},i.prototype.updatePositions=function(){var r=this,t=r.positions,e=r.disp,n=r.speed,a=r.strictRadial,o=r.focusID,s=r.maxDisplace||r.width/10;a&&e.forEach(function(u,h){var c=t[h][0]-t[o][0],v=t[h][1]-t[o][1],y=Math.sqrt(c*c+v*v),A=v/y,k=-c/y,R=Math.sqrt(u.x*u.x+u.y*u.y),H=Math.acos((A*u.x+k*u.y)/R);H>Math.PI/2&&(H-=Math.PI/2,A*=-1,k*=-1);var V=Math.cos(H)*R;u.x=A*V,u.y=k*V});var l=r.radii;t.forEach(function(u,h){if(h!==o){var c=Math.sqrt(e[h].x*e[h].x+e[h].y*e[h].y);if(c>0&&h!==o){var v=Math.min(s*(n/R4),c);if(u[0]+=e[h].x/c*v,u[1]+=e[h].y/c*v,a){var y=u[0]-t[o][0],A=u[1]-t[o][1],k=Math.sqrt(y*y+A*A);y=y/k*l[h],A=A/k*l[h],u[0]=t[o][0]+y,u[1]=t[o][1]+A}}}})},i}(),Y4=N4;function G4(i){for(var r=i.length,t=i[0].length,e=[],n=0;n<r;n++){for(var a=[],o=0;o<t;o++)i[n][o]!==0?a.push(1/(i[n][o]*i[n][o])):a.push(0);e.push(a)}return e}function z4(i,r){var t=-1;return i.forEach(function(e,n){e.id===r&&(t=n)}),t}function c1(i,r){return Math.sqrt((i[0]-r[0])*(i[0]-r[0])+(i[1]-r[1])*(i[1]-r[1]))}var X4=function(i){In(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.focusNode=null,t.unitRadius=null,t.linkDistance=50,t.preventOverlap=!1,t.strictRadial=!0,t.maxPreventOverlapIteration=200,t.sortStrength=10,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges||[],a=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.linkDistance,s=null;if((0,gn.default)(t.focusNode)){for(var l=!1,u=0;u<e.length;u++)e[u].id===t.focusNode&&(s=e[u],t.focusNode=s,l=!0,u=e.length);l||(s=null)}else s=t.focusNode;s||(s=e[0],t.focusNode=s);var h=z4(e,s.id);t.focusIndex=h;var c=Hh({nodes:e,edges:n},!1),v=Vh(c),y=t.maxToFocus(v,h);t.handleInfinity(v,h,y+1),t.distances=v;var A=v[h];!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var k=t.width||500,R=t.height||500,H=k-a[0]>a[0]?a[0]:k-a[0],V=R-a[1]>a[1]?a[1]:R-a[1];H===0&&(H=k/2),V===0&&(V=R/2);var ot=V>H?H:V,ut=Math.max.apply(Math,A),bt=[];A.forEach(function(Ue,Ge){t.unitRadius||(t.unitRadius=ot/ut),bt[Ge]=Ue*t.unitRadius}),t.radii=bt;var Ft=t.eIdealDisMatrix();t.eIdealDistances=Ft;var Xt=G4(Ft);t.weights=Xt;var Ut=new F4({distances:Ft,linkDistance:o}),Gt=Ut.layout();Gt.forEach(function(Ue){eo(Ue[0])&&(Ue[0]=Math.random()*o),eo(Ue[1])&&(Ue[1]=Math.random()*o)}),t.positions=Gt,Gt.forEach(function(Ue,Ge){e[Ge].x=Ue[0]+a[0],e[Ge].y=Ue[1]+a[1]}),Gt.forEach(function(Ue){Ue[0]-=Gt[h][0],Ue[1]-=Gt[h][1]}),t.run();var te=t.preventOverlap,ue=t.nodeSize,se,Me=t.strictRadial;if(te){var Pe=t.nodeSpacing,Te;(0,Ma.default)(Pe)?Te=function(){return Pe}:(0,ol.default)(Pe)?Te=Pe:Te=function(){return 0},ue?(0,Ci.default)(ue)?se=function(Ge){var ze=ue[0]>ue[1]?ue[0]:ue[1];return ze+Te(Ge)}:se=function(Ge){return ue+Te(Ge)}:se=function(Ge){if(Ge.size){if((0,Ci.default)(Ge.size)){var ze=Ge.size[0]>Ge.size[1]?Ge.size[0]:Ge.size[1];return ze+Te(Ge)}return Ge.size+Te(Ge)}return 10+Te(Ge)};var Ve={nodeSizeFunc:se,adjMatrix:c,positions:Gt,radii:bt,height:R,width:k,strictRadial:Me,focusID:h,iterations:t.maxPreventOverlapIteration||200,k:Gt.length/4.5,nodes:e},je=new Y4(Ve);Gt=je.layout()}Gt.forEach(function(Ue,Ge){e[Ge].x=Ue[0]+a[0],e[Ge].y=Ue[1]+a[1]})}},r.prototype.run=function(){for(var t=this,e=t.maxIteration,n=t.positions||[],a=t.weights||[],o=t.eIdealDistances||[],s=t.radii||[],l=0;l<=e;l++){var u=l/e;t.oneIteration(u,n,s,o,a)}},r.prototype.oneIteration=function(t,e,n,a,o){var s=this,l=1-t,u=s.focusIndex;e.forEach(function(h,c){var v=c1(h,[0,0]),y=v===0?0:1/v;if(c!==u){var A=0,k=0,R=0;e.forEach(function(V,ot){if(c!==ot){var ut=c1(h,V),bt=ut===0?0:1/ut,Ft=a[ot][c];R+=o[c][ot],A+=o[c][ot]*(V[0]+Ft*(h[0]-V[0])*bt),k+=o[c][ot]*(V[1]+Ft*(h[1]-V[1])*bt)}});var H=n[c]===0?0:1/n[c];R*=l,R+=t*H*H,A*=l,A+=t*H*h[0]*y,h[0]=A/R,k*=l,k+=t*H*h[1]*y,h[1]=k/R}})},r.prototype.eIdealDisMatrix=function(){var t=this,e=t.nodes;if(!e)return[];var n=t.distances,a=t.linkDistance,o=t.radii||[],s=t.unitRadius||50,l=[];return n&&n.forEach(function(u,h){var c=[];u.forEach(function(v,y){if(h===y)c.push(0);else if(o[h]===o[y])if(t.sortBy==="data")c.push(v*(Math.abs(h-y)*t.sortStrength)/(o[h]/s));else if(t.sortBy){var A=e[h][t.sortBy]||0,k=e[y][t.sortBy]||0;(0,gn.default)(A)&&(A=A.charCodeAt(0)),(0,gn.default)(k)&&(k=k.charCodeAt(0)),c.push(v*(Math.abs(A-k)*t.sortStrength)/(o[h]/s))}else c.push(v*a/(o[h]/s));else{var R=(a+s)/2;c.push(v*R)}}),l.push(c)}),l},r.prototype.handleInfinity=function(t,e,n){for(var a=t.length,o=0;o<a;o++)if(t[e][o]===Infinity){t[e][o]=n,t[o][e]=n;for(var s=0;s<a;s++)t[o][s]!==Infinity&&t[e][s]===Infinity&&(t[e][s]=n+t[o][s],t[s][e]=n+t[o][s])}for(var o=0;o<a;o++)if(o!==e){for(var s=0;s<a;s++)if(t[o][s]===Infinity){var l=Math.abs(t[e][o]-t[e][s]);l=l===0?1:l,t[o][s]=l}}},r.prototype.maxToFocus=function(t,e){for(var n=0,a=0;a<t[e].length;a++)t[e][a]!==Infinity&&(n=t[e][a]>n?t[e][a]:n);return n},r}(da),V4=X4,H4=function(i){In(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},r.prototype.execute=function(){var t=this,e=t.nodes,n=.9,a=t.center;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),e&&e.forEach(function(o){o.x=(Math.random()-.5)*n*t.width+a[0],o.y=(Math.random()-.5)*n*t.height+a[1]})},r}(da),W4=H4,j4=function(i){In(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=100,t.gravity=10,t.comboGravity=10,t.linkDistance=10,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.edgeStrength=.2,t.nodeStrength=30,t.preventOverlap=!1,t.preventNodeOverlap=!1,t.preventComboOverlap=!1,t.collideStrength=void 0,t.nodeCollideStrength=void 0,t.comboCollideStrength=void 0,t.optimizeRangeFactor=1,t.onTick=function(){},t.onLayoutEnd=function(){},t.depthAttractiveForceScale=.5,t.depthRepulsiveForceScale=2,t.nodes=[],t.edges=[],t.combos=[],t.comboTrees=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.oriComboMap={},t.nodeIdxMap={},t.comboMap={},t.previousLayouted=!1,t}return r.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(t.comboTree={id:"comboTreeRoot",depth:-1,children:t.comboTrees},!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}t.initVals(),t.run(),t.onLayoutEnd()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var a=t.center,o=t.velocityDecay,s=t.comboMap;t.previousLayouted||t.initPos(s);for(var l=function(y){var A=[];e.forEach(function(k,R){A[R]={x:0,y:0}}),t.applyCalculate(A),t.applyComboCenterForce(A),e.forEach(function(k,R){!(0,f.isNumber)(k.x)||!(0,f.isNumber)(k.y)||(k.x+=A[R].x*o,k.y+=A[R].y*o)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},u=0;u<n;u++)l(u);var h=[0,0];e.forEach(function(v){!(0,f.isNumber)(v.x)||!(0,f.isNumber)(v.y)||(h[0]+=v.x,h[1]+=v.y)}),h[0]/=e.length,h[1]/=e.length;var c=[a[0]-h[0],a[1]-h[1]];e.forEach(function(v,y){!(0,f.isNumber)(v.x)||!(0,f.isNumber)(v.y)||(v.x+=c[0],v.y+=c[1])}),t.combos.forEach(function(v){var y=s[v.id];y&&y.empty&&(v.x=y.cx||v.x,v.y=y.cy||v.y)}),t.previousLayouted=!0},r.prototype.initVals=function(){var t=this,e=t.edges,n=t.nodes,a=t.combos,o={},s={},l={};n.forEach(function(Te,Ve){s[Te.id]=Te,l[Te.id]=Ve}),t.nodeMap=s,t.nodeIdxMap=l;var u={};a.forEach(function(Te){u[Te.id]=Te}),t.oriComboMap=u,t.comboMap=t.getComboMap();var h=t.preventOverlap;t.preventComboOverlap=t.preventComboOverlap||h,t.preventNodeOverlap=t.preventNodeOverlap||h;var c=t.collideStrength;c&&(t.comboCollideStrength=c,t.nodeCollideStrength=c);for(var v=0;v<e.length;++v)o[e[v].source]?o[e[v].source]++:o[e[v].source]=1,o[e[v].target]?o[e[v].target]++:o[e[v].target]=1;for(var y=[],v=0;v<e.length;++v)y[v]=o[e[v].source]/(o[e[v].source]+o[e[v].target]);this.bias=y;var A=t.nodeSize,k=t.nodeSpacing,R,H;if((0,f.isNumber)(k)?H=function(){return k}:(0,f.isFunction)(k)?H=k:H=function(){return 0},this.nodeSpacing=H,!A)R=function(Ve){if(Ve.size){if((0,f.isArray)(Ve.size)){var je=Ve.size[0]>Ve.size[1]?Ve.size[0]:Ve.size[1];return je/2}return Ve.size/2}return 10};else if((0,f.isFunction)(A))R=function(Ve){return A(Ve)};else if((0,f.isArray)(A)){var V=A[0]>A[1]?A[0]:A[1],ot=V/2;R=function(Ve){return ot}}else{var ut=A/2;R=function(Ve){return ut}}this.nodeSize=R;var bt=t.comboSpacing,Ft;(0,f.isNumber)(bt)?Ft=function(){return bt}:(0,f.isFunction)(bt)?Ft=bt:Ft=function(){return 0},this.comboSpacing=Ft;var Xt=t.comboPadding,Ut;(0,f.isNumber)(Xt)?Ut=function(){return Xt}:(0,f.isArray)(Xt)?Ut=function(){return Math.max.apply(null,Xt)}:(0,f.isFunction)(Xt)?Ut=Xt:Ut=function(){return 0},this.comboPadding=Ut;var Gt=this.linkDistance,te;Gt||(Gt=10),(0,f.isNumber)(Gt)?te=function(Ve){return Gt}:te=Gt,this.linkDistance=te;var ue=this.edgeStrength,se;ue||(ue=1),(0,f.isNumber)(ue)?se=function(Ve){return ue}:se=ue,this.edgeStrength=se;var Me=this.nodeStrength,Pe;Me||(Me=30),(0,f.isNumber)(Me)?Pe=function(Ve){return Me}:Pe=Me,this.nodeStrength=Pe},r.prototype.initPos=function(t){var e=this,n=e.nodes;n.forEach(function(a,o){if(a.comboId){var s=t[a.comboId];a.x=s.cx+100/(o+1),a.y=s.cy+100/(o+1)}else a.x=100/(o+1),a.y=100/(o+1)})},r.prototype.getComboMap=function(){var t=this,e=t.nodeMap,n=t.nodeIdxMap,a=t.comboTrees,o=t.oriComboMap,s={};return(a||[]).forEach(function(l){var u=[];va(l,function(h){if(h.itemType==="node"||!o[h.id])return!0;if(s[h.id]===void 0){var c={name:h.id,cx:0,cy:0,count:0,depth:t.oriComboMap[h.id].depth,children:[]};s[h.id]=c}var v=h.children;v&&v.forEach(function(V){if(!s[V.id]&&!e[V.id])return!0;u.push(V)});var y=s[h.id];if(y.cx=0,y.cy=0,u.length===0){y.empty=!0;var A=o[h.id],k=Object.keys(e).length,R=h.id+"-visual-child-"+k,H={id:R,x:A.x,y:A.y,depth:y.depth+1,itemType:"node"};t.nodes.push(H),e[R]=H,n[R]=k,y.cx=A.x,y.cy=A.y,u.push(H)}return u.forEach(function(V){if(y.count++,V.itemType!=="node"){var ot=s[V.id];(0,f.isNumber)(ot.cx)&&(y.cx+=ot.cx),(0,f.isNumber)(ot.cy)&&(y.cy+=ot.cy);return}var ut=e[V.id];!ut||((0,f.isNumber)(ut.x)&&(y.cx+=ut.x),(0,f.isNumber)(ut.y)&&(y.cy+=ut.y))}),y.cx/=y.count,y.cy/=y.count,y.children=u,!0})}),s},r.prototype.applyComboCenterForce=function(t){var e=this,n=e.gravity,a=e.comboGravity||n,o=this.alpha,s=e.comboTrees,l=e.nodeIdxMap,u=e.nodeMap,h=e.comboMap;(s||[]).forEach(function(c){va(c,function(v){if(v.itemType==="node")return!0;var y=h[v.id];if(!y)return!0;var A=h[v.id],k=(A.depth+1)*.5,R=A.cx,H=A.cy;return A.cx=0,A.cy=0,A.children.forEach(function(V){if(V.itemType!=="node"){var ot=h[V.id];ot&&(0,f.isNumber)(ot.cx)&&(A.cx+=ot.cx),ot&&(0,f.isNumber)(ot.cy)&&(A.cy+=ot.cy);return}var ut=u[V.id],bt=ut.x-R||.005,Ft=ut.y-H||.005,Xt=Math.sqrt(bt*bt+Ft*Ft),Ut=l[ut.id],Gt=a*o/Xt*k;t[Ut].x-=bt*Gt,t[Ut].y-=Ft*Gt,(0,f.isNumber)(ut.x)&&(A.cx+=ut.x),(0,f.isNumber)(ut.y)&&(A.cy+=ut.y)}),A.cx/=A.count,A.cy/=A.count,!0})})},r.prototype.applyCalculate=function(t){var e=this,n=e.comboMap,a=e.nodes,o={};a.forEach(function(l,u){a.forEach(function(h,c){if(!(u<c)){var v=l.x-h.x||.005,y=l.y-h.y||.005,A=v*v+y*y,k=Math.sqrt(A);A<1&&(A=k),o[l.id+"-"+h.id]={vx:v,vy:y,vl2:A,vl:k},o[h.id+"-"+l.id]={vx:-v,vy:-y,vl2:A,vl:k}}})}),e.updateComboSizes(n),e.calRepulsive(t,o),e.calAttractive(t,o);var s=e.preventComboOverlap;s&&e.comboNonOverlapping(t,n)},r.prototype.updateComboSizes=function(t){var e=this,n=e.comboTrees,a=e.nodeMap,o=e.nodeSize,s=e.comboSpacing,l=e.comboPadding;(n||[]).forEach(function(u){var h=[];va(u,function(c){if(c.itemType==="node")return!0;var v=t[c.id];if(!!v){var y=c.children;y&&y.forEach(function(R){!t[R.id]&&!a[R.id]||h.push(R)}),v.minX=Infinity,v.minY=Infinity,v.maxX=-Infinity,v.maxY=-Infinity,h.forEach(function(R){if(R.itemType!=="node")return!0;var H=a[R.id];if(!H)return!0;var V=o(H),ot=H.x-V,ut=H.y-V,bt=H.x+V,Ft=H.y+V;v.minX>ot&&(v.minX=ot),v.minY>ut&&(v.minY=ut),v.maxX<bt&&(v.maxX=bt),v.maxY<Ft&&(v.maxY=Ft)});var A=e.oriComboMap[c.id].size||Ye.defaultCombo.size;(0,f.isArray)(A)&&(A=A[0]);var k=Math.max(v.maxX-v.minX,v.maxY-v.minY,A);return v.r=k/2+s(v)/2+l(v),!0}})})},r.prototype.comboNonOverlapping=function(t,e){var n=this,a=n.comboTree,o=n.comboCollideStrength,s=n.nodeIdxMap,l=n.nodeMap;va(a,function(u){if(!(!e[u.id]&&!l[u.id]&&u.id!=="comboTreeRoot")){var h=u.children;return h&&h.length>1&&h.forEach(function(c,v){if(c.itemType!=="node"){var y=e[c.id];!y||h.forEach(function(A,k){if(!(v<=k)&&A.itemType!=="node"){var R=e[A.id];if(!!R){var H=y.cx-R.cx||.005,V=y.cy-R.cy||.005,ot=H*H+V*V,ut=y.r,bt=R.r,Ft=ut+bt,Xt=bt*bt,Ut=ut*ut;if(ot<Ft*Ft){var Gt=c.children;if(!Gt||Gt.length===0)return;var te=A.children;if(!te||te.length===0)return;var ue=Math.sqrt(ot),se=(Ft-ue)/ue*o,Me=H*se,Pe=V*se,Te=Xt/(Ut+Xt),Ve=1-Te;Gt.forEach(function(je){if(je.itemType==="node"&&!!l[je.id]){var Ue=s[je.id];te.forEach(function(Ge){if(Ge.itemType==="node"&&!!l[Ge.id]){var ze=s[Ge.id];t[Ue].x+=Me*Te,t[Ue].y+=Pe*Te,t[ze].x-=Me*Ve,t[ze].y-=Pe*Ve}})}})}}}})}}),!0}})},r.prototype.calRepulsive=function(t,e){var n=this,a=n.nodes,o=n.width*n.optimizeRangeFactor,s=n.nodeStrength,l=n.alpha,u=n.nodeCollideStrength,h=n.preventNodeOverlap,c=n.nodeSize,v=n.nodeSpacing,y=n.depthRepulsiveForceScale,A=n.center;a.forEach(function(k,R){if(!(!k.x||!k.y)){if(A){var H=n.gravity,V=k.x-A[0]||.005,ot=k.y-A[1]||.005,ut=Math.sqrt(V*V+ot*ot);t[R].x-=V*H*l/ut,t[R].y-=ot*H*l/ut}a.forEach(function(bt,Ft){if(R!==Ft&&!(!bt.x||!bt.y)){var Xt=e[k.id+"-"+bt.id],Ut=Xt.vl2,Gt=Xt.vl;if(!(Gt>o)){var te=e[k.id+"-"+bt.id],ue=te.vx,se=te.vy,Me=Math.abs(bt.depth-k.depth)+1||1;bt.comboId!==k.comboId&&Me++;var Pe=Me?Math.pow(y,Me):1,Te=s(bt)*l/Ut*Pe;if(t[R].x+=ue*Te,t[R].y+=se*Te,R<Ft&&h){var Ve=c(k)+v(k),je=c(bt)+v(bt),Ue=Ve+je;if(Ut<Ue*Ue){var Ge=(Ue-Gt)/Gt*u,ze=je*je,ur=ze/(Ve*Ve+ze),lr=ue*Ge,pr=se*Ge;t[R].x+=lr*ur,t[R].y+=pr*ur,ur=1-ur,t[Ft].x-=lr*ur,t[Ft].y-=pr*ur}}}}})}})},r.prototype.calAttractive=function(t,e){var n=this,a=n.edges,o=n.linkDistance,s=n.alpha,l=n.edgeStrength,u=n.bias,h=n.depthAttractiveForceScale;a.forEach(function(c,v){if(!(!c.source||!c.target||c.source===c.target)){var y=n.nodeIdxMap[c.source],A=n.nodeIdxMap[c.target],k=n.nodeMap[c.source],R=n.nodeMap[c.target],H=Math.abs(k.depth-R.depth);k.comboId===R.comboId&&(H=H/2);var V=H?Math.pow(h,H):1;if(k.comboId!==R.comboId&&V===1?V=h/2:k.comboId===R.comboId&&(V=2),!(!(0,f.isNumber)(R.x)||!(0,f.isNumber)(k.x)||!(0,f.isNumber)(R.y)||!(0,f.isNumber)(k.y))){var ot=e[c.target+"-"+c.source],ut=ot.vl,bt=ot.vx,Ft=ot.vy,Xt=(ut-o(c))/ut*s*l(c)*V,Ut=bt*Xt,Gt=Ft*Xt,te=u[v];t[A].x-=Ut*te,t[A].y-=Gt*te,t[y].x+=Ut*(1-te),t[y].y+=Gt*(1-te)}}})},r}(da),U4=j4,Z4={circular:rN,concentric:iN,dagre:sN,force:UN,g6force:QN,comboForce:U4,fruchterman:t4,grid:r4,mds:B4,radial:V4,random:W4};(0,Mn.default)(Z4,function(i,r){zx.registerLayout(r,{},i)});var js=zx,hc=self;function K4(i){var r=i.data.type;return r===io.RUN}function $4(i){var r=i.data.type;switch(r){case io.RUN:{var t=i.data,e=t.nodes,n=t.edges,a=t.layoutCfg,o=a===void 0?{}:a,s=o.type,l=js[s];if(!l){hc.postMessage({type:io.ERROR,message:"layout "+s+" not found"});break}var u=new l(o);u.init({nodes:e,edges:n}),u.execute(),hc.postMessage({type:io.END,nodes:e}),u.destroy();break}default:break}}hc.onmessage=function(i){K4(i)&&$4(i)};var Q4=null;function Iu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Iu=function(t){return typeof t}:Iu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(i)}var J4=function(r){return setTimeout(r,16)},q4=function(r){return clearTimeout(r)},ku={requestAnimationFrame:function(r){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||J4;return t(r)},cancelAnimationFrame:function(r){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||q4;return t(r)}},t6=function(){function i(r){this.graph=r,this.layoutCfg=r.get("layout")||{},this.layoutType=this.layoutCfg.type,this.worker=null,this.workerData={},this.initLayout()}return i.prototype.initLayout=function(){},i.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=new Q4,this.worker)},i.prototype.stopWorker=function(){var r=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,r.requestId&&(ku.cancelAnimationFrame(r.requestId),r.requestId=null),r.requestId2&&(ku.cancelAnimationFrame(r.requestId2),r.requestId2=null))},i.prototype.getLayoutType=function(){return this.layoutCfg.type},i.prototype.layout=function(r){var t=this.graph;this.data=this.setDataFromGraph();var e=this.data.nodes;if(!e)return!1;var n=t.get("width"),a=t.get("height"),o={};Object.assign(o,{width:n,height:a,center:[n/2,a/2]},this.layoutCfg),this.layoutCfg=o;var s=!!this.layoutType,l=this.layoutMethod;l&&l.destroy(),t.emit("beforelayout");var u=this.initPositions(o.center,e);if(this.stopWorker(),o.workerEnabled&&this.layoutWithWorker(this.data,r))return!0;if(this.layoutType==="force"||this.layoutType==="g6force"){var h=o.onTick,c=function(){h&&h(),t.refreshPositions()};o.tick=c;var v=o.onLayoutEnd;o.onLayoutEnd=function(){v&&v(),t.emit("afterlayout")}}else this.layoutType==="comboForce"&&(o.comboTrees=t.get("comboTrees"));var y=!1;if(this.layoutType!==void 0){try{l=new js[this.layoutType](o)}catch(H){return console.warn("The layout method: "+this.layoutType+" does not exist! Please specify it first."),!1}if(y=l.enableTick,y){var A=o.onTick,k=o.onLayoutEnd,c=function(){A&&A(),t.refreshPositions()};l.tick=c;var R=function(){k&&k(),t.emit("afterlayout")};l.onLayoutEnd=R}l.init(this.data),s&&l.execute(),this.layoutMethod=l}return(s||!u)&&this.layoutType!=="force"&&!y&&(t.emit("afterlayout"),this.refreshLayout()),!1},i.prototype.layoutWithWorker=function(r,t){var e=this,n=r.nodes,a=r.edges,o=this,s=o.layoutCfg,l=o.graph,u=this.getWorker(),h=this.workerData;if(!u)return!1;h.requestId=null,h.requestId2=null,h.currentTick=null,h.currentTickData=null;var c=r6(s,function(v){return typeof v!="function"});return u.postMessage({type:io.RUN,nodes:n,edges:a,layoutCfg:c}),u.onmessage=function(v){e.handleWorkerMessage(v,r,t)},!0},i.prototype.handleWorkerMessage=function(r,t,e){var n=this,a=n.graph,o=n.workerData,s=n.layoutCfg,l=r.data,u=l.type,h=function(){s.onTick&&s.onTick()},c=function(){s.onLayoutEnd&&s.onLayoutEnd(),a.emit("afterlayout")};switch(u){case io.TICK:o.currentTick=l.currentTick,o.currentTickData=l,o.requestId||(o.requestId=ku.requestAnimationFrame(function(){cc(t,l),a.refreshPositions(),h(),l.currentTick===1&&e&&e(),l.currentTick===l.totalTicks?c():o.currentTick===l.totalTicks&&(o.requestId2=ku.requestAnimationFrame(function(){cc(t,o.currentTickData),a.refreshPositions(),o.requestId2=null,h(),c()})),o.requestId=null}));break;case io.END:o.currentTick==null&&(cc(t,l),this.refreshLayout(),e&&e(),a.emit("afterlayout"));break;case io.ERROR:break;default:break}},i.prototype.refreshLayout=function(){var r=this.graph;r.get("animate")?r.positionsAnimate():r.refreshPositions()},i.prototype.updateLayoutCfg=function(r){var t=this,e=t.graph,n=t.layoutMethod;if(this.layoutType=r.type,!n){console.warn("You did not assign any layout type and the graph has no previous layout method!");return}this.data=this.setDataFromGraph(),this.stopWorker(),!(r.workerEnabled&&this.layoutWithWorker(this.data,null))&&(n.init(this.data),n.updateCfg(r),e.emit("beforelayout"),n.execute(),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout())},i.prototype.changeLayout=function(r){var t=this,e=t.graph,n=t.layoutMethod;this.layoutType=r,this.layoutCfg=e.get("layout")||{},this.layoutCfg.type=r,n&&n.destroy(),this.layout()},i.prototype.changeData=function(){var r=this.layoutMethod;r&&r.destroy(),this.layout()},i.prototype.destroyLayout=function(){var r=this,t=r.layoutMethod,e=r.graph;t&&t.destroy(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},i.prototype.setDataFromGraph=function(){var r=[],t=[],e=[],n=this.graph.getNodes(),a=this.graph.getEdges(),o=this.graph.getCombos();n.forEach(function(l){if(!!l.isVisible()){var u=l.getModel();r.push(u)}}),a.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var u=l.getModel();u.isComboEdge||t.push(u)}}),o.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var u=l.getModel();e.push(u)}});var s={nodes:r,edges:t,combos:e};return s},i.prototype.relayout=function(r){var t=this,e=t.graph,n=t.layoutMethod,a=t.layoutCfg;if(r){this.data=this.setDataFromGraph();var o=this.data.nodes;if(!o)return!1;this.initPositions(a.center,o),n.init(this.data)}this.layoutType==="force"&&(n.ticking=!1,n.forceSimulation.stop()),e.emit("beforelayout"),n.execute(r),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout()},i.prototype.layoutAnimate=function(){},i.prototype.moveToZero=function(){var r=this.graph,t=r.get("data"),e=t.nodes;if(!(e[0].x===void 0||e[0].x===null||eo(e[0].x))){var n=[0,0];e.forEach(function(a){n[0]+=a.x,n[1]+=a.y}),n[0]/=e.length,n[1]/=e.length,e.forEach(function(a){a.x-=n[0],a.y-=n[1]})}},i.prototype.initPositions=function(r,t){var e=this.graph;if(!t)return!1;var n=!0,a=e.get("width")*.85,o=e.get("height")*.85,s=t.length,l=Math.ceil(Math.sqrt(s)*(a/o)),u=Math.ceil(s/l),h=a/(l-1),c=o/(u-1);(!isFinite(h)||!h)&&(h=0),(!isFinite(c)||!h)&&(c=0);var v=r[0]-a/2,y=r[1]-o/2;return t.forEach(function(A,k){eo(A.x)&&(n=!1,A.x=k%l*h+v),eo(A.y)&&(n=!1,A.y=Math.floor(k/l)*c+y)}),n},i.prototype.destroy=function(){var r=this.layoutMethod;this.graph=null,r&&r.destroy();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0},i}(),e6=t6;function cc(i,r){var t=i.nodes,e=r.nodes;t.forEach(function(n,a){n.x=e[a].x,n.y=e[a].y})}function r6(i,r){var t={};return i&&Iu(i)==="object"?(Object.keys(i).forEach(function(e){i.hasOwnProperty(e)&&r(i[e])&&(t[e]=i[e])}),t):i}var Yo=null,n6=function(){function i(r){this.graph=r,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return i.checkCache=function(r,t,e){if(!!e[t]){var n=e[t].indexOf(r);n>=0&&e[t].splice(n,1)}},i.cacheState=function(r,t,e){e[t]||(e[t]=[]),e[t].push(r)},i.prototype.updateState=function(r,t,e){var n=this,a=i.checkCache,o=i.cacheState;if(!r.destroyed){var s=this.cachedStates,l=s.enabled,u=s.disabled;e?(a(r,t,u),o(r,t,l)):(a(r,t,l),o(r,t,u)),Yo&&clearTimeout(Yo),Yo=setTimeout(function(){Yo=null,n.updateGraphStates()},16)}},i.prototype.updateStates=function(r,t,e){var n=this;(0,gn.default)(t)?this.updateState(r,t,e):t.forEach(function(a){n.updateState(r,a,e)})},i.prototype.updateGraphStates=function(){var r=this.graph.get("states"),t=this.cachedStates;(0,Mn.default)(t.disabled,function(e,n){r[n]&&(r[n]=r[n].filter(function(a){return e.indexOf(a)<0&&!e.destroyed}))}),(0,Mn.default)(t.enabled,function(e,n){if(!r[n])r[n]=e;else{var a={};r[n].forEach(function(o){o.destroyed||(a[o.get("id")]=!0)}),e.forEach(function(o){if(!o.destroyed){var s=o.get("id");a[s]||(a[s]=!0,r[n].push(o))}})}}),this.graph.emit("graphstatechange",{states:r}),this.cachedStates={enabled:{},disabled:{}}},i.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Yo&&clearTimeout(Yo),Yo=null,this.destroyed=!0},i}(),i6=n6,vc=null,a6=function(){function i(r){this.graph=r;var t=r.get("groupStyle");this.styles=(0,ki.default)({},i.getDefaultCfg(),t),this.customGroup={},this.delegateInGroup={},this.nodePoint=[],this.destroyed=!1}return i.getDefaultCfg=function(){return{default:{lineWidth:1,stroke:"#A3B1BF",strokeOpacity:.9,fill:"#F3F9FF",fillOpacity:.8,opacity:.8,disCoefficient:.6,minDis:30,maxDis:30},hover:{stroke:"#faad14",fill:"#ffe58f",fillOpacity:.3,opacity:.3,lineWidth:3},collapse:{r:30,width:80,height:40,stroke:"#A3B1BF",lineWidth:3,fill:"#F3F9FF",offsetX:-15,offsetY:5},icon:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg",operatorBtn:{collapse:{img:"https://gw.alipayobjects.com/zos/rmsportal/uZVdwjJGqDooqKLKtvGA.svg",width:16,height:16},expand:{width:16,height:16,img:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg"}},visible:!1}},i.prototype.create=function(r,t,e,n,a,o){e===void 0&&(e="circle"),n===void 0&&(n=0),a===void 0&&(a=!1),o===void 0&&(o={});var s=this.graph,l=s.get("customGroup"),u=l.get("children").map(function(pr){return pr.get("id")});if(u.indexOf(r)>-1){console.warn("\u5DF2\u7ECF\u5B58\u5728ID\u4E3A "+r+" \u7684\u5206\u7EC4\uFF0C\u8BF7\u91CD\u65B0\u8BBE\u7F6E\u5206\u7EC4ID\uFF01");return}var h=l.addGroup({id:r,zIndex:n}),c=this.styles.default,v=this.calculationGroupPosition(t),y=v.x,A=v.y,k=v.width,R=v.height,H=v.maxX,V=this.getGroupPadding(r),ot=s.get("groupBBoxs");ot[r]={x:y,y:A,width:k,height:R,maxX:H};var ut=null;if(a){var bt=s.get("groups");t.forEach(function(pr){var Ze=s.findById(pr),cr=Ze.getModel();cr.groupId||(cr.groupId=r)}),bt.find(function(pr){return pr.id===r})||(bt.push({id:r,title:o}),s.set({groups:bt}))}var Ft=s.get("groups").filter(function(pr){return pr.id===r});Ft&&Ft.length>0&&(ut=Ft[0].title);var Xt=0,Ut=0,Gt=null;if(e==="circle"){var te=k>R?k/2:R/2,ue=(k+2*y)/2,se=(R+2*A)/2,Me=te+V;Gt=h.addShape("circle",{attrs:$t($t({},c),{x:ue,y:se,r:Me}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"circle-group-shape"}),Xt=ue,Ut=se-Me,this.setDeletageGroupByStyle(r,h,{width:k,height:R,x:ue,y:se,r:Me})}else{var Pe=V*c.disCoefficient;Gt=h.addShape("rect",{attrs:$t($t({},c),{x:y-Pe,y:A-Pe,width:k+Pe*2,height:R+Pe*2}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"rect-group-shape"}),Xt=y-Pe+15,Ut=A-Pe+15,this.setDeletageGroupByStyle(r,h,{x:y-Pe,y:A-Pe,width:k+Pe,height:R+Pe,btnOffset:H-3})}if(ut){var Te=ut.offsetX,Ve=Te===void 0?0:Te,je=ut.offsetY,Ue=je===void 0?0:je,Ge=ut.text,ze=Ge===void 0?ut:Ge,ur=Yi(ut,["offsetX","offsetY","text"]),lr=h.addShape("text",{attrs:$t({text:ze,stroke:"#444",x:Xt+Ve,y:Ut+Ue},ur),className:"group-title",name:"group-title-shape"});lr.set("capture",!1)}h.set("keyShape",Gt),s.get("groupNodes")[r]=t},i.prototype.setGroupStyle=function(r,t){if(!(!r||r.get("destroyed"))){var e={},n=this.styles,a=n.hover,o=n.default;(0,gn.default)(t)?t==="default"?e=(0,ki.default)({},o):t==="hover"&&(e=(0,ki.default)({},a)):e=(0,ki.default)({},o,t),Object.keys(e).forEach(function(s){r.attr(s,e[s])})}},i.prototype.calculationGroupPosition=function(r,t){if(t===void 0&&(t={x:100,y:100}),r.length===0)return{x:t.x,y:t.y,width:100,height:100};var e=this.graph,n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;r.forEach(function(v){var y=(0,gn.default)(v)?e.findById(v):v,A=y.getBBox(),k=A.minX,R=A.minY,H=A.maxX,V=A.maxY;k<n&&(n=k),R<o&&(o=R),H>a&&(a=H),V>s&&(s=V)});var l=Math.floor(n),u=Math.floor(o),h=Math.ceil(a)-l,c=Math.ceil(s)-u;return{x:l,y:u,width:h,height:c,maxX:Math.ceil(a)}},i.prototype.flatToTree=function(r,t,e){t===void 0&&(t="id"),e===void 0&&(e="parentId");var n="children",a=[],o=[];return r.forEach(function(s){a[s[t]]=s}),r.forEach(function(s){var l=a[s[e]];l?(l[n]=l[n]||[],l[n].push(s)):o.push(s)}),o},i.prototype.getGroupPadding=function(r){var t=this.graph,e=this.styles.default,n=t.get("groups"),a=n.filter(function(h){return h.parentId===r}),o=1;a.length>0&&(vc||(vc=this.flatToTree(n)),zi(vc[0],function(h){if(h.parentId===r&&h.children)return o+=h.children.length,!0}));var s=n.filter(function(h){return h.id===r&&!h.parentId});s.length>0&&(o+=1);var l=n.filter(function(h){return h.parentId===r}).length>0,u=l?e.maxDis+(o>1?o/2:1)*30:e.minDis;return u},i.prototype.setDeletageGroupByStyle=function(r,t,e){var n=e.width,a=e.height,o=e.x,s=e.y,l=e.r,u=e.btnOffset,h=this.customGroup[r];if(!h)this.customGroup[r]={nodeGroup:t,groupStyle:{width:n,height:a,x:o,y:s,r:l,btnOffset:u}};else{var c=h.groupStyle,v=(0,ki.default)({},c,e);this.customGroup[r]={nodeGroup:t,groupStyle:v}}},i.prototype.getDeletageGroupById=function(r){return this.customGroup[r]},i.prototype.collapseExpandGroup=function(r){var t=this.getDeletageGroupById(r),e=t.nodeGroup,n=e.get("hasHidden");n?(e.set("hasHidden",!1),this.expandGroup(r)):(e.set("hasHidden",!0),this.collapseGroup(r))},i.prototype.setGroupTmpNode=function(r,t){var e=this.graph,n=e.get("groupNodes"),a=e.get("groups");n[r].indexOf(t)<0&&n[r].push(t);var o=a.filter(function(l){return l.id===r}),s=null;o.length>0&&(s=o[0].parentId),s&&this.setGroupTmpNode(s,t)},i.prototype.collapseGroup=function(r){var t=this,e=this.getDeletageGroupById(r),n=e.nodeGroup,a=this.styles.collapse,o=this.graph,s=o.get("groupType"),l=o.get("groupNodes")[r],u=n.get("keyShape"),h=a.r,c=a.width,v=a.height,y=a.offsetX,A=a.offsetY,k=Yi(a,["r","width","height","offsetX","offsetY"]);Object.keys(k).forEach(function(Xt){u.attr(Xt,k[Xt])});var R={groupId:r,id:r+"-custom-node",x:u.attr("x"),y:u.attr("y"),style:{r:h},type:"circle"},H=n.find(function(Xt){return Xt.get("className")==="group-title"});s==="circle"?(u.animate({r:h},{duration:500,easing:"easeCubic"}),H&&H.attr({x:u.attr("x")+y,y:u.attr("y")+A})):s==="rect"&&(u.animate({width:c,height:v},{duration:500,easing:"easeCubic"}),H&&H.attr({x:u.attr("x")+10,y:u.attr("y")+v/2+5}),R={groupId:r,id:r+"-custom-node",x:u.attr("x")+c/2,y:u.attr("y")+v/2,size:[c,v],type:"rect"});var V=o.getEdges(),ot=V.filter(function(Xt){var Ut=Xt.getModel();return!l.includes(Ut.source)&&l.includes(Ut.target)}),ut=V.filter(function(Xt){var Ut=Xt.getModel();return l.includes(Ut.source)&&!l.includes(Ut.target)}),bt=V.filter(function(Xt){var Ut=Xt.getModel();return l.includes(Ut.source)&&l.includes(Ut.target)});if(l.forEach(function(Xt){var Ut=o.findById(Xt),Gt=Ut.getModel(),te=Gt.groupId;if(te&&te!==r){var ue=t.getDeletageGroupById(te),se=ue.nodeGroup;se.hide()}Ut.hide()}),bt.forEach(function(Xt){var Ut=Xt.getSource(),Gt=Xt.getTarget();Ut.isVisible()&&Gt.isVisible()?Xt.show():Xt.hide()}),ot.length>0||ut.length>0){var Ft=o.add("node",R);Ft.set("capture",!1),Ft.hide(),this.delegateInGroup[r]={delegateNode:Ft},this.setGroupTmpNode(r,r+"-custom-node"),this.updateEdgeInGroupLinks(r,ot,ut)}},i.prototype.updateEdgeInGroupLinks=function(r,t,e){var n=this.graph,a={};t.map(function(s){var l=s.getModel(),u=s.get("id"),h=l.target;return a[u]=h,n.updateItem(s,{target:r+"-custom-node"}),!0});var o={};e.map(function(s){var l=s.getModel(),u=s.get("id"),h=l.source;return o[u]=h,n.updateItem(s,{source:r+"-custom-node"}),!0}),this.delegateInGroup[r]=(0,ki.default)({sourceOutTargetInEdges:t,sourceInTargetOutEdges:e,edgesOuts:a,edgesIn:o},this.delegateInGroup[r])},i.prototype.expandGroup=function(r){var t=this,e=this.graph,n=e.get("groupType"),a=e.get("groupNodes")[r],o=a.filter(function(je){return je.indexOf("custom-node")===-1}),s=this.calculationGroupPosition(o),l=s.width,u=s.height,h=this.getDeletageGroupById(r).nodeGroup,c=h.get("keyShape"),v=this.styles,y=v.default,A=v.collapse;Object.keys(y).forEach(function(je){c.attr(je,y[je])});var k=h.find(function(je){return je.get("className")==="group-title"}),R=this.getGroupPadding(r);if(n==="circle"){var H=l>u?l/2:u/2;c.animate({r:H+R},{duration:500,easing:"easeCubic"})}else if(n==="rect"){var V=A.width,ot=A.height;c.animate({width:V+l+R*y.disCoefficient*2,height:ot+u+R*y.disCoefficient*2},{duration:500,easing:"easeCubic"})}if(k){var ut=null,bt=e.get("groups").filter(function(je){return je.id===r});bt&&bt.length>0&&(ut=bt[0].title);var Ft=ut.offsetX,Xt=Ft===void 0?0:Ft,Ut=ut.offsetY,Gt=Ut===void 0?0:Ut;n==="circle"?k.animate({x:c.attr("x")+Xt,y:c.attr("y")-c.attr("r")+Gt},{duration:600,easing:"easeCubic"}):n==="rect"&&k.animate({x:c.attr("x")+(15+Xt),y:c.attr("y")+(15+Gt)},{duration:600,easing:"easeCubic"})}setTimeout(function(){a.forEach(function(Ge){var ze=e.findById(Ge),ur=ze.getModel(),lr=ur.groupId;if(lr&&lr!==r){var pr=t.getDeletageGroupById(lr),Ze=pr.nodeGroup;Ze.show();var cr=Ze.get("hasHidden");cr||ze.show()}else ze.show()});var je=e.getEdges(),Ue=je.filter(function(Ge){var ze=Ge.getModel();return a.includes(ze.source)||a.includes(ze.target)});Ue.forEach(function(Ge){var ze=Ge.getSource(),ur=Ge.getTarget();ze.isVisible()&&ur.isVisible()&&Ge.show()})},300);var te=this.delegateInGroup[r];if(te){var ue=te.sourceOutTargetInEdges,se=te.sourceInTargetOutEdges,Me=te.edgesOuts,Pe=te.edgesIn,Te=te.delegateNode;ue.map(function(je){var Ue=je.get("id"),Ge=Me[Ue];return e.updateItem(je,{target:Ge}),!0}),se.map(function(je){var Ue=je.get("id"),Ge=Pe[Ue];return e.updateItem(je,{source:Ge}),!0});var Ve=Te.getModel();this.deleteTmpNode(r,Ve.id),e.remove(Te),delete this.delegateInGroup[r]}},i.prototype.deleteTmpNode=function(r,t){var e=this.graph,n=e.get("groups"),a=e.get("groupNodes")[r],o=a.indexOf(t);a.splice(o,1);var s=n.filter(function(u){return u.id===r}),l=null;s.length>0&&(l=s[0].parentId),l&&this.deleteTmpNode(l,t)},i.prototype.remove=function(r){var t=this.graph,e=this.getDeletageGroupById(r);if(!!e){var n=e.nodeGroup,a=t.get("groupNodes"),o=a[r];o.forEach(function(y){var A=t.findById(y),k=A.getModel(),R=k.groupId;!R||r===R&&(delete k.groupId,t.updateItem(A,k))}),n.destroy(),delete this.customGroup[r];var s=t.get("groups");if(s.length>0){var l=s.filter(function(y){return y.id!==r});t.set("groups",l)}for(var u=null,h=null,c=0;c<s.length;c++){var v=s[c];if(r===v.id){u=v.parentId,h=v;break}}h&&delete h.parentId,delete a[r],u&&(a[u]=a[u].filter(function(y){return!o.includes(y)}))}},i.prototype.updateGroup=function(r,t,e){var n=this.graph,a=n.get("groupType");this.updateItemInGroup(r,t,e);for(var o=n.save().groups,s=null,l=null,u=0;u<o.length;u++){var h=o[u];if(r===h.id){s=h.parentId,l=h;break}}if(s){var c=this.getDeletageGroupById(s).nodeGroup,v=c.get("keyShape");this.setGroupStyle(v,"default");var y=v.getBBox(),A=y.minX,k=y.minY,R=y.maxX,H=y.maxY,V=this.getDeletageGroupById(r).nodeGroup,ot=V.get("keyShape"),ut=ot.getBBox(),bt=ut.x,Ft=ut.y;if(!(bt<R&&bt>A&&Ft<H&&Ft>k)){delete l.parentId;var Xt=n.get("groupNodes"),Ut=Xt[r],Gt=Xt[s];Xt[s]=Gt.filter(function(dr){return Ut.indexOf(dr)===-1});var te=this.calculationGroupPosition(Xt[s]),ue=te.x,se=te.y,Me=te.width,Pe=te.height,Te=this.getGroupPadding(s),Ve=c.find(function(dr){return dr.get("className")==="group-title"}),je=0,Ue=0;if(a==="circle"){var Ge=Me>Pe?Me/2:Pe/2,ze=ue,ur=se;v.attr({r:Ge+Te,x:ze,y:ur}),je=ze,Ue=ur-v.attr("r")}else if(a==="rect"){var lr=this.styles.default,pr=Te*lr.disCoefficient;v.attr({x:ue-pr,y:se-pr}),je=ue-pr+15,Ue=se-pr+15}if(Ve){var Ze=l.title,cr=0,Tr=0;Ze&&(cr=Ze.offsetX,Tr=Ze.offsetY),Ve.attr({x:je+cr,y:Ue+Tr})}}}},i.prototype.updateItemInGroup=function(r,t,e){var n=this,a=this.graph,o=a.get("groupType"),s=a.get("groupNodes"),l=s[r],u=this.getDeletageGroupById(r).nodeGroup,h=u.getBBox(),c=[];l.forEach(function(v,y){var A=a.findById(v),k=A.getModel(),R=k.groupId;R&&!c.includes(R)&&c.push(R),n.nodePoint[y]||(n.nodePoint[y]={x:k.x,y:k.y});var H=t.x-h.x+n.nodePoint[y].x,V=t.y-h.y+n.nodePoint[y].y;n.nodePoint[y]={x:H,y:V},a.updateItem(A,{x:H,y:V})}),c.includes(r)||c.push(r),c.forEach(function(v){var y=n.getDeletageGroupById(v).nodeGroup,A=y.get("keyShape"),k=s[v].filter(function(Pe){return Pe.indexOf("custom-node")===-1}),R=n.calculationGroupPosition(k,t),H=R.x,V=R.y,ot=R.width,ut=R.height,bt=0,Ft=0;if(o==="circle"){var Xt=(ot+2*H)/2,Ut=(ut+2*V)/2;A.attr({x:Xt,y:Ut}),bt=Xt,Ft=Ut-A.attr("r")}else if(o==="rect"){var Gt=y.get("hasHidden"),te=n.getGroupPadding(v),ue={},se=n.styles.default,Me=te*se.disCoefficient;bt=H-Me+15,Ft=V-Me+15,Gt?(ue={x:H-Me,y:V-Me},Ft=Ft+10):ue={x:H-Me,y:V-Me,width:ot+Me*2,height:ut+Me*2},A.attr(ue)}n.updateGroupTitle(y,v,bt,Ft)})},i.prototype.updateGroupTitle=function(r,t,e,n){var a=this.graph,o=r.find(function(c){return c.get("className")==="group-title"});if(o){var s=null,l=a.get("groups").filter(function(c){return c.id===t});l&&l.length>0&&(s=l[0].title);var u=0,h=0;s&&(u=s.offsetX||0,h=s.offsetY||0),o.attr({x:e+u,y:n+h})}},i.prototype.dynamicChangeGroupSize=function(r,t,e){var n=r.item,a=n.getModel(),o=a.groupId,s=this.graph,l=s.get("groupType"),u=s.get("groupNodes"),h=u[o];if(h.length===0){delete u[o];var c=s.get("groups");s.set("groups",c.filter(function(Gt){return Gt.id!==o})),t.remove()}else{var v=this.calculationGroupPosition(h),y=v.x,A=v.y,k=v.width,R=v.height,H=this.getGroupPadding(o),V=0,ot=0;if(l==="circle"){var ut=k>R?k/2:R/2,bt=(k+2*y)/2,Ft=(R+2*A)/2;e.attr({r:ut+H,x:bt,y:Ft}),V=bt,ot=Ft-e.attr("r")}else if(l==="rect"){var Xt=this.styles.default,Ut=H*Xt.disCoefficient;e.attr({x:y-Ut,y:A-Ut,width:k+Ut*2,height:R+Ut*2}),V=y-Ut+15,ot=A-Ut+15}this.updateGroupTitle(t,o,V,ot)}this.setGroupStyle(e,"default")},i.prototype.resetNodePoint=function(){this.nodePoint.length=0},i.prototype.destroy=function(){this.graph=null,this.styles={},this.customGroup={},this.delegateInGroup={},this.resetNodePoint(),this.destroyed=!0},i}(),o6=a6,s6=function(r){var t={};return r.getNodes().forEach(function(e){t[e.getID()]={degree:0,inDegree:0,outDegree:0}}),r.getEdges().forEach(function(e){t[e.getSource().getID()].degree++,t[e.getSource().getID()].outDegree++,t[e.getTarget().getID()].degree++,t[e.getTarget().getID()].inDegree++}),t},v1=s6,l6=function(){function i(r){this.compare=r||i.defaultCompareFunction}return i.defaultCompareFunction=function(r,t){return r===t?0:r<t?-1:1},i.prototype.equal=function(r,t){return this.compare(r,t)===0},i.prototype.lessThan=function(r,t){return this.compare(r,t)<0},i.prototype.greaterThan=function(r,t){return this.compare(r,t)>0},i.prototype.lessThanOrEqual=function(r,t){return this.lessThan(r,t)||this.equal(r,t)},i.prototype.greaterThanOrEqual=function(r,t){return this.greaterThan(r,t)||this.equal(r,t)},i.prototype.reverse=function(){var r=this.compare;this.compare=function(t,e){return r(e,t)}},i}(),u6=l6,d1=function(){function i(r,t){t===void 0&&(t=null),this.value=r,this.next=t}return i.prototype.toString=function(r){return r?r(this.value):""+this.value},i}(),f6=function(){function i(r){r===void 0&&(r=null),this.head=null,this.tail=null,this.compare=new u6(r)}return i.prototype.prepend=function(r){var t=new d1(r,this.head);return this.head=t,this.tail||(this.tail=t),this},i.prototype.append=function(r){var t=new d1(r);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},i.prototype.delete=function(r){if(!this.head)return null;for(var t=null;this.head&&this.compare.equal(this.head.value,r);)t=this.head,this.head=this.head.next;var e=this.head;if(e!==null)for(;e.next;)this.compare.equal(e.next.value,r)?(t=e.next,e.next=e.next.next):e=e.next;return this.compare.equal(this.tail.value,r)&&(this.tail=e),t},i.prototype.find=function(r){var t=r.value,e=t===void 0?void 0:t,n=r.callback,a=n===void 0?void 0:n;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||e!==void 0&&this.compare.equal(o.value,e))return o;o=o.next}return null},i.prototype.deleteTail=function(){var r=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,r;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,r},i.prototype.deleteHead=function(){if(!this.head)return null;var r=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),r},i.prototype.fromArray=function(r){var t=this;return r.forEach(function(e){return t.append(e)}),this},i.prototype.toArray=function(){for(var r=[],t=this.head;t;)r.push(t),t=t.next;return r},i.prototype.reverse=function(){for(var r=this.head,t=null,e=null;r;)e=r.next,r.next=t,t=r,r=e;this.tail=this.head,this.head=t},i.prototype.toString=function(r){return r===void 0&&(r=void 0),this.toArray().map(function(t){return t.toString(r)}).toString()},i}(),p1=f6,h6=function(){function i(r){r===void 0&&(r=10),this.linkedList=new p1,this.maxStep=r}return Object.defineProperty(i.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},i.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},i.prototype.push=function(r){this.linkedList.prepend(r),this.length>this.maxStep&&this.linkedList.deleteTail()},i.prototype.pop=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toArray=function(){return this.linkedList.toArray().map(function(r){return r.value})},i.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},i}(),g1=h6,c6=function(r,t){var e=r.getNodes(),n=r.getEdges(),a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.getID()]=l;var u=[];a.push(u)}),n&&n.forEach(function(s){var l=s.getModel(),u=l.source,h=l.target,c=o[u],v=o[h];a[c][v]=1,t||(a[v][c]=1)}),a},Bu=c6,v6=function(r,t){var e=r.get("adjMatrix");e||(e=Bu(r,t));for(var n=[],a=e.length,o=0;o<a;o+=1){n[o]=[];for(var s=0;s<a;s+=1)o===s?n[o][s]=0:e[o][s]===0||!e[o][s]?n[o][s]=Infinity:n[o][s]=e[o][s]}for(var l=0;l<a;l+=1)for(var o=0;o<a;o+=1)for(var s=0;s<a;s+=1)n[o][s]>n[o][l]+n[l][s]&&(n[o][s]=n[o][l]+n[l][s]);return n},y1=v6,m1=function(r,t,e){return(r.y-e.y)*(t.x-e.x)-(r.x-e.x)*(t.y-e.y)},x1=function(r){var t=r.map(function(s){return{x:s.getModel().x,y:s.getModel().y}});t.sort(function(s,l){return s.x===l.x?s.y-l.y:s.x-l.x});for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&m1(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var a=[],n=t.length-1;n>=0;n--){for(;a.length>=2&&m1(a[a.length-2],a[a.length-1],t[n])<=0;)a.pop();a.push(t[n])}a.pop(),e.pop();var o=e.concat(a);return o},d6={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function p6(i,r,t){var e=!1,n=function(l,u){return r.cells[l+u*r.width]},a=function(l,u){var h=0;return n(l-1,u-1)>=t&&(h+=1),n(l,u-1)>t&&(h+=2),n(l-1,u)>t&&(h+=4),n(l,u)>t&&(h+=8),h},o=function(l,u){for(var h=l,c=u,v,y,A=0;A<r.width*r.height;A++){if(v=h,y=c,i.findIndex(function(R){return R.x===h&&R.y===c})>-1){if(!(i[0].x!==h||i[0].y!==c))return!0}else i.push({x:h,y:c});var k=a(h,c);switch(k){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:h++;break;case 12:case 14:case 4:h--;break;case 6:v===0&&(y===-1?h-=1:h+=1);break;case 1:case 13:case 5:c--;break;case 9:v===1&&(y===0?c-=1:c+=1);break;case 10:case 8:case 11:c++;break;default:return console.warn("Marching squares invalid state: "+k),!0}}};this.march=function(){for(var s=0;s<r.width&&!e;s+=1)for(var l=0;l<r.height&&!e;l+=1)n(s,l)>t&&a(s,l)!==15&&(e=o(s,l));return e}}var g6=function(r,t,e){var n=Math.ceil(r/e),a=Math.ceil(t/e),o=new Float32Array(Math.max(0,n*a)).fill(0);return{cells:o,width:n,height:a}},y6=function(r,t,e){var n=null,a=Number.POSITIVE_INFINITY;return t.forEach(function(o){var s={x:r.getModel().x,y:r.getModel().y},l={x:o.getModel().x,y:o.getModel().y},u=uu(s,l),h=new Fo(s.x,s.y,l.x,l.y),c=e.reduce(function(v,y){return Uh(y,h)>0?v+1:v},0);u*Math.pow(c+1,2)<a&&(n=o,a=u*Math.pow(c+1,2))}),n},b1=function(r,t){var e=Number.POSITIVE_INFINITY,n=null;return r.forEach(function(a){var o=Uh(a,t);o>=0&&o<e&&(n=a,e=o)}),n},m6=function(r,t,e,n){var a=[],o=[];o.push(r);for(var s=!0,l=0,u=function(y,A){var k=!1;return A.forEach(function(R){k||(Zh(y,{x:R.x1,y:R.y1})||Zh(y,{x:R.x2,y:R.y2}))&&(k=!0)}),k},h=function(y,A){for(var k=0,R=A;k<R.length;k++){var H=R[k],V=H.getBBox(),ot=[[V.x,V.y],[V.x+V.width,V.y],[V.x,V.y+V.height],[V.x+V.width,V.y+V.height]];if(Ns(ot,y.x,y.y))return!0}return!1};s&&l<e;){s=!1;for(var c=function(){var y=o.pop(),A=b1(t,y);if(A){var k=ix(A,y),R=k[0],H=k[1];if(H===2){var V=function(ut){for(var bt=n,Ft=w1(A,bt,R,ut),Xt=u(Ft,o)||u(Ft,a),Ut=h(Ft,t);!Xt&&Ut&&bt>=1;)bt/=1.5,Ft=w1(A,bt,R,ut),Xt=u(Ft,o)||u(Ft,a),Ut=h(Ft,t);Ft&&!Xt&&(!ut||!Ut)&&(o.push(new Fo(y.x1,y.y1,Ft.x,Ft.y)),o.push(new Fo(Ft.x,Ft.y,y.x2,y.y2)),s=!0)};V(!0),s||V(!1)}}s||a.push(y),l+=1};!s&&o.length;)c()}for(;o.length;)a.push(o.pop());return a};function x6(i,r,t,e,n){var a=y6(i,t,r);if(a===null)return[];var o=function(c){for(var v=[];c.length>0;){var y=c.pop();if(c.length===0){v.push(y);break}var A=c.pop(),k=new Fo(y.x1,y.y1,A.x2,A.y2),R=b1(r,k);R?(v.push(y),c.push(A)):c.push(k)}return v},s=new Fo(i.getModel().x,i.getModel().y,a.getModel().x,a.getModel().y),l=m6(s,r,e,n),u=o(l);return u}var b6=function(r,t,e){var n=Object.assign(d6,e),a=ax(r.map(function(V){return{x:V.getModel().x,y:V.getModel().y}}));r=r.sort(function(V,ot){return uu({x:V.getModel().x,y:V.getModel().y},a)-uu({x:ot.getModel().x,y:ot.getModel().y},a)});var o=[],s=[];r.forEach(function(V){var ot=x6(V,t,o,n.maxRoutingIterations,n.morphBuffer);ot.forEach(function(ut){s.push(ut)}),o.push(V)});for(var l=w6(r,s,n.nodeR0),u=g6(l.width,l.height,n.pixelGroupSize),h=[],c=[],v=0;v<n.maxMarchingIterations;v++)if(S6(r,t,s,l,u,n),h=[],c=[],!!new p6(h,u,n.threshold).march()){var y=h.map(function(V){return{x:Math.round(V.x*n.pixelGroupSize+l.minX),y:Math.round(V.y*n.pixelGroupSize+l.minY)}});if(y){var A=y.length;if(n.skip>1)for(A=Math.floor(y.length/n.skip);A<3&&n.skip>1;)n.skip-=1,A=Math.floor(y.length/n.skip);for(var k=0,R=0;R<A;R+=1,k+=n.skip)c.push({x:y[k].x,y:y[k].y})}var H=function(){for(var ot=0,ut=r;ot<ut.length;ot++){var bt=ut[ot],Ft=c.map(function(Xt){return[Xt.x,Xt.y]});if(!Ns(Ft,bt.getBBox().centerX,bt.getBBox().centerY))return!1}return!0};if(c&&H())return c;if(n.threshold*=.9,v<=n.maxMarchingIterations*.5)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else if(n.nonMemberInfluenceFactor!==0&&t.length>0)n.nonMemberInfluenceFactor*=.8;else break}return c};function w6(i,r,t){var e={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},n=[];i.forEach(function(l){n.push(l.getBBox())}),r.forEach(function(l){n.push(l.getBBox())});for(var a=0,o=n;a<o.length;a++){var s=o[a];e.minX=(s.minX<e.minX?s.minX:e.minX)-t,e.minY=(s.minY<e.minY?s.minY:e.minY)-t,e.maxX=(s.maxX>e.maxX?s.maxX:e.maxX)+t,e.maxY=(s.maxY>e.maxY?s.maxY:e.maxY)+t}return e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.x=e.minX,e.y=e.minY,e}function S6(i,r,t,e,n,a){function o(y,A){var k=Math.floor((y-A)/a.pixelGroupSize);return k<0?0:k}function s(y,A){return y*a.pixelGroupSize+A}var l=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),u=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),h=function(A,k){var R=Math.min(o(A.minX,k+e.minX),n.width),H=Math.min(o(A.minY,k+e.minY),n.height),V=Math.min(o(A.maxX,-k+e.minX),n.width),ot=Math.min(o(A.maxY,-k+e.minY),n.height);return[R,H,V,ot]},c=function(A,k){for(var R=A.getBBox(),H=h(R,a.nodeR1),V=H[0],ot=H[1],ut=H[2],bt=H[3],Ft=ot;Ft<bt;Ft+=1)for(var Xt=V;Xt<ut;Xt+=1)if(!(k<0&&n[Xt+Ft*n.width]<=0)){var Ut=s(Xt,e.minX),Gt=s(Ft,e.minY),te=sx({x:Ut,y:Gt},{x:R.minX,y:R.minY,width:R.width,height:R.height});if(te<Math.pow(a.nodeR1,2)){var ue=Math.sqrt(te)-a.nodeR1;n.cells[Xt+Ft*n.width]+=k*ue*ue}}},v=function(A,k){for(var R=A.getBBox(),H=h(R,a.edgeR1),V=H[0],ot=H[1],ut=H[2],bt=H[3],Ft=ot;Ft<bt;Ft+=1)for(var Xt=V;Xt<ut;Xt+=1)if(!(k<0&&n.cells[Xt+Ft*n.width]<=0)){var Ut=s(Xt,e.minX),Gt=s(Ft,e.minY),te=ox({x:Ut,y:Gt},A);if(te<Math.pow(a.edgeR1,2)){var ue=Math.sqrt(te)-a.edgeR1;n.cells[Xt+Ft*n.width]+=k*ue*ue}}};a.nodeInfluenceFactor&&i.forEach(function(y){c(y,a.nodeInfluenceFactor/l)}),a.edgeInfluenceFactor&&t.forEach(function(y){v(y,a.edgeInfluenceFactor/u)}),a.negativeNodeInfluenceFactor&&r.forEach(function(y){c(y,a.negativeNodeInfluenceFactor/l)})}function w1(i,r,t,e){var n=i.getBBox(),a=t[0],o=t[1],s=t[2],l=t[3],u={topLeft:{x:n.minX-r,y:n.minY-r},topRight:{x:n.maxX+r,y:n.minY-r},bottomLeft:{x:n.minX-r,y:n.maxY+r},bottomRight:{x:n.maxX+r,y:n.maxY+r}},h=n.height*n.width;function c(A,k){return n.width*((A.y-n.minY+(k.y-n.minY))*.5)}if(o){if(a)return e?u.topLeft:u.bottomRight;if(s)return e?u.bottomLeft:u.topRight;var v=c(o,l);return v<h*.5?o.y>l.y?e?u.topLeft:u.bottomRight:e?u.topRight:u.bottomLeft:o.y<l.y?e?u.bottomLeft:u.topRight:e?u.bottomRight:u.topLeft}if(l){if(a)return e?u.topRight:u.bottomLeft;if(s)return e?u.bottomRight:u.topLeft}var y=c(a,s);return y<h*.5?a.x>s.x?e?u.topLeft:u.bottomRight:e?u.bottomLeft:u.topRight:a.x<s.x?e?u.topRight:u.bottomLeft:e?u.bottomRight:u.topLeft}var M6=function(){function i(r,t){this.cfg=(0,f.deepMix)(this.getDefaultCfg(),t),this.graph=r,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(e){return(0,f.isString)(e)?r.findById(e):e}),this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,f.isString)(e)?r.findById(e):e}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return i.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},i.prototype.setPadding=function(){var r=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+r:10+r,this.cfg.bubbleCfg={nodeR0:this.padding-r,nodeR1:this.padding-r,morphBuffer:this.padding-r}},i.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},i.prototype.calcPath=function(r,t){var e,n,a;switch(this.type){case"round-convex":e=x1(r),a=vx(e.map(function(o){return[o.x,o.y]}),this.padding),n=(0,nl.parsePathString)(a);break;case"smooth-convex":e=x1(r),a=dx(e.map(function(o){return[o.x,o.y]}),this.padding),n=e.length>=2&&Kh(a);break;case"bubble":e=b6(r,t,this.cfg.bubbleCfg),n=e.length>=2&&Kh(e);break;default:}return n},i.prototype.render=function(){this.group.addShape("path",{attrs:$t({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},i.prototype.addMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r)),this.members.push(r);var t=this.nonMembers.indexOf(r);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.addNonMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r)),this.nonMembers.push(r);var t=this.members.indexOf(r);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.removeMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r));var t=this.members.indexOf(r);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.removeNonMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r));var t=this.nonMembers.indexOf(r);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.updateData=function(r,t){var e=this;this.group.findById(this.id).remove(),r&&(this.members=r.map(function(n){return(0,f.isString)(n)?e.graph.findById(n):n})),t&&(this.nonMembers=t.map(function(n){return(0,f.isString)(n)?e.graph.findById(n):n})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.updateStyle=function(r){var t=this.group.findById(this.id);t.attr($t({},r))},i.prototype.updateCfg=function(r){var t=this;this.cfg=(0,f.deepMix)(this.cfg,r),this.id=this.cfg.id,this.group=this.cfg.group,r.members&&(this.members=this.cfg.members.map(function(e){return(0,f.isString)(e)?t.graph.findById(e):e})),r.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,f.isString)(e)?t.graph.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.contain=function(r){var t=this,e;(0,f.isString)(r)?e=this.graph.findById(r):e=r;var n,a=e.getKeyShape();if(e.get("type")==="path")n=hu(a.attr("path"));else{var o=a.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(s){var l=t.graph.getPointByCanvas(s[0],s[1]);return[l.x,l.y]}),Wh(n,hu(this.path))},i.prototype.destroy=function(){this.group.remove(),this.cfg=null},i}(),C6=M6,E6="node",A6="svg",T6=function(i){In(r,i);function r(t){var e=i.call(this)||this;return e.cfg=(0,f.deepMix)(e.getDefaultCfg(),t),e.init(),e.animating=!1,e.destroyed=!1,e.cfg.enabledStack&&(e.undoStack=new g1(e.cfg.maxStep),e.redoStack=new g1(e.cfg.maxStep)),e}return r.prototype.init=function(){this.initCanvas();var t=new _3(this),e=new T3(this),n=new E3(this),a=new Q3(this),o=new e6(this),s=new i6(this),l=new o6(this);this.set({eventController:t,viewController:e,modeController:n,itemController:a,layoutController:o,stateController:s,customGroupControll:l}),this.initPlugin()},r.prototype.initCanvas=function(){var t=this.get("container");if((0,f.isString)(t)&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e=this.get("width"),n=this.get("height"),a=this.get("renderer"),o;if(a===A6)o=new Ys.Z({container:t,width:e,height:n});else{var s={container:t,width:e,height:n},l=this.get("pixelRatio");l&&(s.pixelRatio=l),o=new Ro.Z(s)}this.set("canvas",o),this.initGroups()},r.prototype.initPlugin=function(){var t=this;(0,f.each)(t.get("plugins"),function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)})},r.prototype.initGroups=function(){var t=this.get("canvas"),e=this.get("canvas").get("el"),n=e.id,a=t.addGroup({id:n+"-root",className:Ye.rootContainerClassName});if(this.get("groupByTypes")){var o=a.addGroup({id:n+"-edge",className:Ye.edgeContainerClassName}),s=a.addGroup({id:n+"-node",className:Ye.nodeContainerClassName}),l=a.addGroup({id:n+"-combo",className:Ye.comboContainerClassName}),u=a.addGroup({id:n+"-group",className:Ye.customGroupContainerClassName});u.toBack(),l.toBack(),this.set({nodeGroup:s,edgeGroup:o,customGroup:u,comboGroup:l})}var h=a.addGroup({id:n+"-delegate",className:Ye.delegateContainerClassName});this.set({delegateGroup:h}),this.set("group",a)},r.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,groupType:"circle",groupBBoxs:{},groupNodes:{},groups:[],groupStyle:{},enabledStack:!1,maxStep:10,tooltips:[]}},r.prototype.set=function(t,e){return(0,f.isPlainObject)(t)?this.cfg=$t($t({},this.cfg),t):this.cfg[t]=e,this},r.prototype.get=function(t){return this.cfg[t]},r.prototype.getGroup=function(){return this.get("group")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.getMinZoom=function(){return this.get("minZoom")},r.prototype.setMinZoom=function(t){return this.set("minZoom",t)},r.prototype.getMaxZoom=function(){return this.get("maxZoom")},r.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},r.prototype.getWidth=function(){return this.get("width")},r.prototype.getHeight=function(){return this.get("height")},r.prototype.clearItemStates=function(t,e){(0,f.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");e||(e=t.get("states")),n.clearItemStates(t,e);var a=this.get("stateController");a.updateStates(t,e,!1)},r.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},r.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},r.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},r.prototype.findById=function(t){return this.get("itemMap")[t]},r.prototype.find=function(t,e){var n,a=this.get(t+"s");return(0,f.each)(a,function(o,s){if(e(o,s))return n=o,n}),n},r.prototype.findAll=function(t,e){var n=[];return(0,f.each)(this.get(t+"s"),function(a,o){e(a,o)&&n.push(a)}),n},r.prototype.findAllByState=function(t,e){return this.findAll(t,function(n){return n.hasState(e)})},r.prototype.translate=function(t,e){var n=this.get("group"),a=(0,f.clone)(n.getMatrix());a||(a=[1,0,0,0,1,0,0,0,1]),Ca.wO.translate(a,a,[t,e]),n.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:n.getMatrix()}),this.autoPaint()},r.prototype.moveTo=function(t,e){var n=this.get("group");rx(n,{x:t,y:e}),this.emit("viewportchange",{action:"move",matrix:n.getMatrix()})},r.prototype.fitView=function(t){t&&this.set("fitViewPadding",t);var e=this.get("viewController");e.fitView(),this.autoPaint()},r.prototype.fitCenter=function(){var t=this.get("viewController");t.fitCenter(),this.autoPaint()},r.prototype.addBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!0),this},r.prototype.removeBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!1),this},r.prototype.zoom=function(t,e){var n=this.get("group"),a=(0,f.clone)(n.getMatrix()),o=this.get("minZoom"),s=this.get("maxZoom");a||(a=[1,0,0,0,1,0,0,0,1]),e?(Ca.wO.translate(a,a,[-e.x,-e.y]),Ca.wO.scale(a,a,[t,t]),Ca.wO.translate(a,a,[e.x,e.y])):Ca.wO.scale(a,a,[t,t]),!(o&&a[0]<o||s&&a[0]>s)&&(n.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint())},r.prototype.zoomTo=function(t,e){var n=t/this.getZoom();this.zoom(n,e)},r.prototype.focusItem=function(t,e,n){var a=this.get("viewController"),o=!1;e?o=!0:e===void 0&&(o=this.get("animate"));var s={};n?s=n:n===void 0&&(s=this.get("animateCfg")),a.focus(t,o,s),this.autoPaint()},r.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},r.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},r.prototype.getPointByClient=function(t,e){var n=this.get("viewController");return n.getPointByClient(t,e)},r.prototype.getClientByPoint=function(t,e){var n=this.get("viewController");return n.getClientByPoint(t,e)},r.prototype.getPointByCanvas=function(t,e){var n=this.get("viewController");return n.getPointByCanvas(t,e)},r.prototype.getCanvasByPoint=function(t,e){var n=this.get("viewController");return n.getCanvasByPoint(t,e)},r.prototype.showItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!1}],u.nodes=[{id:o,visible:!0}];break;case"edge":l.nodes=[{id:o,visible:!1}],u.edges=[{id:o,visible:!0}];break;case"combo":l.nodes=[{id:o,visible:!1}],u.combos=[{id:o,visible:!0}];break;default:break}this.pushStack("visible",{before:l,after:u})}},r.prototype.hideItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!0}],u.nodes=[{id:o,visible:!1}];break;case"edge":l.nodes=[{id:o,visible:!0}],u.edges=[{id:o,visible:!1}];break;case"combo":l.nodes=[{id:o,visible:!0}],u.combos=[{id:o,visible:!1}];break;default:break}this.pushStack("visible",{before:l,after:u})}},r.prototype.refreshItem=function(t){var e=this.get("itemController");e.refreshItem(t)},r.prototype.setAutoPaint=function(t){var e=this;e.set("autoPaint",t);var n=e.get("canvas");n.set("autoDraw",t)},r.prototype.remove=function(t,e){e===void 0&&(e=!0),this.removeItem(t,e)},r.prototype.removeItem=function(t,e){e===void 0&&(e=!0);var n=t;if((0,f.isString)(t)&&(n=this.findById(t)),!n&&(0,f.isString)(t)){console.warn("The item to be removed does not exist!");var a=this.get("customGroupControll");a.remove(t)}else if(n){var o="";if(n.getType&&(o=n.getType()),e&&this.get("enabledStack")){var s=$t($t({},n.getModel()),{itemType:o}),l={};switch(o){case"node":{l.nodes=[s],l.edges=[];for(var u=n.getEdges(),h=u.length-1;h>=0;h--)l.edges.push($t($t({},u[h].getModel()),{itemType:"edge"}));break}case"edge":l.edges=[s];break;case"combo":l.combos=[s];break;default:break}this.pushStack("delete",{before:l,after:{}})}var c=this.get("itemController");if(c.removeItem(t),o==="combo"){var v=qh(this.get("comboTrees"));this.set("comboTrees",v)}}},r.prototype.addItem=function(t,e,n,a){n===void 0&&(n=!0),a===void 0&&(a=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!a);var s=this.get("itemController");if(t==="group"){var l=e.groupId,u=e.nodes,h=e.type,c=e.zIndex,v=e.title,y=v;return(0,f.isString)(v)&&(y={text:v}),this.get("customGroupControll").create(l,u,h,c,!0,y)}if(e.id&&this.findById(e.id)){console.warn("This item exists already. Be sure the id %c"+e.id+"%c is unique.","font-size: 20px; color: red;","");return}var A,k=this.get("comboTrees");if(k||(k=[]),t==="combo"){var R=this.get("itemMap"),H=!1;if(k.forEach(function(te){H||va(te,function(ue){if(e.parentId===ue.id){H=!0;var se=$t({id:e.id,depth:ue.depth+2},e);ue.children?ue.children.push(se):ue.children=[se],e.depth=se.depth,A=s.addItem(t,e)}var Me=R[ue.id];return H&&Me&&Me.getType&&Me.getType()==="combo"&&s.updateCombo(Me,ue.children),!0})}),!H){var V=$t({id:e.id,depth:0},e);e.depth=V.depth,k.push(V),A=s.addItem(t,e)}this.set("comboTrees",k)}else if(t==="node"&&(0,f.isString)(e.comboId)&&k){var ot=this.findById(e.comboId);if(ot&&ot.getType&&ot.getType()!=="combo"){console.warn("'"+e.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");return}A=s.addItem(t,e);var ut=this.get("itemMap"),bt=!1,Ft=!1;(k||[]).forEach(function(te){Ft||bt||va(te,function(ue){if(ue.id===e.id)return Ft=!0,!1;if(e.comboId===ue.id&&!Ft){bt=!0;var se=(0,f.clone)(e);se.itemType="node",ue.children?ue.children.push(se):ue.children=[se],e.depth=ue.depth+1}return bt&&ut[ue.id].getType&&ut[ue.id].getType()==="combo"&&s.updateCombo(ut[ue.id],ue.children),!0})})}else A=s.addItem(t,e);if(t==="node"&&e.comboId||t==="combo"&&e.parentId){var ot=this.findById(e.comboId||e.parentId);ot&&ot.addChild(A)}var Xt=this.get("combos");if(Xt&&Xt.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var Ut=$t($t({},A.getModel()),{itemType:t}),Gt={};switch(t){case"node":Gt.nodes=[Ut];break;case"edge":Gt.edges=[Ut];break;case"combo":Gt.combos=[Ut];break;default:break}this.pushStack("add",{before:{},after:Gt})}return A},r.prototype.add=function(t,e,n,a){return n===void 0&&(n=!0),a===void 0&&(a=!0),this.addItem(t,e,n,a)},r.prototype.updateItem=function(t,e,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController"),s;(0,f.isString)(t)?s=this.findById(t):s=t;var l=(0,f.clone)(s.getModel()),u="";s.getType&&(u=s.getType());var h=Bs(s.getStates());if(u==="combo"&&(0,f.each)(h,function(A){return a.setItemState(s,A,!1)}),o.updateItem(s,e),u==="combo"&&(0,f.each)(h,function(A){return a.setItemState(s,A,!0)}),n&&this.get("enabledStack")){var c={nodes:[],edges:[],combos:[]},v={nodes:[],edges:[],combos:[]},y=$t({id:l.id},e);switch(u){case"node":c.nodes.push(l),v.nodes.push(y);break;case"edge":c.edges.push(l),v.edges.push(y);break;case"combo":c.combos.push(l),v.combos.push(y);break;default:break}u==="node"&&c.nodes.push(l),this.pushStack("update",{before:c,after:v})}},r.prototype.update=function(t,e,n){n===void 0&&(n=!0),this.updateItem(t,e,n)},r.prototype.setItemState=function(t,e,n){(0,f.isString)(t)&&(t=this.findById(t));var a=this.get("itemController");a.setItemState(t,e,n);var o=this.get("stateController");(0,f.isString)(n)?o.updateState(t,e+":"+n,!0):o.updateState(t,e,n)},r.prototype.priorityState=function(t,e){var n=this.get("itemController");n.priorityState(t,e)},r.prototype.data=function(t){this.set("data",t)},r.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o,l=e.combos,u=l===void 0?[]:l;if(this.clear(),this.emit("beforerender"),(0,f.each)(a,function(V){t.add("node",V,!1,!1)}),u&&u.length!==0){var h=Jh(u,a);this.set("comboTrees",h),t.addCombos(u)}(0,f.each)(s,function(V){t.add("edge",V,!1,!1)});var c=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var v=t.get("layoutController");v.layout(y)||y();function y(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",c)}if(!this.get("groupByTypes"))if(u&&u.length!==0)this.sortCombos();else if(e.nodes&&e.edges&&e.nodes.length<e.edges.length){var A=this.getNodes();A.forEach(function(V){V.toFront()})}else{var k=this.getEdges();k.forEach(function(V){V.toBack()})}if(e.nodes){var R=e.nodes.filter(function(V){return V.groupId});if(R.length>0){var H=t.get("groupType");this.renderCustomGroup(e,H)}}this.get("enabledStack")&&this.pushStack("render")},r.prototype.read=function(t){this.data(t),this.render()},r.prototype.diffItems=function(t,e,n){var a=this,o,s=this.get("itemMap");(0,f.each)(n,function(l){if(o=s[l.id],o){if(a.get("animate")&&t===E6){var u=o.getContainer().getMatrix();u||(u=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:u[6],y:u[7]})}a.updateItem(o,l,!1)}else o=a.addItem(t,l,!1);e[t+"s"].push(o)})},r.prototype.changeData=function(t,e){e===void 0&&(e=!0);var n=this;if(!t)return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:t}),this.set("comboSorted",!1),this.getNodes().map(function(k){return n.clearItemStates(k)}),this.getEdges().map(function(k){return n.clearItemStates(k)});var a=this.get("canvas"),o=a.get("localRefresh");a.set("localRefresh",!1),n.get("data")||(n.data(t),n.render());var s=this.get("itemMap"),l={nodes:[],edges:[]},u=t.combos;if(u){var h=Jh(u,t.nodes);this.set("comboTrees",h)}this.diffItems("node",l,t.nodes),(0,f.each)(s,function(k,R){s[R].getModel().depth=0,!(k.getType&&k.getType()==="edge")&&(k.getType&&k.getType()==="combo"?(delete s[R],k.destroy()):l.nodes.indexOf(k)<0&&(delete s[R],n.remove(k,!1)))});for(var c=this.getCombos(),v=c.length,y=v-1;y>=0;y--)c[y].destroyed&&c.splice(y,1);u&&(n.addCombos(u),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",l,t.edges),(0,f.each)(s,function(k,R){k.getType&&(k.getType()==="node"||k.getType()==="combo")||l.edges.indexOf(k)<0&&(delete s[R],n.remove(k,!1))}),this.set({nodes:l.nodes,edges:l.edges});var A=this.get("layoutController");return A.changeData(),n.get("animate")&&!A.getLayoutType()?n.positionsAnimate():n.autoPaint(),setTimeout(function(){a.set("localRefresh",o)},16),this},r.prototype.addCombos=function(t){var e=this,n=e.get("comboTrees"),a=this.get("itemController");a.addCombos(n,t)},r.prototype.createCombo=function(t,e){var n=this;this.set("comboSorted",!1);var a="",o;if(!!t){if((0,f.isString)(t))a=t,o={id:t};else{if(a=t.id,!a){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}o=t}var s=e.map(function(u){var h=n.findById(u),c="";h.getType&&(c=h.getType());var v={id:h.getID(),itemType:c};return c==="combo"?v.parentId=a:c==="node"&&(v.comboId=a),v});o.children=s,this.addItem("combo",o,!1),this.set("comboSorted",!1);var l=this.get("comboTrees");(l||[]).forEach(function(u){va(u,function(h){return h.id===a?(h.itemType="combo",h.children=s,!1):!0})}),l&&this.sortCombos()}},r.prototype.uncombo=function(t){var e=this,n,a=this,o=t;if((0,f.isString)(t)&&(o=this.findById(t)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item is not a combo!");return}var s=o.getModel().parentId,l=a.get("comboTrees");l||(l=[]);var u=this.get("itemMap"),h=o.get("id"),c,v=[],y=this.get("combos"),A=this.findById(s);if(l.forEach(function(R){c||va(R,function(H){var V;if(H.id===h){c=H;var ot=o.getEdges();ot.forEach(function(bt){e.removeItem(bt,!1)});var ut=y.indexOf(t);y.splice(ut,1),delete u[h],o.destroy()}if(s&&c&&H.id===s){A.removeCombo(o),v=H.children;var ut=v.indexOf(c);return ut!==-1&&v.splice(ut,1),(V=c.children)===null||V===void 0||V.forEach(function(Ft){var Xt=e.findById(Ft.id),Ut=Xt.getModel();Xt.getType&&Xt.getType()==="combo"?(Ft.parentId=s,delete Ft.comboId,Ut.parentId=s,delete Ut.comboId):Xt.getType&&Xt.getType()==="node"&&(Ft.comboId=s,Ut.comboId=s),A.addChild(Xt),v.push(Ft)}),!1}return!0})}),!s&&c){var k=l.indexOf(c);l.splice(k,1),(n=c.children)===null||n===void 0||n.forEach(function(R){R.parentId=void 0;var H=e.findById(R.id).getModel();H.parentId=void 0,R.itemType!=="node"&&l.push(R)})}},r.prototype.updateCombos=function(){var t=this,e=this,n=this.get("comboTrees"),a=e.get("itemController"),o=e.get("itemMap");(n||[]).forEach(function(s){va(s,function(l){if(!l)return!0;var u=o[l.id];if(u&&u.getType&&u.getType()==="combo"){var h=Bs(u.getStates());(0,f.each)(h,function(c){return t.setItemState(u,c,!1)}),a.updateCombo(u,l.children),(0,f.each)(h,function(c){return t.setItemState(u,c,!0)})}return!0})}),e.sortCombos()},r.prototype.updateCombo=function(t){var e=this,n=this,a=t,o;if((0,f.isString)(t)&&(a=this.findById(t)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}o=a.get("id");var s=this.get("comboTrees"),l=n.get("itemController"),u=n.get("itemMap");(s||[]).forEach(function(h){va(h,function(c){if(!c)return!0;var v=u[c.id];if(o===c.id&&v&&v.getType&&v.getType()==="combo"){var y=Bs(v.getStates());(0,f.each)(y,function(A){v.getStateStyle(A)&&e.setItemState(v,A,!1)}),l.updateCombo(v,c.children),(0,f.each)(y,function(A){v.getStateStyle(A)&&e.setItemState(v,A,!0)}),o&&(o=c.parentId)}return!0})})},r.prototype.updateComboTree=function(t,e){var n=this;this.set("comboSorted",!1);var a;(0,f.isString)(t)?a=n.findById(t):a=t;var o=a.getModel(),s=o.comboId||o.parentId;if(e&&a.getType&&a.getType()==="combo"){var l=this.get("comboTrees"),u=!0,h;if((l||[]).forEach(function(k){h||zi(k,function(R){if(!h)return R.id===a.getID()&&(h=R),!0})}),zi(h,function(k){return k.id===e?(u=!1,!1):!0}),!u){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(o.parentId||o.comboId){var c=this.findById(o.parentId||o.comboId);c&&c.removeChild(a)}var v="";if(a.getType&&(v=a.getType()),v==="combo"?o.parentId=e:v==="node"&&(o.comboId=e),e){var y=this.findById(e);y&&y.addChild(a)}if(s){var y=this.findById(s);y&&y.removeChild(a)}var A=qh(this.get("comboTrees"),o.id,e);this.set("comboTrees",A),this.updateCombos()},r.prototype.renderCustomGroup=function(t,e){var n=this,a=t.groups,o=t.nodes,s=o===void 0?[]:o,l=10;if(a){this.set({groups:a});var v=M3(t);Object.keys(v).forEach(function(A){var k=v[A];n.get("customGroupControll").create(A,k,e,l),l--});var y=this.get("customGroup");y.sort()}else{var u=s.filter(function(A){return A.groupId}),h=[],c=(0,f.groupBy)(u,"groupId");Object.keys(c).forEach(function(A){var k=c[A].map(function(R){return R.id});n.get("customGroupControll").create(A,k,e,l),l--,h.find(function(R){return R.id===A})||h.push({id:A})}),this.set({groups:h})}},r.prototype.save=function(){var t=[],e=[],n=[];return(0,f.each)(this.get("nodes"),function(a){t.push(a.getModel())}),(0,f.each)(this.get("edges"),function(a){e.push(a.getModel())}),(0,f.each)(this.get("combos"),function(a){n.push(a.getModel())}),{nodes:t,edges:e,combos:n,groups:this.get("groups")}},r.prototype.changeSize=function(t,e){var n=this.get("viewController");return n.changeSize(t,e),this},r.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var e=t.get("nodes"),n=t.get("edges"),a=t.get("edges");(0,f.each)(e,function(o){o.refresh()}),(0,f.each)(n,function(o){o.refresh()}),(0,f.each)(a,function(o){o.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},r.prototype.getNodes=function(){return this.get("nodes")},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getCombos=function(){return this.get("combos")},r.prototype.getComboChildren=function(t){if((0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},r.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),n=e.onFrame,a=t.getNodes(),o=a.map(function(l){var u=l.getModel();return{id:u.id,x:u.x,y:u.y}});t.isAnimating()&&t.stopAnimate();var s=t.get("canvas");s.animate(function(l){(0,f.each)(o,function(u){var h=t.findById(u.id);if(!(!h||h.destroyed)){var c=h.get("originAttrs"),v=h.get("model");if(!c){var y=h.getContainer().getMatrix();y||(y=[1,0,0,0,1,0,0,0,1]),c={x:y[6],y:y[7]},h.set("originAttrs",c)}if(n){var A=n(h,l,u,c);h.set("model",Object.assign(v,A))}else v.x=c.x+(u.x-c.x)*l,v.y=c.y+(u.y-c.y)*l}}),t.refreshPositions()},{duration:e.duration,easing:e.easing,callback:function(){(0,f.each)(a,function(u){u.set("originAttrs",null)}),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}})},r.prototype.refreshPositions=function(){var t=this;t.emit("beforegraphrefreshposition");var e=t.get("nodes"),n=t.get("edges"),a=t.get("vedges"),o=t.get("combos"),s,l={};(0,f.each)(e,function(u){s=u.getModel();var h=u.get("originAttrs");h&&s.x===h.x&&s.y===h.y||(u.updatePosition({x:s.x,y:s.y}),l[s.id]=!0,s.comboId&&(l[s.comboId]=!0))}),o&&o.length!==0&&t.updateCombos(),(0,f.each)(n,function(u){var h=u.getSource().getModel(),c=u.getTarget().getModel();(l[h.id]||l[c.id]||u.getModel().isComboEdge)&&u.refresh()}),(0,f.each)(a,function(u){u.refresh()}),t.emit("aftergraphrefreshposition"),t.autoPaint()},r.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},r.prototype.isAnimating=function(){return this.animating},r.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},r.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},r.prototype.setMode=function(t){var e=this.get("modeController");return e.setMode(t),this},r.prototype.clear=function(){var t=this.get("canvas");return t.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},r.prototype.toDataURL=function(t,e){var n=this.get("canvas"),a=n.getRenderer(),o=n.get("el");t||(t="image/png");var s="";if(a==="svg"){var l=o.cloneNode(!0),u=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),h=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",u);h.replaceChild(l,h.documentElement);var c=new XMLSerializer().serializeToString(h);s="data:image/svg+xml;charset=utf8,"+encodeURIComponent(c)}else{var v=void 0,y=o.getContext("2d"),A=this.get("width"),k=this.get("height"),R=void 0;if(e){var H=window.devicePixelRatio;v=y.getImageData(0,0,A*H,k*H),R=y.globalCompositeOperation,y.globalCompositeOperation="destination-over",y.fillStyle=e,y.fillRect(0,0,A,k)}s=o.toDataURL(t),e&&(y.clearRect(0,0,A,k),y.putImageData(v,0,0),y.globalCompositeOperation=R)}return s},r.prototype.toFullDataURL=function(t,e,n){var a=this.get("group").getCanvasBBox(),o=a.height,s=a.width,l=this.get("renderer"),u=(0,ri.Z)('<id="virtual-image"></div>'),h=n?n.backgroundColor:void 0,c=n?n.padding:void 0;c?(0,f.isNumber)(c)&&(c=[c,c,c,c]):c=[0,0,0,0];var v=o+c[0]+c[2],y=s+c[1]+c[3],A={container:u,height:v,width:y,quickHit:!0},k=l==="svg"?new Ys.Z(A):new Ro.Z(A),R=this.get("group"),H=R.clone(),V=(0,f.clone)(H.getMatrix());V||(V=[1,0,0,0,1,0,0,0,1]);var ot=(a.maxX+a.minX)/2,ut=(a.maxY+a.minY)/2;Ca.wO.translate(V,V,[-ot,-ut]),Ca.wO.translate(V,V,[s/2+c[3],o/2+c[0]]),H.resetMatrix(),H.setMatrix(V),k.add(H);var bt=k.get("el"),Ft="";e||(e="image/png"),setTimeout(function(){if(l==="svg"){var Xt=bt.cloneNode(!0),Ut=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Gt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Ut);Gt.replaceChild(Xt,Gt.documentElement);var te=new XMLSerializer().serializeToString(Gt);Ft="data:image/svg+xml;charset=utf8,"+encodeURIComponent(te)}else{var ue=void 0,se=bt.getContext("2d"),Me=void 0;if(h){var Pe=window.devicePixelRatio;ue=se.getImageData(0,0,y*Pe,v*Pe),Me=se.globalCompositeOperation,se.globalCompositeOperation="destination-over",se.fillStyle=h,se.fillRect(0,0,y,v)}Ft=bt.toDataURL(e),h&&(se.clearRect(0,0,y,v),se.putImageData(ue,0,0),se.globalCompositeOperation=Me)}t==null||t(Ft)},16)},r.prototype.downloadFullImage=function(t,e,n){var a=this,o=this.get("group").getCanvasBBox(),s=o.height,l=o.width,u=this.get("renderer"),h=(0,ri.Z)('<id="virtual-image"></div>'),c=n?n.backgroundColor:void 0,v=n?n.padding:void 0;v?(0,f.isNumber)(v)&&(v=[v,v,v,v]):v=[0,0,0,0];var y=s+v[0]+v[2],A=l+v[1]+v[3],k={container:h,height:y,width:A},R=u==="svg"?new Ys.Z(k):new Ro.Z(k),H=this.get("group"),V=H.clone(),ot=(0,f.clone)(V.getMatrix());ot||(ot=[1,0,0,0,1,0,0,0,1]);var ut=(o.maxX+o.minX)/2,bt=(o.maxY+o.minY)/2;Ca.wO.translate(ot,ot,[-ut,-bt]),Ca.wO.translate(ot,ot,[l/2+v[3],s/2+v[0]]),V.resetMatrix(),V.setMatrix(ot),R.add(V);var Ft=R.get("el");e||(e="image/png"),setTimeout(function(){var Xt="";if(u==="svg"){var Ut=Ft.cloneNode(!0),Gt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),te=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Gt);te.replaceChild(Ut,te.documentElement);var ue=new XMLSerializer().serializeToString(te);Xt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(ue)}else{var se=void 0,Me=Ft.getContext("2d"),Pe=void 0;if(c){var Te=window.devicePixelRatio;se=Me.getImageData(0,0,A*Te,y*Te),Pe=Me.globalCompositeOperation,Me.globalCompositeOperation="destination-over",Me.fillStyle=c,Me.fillRect(0,0,A,y)}Xt=Ft.toDataURL(e),c&&(Me.clearRect(0,0,A,y),Me.putImageData(se,0,0),Me.globalCompositeOperation=Pe)}var Ve=document.createElement("a"),je=(t||"graph")+(u==="svg"?".svg":"."+e.split("/")[1]);a.dataURLToImage(Xt,u,Ve,je);var Ue=document.createEvent("MouseEvents");Ue.initEvent("click",!1,!1),Ve.dispatchEvent(Ue)},16)},r.prototype.downloadImage=function(t,e,n){var a=this,o=this;o.isAnimating()&&o.stopAnimate();var s=o.get("canvas"),l=s.getRenderer();e||(e="image/png");var u=(t||"graph")+(l==="svg"?".svg":e.split("/")[1]),h=document.createElement("a");setTimeout(function(){var c=o.toDataURL(e,n);a.dataURLToImage(c,l,h,u);var v=document.createEvent("MouseEvents");v.initEvent("click",!1,!1),h.dispatchEvent(v)},16)},r.prototype.dataURLToImage=function(t,e,n,a){if(typeof window!="undefined")if(window.Blob&&window.URL&&e!=="svg"){var o=t.split(","),s="";if(o&&o.length>0){var l=o[0].match(/:(.*?);/);l&&l.length>=2&&(s=l[1])}for(var u=atob(o[1]),h=u.length,c=new Uint8Array(h);h--;)c[h]=u.charCodeAt(h);var v=new Blob([c],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(v,a):n.addEventListener("click",function(){n.download=a,n.href=window.URL.createObjectURL(v)})}else n.addEventListener("click",function(){n.download=a,n.href=t})},r.prototype.updateLayout=function(t){var e=this.get("layoutController"),n;(0,f.isString)(t)?(n=t,t={type:n}):n=t.type;var a=this.get("layout"),o=a?a.type:void 0;if(!n||o===n){var s={};Object.assign(s,a,t),s.type=o||"random",this.set("layout",s),e.updateLayoutCfg(s)}else this.set("layout",t),e.changeLayout(n)},r.prototype.destroyLayout=function(){var t=this.get("layoutController");t.destroyLayout()},r.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");if(!!e){if(e.workerEnabled){t.layout();return}t.layoutMethod?t.relayout(!0):t.layout()}},r.prototype.collapseCombo=function(t){var e=this;if((0,f.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.collapseCombo(t),n.collapsed=!0;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],u=this.get("comboTrees"),h=!1,c={};(u||[]).forEach(function(A){c[A.id]=A}),(u||[]).forEach(function(A){h||zi(A,function(k){if(h&&c[k.id])return!1;if(n.parentId===k.id?(c={},k.children.forEach(function(H){c[H.id]=H})):n.id===k.id&&(h=!0),h){var R=e.findById(k.id);R&&R.getType&&R.getType()==="combo"&&(s=s.concat(R.getNodes()),l=l.concat(R.getCombos()))}return!0})});var v={},y=[];o.forEach(function(A){if(!(A.isVisible()&&!A.getModel().isVEdge)){var k=A.getSource(),R=A.getTarget();if((s.includes(k)||l.includes(k))&&!s.includes(R)&&!l.includes(R)||k.getModel().id===n.id){var H=A.getModel();if(H.isVEdge){e.removeItem(A,!1);return}for(var V=R.getModel();!R.isVisible();){if(R=e.findById(V.parentId||V.comboId),!R||!V.parentId&&!V.comboId)return;V=R.getModel()}var ot=V.id;if(v[n.id+"-"+ot]){v[n.id+"-"+ot]+=H.size||1;return}var ut=e.addItem("vedge",{source:n.id,target:ot,isVEdge:!0},!1);v[n.id+"-"+ot]=H.size||1,y.push(ut)}else if(!s.includes(k)&&!l.includes(k)&&(s.includes(R)||l.includes(R))||R.getModel().id===n.id){var H=A.getModel();if(H.isVEdge){e.removeItem(A,!1);return}for(var bt=k.getModel();!k.isVisible();){if(k=e.findById(bt.parentId||bt.comboId),!k||!bt.parentId&&!bt.comboId)return;bt=k.getModel()}var Ft=bt.id;if(v[Ft+"-"+n.id]){v[Ft+"-"+n.id]+=H.size||1;return}var ut=e.addItem("vedge",{target:n.id,source:Ft,isVEdge:!0},!1);v[Ft+"-"+n.id]=H.size||1,y.push(ut)}}}),y.forEach(function(A){var k=A.getModel();e.updateItem(A,{size:v[k.source+"-"+k.target]},!1)})},r.prototype.expandCombo=function(t){var e=this;if((0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.expandCombo(t),n.collapsed=!1;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],u=this.get("comboTrees"),h=!1,c={};(u||[]).forEach(function(A){c[A.id]=A}),(u||[]).forEach(function(A){h||zi(A,function(k){if(h&&c[k.id])return!1;if(n.parentId===k.id?(c={},k.children.forEach(function(H){c[H.id]=H})):n.id===k.id&&(h=!0),h){var R=e.findById(k.id);R&&R.getType&&R.getType()==="combo"&&(s=s.concat(R.getNodes()),l=l.concat(R.getCombos()))}return!0})});var v={},y={};o.forEach(function(A){if(!(A.isVisible()&&!A.getModel().isVEdge)){var k=A.getSource(),R=A.getTarget(),H=k.get("id"),V=R.get("id");if((s.includes(k)||l.includes(k))&&!s.includes(R)&&!l.includes(R)||H===n.id){if(A.getModel().isVEdge){e.removeItem(A,!1);return}for(var ot=R.getModel();!R.isVisible();){if(R=e.findById(ot.comboId||ot.parentId),!R||!ot.parentId&&!ot.comboId)return;ot=R.getModel()}V=ot.id;for(var ut=k.getModel();!k.isVisible();){if(k=e.findById(ut.comboId||ut.parentId),!k||!ut.parentId&&!ut.comboId)return;if(ut.comboId===n.id||ut.parentId===n.id)break;ut=k.getModel()}if(H=ut.id,V){var bt=H+"-"+V;if(v[bt]){v[bt]+=A.getModel().size||1,e.updateItem(y[bt],{size:v[bt]},!1);return}var Ft=e.addItem("vedge",{source:H,target:V,isVEdge:!0},!1);v[bt]=A.getModel().size||1,y[bt]=Ft}}else if(!s.includes(k)&&!l.includes(k)&&(s.includes(R)||l.includes(R))||V===n.id){if(A.getModel().isVEdge){e.removeItem(A,!1);return}for(var ut=k.getModel();!k.isVisible();){if(k=e.findById(ut.comboId||ut.parentId),!k||!ut.parentId&&!ut.comboId)return;ut=k.getModel()}H=ut.id;for(var ot=R.getModel();!R.isVisible();){if(R=e.findById(ot.comboId||ot.parentId),!R||!ot.parentId&&!ot.comboId)return;if(ot.comboId===n.id||ot.parentId===n.id)break;ot=R.getModel()}if(V=ot.id,H){var bt=H+"-"+V;if(v[bt]){v[bt]+=A.getModel().size||1,e.updateItem(y[bt],{size:v[bt]},!1);return}var Ft=e.addItem("vedge",{target:V,source:H,isVEdge:!0},!1);v[bt]=A.getModel().size||1,y[bt]=Ft}}else(s.includes(k)||l.includes(k))&&(s.includes(R)||l.includes(R))&&k.isVisible()&&R.isVisible()&&A.show()}})},r.prototype.collapseExpandCombo=function(t){if((0,f.isString)(t)&&(t=this.findById(t)),!(t.getType&&t.getType()!=="combo")){for(var e=t.getModel(),n=this.findById(e.parentId);n;){var a=n.getModel();if(a.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),n=void 0;return}n=this.findById(a.parentId)}var o=e.collapsed;o?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},r.prototype.collapseGroup=function(t){var e=this.get("customGroupControll");e.collapseGroup(t)},r.prototype.expandGroup=function(t){var e=this.get("customGroupControll");e.expandGroup(t)},r.prototype.addPlugin=function(t){var e=this;t.destroyed||(e.get("plugins").push(t),t.initPlugin(e))},r.prototype.removePlugin=function(t){var e=this.get("plugins"),n=e.indexOf(t);n>=0&&(t.destroyPlugin(),e.splice(n,1))},r.prototype.sortCombos=function(){var t=this,e=this.get("comboSorted");if(!e){this.set("comboSorted",!0);var n=[],a={},o=this.get("comboTrees");(o||[]).forEach(function(l){zi(l,function(u){return n[u.depth]?n[u.depth].push(u.id):n[u.depth]=[u.id],a[u.id]=u.depth,!0})});var s=this.getEdges().concat(this.get("vedges"));(s||[]).forEach(function(l){var u=l.getModel(),h=a[u.source]||0,c=a[u.target]||0,v=Math.max(h,c);n[v]?n[v].push(u.id):n[v]=[u.id]}),n.forEach(function(l){if(!(!l||!l.length))for(var u=l.length-1;u>=0;u--){var h=t.findById(l[u]);h==null||h.toFront()}})}},r.prototype.getNeighbors=function(t,e){var n=t;return(0,f.isString)(t)&&(n=this.findById(t)),n.getNeighbors(e)},r.prototype.getNodeDegree=function(t,e){e===void 0&&(e=void 0);var n=t;(0,f.isString)(t)&&(n=this.findById(t));var a=this.get("degrees");a||(a=v1(this)),this.set("degees",a);var o=a[n.getID()],s;switch(e){case"in":s=o.inDegree;break;case"out":s=o.outDegree;break;case"all":s=o;break;default:s=o.degree;break}return s},r.prototype.getUndoStack=function(){return this.undoStack},r.prototype.getRedoStack=function(){return this.redoStack},r.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},r.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},r.prototype.pushStack=function(t,e,n){if(t===void 0&&(t="update"),n===void 0&&(n="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var a=e?(0,f.clone)(e):{before:{},after:(0,f.clone)(this.save())};n==="redo"?this.redoStack.push({action:t,data:a}):this.undoStack.push({action:t,data:a}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},r.prototype.getAdjMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix");return(!n||!t)&&(n=Bu(this,e),this.set("adjMatrix",n)),n},r.prototype.getShortestPathMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!n||!t)&&(n=Bu(this,e),this.set("adjMatrix",n)),(!a||!t)&&(a=y1(this,e),this.set("shortestPathMatrix",a)),a},r.prototype.destroy=function(){this.clear(),this.clearStack(),(0,f.each)(this.get("plugins"),function(o){o.destroyPlugin()});var t=this.get("tooltips");if(t)for(var e=0;e<t.length;e++){var n=t[e];if(!!n){var a=n.parentElement;!a||a.removeChild(n)}}this.get("eventController").destroy(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("layoutController").destroy(),this.get("customGroupControll").destroy(),this.get("canvas").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},r.prototype.createHull=function(t){var e=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),e||(e=this.get("group").addGroup({id:"hullGroup"}),e.toBack(),this.set("hullGroup",e)),n[t.id])return console.warn("Existed hull id."),n[t.id];var a=e.addGroup({id:t.id+"-container"}),o=new C6(this,$t($t({},t),{group:a})),s=o.id;return n[s]=o,o},r.prototype.getHulls=function(){return this.get("hullMap")},r.prototype.getHullById=function(t){return this.get("hullMap")[t]},r.prototype.removeHull=function(t){var e;(0,f.isString)(t)?e=this.getHullById(t):e=t;var n=this.get("hullMap");delete n[e.id],e.destroy()},r.prototype.setImageWaterMarker=function(t,e){t===void 0&&(t=Ye.waterMarkerImage);var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},Ye.imageWaterMarkerConfig,e),s=o.width,l=o.height,u=o.compatible,h=o.image;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new Ro.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var y=a.get("context"),A=h.rotate,k=h.x,R=h.y;y.rotate(-A*Math.PI/180);var H=new Image;H.crossOrigin="anonymous",H.src=t,H.onload=function(){if(y.drawImage(H,k,R,h.width,h.height),y.rotate(A*Math.PI/180),u)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var V=document.querySelector(".g6-graph-watermarker");V||(V=document.createElement("div"),V.className="g6-graph-watermarker"),V.className="g6-graph-watermarker",a.destroyed||(V.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",n.appendChild(V))}}},r.prototype.setTextWaterMarker=function(t,e){var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},Ye.textWaterMarkerConfig,e),s=o.width,l=o.height,u=o.compatible,h=o.text;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new Ro.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var y=a.get("context"),A=h.rotate,k=h.fill,R=h.fontFamily,H=h.fontSize,V=h.baseline,ot=h.x,ut=h.y,bt=h.lineHeight;y.rotate(-A*Math.PI/180),y.font=H+"px "+R,y.fillStyle=k,y.textBaseline=V;for(var Ft=t.length-1;Ft>=0;Ft--)y.fillText(t[Ft],ot,ut+Ft*bt);if(y.rotate(A*Math.PI/180),u)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var Xt=document.querySelector(".g6-graph-watermarker");Xt||(Xt=document.createElement("div"),Xt.className="g6-graph-watermarker"),Xt.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",n.appendChild(Xt)}},r}(fe.default),S1=T6,P6=d(77201),M1=d.n(P6),_6=function(i){In(r,i);function r(t){var e=i.call(this,t)||this;return e.layoutAnimating=!1,e.set("removeList",[]),e.set("layoutMethod",e.getLayout()),e}return r.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(e){var n=M1()[t.type](e,t);return Ax(n),n}:function(e){return M1()[t.type](e,t)}):null},r.indexOfChild=function(t,e){var n=-1;return(0,Vn.S6)(t,function(a,o){if(e===a.id)return n=o,!1}),n},r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.animate=!0,t},r.prototype.innerAddChild=function(t,e,n){var a=this,o=t.data;o&&(o.x=t.x,o.y=t.y,o.depth=t.depth);var s=a.addItem("node",o,!1);if(e){if(s.set("parent",e),n){var l=e.get("originAttrs");if(l)s.set("originAttrs",l);else{var u=e.getModel();s.set("originAttrs",{x:u.x,y:u.y})}}var h=e.get("children");h?h.push(s):e.set("children",[s]),a.addItem("edge",{source:e,target:s,id:e.get("id")+":"+s.get("id")},!1)}return(0,Vn.S6)(t.children||[],function(c){a.innerAddChild(c,s,n)}),a.emit("afteraddchild",{item:s,parent:e}),s},r.prototype.innerUpdateChild=function(t,e,n){var a=this,o=a.findById(t.id);if(!o){a.innerAddChild(t,e,n);return}(0,Vn.S6)(t.children||[],function(A){a.innerUpdateChild(A,o,n)});var s=o.get("children");if(s){var l=s.length;if(l>0)for(var u=s.length-1;u>=0;u--){var h=s[u].getModel();r.indexOfChild(t.children||[],h.id)===-1&&(a.innerRemoveChild(h.id,{x:t.x,y:t.y},n),s.splice(u,1))}}var c,v;o.get("originAttrs")&&(c=o.get("originAttrs").x,v=o.get("originAttrs").y);var y=o.getModel();n&&o.set("originAttrs",{x:y.x,y:y.y}),o.set("model",t.data),(c!==t.x||v!==t.y)&&o.updatePosition({x:t.x,y:t.y})},r.prototype.innerRemoveChild=function(t,e,n){var a=this,o=a.findById(t);if(!!o)if((0,Vn.S6)(o.get("children"),function(l){a.innerRemoveChild(l.getModel().id,e,n)}),n){var s=o.getModel();o.set("to",e),o.set("originAttrs",{x:s.x,y:s.y}),a.get("removeList").push(o)}else a.removeItem(o)},r.prototype.changeData=function(t){var e=this;this.getNodes().map(function(n){return e.clearItemStates(n)}),this.getEdges().map(function(n){return e.clearItemStates(n)}),t?(e.data(t),e.render()):e.layout(this.get("fitView"))},r.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var e=this;e.updateLayout(t)},r.prototype.updateLayout=function(t){var e=this;if(!t){console.warn("layout cannot be null");return}e.set("layout",t),e.set("layoutMethod",e.getLayout()),e.layout()},r.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var e=this;e.layout(t)},r.prototype.layout=function(t){var e=this,n=e.get("data"),a=e.get("layoutMethod"),o=a(n,e.get("layout")),s=e.get("animate");if(e.emit("beforerefreshlayout",{data:n,layoutData:o}),e.emit("beforelayout"),e.innerUpdateChild(o,void 0,s),t){var l=e.get("viewController");l.fitView()}s?e.layoutAnimate(o):(e.refresh(),e.paint()),e.emit("afterrefreshlayout",{data:n,layoutData:o}),e.emit("afterlayout")},r.prototype.addChild=function(t,e){var n=this;n.emit("beforeaddchild",{model:t,parent:e}),(0,Vn.HD)(e)||(e=e.get("id"));var a=n.findDataById(e);a&&(a.children||(a.children=[]),a.children.push(t),n.changeData())},r.prototype.updateChild=function(t,e){var n=this;if(!e||!n.findById(e)){n.changeData(t);return}var a=n.findById(e).getModel(),o=n.findById(t.id);if(a.children||(a.children=[]),!o)a.children.push(t);else{var s=r.indexOfChild(a.children,t.id);a.children[s]=t}n.changeData()},r.prototype.removeChild=function(t){var e=this,n=e.findById(t);if(!!n){var a=n.get("parent");if(a&&!a.destroyed){var o=e.findDataById(a.get("id")),s=o&&o.children||[],l=n.getModel(),u=r.indexOfChild(s,l.id);s.splice(u,1)}e.changeData()}},r.prototype.findDataById=function(t,e){var n=this;if(e||(e=n.get("data")),t===e.id)return e;var a=null;return(0,Vn.S6)(e.children||[],function(o){if(o.id===t)return a=o,!1;if(a=n.findDataById(t,o),a)return!1}),a},r.prototype.layoutAnimate=function(t,e){var n=this,a=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){zi(t,function(s){var l=n.findById(s.id);if(l){var u=l.get("originAttrs"),h=l.get("model");if(u||(u={x:h.x,y:h.y},l.set("originAttrs",u)),e){var c=e(l,o,u,t);l.set("model",Object.assign(h,c))}else h.x=u.x+(s.x-u.x)*o,h.y=u.y+(s.y-u.y)*o}return!0}),(0,Vn.S6)(n.get("removeList"),function(s){var l=s.getModel(),u=s.get("originAttrs"),h=s.get("to");l.x=u.x+(h.x-u.x)*o,l.y=u.y+(h.y-u.y)*o}),n.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){(0,Vn.S6)(n.getNodes(),function(s){s.set("originAttrs",null)}),(0,Vn.S6)(n.get("removeList"),function(s){n.removeItem(s)}),n.set("removeList",[]),a.callback&&a.callback(),n.emit("afteranimate",{data:t})},delay:a.delay})},r.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},r.prototype.isLayoutAnimating=function(){return this.layoutAnimating},r.prototype.render=function(){var t=this,e=t.get("data");if(!e)throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},r.prototype.save=function(){return this.get("data")},r}(S1),L6=_6,O6="-shape",C1="-label",Du=["startArrow","endArrow"],dc="-label-bg",pc={options:{},itemType:"",type:"",getCustomConfig:function(r){return{}},getOptions:function(r){return(0,f.deepMix)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(r)||{},r)},draw:function(r,t){var e=this.drawShape(r,t);if(e.set("className",this.itemType+O6),r.label){var n=this.drawLabel(r,t);n.set("className",this.itemType+C1)}return e},afterDraw:function(r,t,e){},drawShape:function(r,t){return null},drawLabel:function(r,t){var e=this.getOptions(r).labelCfg,n=e||{},a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape"});if(o){var l=s.getBBox(),u=s.getMatrix();if(u||(u=[1,0,0,0,1,0,0,0,1]),a.rotateCenter)switch(a.rotateCenter){case"center":u=Ra(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break;case"lefttop":u=Ra(u,[["t",-a.x,-a.y],["r",o],["t",a.x,a.y]]);break;case"leftcenter":u=Ra(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);break;default:u=Ra(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break}else u=Ra(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);s.setMatrix(u)}if(a.background){var h=this.drawLabelBg(r,t,s),c=this.itemType+dc;h.set("classname",c),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,f.mix)({},n,r.labelCfg),o=this.getLabelBgStyleByPosition(e,r,a,t),s=t.addShape("rect",{name:"text-bg-shape",attrs:o});return s},getLabelStyleByPosition:function(r,t,e){return{text:r.label}},getLabelBgStyleByPosition:function(r,t,e,n){return{}},getLabelStyle:function(r,t,e){var n=this.getLabelStyleByPosition(r,t,e),a=this.itemType+"Label",o=Ye[a]?Ye[a].style:null,s=$t($t($t({},o),n),t.style);return s},getShapeStyle:function(r){return r.style},update:function(r,t){this.updateShapeStyle(r,t),this.updateLabel(r,t)},updateShapeStyle:function(r,t){var e=t.getContainer(),n=t.getKeyShape(),a=(0,f.mix)({},n.attr(),r.style),o=function(u){var h,c=a[u];if((0,f.isPlainObject)(c)){var v=e.find(function(y){return y.get("name")===u});v&&v.attr(c)}else n.attr((h={},h[u]=c,h))};for(var s in a)o(s)},updateLabel:function(r,t){var e=t.getContainer(),n=this.getOptions({}).labelCfg,a=this.itemType+C1,o=e.find(function(ut){return ut.get("className")===a}),s=this.itemType+dc,l=e.find(function(ut){return ut.get("classname")===s});if(r.label||r.label==="")if(o){var h={};t.getModel&&(h=t.getModel().labelCfg);var c=(0,f.deepMix)({},n,h,r.labelCfg),v=this.getLabelStyleByPosition(r,c,e),y=r.labelCfg?r.labelCfg.style:void 0,A=c.style&&c.style.background,k=$t($t($t({},o.attr()),v),y),R=k.rotate;if(delete k.rotate,R){var H=[1,0,0,0,1,0,0,0,1];H=Ra(H,[["t",-k.x,-k.y],["r",R],["t",k.x,k.y]]),o.resetMatrix(),o.attr($t($t({},k),{matrix:H}))}else o.resetMatrix(),o.attr(k);if(!l)k.background&&(l=this.drawLabelBg(r,e,o),l.set("classname",s),o.toFront());else if(k.background){var V=this.getLabelBgStyleByPosition(o,r,c,e),ot=$t($t({},V),A);l.resetMatrix(),R&&l.rotateAtStart(R),l.attr(ot)}else e.removeChild(l)}else{var u=this.drawLabel(r,e);u.set("className",a)}},afterUpdate:function(r,t){},setState:function(r,t,e){var n,a,o=e.get("keyShape");if(!!o){var s=e.getType(),l=(0,f.isBoolean)(t)?r:r+":"+t,u=this.getStateStyle(l,e),h=e.getStateStyle(l);if(!(!h&&!u)){var c=(0,f.mix)({},h||u),v=e.getContainer();if(t){var y=function(se){var Me,Pe=c[se];if((0,f.isPlainObject)(Pe)&&!Du.includes(se)){var Te=v.find(function(Ve){return Ve.get("name")===se});Te&&Te.attr(Pe)}else o.attr((Me={},Me[se]=Pe,Me))};for(var A in c)y(A)}else{var k=(0,f.clone)(e.getCurrentStatesStyle()),R=e.getModel(),H=(0,f.mix)({},R.style,(0,f.clone)(e.getOriginStyle())),V=o.get("name"),ot=o.attr(),ut={},bt=function(se){var Me=c[se];if((0,f.isPlainObject)(Me)&&!Du.includes(se)){var Pe=v.find(function(je){return je.get("name")===se});if(Pe){var Te=Pe.attr();(0,f.each)(Me,function(je,Ue){(Te[Ue]||Te[Ue]===0)&&delete Te[Ue]}),ut[se]=Te}}else{var Ve={x:1,y:1,cx:1,cy:1};ot[se]&&!Ve[se]&&delete ot[se]}};for(var Ft in c)bt(Ft);V?ut[V]=ot:(0,f.mix)(ut,ot);for(var A in k){var Xt=k[A];(!(0,f.isPlainObject)(Xt)||Du.includes(A))&&(V?((0,f.mix)(H[V],(a={},a[A]=Xt,a)),delete H[A]):(0,f.mix)(H,(n={},n[A]=Xt,n)),delete k[A])}var Ut={};(0,f.deepMix)(Ut,H,ut,k);var Gt=function(se){var Me,Pe,Te=Ut[se];if((0,f.isPlainObject)(Te)&&!Du.includes(se)){var Ve=v.find(function(je){return je.get("name")===se});Ve&&Ve.attr(Te)}else s==="combo"?V||o.attr((Me={},Me[se]=Te,Me)):o.attr((Pe={},Pe[se]=Te,Pe))};for(var te in Ut)Gt(te)}}}},getStateStyle:function(r,t){var e=t.getModel(),n=t.getType(),a=this.getOptions(e),o=a.stateStyles,s=a.style,l=s===void 0?{}:s,u=e.stateStyles?e.stateStyles[r]:o&&o[r];return n==="combo"?(0,f.clone)(u):(0,f.mix)({},l,u)},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.getOptions(r).anchorPoints;return t}},I6={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:Ye.nodeLabel.offset,getSize:function(r){var t=r.size||this.getOptions({}).size||Ye.defaultNode.size;return(0,f.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,f.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition;if(e==="center")return{x:0,y:0,text:r.label};var n=t.offset;(0,f.isNil)(n)&&(n=this.offset);var a=this.getSize(r),o=a[0],s=a[1],l;switch(e){case"top":l={x:0,y:0-s/2-n,textBaseline:"bottom"};break;case"bottom":l={x:0,y:s/2+n,textBaseline:"top"};break;case"left":l={x:0-o/2-n,y:0,textAlign:"right"};break;default:l={x:o/2+n,y:0,textAlign:"left"};break}return l.text=r.label,l},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=Nh(o.padding),l=a.width+s[1]+s[3],u=a.height+s[0]+s[2],h=e.offset;(0,f.isNil)(h)&&(h=this.offset);var c;return c={x:a.minX-s[3],y:a.minY-s[0]},c=$t($t($t({},c),o),{width:l,height:u}),c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"node-shape"});return a},updateLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=t.find(function(Xt){return Xt.get("className")==="link-point-left"}),a=t.find(function(Xt){return Xt.get("className")==="link-point-right"}),o=t.find(function(Xt){return Xt.get("className")==="link-point-top"}),s=t.find(function(Xt){return Xt.get("className")==="link-point-bottom"}),l;n&&(l=n.attr()),a&&!l&&(l=a.attr()),o&&!l&&(l=o.attr()),s&&!l&&(l=s.attr()),l||(l=e);var u=(0,f.mix)({},l,r.linkPoints),h=u.fill,c=u.stroke,v=u.lineWidth,y=u.size/2;y||(y=u.r);var A=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},k=A.left,R=A.right,H=A.top,V=A.bottom,ot=this.getSize(r),ut=ot[0],bt=ot[1],Ft={r:y,fill:h,stroke:c,lineWidth:v};n?!k&&k!==void 0?n.remove():n.attr($t($t({},Ft),{x:-ut/2,y:0})):k&&t.addShape("circle",{attrs:$t($t({},Ft),{x:-ut/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),a?(!R&&R!==void 0&&a.remove(),a.attr($t($t({},Ft),{x:ut/2,y:0}))):R&&t.addShape("circle",{attrs:$t($t({},Ft),{x:ut/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o?(!H&&H!==void 0&&o.remove(),o.attr($t($t({},Ft),{x:0,y:-bt/2}))):H&&t.addShape("circle",{attrs:$t($t({},Ft),{x:0,y:-bt/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s?!V&&V!==void 0?s.remove():s.attr($t($t({},Ft),{x:0,y:bt/2})):V&&t.addShape("circle",{attrs:$t($t({},Ft),{x:0,y:bt/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(r,t,e,n){var a=t.get("keyShape");a.attr($t({},e)),this.updateLabel(r,t),n&&this.updateIcon(r,t)},updateIcon:function(r,t){var e=this,n=t.getContainer(),a=this.getOptions(r).icon,o=(r.icon?r.icon:{show:void 0}).show,s=n.find(function(v){return v.get("className")===e.type+"-icon"});if(s)if(o||o===void 0){var l=(0,f.mix)({},s.attr(),a),u=l.width,h=l.height;s.attr($t($t({},l),{x:-u/2,y:-h/2}))}else s.remove();else if(o){var u=a.width,h=a.height;n.addShape("image",{attrs:$t($t({},a),{x:-u/2,y:-h/2}),className:this.type+"-icon",name:this.type+"-icon"});var c=n.find(function(A){return A.get("className")==="node-label"});c&&c.toFront()}}},k6=$t($t({},pc),I6);jn.registerNode("single-node",k6);var Fu="edge-shape";function B6(i){var r=i;return i==="start"?r="end":i==="end"&&(r="start"),r}var D6={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:Ye.defaultEdge.size,style:{x:0,y:0,stroke:Ye.defaultEdge.style.stroke,lineAppendWidth:Ye.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Ye.edgeLabel.style.fill,fontSize:Ye.edgeLabel.style.fontSize}},stateStyles:$t({},Ye.edgeStateStyles)},getPath:function(r){var t=[];return(0,f.each)(r,function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,f.mix)({},t,e,r.style),a=r.size||Ye.defaultEdge.size;r=this.getPathPoints(r);var o=r.startPoint,s=r.endPoint,l=this.getControlPoints(r),u=[o];l&&(u=u.concat(l)),u.push(s);var h=this.getPath(u),c=(0,f.mix)({},Ye.defaultEdge.style,{stroke:Ye.defaultEdge.color,lineWidth:a,path:h},n);return c},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(H){return H.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,u=this.getControlPoints(r),h=[s];u&&(h=h.concat(u)),h.push(l);var c=(0,f.mix)({},n,a.attr(),r.style),v=r.sourceNode,y=r.targetNode,A={radius:c.radius};u||(A={source:v,target:y,offset:c.offset,radius:c.radius});var k=this.getPath(h,A),R=(0,f.mix)(n,a.attr(),{lineWidth:o,path:k},r.style);a&&a.attr(R)},getLabelStyleByPosition:function(r,t,e){var n=t.position||this.labelPosition,a={},o=e&&e.find(function(v){return v.get("className")===Fu}),s;n==="start"?s=0:n==="end"?s=1:s=.5;var l=t.refX||this.refX,u=t.refY||this.refY;if(r.startPoint.x===r.endPoint.x&&r.startPoint.y===r.endPoint.y)return a.x=r.startPoint.x+l,a.y=r.startPoint.y+u,a.text=r.label,a;var h=(0,f.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate,c=du(o,s,l,u,h);return a.x=c.x,a.y=c.y,a.rotate=c.rotate,a.textAlign=this._getTextAlign(n,c.angle),a.text=r.label,a},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=o.padding,l=a.width+s[1]+s[3],u=a.height+s[0]+s[2],h=e.position||this.labelPosition,c=$t($t({},o),{width:l,height:u,x:a.minX-s[2],y:a.minY-s[0],rotate:0}),v=(0,f.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate,y=n&&n.find(function(ot){return ot.get("className")===Fu}),A;h==="start"?A=0:h==="end"?A=1:A=.5;var k=e.refX||this.refX,R=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return c.x=t.startPoint.x+k,c.y=t.startPoint.y+R,c;var H=du(y,A,k-l/2,R+u/2,v),V=H.angle;return V>1/2*Math.PI&&V<3*1/2*Math.PI&&(H=du(y,A,k+l/2,R+u/2,v)),v&&(c.x=H.x,c.y=H.y),c.rotate=H.rotate,c},_getTextAlign:function(r,t){var e="center";return t?(t=t%(Math.PI*2),r!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?e=r:e=B6(r)),e):r},getControlPoints:function(r){return r.controlPoints},getPathPoints:function(r){return r},drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("path",{className:Fu,name:Fu,attrs:e});return n},drawLabel:function(r,t){var e=this.options.labelCfg,n=(0,f.deepMix)({fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},e,r.labelCfg),a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,name:"text-shape"});if(o&&s.rotateAtStart(o),a.background){var l=this.drawLabelBg(r,t,s),u=this.itemType+dc;l.set("classname",u),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,f.deepMix)({},n,r.labelCfg),o=this.getLabelStyle(r,a,t),s=o.rotate,l=this.getLabelBgStyleByPosition(e,r,a,t);delete l.rotate;var u=t.addShape("rect",{name:"text-bg-shape",attrs:l});return s&&u.rotateAtStart(s),u}},F6=$t($t({},pc),D6);jn.registerEdge("single-edge",F6),jn.registerEdge("line",{getControlPoints:function(){}},"single-edge"),jn.registerEdge("spline",{getPath:function(r){var t=lx(r);return t}},"single-edge"),jn.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(r){var t=r.startPoint,e=r.endPoint,n={x:(t.x+e.x)/2,y:(t.y+e.y)/2},a,o;if(r.controlPoints!==void 0){if(o=r.controlPoints[0],a=Xh(t,o,e),t.x<=e.x&&t.y>e.y?this.clockwise=a.x>o.x?0:1:t.x<=e.x&&t.y<e.y?this.clockwise=a.x>o.x?1:0:t.x>e.x&&t.y<=e.y?this.clockwise=a.y<o.y?0:1:this.clockwise=a.y<o.y?1:0,(o.x-t.x)/(o.y-t.y)==(e.x-t.x)/(e.y-t.y))return[]}else{r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),(0,Ci.default)(r.curveOffset)&&(r.curveOffset=r.curveOffset[0]),r.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:e.x-t.x,y:e.y-t.y},l=Math.atan2(s.y,s.x);o={x:r.curveOffset*Math.cos(-Math.PI/2+l)+n.x,y:r.curveOffset*Math.sin(-Math.PI/2+l)+n.y},a=Xh(t,o,e)}var u=Rs(t,a),h=[{x:u,y:u}];return h},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),r.length===2?t.push(["L",r[1].x,r[1].y]):t.push(["A",r[1].x,r[1].y,0,0,this.clockwise,r[2].x,r[2].y]),t}},"single-edge"),jn.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(r){var t=r.controlPoints;if(!t||!t.length){var e=r.startPoint,n=r.endPoint;r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,Ci.default)(this.curveOffset)&&(r.curveOffset=r.curveOffset[0]),(0,Ci.default)(this.curvePosition)&&(r.curvePosition=r.curveOffset[0]);var a=fu(e,n,r.curvePosition,r.curveOffset);t=[a]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["Q",r[1].x,r[1].y,r[2].x,r[2].y]),t}},"single-edge"),jn.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(r){var t=r.controlPoints;if(r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,Ma.default)(r.curveOffset)&&(r.curveOffset=[r.curveOffset,-r.curveOffset]),(0,Ma.default)(r.curvePosition)&&(r.curvePosition=[r.curvePosition,1-r.curvePosition]),!t||!t.length||t.length<2){var e=r.startPoint,n=r.endPoint,a=fu(e,n,r.curvePosition[0],r.curveOffset[0]),o=fu(e,n,r.curvePosition[1],r.curveOffset[1]);t=[a,o]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["C",r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y]),t}},"single-edge"),jn.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,Ma.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:t.x,y:(e.y-t.y)*this.curvePosition[0]+t.y},a={x:e.x,y:(e.y-t.y)*this.curvePosition[1]+t.y},o=[n,a];return o}},"cubic"),jn.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,Ma.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:(e.x-t.x)*this.curvePosition[0]+t.x,y:t.y},a={x:(e.x-t.x)*this.curvePosition[1]+t.x,y:e.y},o=[n,a];return o}},"cubic"),jn.registerEdge("loop",{getPathPoints:function(r){return Cx(r)},getControlPoints:function(r){return r.controlPoints},afterDraw:function(r){r.controlPoints=void 0},afterUpdate:function(r){r.controlPoints=void 0}},"cubic");var R6={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:Ye.comboLabel.refX,refY:Ye.comboLabel.refY,options:{style:{stroke:Ye.defaultCombo.style.stroke,fill:Ye.defaultCombo.style.fill,lineWidth:Ye.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ye.comboLabel.style.fill,fontSize:Ye.comboLabel.style.fontSize}},stateStyles:$t({},Ye.comboStateStyles)},getSize:function(r){var t=(0,f.clone)(r.size||this.options.size||Ye.defaultCombo.size);return(0,f.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,f.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,f.isArray)(a)&&(a=a[0]);var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var l=this.getSize(r),u=Math.max(n.r,l[0]/2)||l[0]/2,h=u+a,c;switch(e){case"top":c={x:0,y:-h-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":c={x:0,y:h+s,textBaseline:"bottom",textAlign:"center"};break;case"left":c={x:-h+o,y:0,textAlign:"left"};break;case"center":c={x:0,y:0,text:r.label,textAlign:"center"};break;default:c={x:h+o,y:0,textAlign:"right"};break}return c.text=r.label,c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"combo-shape"});return a},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr($t({},e)),this.updateLabel(r,t)}},N6=$t($t({},pc),R6);jn.registerCombo("single-combo",N6),jn.registerCombo("circle",{options:{size:[Ye.defaultCombo.size[0],Ye.defaultCombo.size[0]],padding:Ye.defaultCombo.padding[0],animate:!0,style:{stroke:Ye.defaultCombo.style.stroke,fill:Ye.defaultCombo.style.fill,lineWidth:Ye.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ye.comboLabel.style.fill,fontSize:Ye.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:$t({},Ye.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r);delete e.height,delete e.width;var n=t.addShape("circle",{attrs:e,className:"circle-combo",name:"circle-combo",draggable:!0});return n},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,f.isArray)(e)&&(e=e[0]);var n={stroke:r.color},a=(0,f.mix)({},t,n,r.style),o=this.getSize(r),s;!(0,f.isNumber)(a.r)||isNaN(a.r)?s=o[0]/2||Ye.defaultCombo.style.r:s=Math.max(a.r,o[0]/2)||o[0]/2,a.r=s+e;var l=$t({x:0,y:0},a);return r.style?r.style.r=s:r.style={r:s},l},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,f.isArray)(n)&&(n=n[0]);var a=(0,f.clone)(r.style),o=Math.max(a.r,e[0]/2)||e[0]/2;a.r=o+n;var s=t.get("sizeCache");s&&(s.r=a.r);var l={stroke:r.color},u=t.get("keyShape"),h=(0,f.mix)({},u.attr(),l,a);r.style?r.style.r=o:r.style={r:o},this.updateShape(r,t,h,!0)}},"single-combo"),jn.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:Ye.defaultCombo.style.stroke,fill:Ye.defaultCombo.style.fill,lineWidth:Ye.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ye.comboLabel.style.fill,fontSize:Ye.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:$t({},Ye.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:"rect-combo",name:"rect-combo",draggable:!0});return n},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,f.isNumber)(a)&&(a=[a,a,a,a]);var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var l=n.width/2+a[3],u=n.height/2+a[0],h;switch(e){case"top":h={x:0-l+o,y:0-u+s,textBaseline:"top",textAlign:"left"};break;case"bottom":h={x:0,y:u+s,textBaseline:"bottom",textAlign:"center"};break;case"left":h={x:0-l+s,y:0,textAlign:"left"};break;case"center":h={x:0,y:0,text:r.label,textAlign:"center"};break;default:h={x:l+o,y:0,textAlign:"right"};break}return h.text=r.label,h},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,f.isNumber)(e)&&(e=[e,e,e,e]);var n={stroke:r.color},a=(0,f.mix)({},t,n,r.style),o=this.getSize(r),s,l;!(0,f.isNumber)(a.width)||isNaN(a.width)?s=o[0]||Ye.defaultCombo.style.width:s=Math.max(a.width,o[0])||o[0],!(0,f.isNumber)(a.height)||isNaN(a.height)?l=o[1]||Ye.defaultCombo.style.height:l=Math.max(a.height,o[1])||o[1];var u=-s/2-e[3],h=-l/2-e[0];a.width=s+e[1]+e[3],a.height=l+e[0]+e[2];var c=$t({x:u,y:h},a);return r.style?(r.style.width=s,r.style.height=l):r.style={width:s,height:l},c},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,f.isNumber)(n)&&(n=[n,n,n,n]);var a=(0,f.clone)(r.style),o=Math.max(a.width,e[0])||e[0],s=Math.max(a.height,e[1])||e[1];a.width=o+n[1]+n[3],a.height=s+n[0]+n[2];var l=t.get("sizeCache");l&&(l.width=a.width,l.height=a.height),a.x=-o/2-n[3],a.y=-s/2-n[0];var u={stroke:r.color},h=t.get("keyShape"),c=(0,f.mix)({},h.attr(),u,a);r.style?(r.style.width=o,r.style.height=s):r.style={width:o,height:s},this.updateShape(r,t,c,!1)},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr($t({},e)),this.updateLabel(r,t)}},"single-combo"),jn.registerNode("circle",{options:{size:Ye.defaultNode.size,style:{x:0,y:0,stroke:Ye.defaultNode.style.stroke,fill:Ye.defaultNode.style.fill,lineWidth:Ye.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ye.nodeLabel.style.fill,fontSize:Ye.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ye.defaultNode.linkPoints.size,lineWidth:Ye.defaultNode.linkPoints.lineWidth,fill:Ye.defaultNode.linkPoints.fill,stroke:Ye.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:$t({},Ye.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=(0,ki.default)({},n,r.icon),s=t.addShape("circle",{attrs:a,className:this.type+"-keyShape",draggable:!0}),l=o.width,u=o.height,h=o.show;return h&&t.addShape("image",{attrs:$t({x:-l/2,y:-u/2},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(r,t),s},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=Yi(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),y=v[0]/2;o&&t.addShape("circle",{attrs:$t($t({},c),{x:-y,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:$t($t({},c),{x:y,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y:-y,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,ki.default)({},t,e),a=this.getSize(r),o=a[0]/2,s=$t({x:0,y:0,r:o},n);return s},update:function(r,t){var e=t.getContainer(),n=this.getSize(r),a={stroke:r.color,r:n[0]/2},o=t.get("keyShape"),s=(0,ki.default)({},o.attr(),a,r.style);this.updateShape(r,t,s,!0),this.updateLinkPoints(r,e)}},"single-node"),jn.registerNode("rect",{options:{size:[100,30],style:{radius:0,stroke:Ye.defaultNode.style.stroke,fill:Ye.defaultNode.style.fill,lineWidth:Ye.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ye.nodeLabel.style.fill,fontSize:Ye.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ye.defaultNode.linkPoints.size,lineWidth:Ye.defaultNode.linkPoints.lineWidth,fill:Ye.defaultNode.linkPoints.fill,stroke:Ye.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:$t({},Ye.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(r,t),n},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=Yi(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),y=v[0],A=v[1];o&&t.addShape("circle",{attrs:$t($t({},c),{x:-y/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:$t($t({},c),{x:y/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y:-A/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y:A/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=$t({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o=t.get("keyShape");r.size||(a[0]=o.attr("width")||n.width,a[1]=o.attr("height")||n.height);var s={stroke:r.color,x:-a[0]/2,y:-a[1]/2,width:a[0],height:a[1]},l=(0,f.mix)({},n,o.attr(),s);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!1),this.updateLinkPoints(r,e)}},"single-node"),jn.registerNode("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:Ye.defaultNode.style.stroke,fill:Ye.defaultNode.style.fill,lineWidth:Ye.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ye.nodeLabel.style.fill,fontSize:Ye.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ye.defaultNode.linkPoints.size,lineWidth:Ye.defaultNode.linkPoints.lineWidth,fill:Ye.defaultNode.linkPoints.fill,stroke:Ye.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:$t({},Ye.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:$t({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=Yi(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),y=v[0]/2,A=v[1]/2;o&&t.addShape("circle",{attrs:$t($t({},c),{x:-y,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:$t($t({},c),{x:y,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y:-A,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y:A,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=a[0]/2,s=a[1]/2,l=$t({x:0,y:0,rx:o,ry:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o={stroke:r.color,rx:a[0]/2,ry:a[1]/2},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),jn.registerNode("diamond",{options:{size:[80,80],style:{stroke:Ye.defaultNode.style.stroke,fill:Ye.defaultNode.style.fill,lineWidth:Ye.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ye.nodeLabel.style.fill,fontSize:Ye.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ye.defaultNode.linkPoints.size,lineWidth:Ye.defaultNode.linkPoints.lineWidth,fill:Ye.defaultNode.linkPoints.fill,stroke:Ye.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:$t({},Ye.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:$t({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=Yi(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),y=v[0],A=v[1];o&&t.addShape("circle",{attrs:$t($t({},c),{x:-y/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:$t($t({},c),{x:y/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y:-A/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y:A/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(r){var t=this.getSize(r),e=t[0],n=t[1],a=[["M",0,-n/2],["L",e/2,0],["L",0,n/2],["L",-e/2,0],["Z"]];return a},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=$t({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),jn.registerNode("triangle",{options:{size:40,direction:"up",style:{stroke:Ye.defaultNode.style.stroke,fill:Ye.defaultNode.style.fill,lineWidth:Ye.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ye.nodeLabel.style.fill,fontSize:Ye.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ye.defaultNode.linkPoints.size,lineWidth:Ye.defaultNode.linkPoints.lineWidth,fill:Ye.defaultNode.linkPoints.fill,stroke:Ye.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:$t({},Ye.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(r,t){var e=this.getOptions(r),n=e.icon,a=n===void 0?{}:n,o=e.direction,s=this.getShapeStyle(r),l=r.direction||o,u=t.addShape("path",{attrs:s,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=a.width,c=a.height,v=a.show,y=a.offset;if(v){var A=-h/2,k=-c/2;(l==="up"||l==="down")&&(k+=y),(l==="left"||l==="right")&&(A+=y),t.addShape("image",{attrs:$t({x:A,y:k},a),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(r,t),u},drawLinkPoints:function(r,t){var e=this.getOptions(r),n=e.linkPoints,a=n===void 0?{}:n,o=e.direction,s=r.direction||o,l=a.top,u=a.left,h=a.right,c=a.bottom,v=a.size,y=a.r,A=Yi(a,["top","left","right","bottom","size","r"]),k=this.getSize(r),R=k[0];if(u){var H=null,V=R*Math.sin(1/3*Math.PI),ot=R*Math.sin(1/3*Math.PI);s==="up"?H=[-ot,V]:s==="down"?H=[-ot,-V]:s==="left"&&(H=[-ot,ot-V]),H&&t.addShape("circle",{attrs:$t($t({},A),{x:H[0],y:H[1],r:v/2||y||5}),className:"link-point-left",name:"link-point-left"})}if(h){var ut=null,V=R*Math.sin(1/3*Math.PI),ot=R*Math.sin(1/3*Math.PI);s==="up"?ut=[ot,V]:s==="down"?ut=[ot,-V]:s==="right"&&(ut=[ot,ot-V]),ut&&t.addShape("circle",{attrs:$t($t({},A),{x:ut[0],y:ut[1],r:v/2||y||5}),className:"link-point-right",name:"link-point-right"})}if(l){var bt=null,V=R*Math.sin(1/3*Math.PI),ot=R*Math.sin(1/3*Math.PI);s==="up"?bt=[ot-V,-V]:s==="left"?bt=[ot,-V]:s==="right"&&(bt=[-ot,-V]),bt&&t.addShape("circle",{attrs:$t($t({},A),{x:bt[0],y:bt[1],r:v/2||y||5}),className:"link-point-top",name:"link-point-top"})}if(c){var Ft=null,V=R*Math.sin(1/3*Math.PI),ot=R*Math.sin(1/3*Math.PI);s==="down"?Ft=[-ot+V,V]:s==="left"?Ft=[ot,V]:s==="right"&&(Ft=[-ot,V]),Ft&&t.addShape("circle",{attrs:$t($t({},A),{x:Ft[0],y:Ft[1],r:v/2||y||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(r){var t=this.getOptions(r).direction,e=r.direction||t,n=this.getSize(r),a=n[0],o=a*Math.sin(1/3*Math.PI),s=a*Math.sin(1/3*Math.PI),l=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return e==="down"?l=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:e==="left"?l=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:e==="right"&&(l=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),l},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=$t({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}),n=e.linkPoints,a=e.direction,o=r.direction||a,s=t.find(function(Ve){return Ve.get("className")==="link-point-left"}),l=t.find(function(Ve){return Ve.get("className")==="link-point-right"}),u=t.find(function(Ve){return Ve.get("className")==="link-point-top"}),h=t.find(function(Ve){return Ve.get("className")==="link-point-bottom"}),c=n,v=s||l||u||h;v&&(c=v.attr());var y=(0,f.mix)({},c,r.linkPoints),A=y.fill,k=y.stroke,R=y.lineWidth,H=y.size/2;H||(H=y.r);var V=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},ot=V.left,ut=V.right,bt=V.top,Ft=V.bottom,Xt=this.getSize(r),Ut=Xt[0],Gt={r:H,fill:A,stroke:k,lineWidth:R},te=null,ue=Ut*Math.sin(1/3*Math.PI),se=Ut*Math.sin(1/3*Math.PI);o==="up"?te=[-se,ue]:o==="down"?te=[-se,-ue]:o==="left"&&(te=[-se,se-ue]),te&&(s?!ot&&ot!==void 0?s.remove():s.attr($t($t({},Gt),{x:te[0],y:te[1]})):ot&&t.addShape("circle",{attrs:$t($t({},Gt),{x:te[0],y:te[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var Me=null;o==="up"?Me=[se,ue]:o==="down"?Me=[se,-ue]:o==="right"&&(Me=[se,se-ue]),Me&&(l?!ut&&ut!==void 0?l.remove():l.attr($t($t({},Gt),{x:Me[0],y:Me[1]})):ut&&t.addShape("circle",{attrs:$t($t({},Gt),{x:Me[0],y:Me[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var Pe=null;o==="up"?Pe=[se-ue,-ue]:o==="left"?Pe=[se,-ue]:o==="right"&&(Pe=[-se,-ue]),Pe&&(u?!bt&&bt!==void 0?u.remove():u.attr($t($t({},Gt),{x:Pe[0],y:Pe[1]})):bt&&t.addShape("circle",{attrs:$t($t({},Gt),{x:Pe[0],y:Pe[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var Te=null;o==="down"?Te=[-se+ue,ue]:o==="left"?Te=[se,ue]:o==="right"&&(Te=[-se,ue]),Te&&(h?!Ft&&Ft!==void 0?h.remove():h.attr($t($t({},Gt),{x:Te[0],y:Te[1]})):Ft&&t.addShape("circle",{attrs:$t($t({},Gt),{x:Te[0],y:Te[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),jn.registerNode("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:Ye.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(r,t){var e=this.getOptions(r).preRect,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=this.getSize(r),s=o[0],l=o[1],u=t.addShape("rect",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=n.show,c=Yi(n,["show"]);return h&&t.addShape("rect",{attrs:$t({x:-s/2,y:-l/2,height:l},c),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(r,t),this.drawStateIcon(r,t),this.drawLinkPoints(r,t),u},drawLogoIcon:function(r,t){var e=this.getOptions(r).logoIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,u=n.x,h=n.y,c=n.offset,v=Yi(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:$t($t({},v),{x:u||-o/2+s+c,y:h||-l/2,width:s,height:l}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(r,t){var e=this.getOptions(r).stateIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,u=n.x,h=n.y,c=n.offset,v=Yi(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:$t($t({},v),{x:u||o/2-s+c,y:h||-l/2,width:s,height:l}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=Yi(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),y=v[0],A=v[1];o&&t.addShape("circle",{attrs:$t($t({},c),{x:-y/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:$t($t({},c),{x:y/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y:-A/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y:A/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(r,t){var e=this.getOptions(r),n=e.labelCfg,a=n===void 0?{}:n,o=e.logoIcon,s=o===void 0?{}:o,l=e.descriptionCfg,u=l===void 0?{}:l,h=this.getSize(r),c=h[0],v=null,y=s.show,A=s.width,k=-c/2+a.offset;y&&(k=-c/2+A+a.offset);var R=a.style,H=u.style,V=u.paddingTop;return(0,f.isString)(r.description)?(v=t.addShape("text",{attrs:$t($t({},R),{x:k,y:-5,text:r.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:$t($t({},H),{x:k,y:17+(V||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0})):v=t.addShape("text",{attrs:$t($t({},R),{x:k,y:7,text:r.label}),draggable:!0}),v},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=$t({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=this.getOptions(r),n=e.style,a=n===void 0?{}:n,o=e.labelCfg,s=o===void 0?{}:o,l=e.descriptionCfg,u=l===void 0?{}:l,h=this.getSize(r),c=h[0],v=h[1],y=t.get("keyShape");y.attr($t($t({},a),{x:-c/2,y:-v/2,width:c,height:v}));var A=t.getContainer(),k=A.find(function(Tr){return Tr.get("className")==="rect-logo-icon"}),R=k?k.attr():{},H=(0,f.mix)({},R,r.logoIcon),V=H.width;V===void 0&&(V=this.options.logoIcon.width);var ot=r.logoIcon?r.logoIcon.show:void 0,ut=s.offset,bt=-c/2+V+ut;!ot&&ot!==void 0&&(bt=-c/2+ut);var Ft=A.find(function(Tr){return Tr.get("className")==="node-label"}),Xt=A.find(function(Tr){return Tr.get("className")==="rect-description"});if(r.label)if(!Ft)A.addShape("text",{attrs:$t($t({},s.style),{x:bt,y:r.description?-5:7,text:r.label}),className:"node-label",name:"node-label",draggable:!0});else{var Ut=r.labelCfg?r.labelCfg.style:{},Gt=(0,f.mix)({},Ft.attr(),Ut);r.label&&(Gt.text=r.label),Gt.x=bt,(0,f.isString)(r.description)&&(Gt.y=-5),Xt&&(Xt.resetMatrix(),Xt.attr({x:bt})),Ft.resetMatrix(),Ft.attr(Gt)}if((0,f.isString)(r.description)){var te=u.paddingTop;if(!Xt)A.addShape("text",{attrs:$t($t({},u.style),{x:bt,y:17+(te||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0});else{var Ut=r.descriptionCfg?r.descriptionCfg.style:{},ue=(0,f.mix)({},Xt.attr(),Ut);(0,f.isString)(r.description)&&(ue.text=r.description),ue.x=bt,Xt.resetMatrix(),Xt.attr($t($t({},ue),{y:17+(te||0)}))}}var se=A.find(function(Tr){return Tr.get("className")==="pre-rect"});if(se){var Me=(0,f.mix)({},se.attr(),r.preRect);se.attr($t($t({},Me),{x:-c/2,y:-v/2,height:v}))}if(k)if(!ot&&ot!==void 0)k.remove();else{var Pe=H.width,Te=H.height,Ve=H.x,je=H.y,Ue=H.offset,Ge=Yi(H,["width","height","x","y","offset"]);k.attr($t($t({},Ge),{x:Ve||-c/2+Pe+Ue,y:je||-Te/2,width:Pe,height:Te}))}else ot&&this.drawLogoIcon(r,A);var ze=A.find(function(Tr){return Tr.get("className")==="rect-state-icon"}),ur=ze?ze.attr():{},lr=(0,f.mix)({},ur,r.stateIcon);if(ze){!lr.show&&lr.show!==void 0&&ze.remove();var pr=lr.width,Te=lr.height,Ve=lr.x,je=lr.y,Ze=lr.offset,cr=Yi(lr,["width","height","x","y","offset"]);ze.attr($t($t({},cr),{x:Ve||c/2-pr+Ze,y:je||-Te/2,width:pr,height:Te}))}else lr.show&&this.drawStateIcon(r,A);this.updateLinkPoints(r,A)}},"single-node"),jn.registerNode("star",{options:{size:60,style:{stroke:Ye.defaultNode.style.stroke,fill:Ye.defaultNode.style.fill,lineWidth:Ye.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ye.nodeLabel.style.fill,fontSize:Ye.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ye.defaultNode.linkPoints.size,lineWidth:Ye.defaultNode.linkPoints.lineWidth,fill:Ye.defaultNode.linkPoints.fill,stroke:Ye.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:$t({},Ye.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:$t({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.leftBottom,u=n.rightBottom,h=n.size,c=n.r,v=Yi(n,["top","left","right","leftBottom","rightBottom","size","r"]),y=this.getSize(r),A=y[0];if(s){var k=Math.cos((18+72*0)/180*Math.PI)*A,R=Math.sin((18+72*0)/180*Math.PI)*A;t.addShape("circle",{attrs:$t($t({},v),{x:k,y:-R,r:h/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(a){var k=Math.cos((18+72*1)/180*Math.PI)*A,R=Math.sin((18+72*1)/180*Math.PI)*A;t.addShape("circle",{attrs:$t($t({},v),{x:k,y:-R,r:h/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){var k=Math.cos((18+72*2)/180*Math.PI)*A,R=Math.sin((18+72*2)/180*Math.PI)*A;t.addShape("circle",{attrs:$t($t({},v),{x:k,y:-R,r:h/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(l){var k=Math.cos((18+72*3)/180*Math.PI)*A,R=Math.sin((18+72*3)/180*Math.PI)*A;t.addShape("circle",{attrs:$t($t({},v),{x:k,y:-R,r:h/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(u){var k=Math.cos((18+72*4)/180*Math.PI)*A,R=Math.sin((18+72*4)/180*Math.PI)*A;t.addShape("circle",{attrs:$t($t({},v),{x:k,y:-R,r:h/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(r){for(var t=this.getSize(r),e=t[0],n=e*3/8,a=r.innerR||n,o=[],s=0;s<5;s++){var l=Math.cos((18+72*s)/180*Math.PI)*e,u=Math.sin((18+72*s)/180*Math.PI)*e,h=Math.cos((54+72*s)/180*Math.PI)*a,c=Math.sin((54+72*s)/180*Math.PI)*a;s===0?o.push(["M",l,-u]):o.push(["L",l,-u]),o.push(["L",h,-c])}return o.push(["Z"]),o},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=$t({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}).linkPoints,n=t.find(function(ue){return ue.get("className")==="link-point-left"}),a=t.find(function(ue){return ue.get("className")==="link-point-right"}),o=t.find(function(ue){return ue.get("className")==="link-point-top"}),s=t.find(function(ue){return ue.get("className")==="link-point-left-bottom"}),l=t.find(function(ue){return ue.get("className")==="link-point-right-bottom"}),u=e,h=n||a||o||s||l;h&&(u=h.attr());var c=(0,f.mix)({},u,r.linkPoints),v=c.fill,y=c.stroke,A=c.lineWidth,k=c.size/2;k||(k=c.r);var R=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},H=R.left,V=R.right,ot=R.top,ut=R.leftBottom,bt=R.rightBottom,Ft=this.getSize(r),Xt=Ft[0],Ut={r:k,fill:v,stroke:y,lineWidth:A},Gt=Math.cos((18+72*0)/180*Math.PI)*Xt,te=Math.sin((18+72*0)/180*Math.PI)*Xt;a?!V&&V!==void 0?a.remove():a.attr($t($t({},Ut),{x:Gt,y:-te})):V&&t.addShape("circle",{attrs:$t($t({},Ut),{x:Gt,y:-te}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),Gt=Math.cos((18+72*1)/180*Math.PI)*Xt,te=Math.sin((18+72*1)/180*Math.PI)*Xt,o?!ot&&ot!==void 0?o.remove():o.attr($t($t({},Ut),{x:Gt,y:-te})):ot&&t.addShape("circle",{attrs:$t($t({},Ut),{x:Gt,y:-te}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),Gt=Math.cos((18+72*2)/180*Math.PI)*Xt,te=Math.sin((18+72*2)/180*Math.PI)*Xt,n?!H&&H!==void 0?n.remove():n.attr($t($t({},Ut),{x:Gt,y:-te})):H&&t.addShape("circle",{attrs:$t($t({},Ut),{x:Gt,y:-te}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),Gt=Math.cos((18+72*3)/180*Math.PI)*Xt,te=Math.sin((18+72*3)/180*Math.PI)*Xt,s?!ut&&ut!==void 0?s.remove():s.attr($t($t({},Ut),{x:Gt,y:-te})):ut&&t.addShape("circle",{attrs:$t($t({},Ut),{x:Gt,y:-te}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),Gt=Math.cos((18+72*4)/180*Math.PI)*Xt,te=Math.sin((18+72*4)/180*Math.PI)*Xt,l?!bt&&bt!==void 0?s.remove():l.attr($t($t({},Ut),{x:Gt,y:-te})):bt&&t.addShape("circle",{attrs:$t($t({},Ut),{x:Gt,y:-te}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node"),jn.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r);delete n.fill;var a=t.addShape(e,{attrs:n,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(r,a),a},drawClip:function(r,t){var e=this.getOptions(r).clipCfg;if(!!e.show){var n=e.type,a=e.x,o=e.y,s=e.style;if(n==="circle"){var l=e.r;t.setClip({type:"circle",attrs:$t({r:l,x:a,y:o},s)})}else if(n==="rect"){var u=e.width,h=e.height,c=a-u/2,v=o-h/2;t.setClip({type:"rect",attrs:$t({x:c,y:v,width:u,height:h},s)})}else if(n==="ellipse"){var y=e.rx,A=e.ry;t.setClip({type:"ellipse",attrs:$t({x:a,y:o,rx:y,ry:A},s)})}else if(n==="polygon"){var k=e.points;t.setClip({type:"polygon",attrs:$t({points:k},s)})}else if(n==="path"){var R=e.path;t.setClip({type:"path",attrs:$t({path:R},s)})}}},getShapeStyle:function(r){var t=this.getOptions(r).style,e=this.getSize(r),n=this.getOptions(r).img,a=e[0],o=e[1];t&&(a=t.width||e[0],o=t.height||e[1]);var s=$t({x:-a/2,y:-o/2,width:a,height:o,img:n},t);return s},updateShapeStyle:function(r,t){var e=t.getContainer(),n=this.itemType+"-shape",a=e.find(function(s){return s.get("className")===n})||t.getKeyShape(),o=this.getShapeStyle(r);a&&a.attr(o)}},"single-node");function Ru(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ru=function(t){return typeof t}:Ru=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(i)}var Nu=function(r){var t=r.x,e=r.y;return{x:t,y:e,centerX:t,centerY:e,minX:t,minY:e,maxX:t,maxY:e,height:0,width:0}},Y6=function(r){r===void 0&&(r=[]);var t=[],e=[];r.forEach(function(l){t.push(l.x),e.push(l.y)});var n=Math.min.apply(Math,t),a=Math.max.apply(Math,t),o=Math.min.apply(Math,e),s=Math.max.apply(Math,e);return{centerX:(n+a)/2,centerY:(o+s)/2,maxX:a,maxY:s,minX:n,minY:o,height:s-o,width:a-n}},E1=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},gc=function(r){var t=[],e={};return r.forEach(function(n){var a=n.x+"-"+n.y;n.id=a,e[a]=n}),(0,f.each)(e,function(n){t.push(n)}),t},Yu=function(r){return r=gc(r),r},A1=function(r,t){return[r,{x:r.x,y:t.y},t]},Gu=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},G6=function(r,t){var e=Math.abs(r.x-t.centerX),n=Math.abs(r.y-t.centerY);return e/t.width>n/t.height},yc=function(r,t){var e=G6(t,r);return e?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},mc=function(r,t){var e=Math.min(r.minX,t.minX),n=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),o=Math.max(r.maxY,t.maxY);return{centerX:(e+a)/2,centerY:(n+o)/2,minX:e,minY:n,maxX:a,maxY:o,height:o-n,width:a-e}},xc=function(r){var t=r.minX,e=r.minY,n=r.maxX,a=r.maxY;return[{x:t,y:e},{x:n,y:e},{x:n,y:a},{x:t,y:a}]},zu=function(r,t){var e=r.x,n=r.y;return e<t.minX||e>t.maxX||n<t.minY||n>t.maxY},z6=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},X6=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},V6=function(r,t){return z6(r,t.x).concat(X6(r,t.y))},Us=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},H6=function(r,t){var e=-2,n=0;return t.forEach(function(a){a&&(r.x===a.x&&(n+=e),r.y===a.y&&(n+=e))}),n},T1=function(r,t,e,n,a){return Us(r,t)+Us(r,e)+H6(r,[t,e,n,a])},W6=function i(r,t,e,n,a){a===void 0&&(a=0),r.unshift(t[n]),e[n]&&e[n]!==n&&a<=100&&i(r,t,e,e[n],a+1)},j6=function(r,t){var e=r.indexOf(t);e>-1&&r.splice(e,1)},Xu=function(r,t,e,n){var a=t.x-r.x,o=t.y-r.y,s=n.x-e.x,l=n.y-e.y,u=(-o*(r.x-e.x)+a*(r.y-e.y))/(-s*o+a*l),h=(s*(r.y-e.y)-l*(r.x-e.x))/(-s*o+a*l);return u>=0&&u<=1&&h>=0&&h<=1},bc=function(r,t,e){if(e.width===0&&e.height===0)return!1;var n=xc(e),a=n[0],o=n[1],s=n[2],l=n[3];return Xu(r,t,a,o)||Xu(r,t,a,l)||Xu(r,t,o,s)||Xu(r,t,s,l)},U6=function(r,t,e,n){var a=[];return r.forEach(function(o){o!==t&&(o.x===t.x||o.y===t.y)&&!bc(o,t,e)&&!bc(o,t,n)&&a.push(o)}),gc(a)},Z6=function(r,t,e,n,a,o,s){var l=[],u=[t],h={},c={},v={};c[t.id]=0,v[t.id]=T1(t,e,t);var y={};r.forEach(function(R){y[R.id]=R});for(var A=function(){var H,V=Infinity;if(u.forEach(function(ut){v[ut.id]<V&&(V=v[ut.id],H=ut)}),H===e){var ot=[];return W6(ot,y,h,e.id),{value:ot}}j6(u,H),l.push(H),U6(r,H,n,a).forEach(function(ut){if(l.indexOf(ut)===-1){u.indexOf(ut)===-1&&u.push(ut);var bt=v[H.id]+Us(H,ut);c[ut.id]&&bt>=c[ut.id]||(h[ut.id]=H.id,c[ut.id]=bt,v[ut.id]=c[ut.id]+T1(ut,e,t,o,s))}})};u.length;){var k=A();if(Ru(k)==="object")return k.value}return[t,e]},K6=function(r,t,e){return!(r.x===t.x&&t.x===e.x||r.y===t.y&&t.y===e.y)},$6=function(r,t,e,n){var a=Us(r,t),o=Us(e,t);a<n&&(n=a),o<n&&(n=o);var s={x:t.x-n/a*(t.x-r.x),y:t.y-n/a*(t.y-r.y)},l={x:t.x-n/o*(t.x-e.x),y:t.y-n/o*(t.y-e.y)};return[s,l]},P1=function(r,t){var e=[],n=r[0];return e.push("M"+n.x+" "+n.y),r.forEach(function(a,o){var s=r[o+1],l=r[o+2];if(s&&l)if(K6(a,s,l)){var u=$6(a,s,l,t),h=u[0],c=u[1];e.push("L"+h.x+" "+h.y),e.push("Q"+s.x+" "+s.y+" "+c.x+" "+c.y),e.push("L"+c.x+" "+c.y)}else e.push("L"+s.x+" "+s.y);else s&&e.push("L"+s.x+" "+s.y)}),e.join("")},Q6=function(r,t,e,n,a){var o,s;if(!e||!e.getType())o=Nu(r);else if(e.getType()==="combo"){var l=e.getKeyShape();o=l.getCanvasBBox()||Nu(r),o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=e.getBBox();if(!n||!n.getType())s=Nu(t);else if(n.getType()==="combo"){var u=n.getKeyShape();s=u.getCanvasBBox()||Nu(t),s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=n&&n.getBBox();if(E1(o,s))return Yu(A1(r,t));var h=Gu(o,a),c=Gu(s,a);if(E1(h,c))return Yu(A1(r,t));var v=yc(h,r),y=yc(c,t),A=Y6([v,y]),k=mc(h,c),R=mc(h,A),H=mc(c,A),V=[];V=V.concat(xc(R)),V=V.concat(xc(H));var ot={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[A,R,H].forEach(function(bt){V=V.concat(V6(bt,ot).filter(function(Ft){return zu(Ft,h)&&zu(Ft,c)}))}),[{x:v.x,y:y.y},{x:y.x,y:v.y}].forEach(function(bt){zu(bt,h)&&zu(bt,c)&&V.push(bt)}),V.unshift(v),V.push(y),V=gc(V);var ut=Z6(V,v,y,o,s,r,t);return ut.unshift(r),ut.push(t),Yu(ut)};function Vu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vu=function(t){return typeof t}:Vu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(i)}var J6=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},q6=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},t8=function(r,t){return[r,t]},e8=function(r,t,e,n,a){return Yu(Q6(r,t,e,n,a.offset))},r8={offset:20,maxAllowedDirectionChange:90,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:J6,fallbackRoute:e8},_z={maxAllowedDirectionChange:45,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:q6,fallbackRoute:t8},na=function(r,t){var e=Math.floor(r/t);return e<0?0:e},n8=function(r,t,e){var n={};return r.forEach(function(a){if(a)for(var o=Gu(a.getBBox(),e),s=na(o.minX,t);s<=na(o.maxX,t);s+=1)for(var l=na(o.minY,t);l<=na(o.maxY,t);l+=1){var u=s+"-"+l;n[u]=!0}}),n},wc=function(r,t){var e=t.x-r.x,n=t.y-r.y;if(!e&&!n)return 0;var a=(360+Math.atan2(n,e)*180/Math.PI)%360;return a},_1=function(r,t){var e=Math.abs(r-t);return e>180?360-e:e},L1=function(r,t,e){for(var n=Infinity,a=0,o=t.length;a<o;a++){var s=e(r,t[a]);s<n&&(n=s)}return n},O1=function(r,t,e){var n=[];if(!t)return n;var a=e.directions,o=e.offset,s=t.getBBox(),l=Gu(t.getBBox(),o);for(var u in l)l[u]=na(l[u],e.gridSize);var h=r.x>na(s.minX,e.gridSize)&&r.x<na(s.maxX,e.gridSize)&&r.y>na(s.minY,e.gridSize)&&r.y<na(s.maxY,e.gridSize);if(h)for(var c=0,v=a;c<v.length;c++)for(var y=v[c],A=[[{x:l.minX,y:l.minY},{x:l.maxX,y:l.minY}],[{x:l.minX,y:l.minY},{x:l.minX,y:l.maxY}],[{x:l.maxX,y:l.minY},{x:l.maxX,y:l.maxY}],[{x:l.minX,y:l.maxY},{x:l.maxX,y:l.maxY}]],u=0;u<4;u++){var k=A[u],R=Ds(r,{x:r.x+y.stepX*l.width,y:r.y+y.stepY*l.height},k[0],k[1]);R&&!bc(r,R,t.getBBox())&&(R.id=R.x+"-"+R.y,n.push(R))}else{var R=yc(l,r);R.id=R.x+"-"+R.y,n.push(R)}return n},I1=function(r,t,e,n,a){var o=(0,ki.default)(r8,a);o.obstacles=o.obstacles||[];var s=n8(o.obstacles.concat([e,n]),o.gridSize,o.offset),l={x:na(r.x,o.gridSize),y:na(r.y,o.gridSize)},u={x:na(t.x,o.gridSize),y:na(t.y,o.gridSize)};r.id=l.x+"-"+l.y,t.id=u.x+"-"+u.y;var h=O1(l,e,o),c=O1(u,n,o);h.forEach(function(Ut){delete s[Ut.id]}),c.forEach(function(Ut){delete s[Ut.id]});for(var v={},y={},A={},k={},R={},H=0;H<h.length;H++){var V=h[H];v[V.id]=V,k[V.id]=0,R[V.id]=L1(V,c,o.distFunc)}for(var ot=function(Gt,te){var ue=wc(Gt,te),se;if(A[Gt.id]){var Pe=wc({x:parseFloat(A[Gt.id].split("-")[0]),y:parseFloat(A[Gt.id].split("-")[1])},Gt);se=_1(Pe,ue)}else{var Me=wc(l,Gt);se=_1(Me,ue)}return se},ut=function(Gt){var te=[t],ue={x:parseFloat(Gt.split("-")[0]),y:parseFloat(Gt.split("-")[1]),id:Gt};for(ot(ue,u)&&te.unshift({x:ue.x===u.x?t.x:ue.x*o.gridSize,y:ue.y===u.y?t.y:ue.y*o.gridSize});A[Gt]&&A[Gt]!==Gt;){var se={x:parseFloat(Gt.split("-")[0]),y:parseFloat(Gt.split("-")[1]),id:Gt},Me=A[Gt],Pe={x:parseFloat(Me.split("-")[0]),y:parseFloat(Me.split("-")[1]),id:Me},Te=ot(Pe,se);Te&&te.unshift({x:Pe.x===se.x?te[0].x:Pe.x*o.gridSize,y:Pe.y===se.y?te[0].y:Pe.y*o.gridSize}),Gt=Me}var Ve={x:parseFloat(Gt.split("-")[0]),y:parseFloat(Gt.split("-")[1]),id:Gt};return te[0].x=Ve.x===l.x?r.x:te[0].x,te[0].y=Ve.y===l.y?r.y:te[0].y,te.unshift(r),te},bt=o.maximumLoops,Ft=function(){var Gt,te=Infinity;for(var ue in v)R[ue]<=te&&(te=R[ue],Gt=v[ue]);if(!Gt)return"break";if(c.findIndex(function(Ge){return Ge.x===Gt.x&&Ge.y===Gt.y})>-1){var se=ut(Gt.id);return{value:se}}delete v[Gt.id],y[Gt.id]=!0;for(var Me=0;Me<o.directions.length;Me++){var Pe=o.directions[Me],Te={x:Gt.x+Pe.stepX,y:Gt.y+Pe.stepY,id:Gt.x+Pe.stepX+"-"+(Gt.y+Pe.stepY)};if(!y[Te.id]){var Ve=ot(Gt,Te);if(!(Ve>o.maxAllowedDirectionChange)&&!s[Te.id]){v[Te.id]||(v[Te.id]=Te);var je=o.distFunc(Gt,Te)+(isNaN(o.penalties[Ve])?o.gridSize:o.penalties[Ve]),Ue=k[Gt.id]+je;k[Te.id]&&Ue>=k[Te.id]||(A[Te.id]=Gt.id,k[Te.id]=Ue,R[Te.id]=Ue+L1(Te,c,o.distFunc))}}}bt-=1};Object.keys(v).length>0&&bt>0;){var Xt=Ft();if(Vu(Xt)==="object")return Xt.value;if(Xt==="break")break}return o.fallbackRoute(r,t,e,n,o)};jn.registerEdge("polyline",{options:{color:Ye.defaultEdge.color,size:Ye.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:Ye.defaultEdge.style.stroke,lineAppendWidth:Ye.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Ye.edgeLabel.style.fill,fontSize:Ye.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:90,maximumLoops:1e3,gridSize:10},stateStyles:$t({},Ye.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r);e.radius===0&&delete e.radius;var n=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:e});return n},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,f.mix)({},t,e,r.style);r=this.getPathPoints(r),this.radius=n.radius,this.offset=n.offset;var a=r.startPoint,o=r.endPoint,s=this.getControlPoints(r),l=[a];s&&(l=l.concat(s)),l.push(o);var u=r.sourceNode,h=r.targetNode,c=n.radius,v=this.options.routeCfg;v.offset=n.offset;var y=this.getPath(l,u,h,c,v);((0,f.isArray)(y)&&y.length<=1||(0,f.isString)(y)&&y.indexOf("L")===-1)&&(y="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(o.x)||isNaN(o.y))&&(y="M0 0, L0 0");var A=(0,f.mix)({},Ye.defaultEdge.style,n,{lineWidth:r.size,path:y});return A},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(V){return V.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,u=this.getControlPoints(r),h=[s];u&&(h=h.concat(u)),h.push(l);var c=(0,f.mix)({},n,a.attr(),r.style),v=r.sourceNode,y=r.targetNode,A=c.radius,k=this.options.routeCfg;k.offset=c.offset;var R=this.getPath(h,v,y,A,k);((0,f.isArray)(R)&&R.length<=1||(0,f.isString)(R)&&R.indexOf("L")===-1)&&(R="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(l.x)||isNaN(l.y))&&(R="M0 0, L0 0");var H=(0,f.mix)(n,a.attr(),{lineWidth:o,path:R},r.style);a&&a.attr(H)},getPath:function(r,t,e,n,a){var o=a.offset;if(!o||r.length>2){if(n)return P1(r,n);var s=[];return(0,f.each)(r,function(c,v){v===0?s.push(["M",c.x,c.y]):s.push(["L",c.x,c.y])}),s}var l;if(n){l=I1(r[0],r[r.length-1],t,e,a);var u=P1(l,n);return u}l=I1(r[0],r[r.length-1],t,e,a);var h=ux(l);return h}},"single-edge");var i8={triangle:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+" L "+(n+t)+","+r/2+" Z";return a},vee:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=20),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+`
        L `+(n+2*t/3)+",0 L "+(n+t)+","+r/2+" Z";return a},circle:function(r,t){r===void 0&&(r=5),t===void 0&&(t=0);var e=t*2,n="M "+e+`, 0
            a `+r+","+r+" 0 1,0 "+r*2+`,0
            a `+r+","+r+" 0 1,0 "+-r*2+",0";return n},rect:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=10),e===void 0&&(e=0);var n=e*2,a="M "+n+","+-r/2+` 
        L `+(n+t)+","+-r/2+` 
        L `+(n+t)+","+r/2+` 
        L `+n+","+r/2+" Z";return a},diamond:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+`,0 
        L `+(n+t/2)+","+-r/2+` 
        L `+(n+t)+`,0 
        L `+(n+t/2)+","+r/2+" Z";return a},triangleRect:function(r,t,e,n,a,o){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=15),n===void 0&&(n=3),a===void 0&&(a=5),o===void 0&&(o=0);var s=o*2,l=s+t+a,u="M "+s+",0 L "+(s+t)+",-"+r/2+" L "+(s+t)+","+r/2+` Z
            M `+l+", -"+e/2+`
            L `+(l+n)+" -"+e/2+`
            L `+(l+n)+" "+e/2+`
            L `+l+" "+e/2+`
            Z`;return u}},a8={collapse:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r+e-4,t]]},expand:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r-e+2*e-4,t],["M",r-e+e,t-e+4],["L",r,t+e-4]]},upTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t+a],["L",r+n,t+a],["L",r,t-e],["Z"]]},downTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t-a],["L",r+n,t-a],["L",r,t+e],["Z"]]}},hs=jn,o8={mat3:Ca.wO,mix:zs.default,deepMix:ki.default,transform:Ca.vs},s8=$t($t($t($t($t($t({},o8),F),q),Y),G),z),l8=s8,u8=function(){function i(r){this._cfgs=(0,ki.default)(this.getDefaultCfgs(),r),this._events={},this.destroyed=!1}return i.prototype.getDefaultCfgs=function(){return{}},i.prototype.initPlugin=function(r){var t=this;t.set("graph",r);var e=t.getEvents(),n={};(0,Mn.default)(e,function(a,o){var s=(0,cu.default)(t,a);n[o]=s,r.on(o,s)}),this._events=n,this.init()},i.prototype.init=function(){},i.prototype.getEvents=function(){return{}},i.prototype.get=function(r){return this._cfgs[r]},i.prototype.set=function(r,t){this._cfgs[r]=t},i.prototype.destroy=function(){},i.prototype.destroyPlugin=function(){this.destroy();var r=this.get("graph"),t=this._events;(0,Mn.default)(t,function(e,n){r.off(n,e)}),this._events=null,this._cfgs=null,this.destroyed=!0},i}(),Ya=u8,k1="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",f8=function(i){In(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{img:k1}},r.prototype.init=function(){var t=this.get("graph"),e=t.get("minZoom"),n=t.get("container"),a=t.get("canvas").get("el"),o=t.get("width"),s=t.get("height"),l=this.get("img")||k1,u=(0,ri.Z)(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),h=(0,ri.Z)(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+l+`;
        user-select: none
        '></div>`);u.appendChild(h),(0,En.Z)(u,{width:o+"px",height:s+"px",left:n.offsetLeft+"px",top:n.offsetTop+"px"}),(0,En.Z)(h,{width:o/e+"px",height:s/e+"px",left:"0px",top:"0px"}),n.insertBefore(u,a),this.set("container",u),this.set("gridContainer",h)},r.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},r.prototype.updateGrid=function(t){var e=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var a="matrix("+n[0]+", "+n[1]+", "+n[3]+", "+n[4]+", 0, 0)";(0,En.Z)(e,{transform:a})},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){var t=this.get("graph"),e=t.get("container"),n=this.get("container");e.removeChild(n)},r}(Ya),h8=f8,c8=d(38186),Sc=d.n(c8);Sc()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var v8=function(i){In(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},r.prototype.init=function(){var t=this.get("className"),e=(0,ri.Z)("<div class="+(t||"g6-component-contextmenu")+"></div>");(0,En.Z)(e,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),n.appendChild(e),this.set("menu",e)},r.prototype.onMenuShow=function(t){var e=this;if(t.preventDefault(),t.stopPropagation(),!!t.item){var n=this.get("shouldBegin");if(!!n(t)){var a=this.get("itemTypes");if(t.item&&t.item.getType&&a.indexOf(t.item.getType())===-1){e.onMenuHide();return}if(!!t.item){var o=this.get("menu"),s=this.get("getContent"),l=this.get("graph"),u=s(t,l);(0,gn.default)(u)?o.innerHTML=u:o.innerHTML=u.outerHTML,this.removeMenuEventListener();var h=this.get("handleMenuClick");if(h){var c=function(Xt){h(Xt.target,t.item,l)};this.set("handleMenuClickWrapper",c),o.addEventListener("click",c)}var v=l.get("width"),y=l.get("height"),A=o.getBoundingClientRect(),k=this.get("offsetX")||0,R=this.get("offsetY")||0,H=l.getContainer().offsetTop,V=l.getContainer().offsetLeft,ot=t.canvasX+V+k,ut=t.canvasY+H+R;ot+A.width>v&&(ot=t.canvasX-A.width-k+V),ut+A.height>y&&(ut=t.canvasY-A.height-R+H),(0,En.Z)(o,{top:ut+"px",left:ot+"px",visibility:"visible"});var bt=function(Xt){e.onMenuHide()};document.body.addEventListener("click",bt),this.set("handler",bt)}}}},r.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}e&&document.body.removeEventListener("click",e)},r.prototype.onMenuHide=function(){var t=this.get("menu");t&&(0,En.Z)(t,{visibility:"hidden"}),this.removeMenuEventListener()},r.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(Ya),d8=v8,B1=Math.max,p8="default",g8="keyShape",y8="delegate",D1="svg",m8=function(i){In(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.handleUpdateCanvas=(0,f.debounce)(function(e){var n=t;n.destroyed||n.updateCanvas()},100,!1),t}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.size,a=e.graph;if(!this.destroyed){var o=this.get("canvas"),s=o.get("container"),l=(0,ri.Z)(`
      <div
        class=`+e.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          border: 2px solid #1980ff'
        draggable=true>
      </div>`),u=0,h=0,c=!1,v=0,y=0,A=0,k=0,R=0,H=0;l.addEventListener("dragstart",function(V){if(V.dataTransfer){var ot=new Image;ot.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",V.dataTransfer.setDragImage(ot,0,0),V.dataTransfer.setData("text","view-port-minimap")}if(e.refresh=!1,V.target===l){var ut=l.style;v=parseInt(ut.left,10),y=parseInt(ut.top,10),A=parseInt(ut.width,10),k=parseInt(ut.height,10),!(A>n[0]||k>n[1])&&(H=a.getZoom(),R=t.get("ratio"),c=!0,u=V.clientX,h=V.clientY)}},!1),l.addEventListener("drag",function(V){if(!(!c||(0,Mi.default)(V.clientX)||(0,Mi.default)(V.clientY))){var ot=u-V.clientX,ut=h-V.clientY;(v-ot<0||v-ot+A>=n[0])&&(ot=0),(y-ut<0||y-ut+k>=n[1])&&(ut=0),v-=ot,y-=ut,(0,En.Z)(l,{left:v+"px",top:y+"px"}),a.translate(ot*H/R,ut*H/R),u=V.clientX,h=V.clientY}},!1),l.addEventListener("dragend",function(){c=!1,e.refresh=!0},!1),this.set("viewport",l),s.appendChild(l)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("dx"),n=this.get("dy"),a=this.get("totaldx"),o=this.get("totaldy"),s=this.get("graph"),l=this.get("size"),u=s.get("width"),h=s.get("height"),c=s.getPointByCanvas(0,0),v=s.getPointByCanvas(u,h),y=this.get("viewport");y||this.initViewport();var A=s.getZoom(),k=(v.x-c.x)*t,R=(v.y-c.y)*t,H=c.x*t+a,V=c.y*t+o,ot=H+k,ut=V+R;H<0&&(k+=H,H=0),ot>l[0]&&(k=k-(ot-l[0])),V<0&&(R+=V,V=0),ut>l[1]&&(R=R-(ut-l[1])),this.set("ratio",t);var bt=H+"px",Ft=V+"px";(0,En.Z)(y,{left:bt,top:Ft,width:k+"px",height:R+"px"})}},r.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get("canvas"),n=t.get("group");if(!n.destroyed){var a=n.clone();a.resetMatrix(),e.clear(),e.add(a);var o=t.get("renderer");o===D1&&this.updateVisible(a)}},r.prototype.updateVisible=function(t){var e=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var n=t.get("children");if(!n||!n.length)return;n.forEach(function(a){a.get("visible")||a.hide(),e.updateVisible(a)})}},r.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph;(0,Mn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,Mn.default)(e.getNodes(),function(n){t.updateOneNodeKeyShape(n)}),this.clearDestroyedShapes()},r.prototype.updateOneNodeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")],s=t.getBBox(),l=t.get("keyShape").clone(),u=l.attr(),h={x:s.centerX,y:s.centerY};o?h=Object.assign(u,h):(o=l,n.add(o));var c=o.get("type");(c==="rect"||c==="image")&&(h.x=s.minX,h.y=s.minY),o.attr(h),t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph;(0,Mn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,Mn.default)(e.getNodes(),function(n){t.updateOneNodeDelegateShape(n)}),this.clearDestroyedShapes()},r.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(!(!e||e.length===0))for(var n=e.length-1;n>=0;n--){var a=t[e[n]],o=a.exist;a.exist=!1,o||(a.remove(),delete t[e[n]])}},r.prototype.updateOneEdgeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")];if(o){var s=t.get("keyShape").attr("path");o.attr("path",s)}else o=t.get("keyShape").clone(),n.add(o),o.toBack();t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateOneNodeDelegateShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("delegateStyle"),o=this.get("itemMap")||{},s=o[t.get("id")],l=t.getBBox();if(s){var u={x:l.minX,y:l.minY,width:l.width,height:l.height};s.attr(u)}else s=n.addShape("rect",{attrs:$t({x:l.minX,y:l.minY,width:l.width,height:l.height},a),name:"minimap-node-shape"});t.isVisible()||s.hide(),s.exist=!0,o[t.get("id")]=s,this.set("itemMap",o)},r.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=t.get("size"),a=t.get("className"),o=t.get("container"),s=(0,ri.Z)("<div class='"+a+"' style='width: "+n[0]+"px; height: "+n[1]+"px; overflow: hidden'></div>");(0,gn.default)(o)&&(o=document.getElementById(o)),o?o.appendChild(s):e.get("container").appendChild(s),t.set("container",s);var l=(0,ri.Z)('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(l);var u,h=e.get("renderer");h===D1?u=new Ys.Z({container:l,width:n[0],height:n[1]}):u=new Ro.Z({container:l,width:n[0],height:n[1]}),t.set("canvas",u),t.updateCanvas()},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("size"),a=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!a.destroyed){switch(o){case p8:this.updateGraphShapes();break;case g8:this.updateKeyShapes();break;case y8:this.updateDelegateShapes();break;default:break}var l=a.get("children")[0];if(!!l){l.resetMatrix();var u=l.getCanvasBBox(),h=e.get("canvas").getBBox(),c=h.width,v=h.height;Number.isFinite(u.width)&&(c=B1(u.width,c),v=B1(u.height,v)),c+=2*s,v+=2*s;var y=Math.min(n[0]/c,n[1]/v),A=[1,0,0,0,1,0,0,0,1],k=0,R=0;Number.isFinite(u.minX)&&(k=-u.minX),Number.isFinite(u.minY)&&(R=-u.minY);var H=(n[0]-(c-2*s)*y)/2,V=(n[1]-(v-2*s)*y)/2;A=Ra(A,[["t",k,R],["s",y,y],["t",H,V]]),l.setMatrix(A),this.set("ratio",y),this.set("totaldx",H+k*y),this.set("totaldy",V+R*y),this.set("dx",H),this.set("dy",V),this.updateViewport()}}}}},r.prototype.getCanvas=function(){return this.get("canvas")},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},r}(Ya),x8=m8;function Ga(i,r,t){var e=i.x-r.x,n=i.y-r.y;return!t||Math.abs(e)>t||Math.abs(n)>t?Math.sqrt(e*e+n*n):t}function b8(i,r){return i.x*r.x+i.y*r.y}function F1(i,r){var t=(r.source.y-r.target.y)/(r.source.x-r.target.x),e=(t*t*r.source.x+t*(i.y-r.source.y)+i.x)/(t*t+1),n=t*(e-r.source.x)+r.source.y;return{x:e,y:n}}var w8=function(i){In(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},r.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick"),n=function(){e&&e(),t.refreshPositions()};this.set("tick",n)},r.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var n=t.edges||[],a=t.nodes||[],o={},s=!1;if(a.forEach(function(ut){(ut.x===null||!ut.y===null||ut.x===void 0||!ut.y===void 0)&&(s=!0),o[ut.id]=ut}),s)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",o);var l=e.get("divisions"),u=e.get("divRate"),h=e.divideEdges(l);e.set("edgePoints",h);var c=e.getEdgeBundles();e.set("edgeBundles",c);for(var v=e.get("cycles"),y=e.get("iterations"),A=e.get("iterRate"),k=e.get("lambda"),R=0;R<v;R++){for(var H=function(bt){var Ft=[];n.forEach(function(Xt,Ut){if(Xt.source!==Xt.target){var Gt=o[Xt.source],te=o[Xt.target];Ft[Ut]=e.getEdgeForces({source:Gt,target:te},Ut,l,k);for(var ue=0;ue<l+1;ue++)h[Ut][ue].x+=Ft[Ut][ue].x,h[Ut][ue].y+=Ft[Ut][ue].y}})},V=0;V<y;V++)H(V);k=k/2,l*=u,y*=A,h=e.divideEdges(l),e.set("edgePoints",h)}n.forEach(function(ut,bt){ut.source!==ut.target&&(ut.shape="polyline",ut.type="polyline",ut.controlPoints=h[bt].slice(1,h[bt].length-1))});var ot=e.get("graph");ot.refresh()}},r.prototype.updateBundling=function(t){var e=this,n=t.data;if(n&&e.set("data",n),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach(function(o){e.set(o,t[o])}),t.onTick){var a=this.get("graph");e.set("tick",function(){t.onTick(),a.refresh()})}e.bundling(n)},r.prototype.divideEdges=function(t){var e=this,n=e.get("data").edges,a=e.get("nodeIdMap"),o=e.get("edgePoints");return(!o||o===void 0)&&(o=[]),n.forEach(function(s,l){(!o[l]||o[l]===void 0)&&(o[l]=[]);var u=a[s.source],h=a[s.target];if(t===1)o[l].push({x:u.x,y:u.y}),o[l].push({x:.5*(u.x+h.x),y:.5*(u.y+h.y)}),o[l].push({x:h.x,y:h.y});else{var c=0;!o[l]||o[l]===[]?c=Ga({x:u.x,y:u.y},{x:h.x,y:h.y}):c=e.getEdgeLength(o[l]);var v=c/(t+1),y=v,A=[{x:u.x,y:u.y}];o[l].forEach(function(k,R){if(R!==0){for(var H=Ga(k,o[l][R-1]);H>y;){var V=y/H,ot={x:o[l][R-1].x,y:o[l][R-1].y};ot.x+=V*(k.x-o[l][R-1].x),ot.y+=V*(k.y-o[l][R-1].y),A.push(ot),H-=y,y=v}y-=H}}),A.push({x:h.x,y:h.y}),o[l]=A}}),o},r.prototype.getEdgeLength=function(t){var e=0;return t.forEach(function(n,a){a!==0&&(e+=Ga(n,t[a-1]))}),e},r.prototype.getEdgeBundles=function(){var t=this,e=t.get("data"),n=e.edges||[],a=t.get("bundleThreshold"),o=t.get("nodeIdMap"),s=t.get("edgeBundles");return s||(s=[]),n.forEach(function(l,u){(!s[u]||s[u]===void 0)&&(s[u]=[])}),n.forEach(function(l,u){var h=o[l.source],c=o[l.target];n.forEach(function(v,y){if(!(y<=u)){var A=o[v.source],k=o[v.target],R=t.getBundleScore({source:h,target:c},{source:A,target:k});R>=a&&(s[u].push(y),s[y].push(u))}})}),s},r.prototype.getBundleScore=function(t,e){var n=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=Ga({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=Ga({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y});var a=n.getAngleScore(t,e),o=n.getScaleScore(t,e),s=n.getPositionScore(t,e),l=n.getVisibilityScore(t,e);return a*o*s*l},r.prototype.getAngleScore=function(t,e){var n=b8({x:t.vx,y:t.vy},{x:e.vx,y:e.vy});return n/(t.length*e.length)},r.prototype.getScaleScore=function(t,e){var n=(t.length+e.length)/2,a=2/(n/Math.min(t.length,e.length)+Math.max(t.length,e.length)/n);return a},r.prototype.getPositionScore=function(t,e){var n=(t.length+e.length)/2,a={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},o={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},s=Ga(a,o);return n/(n+s)},r.prototype.getVisibilityScore=function(t,e){var n=this.getEdgeVisibility(t,e),a=this.getEdgeVisibility(e,t);return n<a?n:a},r.prototype.getEdgeVisibility=function(t,e){var n=F1(e.source,t),a=F1(e.target,t),o={x:(n.x+a.x)/2,y:(n.y+a.y)/2},s={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Ga(o,s)/Ga(n,a))},r.prototype.getEdgeForces=function(t,e,n,a){for(var o=this,s=o.get("edgePoints"),l=o.get("K"),u=l/(Ga(t.source,t.target)*(n+1)),h=[{x:0,y:0}],c=1;c<n;c++){var v={x:0,y:0},y=o.getSpringForce({pre:s[e][c-1],cur:s[e][c],next:s[e][c+1]},u),A=o.getElectrostaticForce(c,e);v.x=a*(y.x+A.x),v.y=a*(y.y+A.y),h.push(v)}return h.push({x:0,y:0}),h},r.prototype.getSpringForce=function(t,e){var n=t.pre.x+t.next.x-2*t.cur.x,a=t.pre.y+t.next.y-2*t.cur.y;return n*=e,a*=e,{x:n,y:a}},r.prototype.getElectrostaticForce=function(t,e){var n=this,a=n.get("eps"),o=n.get("edgeBundles"),s=n.get("edgePoints"),l=o[e],u={x:0,y:0};return l.forEach(function(h){var c={x:s[h][t].x-s[e][t].x,y:s[h][t].y-s[e][t].y};if(Math.abs(c.x)>a||Math.abs(c.y)>a){var v=Ga(s[h][t],s[e][t]),y=1/v;u.x+=c.x*y,u.y+=c.y*y}}),u},r.prototype.isTicking=function(){return this.get("ticking")},r.prototype.getSimulation=function(){return this.get("forceSimulation")},r.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),i.prototype.destroy.call(this)},r}(Ya),S8=w8,Hu=.05,R1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},M8=function(i){In(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,Vn.d9)(R1),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},r.prototype.init=function(){var t=this,e=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",e*e);var n=t.get("d");t.set("molecularParam",(n+1)*e)},r.prototype.createDelegate=function(t){var e=this,n=this,a=n.get("delegate");(!a||a.destroyed)&&(n.magnify(t),a=n.get("delegate"),a.on("dragstart",function(o){n.set("delegateCenterDiff",{x:a.attr("x")-o.x,y:a.attr("y")-o.y})}),a.on("drag",function(o){n.magnify(o)}),this.get("scaleDBy")==="wheel"&&a.on("mousewheel",function(o){e.scaleDByWheel(o)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(o){n.scaleRByWheel(o)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-Hu:a=1/(1-Hu);var u=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(u||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.set("r2",c*c);var v=e.get("d");e.set("molecularParam",(v+1)*c),e.set("delegateCenterDiff",void 0),e.magnify(t,l)}},r.prototype.scaleRByDrag=function(t){var e=this;if(!!t){var n=e.get("dragPrePos"),a=e.get("graph"),o,s=a.getPointByClient(t.clientX,t.clientY);t.x-n.x<0?o=1-Hu:o=1/(1-Hu);var l=e.get("maxR"),u=e.get("minR"),h=e.get("r");(h>(l||a.get("height"))&&o>1||h<(u||a.get("height")*.05)&&o<1)&&(o=1),h*=o,e.set("r",h),e.set("r2",h*h);var c=e.get("d");e.set("molecularParam",(c+1)*h),e.magnify(t,s),e.set("dragPrePos",{x:t.x,y:t.y})}},r.prototype.scaleDByWheel=function(t){var e=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=0;t.originalEvent.wheelDelta<0?n=-.1:n=.1;var a=e.get("d"),o=a+n,s=e.get("maxD"),l=e.get("minD");if(o<s&&o>l){e.set("d",o);var u=e.get("r");e.set("molecularParam",(o+1)*u);var h=e.get("delegate"),c=h?{x:h.attr("x"),y:h.attr("y")}:void 0;e.set("delegateCenterDiff",void 0),e.magnify(t,c)}}},r.prototype.scaleDByDrag=function(t){var e=this,n=e.get("dragPrePos"),a=t.x-n.x>0?.1:-.1,o=e.get("d"),s=o+a,l=e.get("maxD"),u=e.get("minD");if(s<l&&s>u){e.set("d",s);var h=e.get("r");e.set("molecularParam",(s+1)*h),e.magnify(t)}e.set("dragPrePos",{x:t.x,y:t.y})},r.prototype.magnify=function(t,e){var n=this;n.restoreCache();var a=n.get("graph"),o=n.get("cachedMagnifiedModels"),s=n.get("cachedOriginPositions"),l=n.get("showLabel"),u=n.get("r"),h=n.get("r2"),c=n.get("d"),v=n.get("molecularParam"),y=a.getNodes(),A=y.length,k=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};n.get("dragging")&&(n.get("trigger")==="mousemove"||n.get("trigger")==="click")&&(k=n.get("cacheCenter"));var R=n.get("delegateCenterDiff");R&&(k.x+=R.x,k.y+=R.y),n.updateDelegate(k,u);for(var H=0;H<A;H++){var V=y[H].getModel(),ot=V.x,ut=V.y;if(!(isNaN(ot)||isNaN(ut))){var bt=(ot-k.x)*(ot-k.x)+(ut-k.y)*(ut-k.y);if(!isNaN(bt)&&bt<h&&bt!==0){var Ft=Math.sqrt(bt),Xt=v*Ft/(c*Ft+u),Ut=(ot-k.x)/Ft,Gt=(ut-k.y)/Ft;if(V.x=Ut*Xt+k.x,V.y=Gt*Xt+k.y,s[V.id]||(s[V.id]={x:ot,y:ut,texts:[]}),o.push(V),l&&2*Ft<u)for(var te=y[H],ue=te.getContainer(),se=ue.getChildren(),Me=se.length,Pe=0;Pe<Me;Pe++){var Te=se[Pe];Te.get("type")==="text"&&(s[V.id].texts.push({visible:Te.get("visible"),shape:Te}),Te.set("visible",!0))}}}}a.refreshPositions()},r.prototype.restoreCache=function(){for(var t=this,e=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),a=e.length,o=0;o<a;o++){var s=e[o],l=s.id,u=n[l];s.x=u.x,s.y=u.y;for(var h=u.texts.length,c=0;c<h;c++){var v=u.texts[c];v.shape.set("visible",v.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.d,o=t.trigger,s=t.minD,l=t.maxD,u=t.minR,h=t.maxR,c=t.scaleDBy,v=t.scaleRBy;isNaN(t.r)||(e.set("r",n),e.set("r2",n*n)),isNaN(a)||e.set("d",a),isNaN(l)||e.set("maxD",l),isNaN(s)||e.set("minD",s),isNaN(h)||e.set("maxR",h),isNaN(u)||e.set("minR",u);var y=e.get("d"),A=e.get("r");if(e.set("molecularParam",(y+1)*A),(o==="mousemove"||o==="click"||o==="drag")&&e.set("trigger",o),c==="drag"||c==="wheel"||c==="unset"){e.set("scaleDBy",c),e.get("delegate").remove(),e.get("delegate").destroy();var k=e.get("dPercentText");k&&(k.remove(),k.destroy())}if(v==="drag"||v==="wheel"||v==="unset"){e.set("scaleRBy",v),e.get("delegate").remove(),e.get("delegate").destroy();var k=e.get("dPercentText");k&&(k.remove(),k.destroy())}},r.prototype.updateDelegate=function(t,e){var n=this,a=this,o=a.get("graph"),s=a.get("delegate");if(!s||s.destroyed){var l=o.get("group"),u=a.get("delegateStyle")||R1;s=l.addShape("circle",{attrs:$t({r:e/1.5,x:t.x,y:t.y},u),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?s.on("mousewheel",function(A){a.scaleRByWheel(A)}):this.get("scaleRBy")==="drag"&&(s.on("dragstart",function(A){a.set("dragging",!0),a.set("cacheCenter",{x:A.x,y:A.y}),a.set("dragPrePos",{x:A.x,y:A.y})}),s.on("drag",function(A){a.scaleRByDrag(A)}),s.on("dragend",function(A){a.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?s.on("mousewheel",function(A){n.scaleDByWheel(A)}):this.get("scaleDBy")==="drag"&&(s.on("dragstart",function(A){a.set("dragging",!0),a.set("cacheCenter",{x:A.x,y:A.y}),a.set("dragPrePos",{x:A.x,y:A.y})}),s.on("drag",function(A){n.scaleDByDrag(A)}),s.on("dragend",function(A){a.set("dragging",!1)})))}else s.attr({x:t.x,y:t.y,r:e/1.5});if(a.get("showDPercent")){var h=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),c=a.get("dPercentText"),v=t.y+e/1.5+16;if(!c||c.destroyed){var y=o.get("group");c=y.addShape("text",{attrs:{text:h+"%",x:t.x,y:v,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",c)}else c.attr({text:h+"%",x:t.x,y:v})}a.set("delegate",s)},r.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(Ya),C8=M8;Sc()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var E8=function(i){In(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `}}},r.prototype.init=function(){var t=this,e=this.get("graph"),n=this.get("getContent"),a=n(e),o=a;(0,Vn.HD)(a)&&(o=(0,ri.Z)(a));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var l=this.get("container");l||(l=this.get("graph").get("container")),l.appendChild(o),this.set("toolBar",o);var u=this.get("handleClick");o.addEventListener("click",function(c){var v=c.path.filter(function(A){return A.nodeName==="LI"});if(v.length!==0){var y=v[0].getAttribute("code");!y||(u?u(y,e):t.handleDefaultOperator(y,e))}});var h=this.get("position");h&&(0,En.Z)(o,{top:h.y+"px",left:h.x+"px"}),this.bindUndoRedo()},r.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!e||!n||!a||!o||t.on("stackchange",function(s){var l=s.undoStack,u=s.redoStack,h=l.length,c=u.length;h===1?(e.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),n.removeAttribute("style")),c===0?(a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),o.removeAttribute("style"))})},r.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action;t.pushStack(a,(0,Vn.d9)(n.data),"redo");var o=n.data.before;if(a==="add"&&(o=n.data.after),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=t.findById(u.id);u.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.updateItem(u.id,u,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=u.itemType;delete u.itemType,t.addItem(h,u,!1)})});break}case"add":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.removeItem(u.id,!1)})});break;default:}}}},r.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action,o=n.data.after;if(t.pushStack(a,(0,Vn.d9)(n.data)),a==="delete"&&(o=n.data.before),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=t.findById(u.id);u.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.updateItem(u.id,u,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(s){t.removeItem(s.id,!1)}),o.nodes&&o.nodes.forEach(function(s){t.removeItem(s.id,!1)}),o.combos&&o.combos.forEach(function(s){t.removeItem(s.id,!1)});break;case"add":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=u.itemType;delete u.itemType,t.addItem(h,u,!1)})});break}default:}}}},r.prototype.handleDefaultOperator=function(t,e){var n=e.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var a=1+.05*5;if(a*n>5)return;e.zoomTo(n*1.1);break}case"zoomIn":{var o=1-.05*5;if(o*n<.3)return;e.zoomTo(n*.9);break}case"realZoom":e.zoomTo(1);break;case"autoZoom":e.fitView([20,20]);break;default:}},r.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},r}(Ya),A8=E8;Sc()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var T8=function(i){In(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+e.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+e.item.getID()+`</span>
        `},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},r.prototype.init=function(){var t=this.get("className")||"g6-component-tooltip",e=(0,ri.Z)("<div class="+t+"></div>"),n=this.get("container");n||(n=this.get("graph").get("container")),(0,En.Z)(e,{position:"absolute",visibility:"hidden"}),n.appendChild(e),this.set("tooltip",e)},r.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!(t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"})}},r.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},r.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},r.prototype.showTooltip=function(t){if(!!t.item){var e=this.get("itemTypes");if(!(t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=this.get("tooltip"),a=this.get("getContent"),o=a(t);(0,gn.default)(o)?n.innerHTML=o:n.innerHTML=o.outerHTML,this.updatePosition(t)}}},r.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&(0,En.Z)(t,{visibility:"hidden"})},r.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),n=this.get("tooltip");if(!e(t)){(0,En.Z)(n,{visibility:"hidden"});return}var a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=this.get("offsetX")||0,u=this.get("offsetY")||0,h=a.getPointByClient(t.clientX,t.clientY),c=a.getCanvasByPoint(h.x,h.y),v=c.x,y=c.y;v+=l,y+=u;var A=n.getBoundingClientRect();v+A.width>o&&(v=v-A.width-l),y+A.height>s&&(y=y-A.height-u),(0,En.Z)(n,{left:v+"px",top:y+"px",visibility:"visible"})},r.prototype.hide=function(){this.onMouseLeave()},r.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(Ya),P8=T8,N1=d(89539);function _8(i){return(0,f.map)(i,function(r,t){var e=t===0?"M":"L",n=r[0],a=r[1];return[e,n,a]})}function Y1(i){return _8(i)}function L8(i){if(i.length<=2)return Y1(i);var r=[];(0,f.each)(i,function(o){(0,f.isEqual)(o,r.slice(r.length-2))||r.push(o[0],o[1])});var t=nl.catmullRom2Bezier(r,!1),e=(0,f.head)(i),n=e[0],a=e[1];return t.unshift(["M",n,a]),t}function O8(i,r,t,e){e===void 0&&(e=!0);var n=new Ar.Linear({values:i}),a=new Ar.Category({values:(0,f.map)(i,function(s,l){return l})}),o=(0,f.map)(i,function(s,l){return[a.scale(l)*r,t-n.scale(s)*t]});return e?L8(o):Y1(o)}function I8(i,r,t){for(var e=new Ar.Linear({values:i}),n=new Ar.Category({values:(0,f.map)(i,function(c,v){return v})}),a=(0,f.map)(i,function(c,v){return[n.scale(v)*r,t-e.scale(c)*t]}),o=[],s=0;s<a.length;s++){var l=a[s],u={x:l[0],y:l[1],y0:t,size:5},h=D8(u);o.push.apply(o,h)}return F8(o)}function k8(i,r){var t=new Ar.Linear({values:i}),e=Math.max(0,t.min);return r-t.scale(e)*r}function B8(i,r,t,e){var n=Bs(i),a=k8(e,t);return n.push(["L",r,a]),n.push(["L",0,a]),n.push(["Z"]),n}function D8(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,N1.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s,l;(0,N1.isArray)(r)?(s=r[0],l=r[1]):(s=r-n/2,l=r+n/2);var u=[{x:s,y:a},{x:s,y:o}];return u.push({x:l,y:o},{x:l,y:a}),u}function F8(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}var Lz={opacity:.5},R8={stroke:"#C5C5C5",strokeOpacity:.85},N8={fill:"#CACED4",opacity:.85},Y8=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.width,s=o===void 0?200:o,l=r.height,u=l===void 0?26:l,h=r.smooth,c=h===void 0?!0:h,v=r.isArea,y=v===void 0?!1:v,A=r.data,k=A===void 0?[]:A,R=r.lineStyle,H=r.areaStyle,V=r.group,ot=r.interval,ut=ot===void 0?null:ot;this.group=V,this.x=e,this.y=a,this.width=s,this.height=u,this.data=k,this.smooth=c,this.isArea=y,this.lineStyle=Object.assign({},R8,R),this.areaStyle=Object.assign({},N8,H),this.intervalConfig=ut,this.renderLine()}return i.prototype.renderLine=function(){var r=this,t=r.x,e=r.y,n=r.width,a=r.height,o=r.data,s=r.smooth,l=r.isArea,u=r.backgroundStyle,h=r.lineStyle,c=r.areaStyle,v=this.group.addGroup({name:"trend-group"});if(o){var y=O8(o,n,a,s);if(v.addShape("path",{attrs:$t({path:y},h)}),l){var A=B8(y,n,a,o);v.addShape("path",{attrs:$t({path:A},c)})}}this.intervalConfig&&v.addShape("path",{attrs:$t({path:I8(this.intervalConfig.data,n,a)},this.intervalConfig.style)}),v.move(t,e)},i.prototype.destory=function(){this.group.destroy()},i}(),G8=Y8,z8={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},X8={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},V8=function(){function i(r){var t=r.group,e=r.name,n=r.type,a=r.x,o=a===void 0?0:a,s=r.y,l=s===void 0?0:s,u=r.width,h=u===void 0?2:u,c=r.height,v=c===void 0?24:c,y=r.style,A=y===void 0?{}:y;this.group=t,this.name=e,this.handleType=n,this.x=o,this.y=l,this.width=h,this.height=v,n==="trend"?this.style=$t($t({},z8),A):n==="simple"&&(this.style=$t($t({},X8),A)),this.renderHandle()}return i.prototype.setX=function(r){this.setXY(r,void 0)},i.prototype.setY=function(r){this.setXY(void 0,r)},i.prototype.setXY=function(r,t){(0,f.isNumber)(r)&&(this.x=r),(0,f.isNumber)(t)&&(this.y=t),this.updateXY()},i.prototype.renderHandle=function(){var r=this,t=r.width,e=r.height,n=r.style,a=r.name,o=n.fill,s=n.stroke,l=n.radius,u=n.opacity,h=n.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.background=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:e,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"})):this.handleType==="simple"&&(this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"})),this.updateXY(),this.handleType==="trend"&&this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var e=r.style.highLightFill;r.background.attr("fill",e)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var e=r.style.fill;r.background.attr("fill",e)})},i.prototype.show=function(){this.handleGroup.show()},i.prototype.hide=function(){this.handleGroup.hide()},i.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},i}(),G1=V8,H8=function(){function i(r){this.config=(0,f.deepMix)({},r),this.init()}return i.prototype.update=function(r){this.config=(0,f.deepMix)({},this.config,r),this.updateElement(),this.renderMarker()},i.prototype.init=function(){this.initElement(),this.renderMarker()},i.prototype.initElement=function(){var r=this.config,t=r.group,e=r.style;this.circle=t.addShape("circle",{attrs:$t({x:this.config.x,y:this.config.y,r:this.config.r},e)}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ccc"},name:"playPauseBtn"}),this.pauseGroupMarker=t.addGroup();var n=1/4*this.config.r,a=.5*this.config.r*Math.sqrt(3);this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n*2.5,height:a,fill:"#fff"},name:"playPauseBtn"}),this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"})},i.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var r=1/4*this.config.r,t=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-t/2),this.pauseLeftMarker.attr("width",r),this.pauseLeftMarker.attr("height",t),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-t/2),this.pauseRightMarker.attr("width",r),this.pauseRightMarker.attr("height",t)},i.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},i.prototype.getStartMarkerPath=function(){var r=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-r/Math.sqrt(3)/2,this.config.y-r/2],["L",this.config.x+r/Math.sqrt(3),this.config.y],["L",this.config.x-r/Math.sqrt(3)/2,this.config.y+r/2]]},i}(),W8=H8,j8="#ccc",U8="green",Z8={fill:"#607889",stroke:"#607889"},K8={fill:"#fff"},$8={fill:"green"},Q8={speed:2,loop:!1,fill:"#fff",stroke:"#fff",hiddleToggle:!1,preBtnStyle:{fill:"#ccc",stroke:"#ccc"},nextBtnStyle:{fill:"#ccc",stroke:"#ccc"},playBtnStyle:{fill:"#fff",stroke:"#ccc"}},Zs=110,za=50,J8=function(){function i(r){this.controllerCfg=(0,f.deepMix)({},Q8,r),this.group=r.group,this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.init()}return i.prototype.init=function(){this.renderPlayButton()},i.prototype.getNextMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r+e,t],["L",r,t+e]]},i.prototype.getPreMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r-e,t],["L",r,t+e]]},i.prototype.renderPlayButton=function(){var r=this.controllerCfg,t=r.width,e=r.height,n=r.x,a=r.y,o=r.hiddleToggle,s=r.fill,l=s===void 0?j8:s,u=r.stroke,h=u===void 0?U8:u,c=r.playBtnStyle,v=c===void 0?Z8:c,y=r.preBtnStyle,A=y===void 0?K8:y,k=r.nextBtnStyle,R=k===void 0?$8:k,H=e/2-5,V=a+10,ot=this.group.addShape("rect",{attrs:{x:n,y:V,width:t,height:e,stroke:h,fill:l},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:V,r:H}):this.playButton=new W8({group:this.group,x:t/2,y:V+H+5,r:H,isPlay:this.isPlay,style:v}),this.group.addShape("path",{attrs:$t({path:this.getPreMarkerPath(t/2-5*H,V+H+5,H*.5)},A),name:"preStepBtn"}),this.group.addShape("path",{attrs:$t({path:this.getPreMarkerPath(t/2-4.5*H,V+H+5,H*.5)},A),name:"preStepBtn"}),this.group.addShape("path",{attrs:$t({path:this.getNextMarkerPath(t/2+5*H,V+H+5,H*.5)},R),name:"nextStepBtn"}),this.group.addShape("path",{attrs:$t({path:this.getNextMarkerPath(t/2+4.5*H,V+H+5,H*.5)},R),name:"nextStepBtn"}),ot.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent()},i.prototype.renderSpeedBtn=function(){var r=this.controllerCfg,t=r.y,e=r.width,n=r.hiddleToggle,a=this.group.addGroup({name:"speed-group"});this.speedGroup=a;for(var o=1,s=[],l=9,u=0;u<5;u++){var h=t+15+u*(u+1)+o;a.addShape("rect",{attrs:{x:e-(n?za:Zs),y:h,width:15,height:2,fill:"#ccc"},speed:l,name:"speed-rect"}),this.speedAxisY.push(h),s.push(l),l=l-2,o++}for(var u=0;u<4;u++)a.addShape("rect",{attrs:{x:e-(n?za:Zs),y:this.speedAxisY[u]+2,width:15,height:2*u+1,fill:"#fff",opacity:.3},speed:s[u]-1,name:"speed-rect"});this.speedText=a.addShape("text",{attrs:{x:e-(n?za:Zs)+20,y:this.speedAxisY[1]+15,text:"1.0X",fill:"#ccc"}}),this.speedPoint=a.addShape("path",{attrs:{path:this.getPath(e-(n?za:Zs),this.speedAxisY[4]),fill:"#ccc"}})},i.prototype.getPath=function(r,t){return[["M",r,t],["L",r-12,t-6],["L",r-12,t+6],["Z"]]},i.prototype.renderToggleTime=function(){var r=this.controllerCfg.width;this.toggleGroup=this.group.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:{width:14,height:14,x:r-za,y:this.speedAxisY[1],fill:"#fff",stroke:"#ccc",lineWidth:2,radius:3},isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:{path:[["M",r-za+3,this.speedAxisY[1]+6],["L",r-za+7,this.speedAxisY[1]+10],["L",r-za+12,this.speedAxisY[1]+4]],stroke:"green",lineWidth:3},capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:{text:"\u5355\u4E00\u65F6\u95F4",x:r-za+20,y:this.speedAxisY[1]+15,fill:"#ccc"}})},i.prototype.bindEvent=function(){var r=this,t=this.controllerCfg,e=t.width,n=t.hiddleToggle;this.speedGroup.on("speed-rect:click",function(a){r.speedPoint.attr("path",r.getPath(e-(n?za:Zs),a.y)),r.currentSpeed=a.target.get("speed"),r.speedText.attr("text",r.currentSpeed+".0X"),r.group.emit("timebarConfigChanged",{speed:r.currentSpeed,type:r.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(a){var o=a.target.get("isChecked");o?(r.checkedIcon.hide(),r.checkedText.attr("text","\u5355\u4E00\u65F6\u95F4"),r.currentType="range"):(r.checkedIcon.show(),r.checkedText.attr("text","\u65F6\u95F4\u8303\u56F4"),r.currentType="single"),a.target.set("isChecked",!o),r.group.emit("timebarConfigChanged",{type:r.currentType,speed:r.currentSpeed})})},i.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},i}(),z1=J8,X1="timelinestart",V1="timelineend",Xa="valueChange",Wu="timebarConfigChanged",ju="playPauseBtn",Uu="nextStepBtn",Zu="preStepBtn",q8={fill:"#416180",opacity:.05},t9={fill:"#416180",opacity:.15,radius:5},e9={fill:"#5B8FF9",opacity:.3,cursor:"move"},Mc=2,r9={width:Mc,height:24},n9={textBaseline:"middle",fill:"#000",opacity:.45},i9=function(){function i(r){var t=this;this.prevX=0,this.onMouseDown=function(ze){return function(ur){t.currentHandler=ze;var lr=ur.originalEvent;lr.stopPropagation(),lr.preventDefault(),t.prevX=(0,f.get)(lr,"touches.0.pageX",lr.pageX);var pr=t.canvas.get("container");pr.addEventListener("mousemove",t.onMouseMove),pr.addEventListener("mouseup",t.onMouseUp),pr.addEventListener("mouseleave",t.onMouseUp),pr.addEventListener("touchmove",t.onMouseMove),pr.addEventListener("touchend",t.onMouseUp),pr.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(ze){ze.stopPropagation(),ze.preventDefault();var ur=(0,f.get)(ze,"touches.0.pageX",ze.pageX),lr=ur-t.prevX,pr=t.adjustOffsetRange(lr/t.width);t.updateStartEnd(pr),t.updateUI(),t.prevX=ur},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var ze=t.canvas.get("container");ze&&(ze.removeEventListener("mousemove",t.onMouseMove),ze.removeEventListener("mouseup",t.onMouseUp),ze.removeEventListener("mouseleave",t.onMouseUp),ze.removeEventListener("touchmove",t.onMouseMove),ze.removeEventListener("touchend",t.onMouseUp),ze.removeEventListener("touchcancel",t.onMouseUp))};var e=r.x,n=e===void 0?0:e,a=r.y,o=a===void 0?0:a,s=r.width,l=s===void 0?100:s,u=r.height,h=r.padding,c=h===void 0?10:h,v=r.trendCfg,y=r.controllerCfg,A=y===void 0?{speed:1}:y,k=r.backgroundStyle,R=k===void 0?{}:k,H=r.foregroundStyle,V=H===void 0?{}:H,ot=r.handlerStyle,ut=ot===void 0?{}:ot,bt=r.textStyle,Ft=bt===void 0?{}:bt,Xt=r.start,Ut=Xt===void 0?0:Xt,Gt=r.end,te=Gt===void 0?1:Gt,ue=r.minText,se=ue===void 0?"":ue,Me=r.maxText,Pe=Me===void 0?"":Me,Te=r.group,Ve=r.graph,je=r.canvas,Ue=r.ticks,Ge=r.type;this.graph=Ve,this.canvas=je,this.group=Te,this.timeBarType=Ge,this.x=n,this.y=o,this.width=l,this.height=u,this.padding=c,this.ticks=Ue,this.trendCfg=v,this.controllerCfg=A,this.currentSpeed=A.speed,Ge==="trend"?this.backgroundStyle=$t($t({},q8),R):Ge==="simple"&&(this.backgroundStyle=$t($t({},t9),R)),this.foregroundStyle=$t($t({},e9),V),this.handlerStyle=$t($t({},r9),ut),this.textStyle=$t($t({},n9),Ft),this.currentMode="range",this.start=Ut,this.end=te,this.minText=se,this.maxText=Pe,this.renderSlider()}return i.prototype.update=function(r){var t=r.x,e=r.y,n=r.width,a=r.height,o=r.minText,s=r.maxText,l=r.start,u=r.end;this.start=Math.min(1,Math.max(l,0)),this.end=Math.min(1,Math.max(u,0)),(0,f.assign)(this,{x:t,y:e,width:n,height:a,minText:o,maxText:s}),this.updateUI()},i.prototype.setText=function(r,t){this.minTextShape.attr("text",r),this.maxTextShape.attr("text",t)},i.prototype.renderSlider=function(){var r=this,t=this,e=t.width,n=t.height,a=t.timeBarType;if(a==="trend"&&(0,f.size)((0,f.get)(this.trendCfg,"data"))){var o=new G8($t($t({x:this.x,y:this.y,width:e,height:n},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:$t({x:0,y:0,width:e,height:n},this.backgroundStyle)});var l=this.group.addGroup();a==="trend"?(this.minTextShape=l.addShape("text",{attrs:$t({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:$t({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1},this.textStyle),capture:!1})):(this.minTextShape=l.addShape("text",{attrs:$t({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:$t({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:$t({x:0,y:this.y,height:n},this.foregroundStyle)});var u=(0,f.get)(this.handlerStyle,"width",2),h=(0,f.get)(this.handlerStyle,"height",24),c=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new G1($t({name:"minHandlerShape",group:c,type:a,x:this.x,y:this.y,width:u,height:h,cursor:"ew-resize"},this.handlerStyle));var v=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new G1($t({name:"maxHandlerShape",group:v,type:a,x:this.x,y:this.y,width:u,height:h,cursor:"ew-resize"},this.handlerStyle));var y=this.ticks,A=e/(y.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(R){R.destroy()});var k=-Infinity;this.textList=y.map(function(R,H){r.tickPosList.push(r.x+H*A);var V=r.group.addShape("text",{attrs:{x:r.x+H*A,y:r.y+n+5,text:R,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),ot=r.group.addShape("line",{attrs:{x1:r.x+H*A,y1:r.y+n+2,x2:r.x+H*A,y2:r.y+n+6,lineWidth:1,stroke:"#ccc"}}),ut=V.getBBox();return ut.minX>k?(V.show(),ot.show(),k=ut.minX+ut.width+10):(V.hide(),ot.hide()),V}),this.controllerBtnGroup=new z1({group:this.group,x:this.x,y:this.y+n+25,width:e,height:40}),this.updateUI(),s.move(this.x,this.y),this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.group.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var e=this.group.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),e.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on(ju+":click",function(){r.isPlay=!r.isPlay,r.currentHandler=r.maxHandlerShape,r.changePlayStatus()}),this.group.on(Uu+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(.01),r.updateUI()}),this.group.on(Zu+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(-.01),r.updateUI()}),this.group.on(Wu,function(n){var a=n.type,o=n.speed;r.currentSpeed=o,r.currentMode=a,a==="single"?(r.minHandlerShape.hide(),r.foregroundShape.hide(),r.minTextShape.hide()):a==="range"&&(r.minHandlerShape.show(),r.foregroundShape.show(),r.minTextShape.show())})},i.prototype.adjustTickIndex=function(r){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=r&&r<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-r)<Math.abs(r-this.tickPosList[t+1])?t:t+1},i.prototype.adjustOffsetRange=function(r){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,e=1-this.start;return Math.min(e,Math.max(t,r))}case this.maxHandlerShape:{var t=0-this.end,e=1-this.end;return Math.min(e,Math.max(t,r))}case this.foregroundShape:{var t=0-this.start,e=1-this.end;return Math.min(e,Math.max(t,r))}default:return 0}},i.prototype.updateStartEnd=function(r){switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)];break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=r,this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;case this.foregroundShape:this.start+=r,this.end+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)],this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;default:break}},i.prototype.updateUI=function(){var r=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.start*this.width,e=this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",e-t);var n=(0,f.get)(this.handlerStyle,"width",Mc);this.setText(this.minText,this.maxText);var a=this.dodgeText([t,e]),o=a[0],s=a[1];this.minHandlerShape.setX(t-n/2),(0,f.each)(o,function(l,u){return r.minTextShape.attr(u,l)}),this.maxHandlerShape.setX(e-n/2),(0,f.each)(s,function(l,u){return r.maxTextShape.attr(u,l)}),this.currentMode==="range"?this.graph.emit(Xa,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit(Xa,{value:[this.end,this.end]})},i.prototype.dodgeText=function(r){var t,e,n=2,a=(0,f.get)(this.handlerStyle,"width",Mc),o=this.minTextShape,s=this.maxTextShape,l=r[0],u=r[1],h=!1;l>u&&(t=[u,l],l=t[0],u=t[1],e=[s,o],o=e[0],s=e[1],h=!0);var c=o.getBBox(),v=s.getBBox(),y=null,A=null;return this.timeBarType==="trend"?(y=c.width>l-n?{x:l+a/2+n,textAlign:"left"}:{x:l-a/2-n,textAlign:"right"},A=v.width>this.width-u-n?{x:u-a/2-n,textAlign:"right"}:{x:u+a/2+n,textAlign:"left"}):this.timeBarType==="simple"&&(y=c.width>l-n?{x:l+a/2+n,textAlign:"center"}:{x:l-a/2-n,textAlign:"center"},A=v.width>this.width-u-n?{x:u-a/2-n,textAlign:"center"}:{x:u+a/2+n,textAlign:"center"}),h?[A,y]:[y,A]},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r,e=t.ticks,n=t.width,a=r.currentSpeed,o=n/e.length,s=o/((10-a)*1e3/60),l=r.adjustOffsetRange(s/r.width);r.updateStartEnd(l),r.updateUI(),r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(X1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(V1,null))},i.prototype.destory=function(){this.graph.off(Xa);var r=this.group,t=r.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var e=r.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.off("maxHandlerShape-handler:mousedown"),e.off("maxHandlerShape-handler:touchstart"),e.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),r.off(ju+":click"),r.off(Uu+":click"),r.off(Zu+":click"),r.off(Wu),r.destroy(),this.trendComponent&&this.trendComponent.destory()},i}(),a9=i9,Oz={opacity:.5,fill:"#000"},Iz={opacity:.5,fill:"#000",r:5},kz={fill:"#fff",fontSize:12},o9=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.container,s=r.text,l=r.padding,u=l===void 0?[4,4,4,4]:l,h=r.className,c=h===void 0?"g6-component-timebar-tooltip":h,v=r.backgroundColor,y=v===void 0?"#000":v,A=r.textColor,k=A===void 0?"#fff":A,R=r.opacity,H=R===void 0?.8:R,V=r.fontSize,ot=V===void 0?12:V;this.container=o,this.className=c,this.backgroundColor=y,this.textColor=k,this.x=e,this.y=a,this.text=s,this.padding=u,this.opacity=H,this.fontSize=ot,this.render()}return i.prototype.render=function(){var r=this,t=r.className,e=r.x,n=r.y,a=r.backgroundColor,o=r.textColor,s=r.text,l=r.padding,u=r.opacity,h=r.fontSize,c=r.container,v=(0,ri.Z)("<div class='"+t+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+u+'"></div>');(0,f.isString)(c)&&(c=document.getElementById(c)),c.appendChild(v),r.parentHeight=c.offsetHeight,r.parentWidth=c.offsetWidth,(0,En.Z)(v,{visibility:"hidden",top:0,left:0});var y=(0,ri.Z)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+a+"; font-size: "+h+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+o+"; padding: "+l[0]+"px "+l[1]+"px "+l[2]+"px "+l[3]+"px'></div>");y.innerHTML=s,v.appendChild(y),r.backgroundDOM=y;var A=(0,ri.Z)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+a+"'></div>");v.appendChild(A),r.arrowDOM=A,r.container=v},i.prototype.show=function(r){var t=this,e=r.text,n=r.x,a=r.y,o=r.clientX,s=r.clientY;t.backgroundDOM.innerHTML=e;var l=t.backgroundDOM.offsetWidth,u=t.backgroundDOM.offsetHeight,h=t.arrowDOM.offsetWidth,c=t.arrowDOM.offsetHeight;(0,En.Z)(t.container,{top:-u-c+"px",left:n+"px",visibility:"visible"}),(0,En.Z)(t.backgroundDOM,{marginLeft:-l/2+"px"}),(0,En.Z)(t.arrowDOM,{marginLeft:-h/2+"px",top:u+"px"});var v=n-l/2,y=n+l/2;v<0?(0,En.Z)(t.backgroundDOM,{marginLeft:-l/2-v+"px"}):y>t.parentWidth&&(0,En.Z)(t.backgroundDOM,{marginLeft:-l/2-y+t.parentWidth+12+"px"})},i.prototype.hide=function(){(0,En.Z)(this.container,{top:0,left:0,visibility:"hidden"})},i}(),s9=o9,l9={fill:"#5B8FF9"},u9={fill:"#e6e8e9"},f9=function(){function i(r){this.frameCount=0;var t=r.graph,e=r.canvas,n=r.group,a=r.width,o=r.height,s=r.padding,l=r.data,u=r.start,h=r.end,c=r.x,v=c===void 0?0:c,y=r.y,A=y===void 0?0:y,k=r.tickLabelFormatter,R=r.selectedTickStyle,H=R===void 0?l9:R,V=r.unselectedTickStyle,ot=V===void 0?u9:V,ut=r.tooltipBackgroundColor,bt=r.tooltipFomatter;this.graph=t,this.group=n,this.sliceGroup=n.addGroup({name:"slice-group"}),this.canvas=e,this.width=a,this.height=o,this.padding=s,this.data=l,this.start=u,this.end=h,this.tickLabelFormatter=k,this.selectedTickStyle=H,this.unselectedTickStyle=ot,this.x=v,this.y=A,this.tooltipBackgroundColor=ut,this.tooltipFomatter=bt,this.renderSlices(),this.initEvent()}return i.prototype.renderSlices=function(){var r=this,t=r.width,e=r.height,n=r.padding,a=r.data,o=r.start,s=r.end,l=r.tickLabelFormatter,u=r.selectedTickStyle,h=r.unselectedTickStyle,c=t-2*n,v=10,y=4,A=3*n+y+v,k=e-A-2*n,R=2,H=a.length,V=(c-R*(H-1))/H;this.tickWidth=V;var ot=this.sliceGroup,ut=[],bt=[],Ft=Math.round(H*o),Xt=Math.round(H*s);this.startTickRectId=Ft,this.endTickRectId=Xt,a.forEach(function(Gt,te){var ue=te>=Ft&&te<=Xt,se=ue?u:h,Me=ot.addShape("rect",{attrs:$t({x:n+te*(V+R),y:n,width:V,height:k},se),draggable:!0,name:"tick-rect-"+te}),Pe=ot.addShape("rect",{attrs:{x:n+te*V+R*(2*te-1)/2,y:n,width:te===0||te===H-1?V+R/2:V+R,height:k,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+te});Pe.toFront();var Te=Me.getBBox(),Ve=(Te.minX+Te.maxX)/2;ut.push({rect:Me,pickRect:Pe,value:Gt.date,x:Ve,y:Te.minY});var je;if(l?(je=l(Gt),!(0,f.isString)(je)&&je&&(je=Gt.date)):te%Math.round(H/10)==0&&(je=Gt.date),je){bt.push(je);var Ue=Te.maxY+n*2;ot.addShape("line",{attrs:{stroke:"#BFBFBF",x1:Ve,y1:Ue,x2:Ve,y2:Ue+y}});var Ge=Ue+y+n,ze=ot.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:Ve,y:Ge,textAlign:"center",text:je,textBaseline:"top",fontSize:10},capture:!1}),ur=ze.getBBox();ur.maxX>t?ze.attr("textAlign","right"):ur.minX<0&&ze.attr("textAlign","left")}}),this.tickRects=ut;var Ut=this.group;this.currentSpeed=1,this.controllerBtnGroup=new z1({group:Ut,x:this.x,y:this.y+e+5,width:t,height:40,hiddleToggle:!0,speed:this.currentSpeed})},i.prototype.initEvent=function(){var r=this,t=this.sliceGroup;t.on("click",function(h){var c=h.target;if(!(c.get("type")!=="rect"||!c.get("name"))){var v=parseInt(c.get("name").split("-")[2],10);if(!isNaN(v)){var y=r.tickRects,A=r.unselectedTickStyle;y.forEach(function(V){V.rect.attr(A)});var k=r.selectedTickStyle;y[v].rect.attr(k),r.startTickRectId=v,r.endTickRectId=v;var R=y.length,H=v/R;r.graph.emit(Xa,{value:[H,H]})}}}),t.on("dragstart",function(h){var c=r.tickRects,v=r.unselectedTickStyle;c.forEach(function(V){V.rect.attr(v)});var y=h.target,A=parseInt(y.get("name").split("-")[2],10),k=r.selectedTickStyle;c[A].rect.attr(k),r.startTickRectId=A;var R=c.length,H=A/R;r.graph.emit(Xa,{value:[H,H]}),r.dragging=!0}),t.on("dragover",function(h){if(!!r.dragging&&h.target.get("type")==="rect"){for(var c=parseInt(h.target.get("name").split("-")[2],10),v=r.startTickRectId,y=r.tickRects,A=r.selectedTickStyle,k=r.unselectedTickStyle,R=0;R<y.length;R++){var H=R>=v&&R<=c?A:k;y[R].rect.attr(H)}var V=y.length;r.endTickRectId=c;var ot=v/V,ut=c/V;r.graph.emit(Xa,{value:[ot,ut]})}}),t.on("drop",function(h){if(!!r.dragging&&(r.dragging=!1,h.target.get("type")==="rect")){var c=r.startTickRectId,v=parseInt(h.target.get("name").split("-")[2],10);if(!(v<c)){var y=r.selectedTickStyle,A=r.tickRects;A[v].rect.attr(y),r.endTickRectId=v;var k=A.length,R=c/k,H=v/k;r.graph.emit(Xa,{value:[R,H]})}}});var e=this,n=e.tooltipBackgroundColor,a=e.tooltipFomatter,o=e.canvas,s=new s9({container:o.get("container"),backgroundColor:n}),l=this.tickRects;l.forEach(function(h){var c=h.pickRect;c.on("mouseenter",function(v){var y=v.target;if(y.get("type")==="rect"){var A=parseInt(y.get("name").split("-")[2],10),k=o.getClientByPoint(l[A].x,l[A].y);s.show({x:l[A].x,y:l[A].y,clientX:k.x,clientY:k.y,text:a?a(l[A].value):l[A].value})}}),c.on("mouseleave",function(v){s.hide()})});var u=this.group;u.on(ju+":click",function(){r.isPlay=!r.isPlay,r.changePlayStatus()}),u.on(Uu+":click",function(){r.updateStartEnd(1)}),u.on(Zu+":click",function(){r.updateStartEnd(-1)}),u.on(Wu,function(h){var c=h.type,v=h.speed;r.currentSpeed=v})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(X1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(V1,null))},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r.currentSpeed;r.frameCount%(60/t)==0&&(r.frameCount=0,r.updateStartEnd(1)),r.frameCount++,r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.updateStartEnd=function(r){var t=this,e=this.tickRects,n=e.length,a=this.unselectedTickStyle,o=this.selectedTickStyle,s=t.endTickRectId;if(r>0?t.endTickRectId++:(e[t.endTickRectId].rect.attr(a),t.endTickRectId--),s!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var l=t.startTickRectId;l<=t.endTickRectId-1;l++)e[l].rect.attr(a);t.startTickRectId=t.endTickRectId}if(e[t.endTickRectId]){e[t.endTickRectId].rect.attr(o);var u=t.startTickRectId/n,h=t.endTickRectId/n;this.graph.emit(Xa,{value:[u,h]})}},i.prototype.destory=function(){this.graph.off(Xa);var r=this.sliceGroup;r.off("click"),r.off("dragstart"),r.off("dragover"),r.off("drop"),this.tickRects.forEach(function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")}),this.tickRects.length=0,r.off(ju+":click"),r.off(Uu+":click"),r.off(Zu+":click"),r.off(Wu),this.sliceGroup.destroy()},i}(),h9=f9,c9=8,v9=26,d9=function(i){In(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:2,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]}}},r.prototype.initContainer=function(){var t=this.get("graph"),e=this._cfgs,n=e.width,a=e.height,o=this.get("className")||"g6-component-timebar",s=this.get("container"),l=this.get("graph").get("container"),u;s?u=s:(u=(0,ri.Z)("<div class='"+o+"'></div>"),(0,En.Z)(u,{position:"relative"})),l.appendChild(u),this.set("timeBarContainer",u);var h,c=t.get("renderer");c==="SVG"?h=new Ys.Z({container:u,width:n,height:a}):h=new Ro.Z({container:u,width:n,height:a}),this.set("canvas",h)},r.prototype.init=function(){this.initContainer();var t=this.get("canvas"),e=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent()},r.prototype.renderTrend=function(){var t=this._cfgs,e=t.width,n=t.x,a=t.y,o=t.padding,s=t.type,l=t.trend,u=t.slider,h=t.controllerCfg,c=l.data,v=Yi(l,["data"]),y=e-2*o,A=s==="trend"?v9:c9,k=this.get("graph"),R=this.get("timeBarGroup"),H=this.get("canvas"),V=null;if(s==="trend"||s==="simple")V=new a9($t($t({graph:k,canvas:H,group:R,type:s,x:n+o,y:s==="trend"?a+o:a+o+15,width:y,height:A,padding:o,trendCfg:$t($t({},v),{data:c.map(function(ut){return ut.value})})},u),{ticks:c.map(function(ut){return ut.date}),handlerStyle:$t($t({},u.handlerStyle),{height:u.height||A}),controllerCfg:h}));else if(s==="tick"){var ot=this._cfgs.tick;V=new h9($t({graph:k,canvas:H,group:R,x:n+o,y:a+o},ot))}this.set("timebar",V)},r.prototype.filterData=function(t){var e=t.value,n=null,a=this._cfgs.type;if(a==="trend"||a==="simple"?n=this._cfgs.trend.data:a==="tick"&&(n=this._cfgs.tick.data),!n||n.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var o=this.get("rangeChange"),s=this.get("graph"),l=Math.round(n.length*e[0]),u=Math.round(n.length*e[1]);u=u>=n.length?n.length-1:u;var h=n[l].date,c=n[u].date;if(a!=="tick"){var v=this.get("timebar");v.setText(h,c)}if(o)o(s,h,c);else{var y=s.save();(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=y);var A=this.cacheGraphData.nodes.filter(function(H){return H.date>=h&&H.date<=c}),k=A.map(function(H){return H.id}),R=this.cacheGraphData.edges.filter(function(H){return k.includes(H.source)&&k.includes(H.target)});s.changeData({nodes:A,edges:R})}},r.prototype.initEvent=function(){var t=this,e=0,n=0,a=this._cfgs.type;!a||a==="trend"||a==="simple"?(e=this._cfgs.slider.start,n=this._cfgs.slider.end):a==="tick"&&(e=this._cfgs.tick.start,n=this._cfgs.tick.end);var o=this.get("graph");o.on("afterrender",function(){t.filterData({value:[e,n]})}),o.on(Xa,function(s){t.filterData(s)})},r.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),i.prototype.destroy.call(this);var e=this.get("timeBarContainer");if(e){var n=this.get("container");n||(n=this.get("graph").get("container")),n.removeChild(e)}},r}(Ya),p9=d9;function g9(i,r){var t,e;if(i.naturalWidth)t=i.naturalWidth,e=i.naturalHeight;else{var n=new Image;n.src=i.src,n.onload=function(){r==null||r(n.width,n.height)}}return[t,e]}var y9=function(i){In(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.graph;if(!this.destroyed){var a=this.get("container"),o=(0,ri.Z)("<div class="+e.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),s=0,l=0,u=!1,h=0,c=0,v=0,y=0,A=0,k=0;a.addEventListener("mousedown",function(R){if(e.refresh=!1,R.target===o){var H=o.style;v=parseInt(H.width,10),y=parseInt(H.height,10);var V=t.get("width"),ot=t.get("height");v>V||y>ot||(k=n.getZoom(),A=t.get("ratio"),u=!0,s=R.clientX,l=R.clientY)}},!1),a.addEventListener("mousemove",function(R){if(!(!u||(0,Mi.default)(R.clientX)||(0,Mi.default)(R.clientY))){var H=t.get("width"),V=t.get("height"),ot=o.style;h=parseInt(ot.left,10),c=parseInt(ot.top,10),v=parseInt(ot.width,10),y=parseInt(ot.height,10);var ut=s-R.clientX,bt=l-R.clientY;h-ut<0?ut=h:h-ut+v>=H&&(ut=0),c-bt<0?bt=c:c-bt+y>=V&&(bt=0),h-=ut,c-=bt,(0,En.Z)(o,{left:h+"px",top:c+"px"}),n.translate(ut*k/A,bt*k/A),s=R.clientX,l=R.clientY}},!1),a.addEventListener("mouseleave",function(){u=!1,e.refresh=!0},!1),a.addEventListener("mouseup",function(){u=!1,e.refresh=!0},!1),this.set("viewport",o),a.appendChild(o)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),n=this.get("height"),a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=o/s,u=a.getGroup(),h=u.getCanvasBBox(),c=[(h.minX+h.maxX)/2,(h.minY+h.maxY)/2],v=[h.maxX-h.minX,h.maxY-h.minY],y={centerX:c[0],centerY:c[1],width:0,height:0,minX:0,minY:0};h[0]/h[1]>l?(y.width=v[0],y.height=y.width/l):(y.height=v[1],y.width=y.height*l),y.minX=c[0]-y.width/2,y.minY=c[1]-y.height/2;var A=u.getMatrix();A||(A=[1,0,0,0,1,0,0,0,1]);var k=ro.invert([],A),R=Fs({x:y.minX,y:y.minY},k),H=a.getCanvasByPoint(R.x,R.y),V=this.get("viewport");V||this.initViewport();var ot=o/y.width,ut=ot*e,bt=ot*n,Ft=e*-H.x/y.width,Xt=n*-H.y/y.height,Ut=Ft+ut,Gt=Xt+bt;Ft<0&&(ut+=Ft,Ft=0),Ut>e&&(ut=ut-(Ut-e)),Xt<0&&(bt+=Xt,Xt=0),Gt>n&&(bt=bt-(Gt-n)),this.set("ratio",t);var te=Ft+"px",ue=Xt+"px";(0,En.Z)(V,{left:te,top:ue,width:ut+"px",height:bt+"px"})}},r.prototype.init=function(){this.initContainer()},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=e.get("width"),a=e.get("height"),o=a/n,s=t.get("className"),l=t.get("container"),u=t.get("width"),h=t.get("height");!u&&!h&&(u=200),u?(h=o*u,t.set("height",h)):(u=1/o*h,t.set("width",u));var c=(0,ri.Z)("<div class='"+s+"' style='width: "+u+"px; height: "+h+"px; overflow: hidden; position: relative;'></div>");(0,gn.default)(l)&&(l=document.getElementById(l)),l?l.appendChild(c):e.get("container").appendChild(c),t.set("container",c);var v=(0,ri.Z)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');c.appendChild(v);var y=(0,ri.Z)('<span style="display: table-cell; vertical-align: middle; "></span>');v.appendChild(y),t.set("containerDOM",v),t.set("containerSpan",y);var A=(0,ri.Z)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');t.set("imgDOM",A),t.updateImgSize(),y.appendChild(A),t.updateCanvas()},r.prototype.updateImgSize=function(){var t=this,e=t.get("imgDOM"),n=t.get("width"),a=t.get("height");e.onload=function(){var o=g9(e);o[0]>o[1]?e.width=n:e.height=a}},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("width"),a=e.get("canvas").getCanvasBBox(),o=a.width,s=n/o;this.set("ratio",s),this.updateViewport()}}},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.updateGraphImg=function(t){var e=this,n=e.get("imgDOM");n.remove(),e.set("graphImg",t);var a=(0,ri.Z)('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');e.set("imgDOM",a),a.src=t,e.updateImgSize();var o=e.get("containerSpan");o.appendChild(a),e.updateCanvas()},r.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},r}(Ya),m9=y9,H1=.05,W1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},x9=function(i){In(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,Vn.d9)(W1),showLabel:"edge",scaleRBy:"wheel"}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},r.prototype.init=function(){var t=this,e=t.get("showLabel"),n=e==="node"||e==="both",a=e==="edge"||e==="both";t.set("showNodeLabel",n),t.set("showEdgeLabel",a);var o=t.get("shouldShow");o||t.set("shouldShow",function(){return!0})},r.prototype.createDelegate=function(t){var e=this,n=e.get("delegate");(!n||n.destroyed)&&(e.filter(t),n=e.get("delegate"),n.on("dragstart",function(a){}),n.on("drag",function(a){e.filter(a)}),this.get("scaleRBy")==="wheel"&&n.on("mousewheel",function(a){e.scaleRByWheel(a)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-H1:a=1/(1-H1);var u=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(u||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.filter(t)}},r.prototype.filter=function(t){var e=this,n=e.get("graph"),a=n.getNodes(),o={},s=e.get("r"),l=e.get("type"),u={x:t.x,y:t.y};e.updateDelegate(u,s);var h=e.get("shouldShow"),c=e.get("vShapes");c&&c.forEach(function(H){H.remove(),H.destroy()}),c=[],a.forEach(function(H){var V=H.getModel(),ot=V.x,ut=V.y;Rs({x:ot,y:ut},u)<s&&(o[V.id]=H)});var v=n.getEdges(),y=[];v.forEach(function(H){var V=H.getModel(),ot=V.source,ut=V.target;h(V)&&(l==="only-source"||l==="one"?o[ot]&&!o[ut]&&y.push(H):l==="only-target"||l==="one"?o[ut]&&!o[ot]&&y.push(H):l==="both"&&o[ot]&&o[ut]&&y.push(H))});var A=e.get("showNodeLabel"),k=e.get("showEdgelabel"),R=n.get("group");y.forEach(function(H){var V=H.get("group").get("children");V.forEach(function(ot){var ut=ot.get("type"),bt=R.addShape(ut,{attrs:ot.attr()});c.push(bt),A&&ut==="text"&&bt.set("visible",!0)})}),Object.keys(o).forEach(function(H){var V=o[H],ot=V.get("group").clone();if(R.add(ot),c.push(ot),k)for(var ut=ot.get("children"),bt=0;bt<ut.length;bt++){var Ft=ut[bt];Ft.get("type")==="text"&&Ft.set("visible",!0)}}),e.set("vShapes",c)},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.trigger,o=t.minR,s=t.maxR,l=t.scaleRBy,u=t.showLabel,h=t.shouldShow;if(isNaN(t.r)||e.set("r",n),isNaN(s)||e.set("maxR",s),isNaN(o)||e.set("minR",o),(a==="mousemove"||a==="click")&&e.set("trigger",a),l==="wheel"||l==="unset"){e.set("scaleRBy",l),e.get("delegate").remove(),e.get("delegate").destroy();var c=e.get("dPercentText");c&&(c.remove(),c.destroy())}(u==="node"||u==="both")&&e.set("showNodeLabel",!0),(u==="edge"||u==="both")&&e.set("showEdgeLabel",!0),h&&e.set("shouldShow",h)},r.prototype.updateDelegate=function(t,e){var n=this,a=n.get("graph"),o=n.get("delegate");if(!o||o.destroyed){var s=a.get("group"),l=n.get("delegateStyle")||W1;o=s.addShape("circle",{attrs:$t({r:e,x:t.x,y:t.y},l),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(u){n.scaleRByWheel(u)})}else o.attr({x:t.x,y:t.y,r:e});n.set("delegate",o)},r.prototype.clear=function(){var t=this,e=t.get("vShapes");e&&e.forEach(function(a){a.remove(),a.destroy()}),e=[],t.set("vShapes",e);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(Ya),b9=x9,Xi={Menu:d8,Grid:h8,Minimap:x8,Bundling:S8,ToolBar:A8,Tooltip:P8,Fisheye:C8,TimeBar:p9,ImageMinimap:m9,EdgeFilterLens:b9};function w9(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next;return n[o.get("id")]?!1:(n[o.get("id")]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}function j1(i,r,t,e){e.enter({current:r,previous:t}),i.getNeighbors(r,"target").forEach(function(n){e.allowTraversal({previous:t,current:r,next:n})&&j1(i,n,r,e)}),e.leave({current:r,previous:t})}function U1(i,r,t){var e=null,n=i.findById(r);j1(i,n,e,w9(t))}var S9=function(){function i(){this.linkedList=new p1}return i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},i.prototype.enqueue=function(r){this.linkedList.append(r)},i.prototype.dequeue=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toString=function(r){return this.linkedList.toString(r)},i}(),M9=S9;function C9(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next,s=o.get("id");return n[s]?!1:(n[s]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}var E9=function(r,t,e){var n=C9(e),a=new M9,o=r.findById(t);a.enqueue(o);for(var s=null,l=function(){var h=a.dequeue();n.enter({current:h,previous:s}),r.getNeighbors(h,"target").forEach(function(c){n.allowTraversal({previous:s,current:h,next:c})&&a.enqueue(c)}),n.leave({current:h,previous:s}),s=h};!a.isEmpty();)l()},A9=E9;function T9(i){for(var r=[],t={},e=[],n=function l(u){e.push(u),t[u.get("id")]=!0;for(var h=u.getNeighbors(),c=0;c<h.length;++c){var v=h[c];t[v.get("id")]||l(v)}},a=0;a<i.length;a++){var o=i[a];if(!t[o.get("id")]){n(o);for(var s=[];e.length>0;)s.push(e.pop());r.push(s)}}return r}function Z1(i){for(var r=[],t={},e={},n={},a=[],o=0,s=function c(v){e[v.get("id")]=o,n[v.get("id")]=o,o+=1,r.push(v),t[v.get("id")]=!0;for(var y=v.getNeighbors("target").filter(function(V){return i.indexOf(V)>-1}),A=0;A<y.length;A++){var k=y[A];!e[k.get("id")]&&e[k.get("id")]!==0?(c(k),n[v.get("id")]=Math.min(n[v.get("id")],n[k.get("id")])):t[k.get("id")]&&(n[v.get("id")]=Math.min(n[v.get("id")],e[k.get("id")]))}if(n[v.get("id")]===e[v.get("id")]){for(var R=[];r.length>0;){var H=r.pop();if(t[H.get("id")]=!1,R.push(H),H===v)break}R.length>0&&a.push(R)}},l=0,u=i;l<u.length;l++){var h=u[l];!e[h.get("id")]&&e[h.get("id")]!==0&&s(h)}return a}function K1(i,r){var t=r===void 0?i.get("directed"):r,e=i.getNodes();return t?Z1(e):T9(e)}var P9=function(r){var t=null,e={},n={},a={},o={};r.getNodes().forEach(function(u){n[u.getID()]=u});for(var s={enter:function(h){var c=h.current,v=h.previous;if(a[c.getID()]){t={};for(var y=c,A=v;A.getID()!==c.getID();)t[y.getID()]=A,y=A,A=e[A.getID()];t[y.getID()]=A}else a[c.getID()]=c,delete n[c.getID()],e[c.getID()]=v},leave:function(h){var c=h.current;o[c.getID()]=c,delete a[c.getID()]},allowTraversal:function(h){var c=h.next;return t?!1:!o[c.getID()]}};Object.keys(n).length;){var l=Object.keys(n)[0];U1(r,l,s)}return t},$1=function(r,t,e){var n,a,o;e===void 0&&(e=!0);for(var s=[],l=K1(r,!1),u=0,h=l;u<h.length;u++){var c=h[u];if(!!c.length)for(var v=c[0],y=v.get("id"),A=[v],k=(n={},n[y]=v,n),R=(a={},a[y]=new Set,a);A.length>0;)for(var H=A.pop(),V=H.get("id"),ot=H.getNeighbors(),ut=0;ut<ot.length;ut+=1){var bt=ot[ut],Ft=bt.get("id");if(Ft===V)s.push((o={},o[bt.getID()]=H,o));else if(!(Ft in R))k[Ft]=H,A.push(bt),R[Ft]=new Set([H]);else if(!R[V].has(bt)){for(var Xt=!0,Ut=[bt,H],Gt=k[V];R[Ft].size&&!R[Ft].has(Gt)&&(Ut.push(Gt),Gt!==k[Gt.getID()]);)Gt=k[Gt.getID()];if(Ut.push(Gt),t&&e?(Xt=!1,Ut.findIndex(function(se){return t.indexOf(se.get("id"))>-1})>-1&&(Xt=!0)):t&&!e&&Ut.findIndex(function(se){return t.indexOf(se.get("id"))>-1})>-1&&(Xt=!1),Xt){for(var te={},ue=1;ue<Ut.length;ue+=1)te[Ut[ue-1].getID()]=Ut[ue];Ut.length&&(te[Ut[Ut.length-1].getID()]=Ut[0]),s.push(te)}R[Ft].add(H)}}}return s},Q1=function(r,t,e){e===void 0&&(e=!0);for(var n=[],a=new Set,o=[],s=[],l={},u={},h=function(te){for(var ue=[te];ue.length>0;){var se=ue.pop();a.has(se)&&(a.delete(se),o[se.get("id")].forEach(function(Me){ue.push(Me)}),o[se.get("id")].clear())}},c=function Gt(te,ue,se){var Me=!1;if(t&&e===!1&&t.indexOf(te.get("id"))>-1)return Me;n.push(te),a.add(te);for(var Pe=se[te.getID()],Te=0;Te<Pe.length;Te+=1){var Ve=l[Pe[Te]];if(Ve===ue){for(var je={},Ue=1;Ue<n.length;Ue+=1)je[n[Ue-1].getID()]=n[Ue];n.length&&(je[n[n.length-1].getID()]=n[0]),s.push(je),Me=!0}else a.has(Ve)||Gt(Ve,ue,se)&&(Me=!0)}if(Me)h(te);else for(var Te=0;Te<Pe.length;Te+=1){var Ve=l[Pe[Te]];o[Ve.get("id")].has(te)||o[Ve.get("id")].add(te)}return n.pop(),Me},v=r.getNodes(),y=0;y<v.length;y+=1){var A=v[y],k=A.getID();u[k]=y,l[y]=A}if(t&&e)for(var y=0;y<t.length;y++){var k=t[y];u[v[y].getID()]=u[k],u[k]=0,l[0]=r.findById(k),l[u[v[y].getID()]]=v[y]}for(var R=function(te){for(var ue,se,Me=Infinity,Pe=0;Pe<te.length;Pe+=1)for(var Te=te[Pe],Ve=0;Ve<Te.length;Ve++){var je=u[Te[Ve].getID()];je<Me&&(Me=je,se=Pe)}for(var Ue=te[se],Ge=[],Pe=0;Pe<Ue.length;Pe+=1){var ze=Ue[Pe];Ge[ze.getID()]=[];for(var ur=0,lr=ze.getNeighbors("target").filter(function(cr){return Ue.indexOf(cr)>-1});ur<lr.length;ur++){var pr=lr[ur];pr===ze&&!(e===!1&&t.indexOf(ze.getId())>-1)?s.push((ue={},ue[ze.getID()]=ze,ue)):Ge[ze.getID()].push(u[pr.getID()])}}return{component:Ue,adjList:Ge,minIdx:Me}},H=0;H<v.length;){var V=v.filter(function(Gt){return u[Gt.getID()]>=H}),ot=Z1(V).filter(function(Gt){return Gt.length>1});if(ot.length===0)break;var ut=R(ot),bt=ut.minIdx,Ft=ut.adjList,Xt=ut.component;if(Xt.length>1){Xt.forEach(function(Gt){o[Gt.get("id")]=new Set});var Ut=l[bt];if(t&&e&&t.indexOf(Ut.get("id"))===-1)return s;c(Ut,Ut,Ft),H=bt+1}else break}return s},_9=function(r,t,e,n){return n===void 0&&(n=!0),t===void 0&&(t=r.get("directed")),t?Q1(r,e,n):$1(r,e,n)},L9=P9,O9=function(r,t,e,n){var a=r.getNodes(),o=[],s={},l={},u={};a.forEach(function(R,H){var V=R.getID();o.push(V),l[V]=Infinity,V===t&&(l[V]=0)});for(var h=a.length,c=function(H){var V=I9(l,a,s),ot=V.get("id");if(s[ot]=!0,l[ot]===Infinity)return"continue";var ut=[];e?ut=V.getOutEdges():ut=V.getEdges(),ut.forEach(function(bt){var Ft=bt.getTarget().getID(),Xt=bt.getSource().getID(),Ut=Ft===ot?Xt:Ft,Gt=n&&bt.getModel()[n]?bt.getModel()[n]:1;l[Ut]>l[V.get("id")]+Gt&&(l[Ut]=l[V.get("id")]+Gt,u[Ut]=V.get("id"))})},v=0;v<h;v++)c(v);var y={};for(var A in l){y[A]=[A];for(var k=u[A];k!==void 0;)y[A].unshift(k),k=u[k]}return{length:l,path:y}};function I9(i,r,t){for(var e=Infinity,n,a=0;a<r.length;a++){var o=r[a].get("id");!t[o]&&i[o]<=e&&(e=i[o],n=r[a])}return n}var k9=O9,B9=function(r,t,e,n,a){(0,f.isString)(t)&&(t=r.findById(t)),(0,f.isString)(e)&&(e=r.findById(e));var o=k9(r,t.get("id"),n,a),s=o.length,l=o.path;return{length:s[e.get("id")],path:l[e.get("id")]}},D9=function(r,t,e,n){var a;if((0,f.isString)(t)&&(t=r.findById(t)),(0,f.isString)(e)&&(e=r.findById(e)),n===void 0&&(n=r.get("directed")),t===e)return[[t.get("id")]];var o=[t],s=(a={},a[t.get("id")]=!0,a),l=[],u=[],h=n?t.getNeighbors("target"):t.getNeighbors();for(l.push(h);o.length>0&&l.length>0;){var c=l[l.length-1];if(c.length){var v=c.shift();v&&(o.push(v),s[v.get("id")]=!0,h=n?v.getNeighbors("target"):v.getNeighbors(),l.push(h.filter(function(k){return!s[k.get("id")]})))}else{var y=o.pop();s[y.get("id")]=!1,l.pop();continue}if(o[o.length-1]===e){var A=o.map(function(R){return R.get("id")});u.push(A);var y=o.pop();s[y.get("id")]=!1,l.pop()}}return u},F9=function(){function i(r){this.count=r.length,this.parent={};for(var t=0,e=r;t<e.length;t++){var n=e[t];this.parent[n]=n}}return i.prototype.find=function(r){for(;this.parent[r]!==r;)r=this.parent[r];return r},i.prototype.union=function(r,t){var e=this.find(r),n=this.find(t);e!==n&&(e<n?(this.parent[t]!==t&&this.union(this.parent[t],r),this.parent[t]=this.parent[r]):(this.parent[r]!==r&&this.union(this.parent[r],t),this.parent[r]=this.parent[t]))},i.prototype.connected=function(r,t){return this.find(r)===this.find(t)},i}(),R9=F9,N9=function(r,t){return r-t},Y9=function(){function i(r){r===void 0&&(r=N9),this.compareFn=r,this.list=[]}return i.prototype.getLeft=function(r){return 2*r+1},i.prototype.getRight=function(r){return 2*r+2},i.prototype.getParent=function(r){return r===0?null:Math.floor((r-1)/2)},i.prototype.isEmpty=function(){return this.list.length<=0},i.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},i.prototype.delMin=function(){var r=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),r},i.prototype.insert=function(r){if(r!==null){this.list.push(r);var t=this.list.length-1;return this.moveUp(t),!0}return!1},i.prototype.moveUp=function(r){for(var t=this.getParent(r);r&&r>0&&this.compareFn(this.list[t],this.list[r])>0;){var e=this.list[t];this.list[t]=this.list[r],this.list[r]=e,r=t,t=this.getParent(r)}},i.prototype.moveDown=function(r){var t,e=r,n=this.getLeft(r),a=this.getRight(r),o=this.list.length;n!==null&&n<o&&this.compareFn(this.list[e],this.list[n])>0?e=n:a!==null&&a<o&&this.compareFn(this.list[e],this.list[a])>0&&(e=a),r!==e&&(t=[this.list[e],this.list[r]],this.list[r]=t[0],this.list[e]=t[1],this.moveDown(e))},i}(),G9=Y9,z9=function(r,t){var e=[],n=r.getNodes();if(n.length===0)return e;var a=n[0],o=new Set;o.add(a);var s=function(y,A){return t?y.getModel()[t]-A.getModel()[t]:0},l=new G9(s);for(a.getEdges().forEach(function(v){l.insert(v)});!l.isEmpty();){var u=l.delMin(),h=u.getSource(),c=u.getTarget();o.has(h)&&o.has(c)||(e.push(u),o.has(h)||(o.add(h),h.getEdges().forEach(function(v){l.insert(v)})),o.has(c)||(o.add(c),c.getEdges().forEach(function(v){l.insert(v)})))}return e},J1=function(r,t){var e=[];if(r.getNodes().length===0)return e;var n=r.getEdges().map(function(u){return u});t&&n.sort(function(u,h){return u.getModel()[t]-h.getModel()[t]});for(var a=new R9(r.getNodes().map(function(u){return u.get("id")}));n.length>0;){var o=n.shift(),s=o.getSource().get("id"),l=o.getTarget().get("id");a.connected(s,l)||(e.push(o),a.union(s,l))}return e};function X9(i,r,t){var e={prim:z9,kruskal:J1};return t?e[t](i,r):J1(i,r)}var V9=function(r,t,e){typeof t!="number"&&(t=1e-6),typeof e!="number"&&(e=.85);for(var n=1,a=0,o=1e3,s=r.getNodes(),l=s.length,u,h={},c={},v=0;v<l;++v){var y=s[v],A=y.get("id");h[A]=1/l,c[A]=1/l}for(;o>0&&n>t;){a=0;for(var v=0;v<l;++v){var y=s[v],A=y.get("id");if(u=0,r.getNodeDegree(y,"in")===0)h[A]=0;else{for(var k=y.getNeighbors("source"),R=0;R<k.length;++R){var H=k[R],V=r.getNodeDegree(H,"out");V>0&&(u+=c[H.get("id")]/V)}h[A]=e*u,a+=h[A]}}a=(1-a)/l,n=0;for(var v=0;v<l;++v){var y=s[v],A=y.get("id");u=h[A]+a,n+=Math.abs(u-c[A]),c[A]=u}o-=1}return c},H9=V9,Bz=hs.registerNode,Dz=hs.registerEdge,Fz=hs.registerCombo,Rz=xx.registerBehavior,Nz=js.registerLayout,Yz=Xi.Minimap,Gz=Xi.Grid,zz=Xi.Bundling,Xz=Xi.Menu,W9=Xi.Fisheye,Vz=Xi.ToolBar,Hz=Xi.Tooltip,j9=Xi.TimeBar,U9=Xi.ImageMinimap,Z9=Xi.EdgeFilterLens,Bi={version:SR.i8,Graph:S1,TreeGraph:L6,Util:l8,registerNode:hs.registerNode,registerEdge:hs.registerEdge,registerCombo:hs.registerCombo,registerBehavior:xx.registerBehavior,registerLayout:js.registerLayout,Layout:js,Global:Ye,Minimap:Xi.Minimap,Grid:Xi.Grid,Bundling:Xi.Bundling,Menu:Xi.Menu,ToolBar:Xi.ToolBar,Tooltip:Xi.Tooltip,TimeBar:j9,Fisheye:W9,ImageMinimap:U9,EdgeFilterLens:Z9,Algorithm:$,Arrow:i8,Marker:a8};function q1(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function Va(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?q1(Object(t),!0).forEach(function(e){K9(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):q1(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function K9(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}Bi.registerNode("card-node",{draw:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a=Object.assign({radius:2,fill:"#fff"},a),e=a.stroke||"#5B8FF9";var o=a.radius||0,s=t.addShape("rect",{attrs:Va({x:-n[0]/2,y:-n[1]/2,width:n[0],height:n[1],stroke:e},a),name:"main-box",draggable:!0}),l=r.title||r.label,u,h=r&&r.labelCfg&&r.labelCfg.style?r.labelCfg.style:{};if(l){var c=Object.assign({fill:"#fff"},h);u=t.addShape("text",{attrs:Va(Va({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+2,text:l},c),{},{fill:"#fff"}),name:"title"})}var v=u?u.getBBox():{height:n[1]/2},y=t.addShape("rect",{attrs:{x:-n[0]/2,y:-n[1]/2,width:n[0],height:v.height+4,fill:e,radius:[o,o,0,0]},name:"title-rect",draggable:!0});u&&u.toFront();var A;r.children&&(A=t.addShape("marker",{attrs:{x:n[0]/2,y:0,r:6,cursor:"pointer",symbol:r.collapsed?Bi.Marker.expand:Bi.Marker.collapse,stroke:e,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var k=r&&r.description?r.description:void 0,R=y.getBBox(),H;if(k&&(H=t.addShape("text",{attrs:Va({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+R.height+8,text:k},h),name:"description"})),H){var V,ot=H.getBBox(),ut=R.height+16+ot.height,bt=n[0]>ot.width+16?n[0]:ot.width+16;s.attr({width:bt,height:ut}),y==null||y.attr("width",bt),(V=A)===null||V===void 0||V.attr({x:bt-n[0]/2,y:ut/2-n[1]/2})}return s},update:void 0},"single-node"),Bi.registerNode("round-rect",{drawShape:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a.stroke&&(e=a.stroke);var o=a&&a.fill?a.fill:"#fff";a=Object.assign({width:n[0],height:n[1],radius:n[1]/2,fill:o,lineWidth:1.2,stroke:e},a);var s=t.addShape("rect",{attrs:Va({x:-n[0]/2,y:-n[1]/2},a),name:"rect-shape"});return t.addShape("circle",{attrs:{x:-n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape"}),t.addShape("circle",{attrs:{x:n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape2"}),s},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(r,t){var e=t.getContainer(),n=e.get("children"),a=n[0],o=n[1],s=n[2],l=r.style&&r.style.stroke?r.style.stroke:"#5B8FF9";l&&(a.attr("stroke",l),o.attr("fill",l),s.attr("fill",l))}},"single-node");var $9=function(r){Bi.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(e,n){var a=this.getShapeStyle(e),o=e.labelCfg,s=o===void 0?{}:o,l=n.addShape("rect",{attrs:Va(Va({},a),{},{x:0,y:0})}),u={fill:"#e6fffb"},h="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return e.leftIcon&&(u=Object.assign({},u,e.leftIcon.style),h=e.leftIcon.img),n.addShape("rect",{attrs:Va({x:1,y:1,width:38,height:a.height-2},u)}),n.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:h},name:"image-shape"}),r.enableEdit&&(n.addShape("marker",{attrs:{x:a.width/3,y:a.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:Bi.Marker.expand},name:"add-item"}),n.addShape("marker",{attrs:{x:a.width*2/3,y:a.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:Bi.Marker.collapse},name:"remove-item"})),e.label&&n.addShape("text",{attrs:Va(Va({},s.style),{},{text:e.label,x:a.width/2,y:a.height/1.5})}),l}},"rect")};Bi.registerEdge("fund-polyline",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=n.y-e.y,o=a!==0?500/Math.abs(a):0,s=16,l=a<0?s:-s,u={x:e.x+o,y:n.y+l},h={x:u.x+s,y:n.y},c={x:(u.x-e.x)*(n.y-e.y)/(u.y-e.y)+e.x,y:n.y},v=[["M",e.x,e.y],["L",u.x,u.y],["Q",c.x,c.y,h.x,h.y],["L",n.x,n.y]];a===0&&(v=[["M",e.x,e.y],["L",n.x,n.y]]);var y=r||{},A=y.style,k=t.addShape("path",{attrs:{path:v,stroke:A.stroke||r.colorMap&&r.colorMap[r.dataType]?r.colorMap[r.dataType]:"#5B8FF9",lineWidth:A.lineWidth||1.2,endArrow:!1},name:"path-shape"}),R=0,H=8,V;if(r.label&&(V=t.addShape("text",{attrs:{text:r.label,x:h.x+R,y:n.y-H-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),r.dataType){var ot=V?V.getBBox():{height:0};t.addShape("text",{attrs:{text:r.dataType,x:h.x+R,y:n.y-H-ot.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return r.subLabel&&t.addShape("text",{attrs:{text:r.subLabel,x:h.x+R,y:n.y+H+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),k},update:void 0},"single-edge"),Bi.registerEdge("flow-line",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=r.style,o=a===void 0?{}:a,s=t.addShape("path",{attrs:{stroke:o.stroke,endArrow:o.endArrow,path:[["M",e.x,e.y],["L",e.x,(e.y+n.y)/2],["L",n.x,(e.y+n.y)/2],["L",n.x,n.y]]}});return s}});function tb(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function Q9(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?tb(Object(t),!0).forEach(function(e){J9(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):tb(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function J9(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}var q9={show:!1,size:[150,100],type:"keyShape"},Ks=function(r,t,e){var n,a;return e&&e.current&&(n=e.current.offsetWidth,a=e.current.offsetHeight||500),console.log("graph size",n,a,t,r,e,e.current),!r&&!n||!t&&!a?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[r||n||500,t||a||500]},$s=function(r,t){if(!(!t||t.destroyed)&&r&&r.show){var e=Object.assign(q9,r),n=new Bi.Minimap(Q9({},e));return t.addPlugin(n),n}};function Ku(i,r,t){var e=(0,J.useRef)(),n=r.data,a=r.nodeStyle,o=r.nodeAnchorPoints,s=r.nodeType,l=r.edgeType,u=r.edgeStyle,h=r.width,c=r.height,v=r.layout,y=r.minimapCfg,A=r.behaviors,k=r.nodeLabelCfg,R=r.edgeLabelCfg,H;return(0,J.useEffect)(function(){i&&!i.destroyed&&(i.changeData(n),i.layout())},[n]),(0,J.useEffect)(function(){i&&!i.destroyed&&i.getNodes().forEach(function(V){i.updateItem(V,{type:s,style:a,anchorPoints:o,labelCfg:k})})},[a,o,s]),(0,J.useEffect)(function(){i&&!i.destroyed&&i.getEdges().forEach(function(V){i.updateItem(V,{type:l,style:u,labelCfg:R})})},[u,l]),(0,J.useEffect)(function(){if(i&&!i.destroyed){var V=Ks(h,c,t);i.changeSize(V[0],V[1])}},[t,h,c]),(0,J.useEffect)(function(){i&&!i.destroyed&&i.updateLayout(v)},[v]),(0,J.useEffect)(function(){if(!(!y||!i||i.destroyed))if(y.show)H=$s(y,i),H&&H.updateCanvas();else{var V=i.get("plugins")[0];V&&i.removePlugin(V)}},[y]),(0,J.useEffect)(function(){if(i&&!i.destroyed){var V=i.get("modes"),ot=V.default,ut=[];ot.forEach(function(bt){(0,f.isObject)(bt)?ut.push(bt.type):(0,f.isString)(bt)&&ut.push(bt)}),i.removeBehaviors(ut,"default"),i.addBehaviors(A,"default")}},[A]),(0,J.useEffect)(function(){if(e.current=i,i&&!i.destroyed)return function(){i.destroy(),i=void 0}},[]),{graphHook:e}}var eb={hover:{stroke:"#1890ff",lineWidth:2}},tY={fill:"#91d5ff",stroke:"#40a9ff",radius:5},eY={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},rY={type:"compactBox",direction:"TB",getId:function(r){return r.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},rb={style:{fill:"#000",fontSize:12}},Cn,nY=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"rect":s,u=r.edgeType,h=u===void 0?"flow-line":u,c=r.collapseExpand,v=c===void 0?!1:c,y=r.nodeSize,A=y===void 0?[120,40]:y,k=r.nodeLabelCfg,R=k===void 0?rb:k,H=r.edgeLabelCfg,V=H===void 0?rb:H,ot=r.layout,ut=ot===void 0?rY:ot,bt=r.enableEdit,Ft=bt===void 0?!1:bt,Xt=r.minimapCfg,Ut=r.nodeStyle,Gt=Ut===void 0?tY:Ut,te=r.edgeStyle,ue=te===void 0?eY:te,se=r.nodeStateStyles,Me=se===void 0?eb:se,Pe=r.edgeStateStyles,Te=Pe===void 0?eb:Pe,Ve=r.handleNodeClick,je=r.handleEdgeClick,Ue=r.handleNodeHover,Ge=r.handleNodeUnHover,ze=r.handleEdgeHover,ur=r.handleEdgeUnHover,lr=r.handleCanvasClick,pr=r.graphRef,Ze={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,collapseExpand:v,nodeSize:A,nodeLabelCfg:R,edgeLabelCfg:V,layout:ut,enableEdit:Ft,minimapCfg:Xt,nodeStyle:Gt,edgeStyle:ue,nodeStateStyles:Me,edgeStateStyles:Te,handleNodeClick:Ve,handleEdgeClick:je,handleNodeHover:Ue,handleNodeUnHover:Ge,handleEdgeHover:ze,handleEdgeUnHover:ur,handleCanvasClick:lr,graphRef:pr},cr=J.useRef(null);return Ku(Cn,Ze,cr),(0,J.useEffect)(function(){var Tr=Ks(a,o,cr);return(!Cn||Cn.destroyed)&&(l==="icon-node"&&$9({enableEdit:Ft}),Cn=new Bi.TreeGraph({container:cr.current,width:Tr[0],height:Tr[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:l,size:A,style:Gt,labelCfg:R},defaultEdge:{type:h,style:ue,labelCfg:V},nodeStateStyles:Me,edgeStateStyles:Te,layout:ut}),pr&&(pr.current=Cn)),$s(Xt,Cn),Cn.data(t),Cn.render(),Cn.fitView(),v&&Cn.addBehaviors({type:"collapse-expand",onChange:function(vr,Lr){if(!vr)return!1;var jr=vr.get("model").data;return jr.collapsed=Lr,!0}},"default"),Cn.on("node:mouseenter",function(dr){var vr=dr.item;Cn.setItemState(vr,"hover",!0),Ue&&Ue(vr,Cn)}),Cn.on("node:mouseleave",function(dr){var vr=dr.item;Cn.setItemState(vr,"hover",!1),Ge&&Ge(vr,Cn)}),Cn.on("node:click",function(dr){var vr=dr.item,Lr=dr.target,jr=Lr.get("type"),xr=Lr.get("name");if(jr==="marker"){var Le=vr.getModel();if(xr==="add-item"){Le.children||(Le.children=[]);var $e=Math.random().toString(36).slice(-8);Le.children.push({id:$e,label:$e}),Cn.updateChild(Le,Le.id)}else xr==="remove-item"&&Cn.removeChild(Le.id)}else Ve&&Ve(vr,Cn)}),Cn.on("edge:mouseenter",function(dr){var vr=dr.item;Cn.setItemState(vr,"hover",!0),ze&&ze(vr,Cn)}),Cn.on("edge:mouseleave",function(dr){var vr=dr.item;Cn.setItemState(vr,"hover",!1),ur&&ur(vr,Cn)}),Cn.on("edge:click",function(dr){var vr=dr.item;je&&je(vr,Cn)}),Cn.on("canvas:click",function(dr){lr&&lr(Cn)}),function(){return Cn.destroy()}},[]),J.createElement($r,null,J.createElement("div",{className:e,style:n,ref:cr}))},iY=nY,nb={hover:{stroke:"#1890ff",lineWidth:2}},aY=[120,40],oY={stroke:"#40a9ff"},sY=[[.5,0],[.5,1]],lY={stroke:"#91d5ff",endArrow:{path:Bi.Arrow.vee(10,10),fill:"#91d5ff"}},uY={type:"dagre",rankdir:"TB",nodesepFunc:function(r){return 0},ranksepFunc:function(r){return 0},controlPoints:!0},ib={style:{fill:"#000",fontSize:12}},Bn,fY=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"modelRect":s,u=r.edgeType,h=u===void 0?"polyline":u,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,y=r.nodeSize,A=y===void 0?aY:y,k=r.nodeLabelCfg,R=k===void 0?ib:k,H=r.edgeLabelCfg,V=H===void 0?ib:H,ot=r.nodeAnchorPoints,ut=ot===void 0?sY:ot,bt=r.layout,Ft=bt===void 0?uY:bt,Xt=r.minimapCfg,Ut=r.nodeStyle,Gt=Ut===void 0?oY:Ut,te=r.edgeStyle,ue=te===void 0?lY:te,se=r.nodeStateStyles,Me=se===void 0?nb:se,Pe=r.edgeStateStyles,Te=Pe===void 0?nb:Pe,Ve=r.handleEdgeClick,je=r.handleEdgeHover,Ue=r.handleEdgeUnHover,Ge=r.handleNodeClick,ze=r.handleNodeHover,ur=r.handleNodeUnHover,lr=r.handleCanvasClick,pr=r.graphRef,Ze={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:A,nodeLabelCfg:R,edgeLabelCfg:V,nodeAnchorPoints:ut,layout:Ft,minimapCfg:Xt,nodeStyle:Gt,edgeStyle:ue,nodeStateStyles:Me,edgeStateStyles:Te,handleEdgeClick:Ve,handleEdgeHover:je,handleEdgeUnHover:Ue,handleNodeClick:Ge,handleNodeHover:ze,handleNodeUnHover:ur,handleCanvasClick:lr,graphRef:pr},cr=J.useRef(null);return Ku(Bn,Ze,cr),(0,J.useEffect)(function(){var Tr=Ks(a,o,cr);return(!Bn||Bn.destroyed)&&(Bn=new Bi.Graph({container:cr.current,width:Tr[0],height:Tr[1],modes:{default:v},defaultNode:{type:l,size:A,style:Gt,anchorPoints:ut,labelCfg:R},defaultEdge:{type:h,style:ue,labelCfg:V},nodeStateStyles:Me,edgeStateStyles:Te,layout:Ft}),pr&&(pr.current=Bn)),$s(Xt,Bn),Bn.data(t),Bn.render(),Bn.fitView(),Bn.on("edge:mouseenter",function(dr){var vr=dr.item;Bn.setItemState(vr,"hover",!0),je&&je(vr,Bn)}),Bn.on("node:mouseenter",function(dr){var vr=dr.item;Bn.setItemState(vr,"hover",!1),ze&&ze(vr,Bn)}),Bn.on("edge:mouseleave",function(dr){var vr=dr.item;Bn.setItemState(vr,"hover",!1),Ue&&Ue(vr,Bn)}),Bn.on("node:mouseleave",function(dr){var vr=dr.item;Bn.setItemState(vr,"hover",!1),ur&&ur(vr,Bn)}),Bn.on("edge:click",function(dr){var vr=dr.item;Ve&&Ve(vr,Bn)}),Bn.on("node:click",function(dr){var vr=dr.item;Ge&&Ge(vr,Bn)}),Bn.on("canvas:click",function(dr){lr&&lr(Bn)}),function(){return Bn.destroy()}},[]),J.createElement($r,null,J.createElement("div",{className:e,style:n,ref:cr}))},hY=fY,ab={hover:{stroke:"#1890ff",lineWidth:2}},cY=[150,30],vY={stroke:"#72CC4A",fill:"#f00"},dY=[[.5,0],[.5,1]],pY={stroke:"#91d5ff",endArrow:{path:Bi.Arrow.vee(10,10),fill:"#91d5ff"}},gY={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},ob={style:{fill:"#000000A6",fontSize:10}},Pn,yY=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"round-rect":s,u=r.edgeType,h=u===void 0?"fund-polyline":u,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,y=r.nodeSize,A=y===void 0?cY:y,k=r.nodeLabelCfg,R=k===void 0?ob:k,H=r.edgeLabelCfg,V=H===void 0?ob:H,ot=r.nodeAnchorPoints,ut=ot===void 0?dY:ot,bt=r.layout,Ft=bt===void 0?gY:bt,Xt=r.minimapCfg,Ut=r.nodeStyle,Gt=Ut===void 0?vY:Ut,te=r.edgeStyle,ue=te===void 0?pY:te,se=r.nodeStateStyles,Me=se===void 0?ab:se,Pe=r.edgeStateStyles,Te=Pe===void 0?ab:Pe,Ve=r.colorMap,je=Ve===void 0?{}:Ve,Ue=r.handleEdgeClick,Ge=r.handleEdgeHover,ze=r.handleEdgeUnHover,ur=r.handleNodeClick,lr=r.handleNodeHover,pr=r.handleNodeUnHover,Ze=r.handleCanvasClick,cr=r.graphRef,Tr=J.useRef(null),dr={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:A,nodeLabelCfg:R,edgeLabelCfg:V,nodeAnchorPoints:ut,layout:Ft,minimapCfg:Xt,nodeStyle:Gt,edgeStyle:ue,nodeStateStyles:Me,edgeStateStyles:Te,colorMap:je,handleEdgeClick:Ue,handleEdgeHover:Ge,handleEdgeUnHover:ze,handleNodeClick:ur,handleNodeHover:lr,handleNodeUnHover:pr,handleCanvasClick:Ze,graphRef:cr};return Ku(Pn,dr,Tr),(0,J.useEffect)(function(){var vr=Ks(a,o,Tr);(!Pn||Pn.destroyed)&&(Pn=new Bi.Graph({container:Tr.current,width:vr[0],height:vr[1],modes:{default:v},defaultNode:{type:l,size:A,style:Gt,anchorPoints:ut,labelCfg:R},defaultEdge:{type:h,style:ue,colorMap:je,labelCfg:V},nodeStateStyles:Me,edgeStateStyles:Te,layout:Ft}),cr&&(cr.current=Pn)),$s(Xt,Pn),Pn.data(t),Pn.render();var Lr=Pn.getEdges();return Lr.forEach(function(jr){var xr=jr.getKeyShape(),Le=xr.attr("stroke"),$e=jr.getTarget();$e.update({style:{stroke:Le}})}),Pn.fitView(),Pn.on("edge:mouseenter",function(jr){var xr=jr.item;Pn.setItemState(xr,"hover",!0),Ge&&Ge(xr,Pn)}),Pn.on("edge:mouseleave",function(jr){var xr=jr.item;Pn.setItemState(xr,"hover",!1),ze&&ze(xr,Pn)}),Pn.on("edge:click",function(jr){var xr=jr.item;Ue&&Ue(xr,Pn)}),Pn.on("node:mouseenter",function(jr){var xr=jr.item;Pn.setItemState(xr,"hover",!1),lr&&lr(xr,Pn)}),Pn.on("node:mouseleave",function(jr){var xr=jr.item;Pn.setItemState(xr,"hover",!1),pr&&pr(xr,Pn)}),Pn.on("node:click",function(jr){var xr=jr.item;ur&&ur(xr,Pn)}),Pn.on("canvas:click",function(jr){Ze&&Ze(Pn)}),function(){return Pn.destroy()}},[]),J.createElement($r,null,J.createElement("div",{className:e,style:n,ref:Tr}))},mY=yY,sb={hover:{stroke:"#1890ff",lineWidth:2}},xY=[120,40],bY={stroke:"#40a9ff"},wY=[[0,.5],[1,.5]],SY={stroke:"#ccc",endArrow:{path:Bi.Arrow.vee(10,10),fill:"#ccc"}},MY={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(r){return 100}},CY={style:{fill:"#000",fontSize:12}},An,EY=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"card-node":s,u=r.edgeType,h=u===void 0?"cubic-horizontal":u,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,y=r.nodeSize,A=y===void 0?xY:y,k=r.nodeLabelCfg,R=k===void 0?CY:k,H=r.nodeAnchorPoints,V=H===void 0?wY:H,ot=r.layout,ut=ot===void 0?MY:ot,bt=r.minimapCfg,Ft=r.nodeStyle,Xt=Ft===void 0?bY:Ft,Ut=r.edgeStyle,Gt=Ut===void 0?SY:Ut,te=r.nodeStateStyles,ue=te===void 0?sb:te,se=r.edgeStateStyles,Me=se===void 0?sb:se,Pe=r.collapseExpand,Te=Pe===void 0?!0:Pe,Ve=r.handleEdgeClick,je=r.handleEdgeHover,Ue=r.handleEdgeUnHover,Ge=r.handleNodeClick,ze=r.handleNodeHover,ur=r.handleNodeUnHover,lr=r.handleCanvasClick,pr=r.graphRef,Ze=J.useRef(null),cr={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:A,nodeLabelCfg:R,nodeAnchorPoints:V,layout:ut,minimapCfg:bt,nodeStyle:Xt,edgeStyle:Gt,nodeStateStyles:ue,edgeStateStyles:Me,collapseExpand:Te,handleEdgeClick:Ve,handleEdgeHover:je,handleEdgeUnHover:Ue,handleNodeClick:Ge,handleNodeHover:ze,handleNodeUnHover:ur,handleCanvasClick:lr,graphRef:pr};return Ku(An,cr,Ze),(0,J.useEffect)(function(){var Tr=Ks(a,o,Ze);return(!An||An.destroyed)&&(An=new Bi.TreeGraph({container:Ze.current,width:Tr[0],height:Tr[1],modes:{default:v},defaultNode:{type:l,size:A,style:Xt,anchorPoints:V,labelCfg:R},defaultEdge:{type:h,style:Gt},nodeStateStyles:ue,edgeStateStyles:Me,layout:ut}),pr&&(pr.current=An)),$s(bt,An),An.data(t),An.render(),An.fitView(),Te&&An.on("node:click",function(dr){var vr=dr.item;dr.target.get("name")==="collapse-icon"?(An.updateItem(vr,{collapsed:!vr.getModel().collapsed}),An.layout()):Ge&&Ge(vr,An)}),An.on("edge:mouseenter",function(dr){var vr=dr.item;An.setItemState(vr,"hover",!0),je&&je(vr,An)}),An.on("edge:mouseleave",function(dr){var vr=dr.item;An.setItemState(vr,"hover",!1),Ue&&Ue(vr,An)}),An.on("edge:click",function(dr){var vr=dr.item;Ve&&Ve(vr,An)}),An.on("node:mouseenter",function(dr){var vr=dr.item;An.setItemState(vr,"hover",!1),ze&&ze(vr,An)}),An.on("node:mouseleave",function(dr){var vr=dr.item;An.setItemState(vr,"hover",!1),ur&&ur(vr,An)}),An.on("canvas:click",function(dr){lr&&lr(An)}),function(){return An.destroy()}},[]),J.createElement($r,null,J.createElement("div",{className:e,style:n,ref:Ze}))},AY=EY,Wz={Area:a5,Bar:l5,Bubble:h5,Bullet:d5,Calendar:m5,Column:k0,ColumnLine:M5,DensityHeatmap:A5,Donut:R0,DualLine:O5,FanGauge:B5,Funnel:N5,Gauge:z0,GroupedBar:V5,GroupedColumn:j5,GroupedColumnLine:K5,GroupedRose:J5,Heatmap:eF,Histogram:iF,Line:K0,Liquid:Q0,MeterGauge:hF,PercentStackedArea:dF,PercentStackedBar:yF,PercentStackedColumn:bF,Pie:MF,Progress:im,Radar:om,RangeBar:LF,RangeColumn:kF,RingProgress:fm,Rose:NF,Scatter:zF,StackedArea:HF,StackedBar:UF,StackedColumn:$F,StackedColumnLine:qF,StackedRose:rR,StepLine:aR,TinyArea:bm,TinyColumn:Sm,TinyLine:cR,Treemap:pR,Waterfall:mR,WordCloud:Am,OrganizationTreeGraph:iY,DagreGraph:hY,IndentedTree:AY,DagreFundFlowGraph:mY,G2:P}},3935:function(xt,S,d){"use strict";var w=d(98453),O=d(90494),I=d(91241),L=function(P){(0,w.ZT)(T,P);function T(M){var E=P.call(this)||this;E.destroyed=!1;var p=E.getDefaultCfg();return E.cfg=(0,I.CD)(p,M),E}return T.prototype.getDefaultCfg=function(){return{}},T.prototype.get=function(M){return this.cfg[M]},T.prototype.set=function(M,E){this.cfg[M]=E},T.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},T}(O.default);S.Z=L},89725:function(xt,S,d){"use strict";d.d(S,{Z:function(){return et}});var w=d(98453),O=d(43631),I=d(36540),L=d(91241),P=d(49242),T=0,M=0,E=0,p=1e3,b,m,x=0,g=0,C=0,_=typeof performance=="object"&&performance.now?performance:Date,B=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(lt){setTimeout(lt,17)};function D(){return g||(B(W),g=_.now()+C)}function W(){g=0}function Z(){this._call=this._time=this._next=null}Z.prototype=X.prototype={constructor:Z,restart:function(lt,st,At){if(typeof lt!="function")throw new TypeError("callback is not a function");At=(At==null?D():+At)+(st==null?0:+st),!this._next&&m!==this&&(m?m._next=this:b=this,m=this),this._call=lt,this._time=At,dt()},stop:function(){this._call&&(this._call=null,this._time=Infinity,dt())}};function X(lt,st,At){var Ot=new Z;return Ot.restart(lt,st,At),Ot}function j(){D(),++T;for(var lt=b,st;lt;)(st=g-lt._time)>=0&&lt._call.call(null,st),lt=lt._next;--T}function it(){g=(x=_.now())+C,T=M=0;try{j()}finally{T=0,yt(),g=0}}function tt(){var lt=_.now(),st=lt-x;st>p&&(C-=st,x=lt)}function yt(){for(var lt,st=b,At,Ot=Infinity;st;)st._call?(Ot>st._time&&(Ot=st._time),lt=st,st=st._next):(At=st._next,st._next=null,st=lt?lt._next=At:b=At);m=lt,dt(Ot)}function dt(lt){if(!T){M&&(M=clearTimeout(M));var st=lt-g;st>24?(lt<Infinity&&(M=setTimeout(it,lt-_.now()-C)),E&&(E=clearInterval(E))):(E||(x=_.now(),E=setInterval(tt,p)),T=1,B(it))}}var Ct=d(13681),F=d(26257),z=d(88122),G=d(80234),Y=function(lt){return["fill","stroke","fillStyle","strokeStyle"].includes(lt)},q=function(lt){return/^[r,R,L,l]{1}[\s]*\(/.test(lt)},$=[1,0,0,0,1,0,0,0,1];function J(lt,st,At){var Ot={},Qt=st.fromAttrs,ve=st.toAttrs;if(!lt.destroyed){var fe;for(var ce in ve)if(!(0,P.isEqual)(Qt[ce],ve[ce]))if(ce==="path"){var Ae=ve[ce],De=Qt[ce];Ae.length>De.length?(Ae=G.parsePathString(ve[ce]),De=G.parsePathString(Qt[ce]),De=G.fillPathByDiff(De,Ae),De=G.formatPath(De,Ae),st.fromAttrs.path=De,st.toAttrs.path=Ae):st.pathFormatted||(Ae=G.parsePathString(ve[ce]),De=G.parsePathString(Qt[ce]),De=G.formatPath(De,Ae),st.fromAttrs.path=De,st.toAttrs.path=Ae,st.pathFormatted=!0),Ot[ce]=[];for(var rr=0;rr<Ae.length;rr++){for(var Je=Ae[rr],Er=De[rr],Jr=[],Ar=0;Ar<Je.length;Ar++)(0,P.isNumber)(Je[Ar])&&Er&&(0,P.isNumber)(Er[Ar])?(fe=(0,F.Z)(Er[Ar],Je[Ar]),Jr.push(fe(At))):Jr.push(Je[Ar]);Ot[ce].push(Jr)}}else if(ce==="matrix"){var Qr=(0,z.Z)(Qt[ce]||$,ve[ce]||$),Un=Qr(At);Ot[ce]=Un}else Y(ce)&&q(ve[ce])?Ot[ce]=ve[ce]:(0,P.isFunction)(ve[ce])||(fe=(0,F.Z)(Qt[ce],ve[ce]),Ot[ce]=fe(At));lt.attr(Ot)}}function U(lt,st,At){var Ot=st.startTime,Qt=st.delay;if(At<Ot+Qt||st._paused)return!1;var ve,fe=st.duration,ce=st.easing;if(At=At-Ot-st.delay,st.repeat)ve=At%fe/fe,ve=Ct[ce](ve);else if(ve=At/fe,ve<1)ve=Ct[ce](ve);else return st.onFrame?lt.attr(st.onFrame(1)):lt.attr(st.toAttrs),!0;if(st.onFrame){var Ae=st.onFrame(ve);lt.attr(Ae)}else J(lt,st,ve);return!1}var K=function(){function lt(st){this.animators=[],this.current=0,this.timer=null,this.canvas=st}return lt.prototype.initTimer=function(){var st=this,At=!1,Ot,Qt,ve;this.timer=X(function(fe){if(st.current=fe,st.animators.length>0){for(var ce=st.animators.length-1;ce>=0;ce--){if(Ot=st.animators[ce],Ot.destroyed){st.removeAnimator(ce);continue}if(!Ot.isAnimatePaused()){Qt=Ot.get("animations");for(var Ae=Qt.length-1;Ae>=0;Ae--)ve=Qt[Ae],At=U(Ot,ve,fe),At&&(Qt.splice(Ae,1),At=!1,ve.callback&&ve.callback())}Qt.length===0&&st.removeAnimator(ce)}var De=st.canvas.get("autoDraw");De||st.canvas.draw()}})},lt.prototype.addAnimator=function(st){this.animators.push(st)},lt.prototype.removeAnimator=function(st){this.animators.splice(st,1)},lt.prototype.isAnimating=function(){return!!this.animators.length},lt.prototype.stop=function(){this.timer&&this.timer.stop()},lt.prototype.stopAllAnimations=function(st){st===void 0&&(st=!0),this.animators.forEach(function(At){At.stopAnimate(st)}),this.animators=[],this.canvas.draw()},lt.prototype.getTime=function(){return this.current},lt}(),f=K,mt=d(65608),Tt=40,at=0,Pt=":",wt=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Et(lt,st){for(var At in lt)if(lt.hasOwnProperty(At)&&At.indexOf(Pt+st)>=0)return!0;return!1}function Rt(lt,st,At){At.name=st,At.target=lt,At.currentTarget=lt,At.delegateTarget=lt,lt.emit(st,At)}function Nt(lt,st,At){if(At.bubbles){var Ot=void 0,Qt=!1;if(st==="mouseenter"?(Ot=At.fromShape,Qt=!0):st==="mouseleave"&&(Qt=!0,Ot=At.toShape),lt.isCanvas()&&Qt)return;if(Ot&&(0,L.UY)(lt,Ot)){At.bubbles=!1;return}At.name=st,At.currentTarget=lt,At.delegateTarget=lt,lt.emit(st,At)}}var kt=function(){function lt(st){var At=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(Ot){var Qt=Ot.type;At._triggerEvent(Qt,Ot)},this._onDocumentMove=function(Ot){var Qt=At.canvas,ve=Qt.get("el");if(ve!==Ot.target&&(At.dragging||At.currentShape)){var fe=At._getPointInfo(Ot);At.dragging&&At._emitEvent("drag",Ot,fe,At.draggingShape)}},this._onDocumentMouseUp=function(Ot){var Qt=At.canvas,ve=Qt.get("el");if(ve!==Ot.target&&At.dragging){var fe=At._getPointInfo(Ot);At.draggingShape&&At._emitEvent("drop",Ot,fe,null),At._emitEvent("dragend",Ot,fe,At.draggingShape),At._afterDrag(At.draggingShape,fe,Ot)}},this.canvas=st.canvas}return lt.prototype.init=function(){this._bindEvents()},lt.prototype._bindEvents=function(){var st=this,At=this.canvas.get("el");(0,L.S6)(wt,function(Ot){At.addEventListener(Ot,st._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},lt.prototype._clearEvents=function(){var st=this,At=this.canvas.get("el");(0,L.S6)(wt,function(Ot){At.removeEventListener(Ot,st._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},lt.prototype._getEventObj=function(st,At,Ot,Qt,ve,fe){var ce=new mt.Z(st,At);return ce.fromShape=ve,ce.toShape=fe,ce.x=Ot.x,ce.y=Ot.y,ce.clientX=Ot.clientX,ce.clientY=Ot.clientY,ce.propagationPath.push(Qt),ce},lt.prototype._getShape=function(st,At){return this.canvas.getShape(st.x,st.y,At)},lt.prototype._getPointInfo=function(st){var At=this.canvas,Ot=At.getClientByEvent(st),Qt=At.getPointByEvent(st);return{x:Qt.x,y:Qt.y,clientX:Ot.x,clientY:Ot.y}},lt.prototype._triggerEvent=function(st,At){var Ot=this._getPointInfo(At),Qt=this._getShape(Ot,At),ve=this["_on"+st],fe=!1;if(ve)ve.call(this,Ot,Qt,At);else{var ce=this.currentShape;st==="mouseenter"||st==="dragenter"||st==="mouseover"?(this._emitEvent(st,At,Ot,null,null,Qt),Qt&&this._emitEvent(st,At,Ot,Qt,null,Qt),st==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",At,Ot,null)):st==="mouseleave"||st==="dragleave"||st==="mouseout"?(fe=!0,ce&&this._emitEvent(st,At,Ot,ce,ce,null),this._emitEvent(st,At,Ot,null,ce,null),st==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",At,Ot,null)):this._emitEvent(st,At,Ot,Qt,null,null)}if(fe||(this.currentShape=Qt),Qt&&!Qt.get("destroyed")){var Ae=this.canvas,De=Ae.get("el");De.style.cursor=Qt.attr("cursor")||Ae.get("cursor")}},lt.prototype._onmousedown=function(st,At,Ot){Ot.button===at&&(this.mousedownShape=At,this.mousedownPoint=st,this.mousedownTimeStamp=Ot.timeStamp),this._emitEvent("mousedown",Ot,st,At,null,null)},lt.prototype._emitMouseoverEvents=function(st,At,Ot,Qt){var ve=this.canvas.get("el");Ot!==Qt&&(Ot&&(this._emitEvent("mouseout",st,At,Ot,Ot,Qt),this._emitEvent("mouseleave",st,At,Ot,Ot,Qt),(!Qt||Qt.get("destroyed"))&&(ve.style.cursor=this.canvas.get("cursor"))),Qt&&(this._emitEvent("mouseover",st,At,Qt,Ot,Qt),this._emitEvent("mouseenter",st,At,Qt,Ot,Qt)))},lt.prototype._emitDragoverEvents=function(st,At,Ot,Qt,ve){Qt?(Qt!==Ot&&(Ot&&this._emitEvent("dragleave",st,At,Ot,Ot,Qt),this._emitEvent("dragenter",st,At,Qt,Ot,Qt)),ve||this._emitEvent("dragover",st,At,Qt)):Ot&&this._emitEvent("dragleave",st,At,Ot,Ot,Qt),ve&&this._emitEvent("dragover",st,At,Qt)},lt.prototype._afterDrag=function(st,At,Ot){st&&(st.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Qt=this._getShape(At,Ot);Qt!==st&&this._emitMouseoverEvents(Ot,At,st,Qt),this.currentShape=Qt},lt.prototype._onmouseup=function(st,At,Ot){if(Ot.button===at){var Qt=this.draggingShape;this.dragging?(Qt&&this._emitEvent("drop",Ot,st,At),this._emitEvent("dragend",Ot,st,Qt),this._afterDrag(Qt,st,Ot)):(this._emitEvent("mouseup",Ot,st,At),At===this.mousedownShape&&this._emitEvent("click",Ot,st,At),this.mousedownShape=null,this.mousedownPoint=null)}},lt.prototype._ondragover=function(st,At,Ot){Ot.preventDefault();var Qt=this.currentShape;this._emitDragoverEvents(Ot,st,Qt,At,!0)},lt.prototype._onmousemove=function(st,At,Ot){var Qt=this.canvas,ve=this.currentShape,fe=this.draggingShape;if(this.dragging)fe&&this._emitDragoverEvents(Ot,st,ve,At,!1),this._emitEvent("drag",Ot,st,fe);else{var ce=this.mousedownPoint;if(ce){var Ae=this.mousedownShape,De=Ot.timeStamp,rr=De-this.mousedownTimeStamp,Je=ce.clientX-st.clientX,Er=ce.clientY-st.clientY,Jr=Je*Je+Er*Er;rr>120||Jr>Tt?Ae&&Ae.get("draggable")?(fe=this.mousedownShape,fe.set("capture",!1),this.draggingShape=fe,this.dragging=!0,this._emitEvent("dragstart",Ot,st,fe),this.mousedownShape=null,this.mousedownPoint=null):!Ae&&Qt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",Ot,st,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(Ot,st,ve,At),this._emitEvent("mousemove",Ot,st,At)):(this._emitMouseoverEvents(Ot,st,ve,At),this._emitEvent("mousemove",Ot,st,At))}else this._emitMouseoverEvents(Ot,st,ve,At),this._emitEvent("mousemove",Ot,st,At)}},lt.prototype._emitEvent=function(st,At,Ot,Qt,ve,fe){var ce=this._getEventObj(st,At,Ot,Qt,ve,fe);if(Qt){ce.shape=Qt,Rt(Qt,st,ce);for(var Ae=Qt.getParent();Ae;)Ae.emitDelegation(st,ce),ce.propagationStopped||Nt(Ae,st,ce),ce.propagationPath.push(Ae),Ae=Ae.getParent()}else{var De=this.canvas;Rt(De,st,ce)}},lt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},lt}(),_t=kt,ht="px",ft=(0,O.detect)(),Mt=ft&&ft.name==="firefox",rt=function(lt){(0,w.ZT)(st,lt);function st(At){var Ot=lt.call(this,At)||this;return Ot.initContainer(),Ot.initDom(),Ot.initEvents(),Ot.initTimeline(),Ot}return st.prototype.getDefaultCfg=function(){var At=lt.prototype.getDefaultCfg.call(this);return At.cursor="default",At.supportCSSTransform=!1,At},st.prototype.initContainer=function(){var At=this.get("container");(0,L.HD)(At)&&(At=document.getElementById(At),this.set("container",At))},st.prototype.initDom=function(){var At=this.createDom();this.set("el",At);var Ot=this.get("container");Ot.appendChild(At),this.setDOMSize(this.get("width"),this.get("height"))},st.prototype.initEvents=function(){var At=new _t({canvas:this});At.init(),this.set("eventController",At)},st.prototype.initTimeline=function(){var At=new f(this);this.set("timeline",At)},st.prototype.setDOMSize=function(At,Ot){var Qt=this.get("el");L.jU&&(Qt.style.width=At+ht,Qt.style.height=Ot+ht)},st.prototype.changeSize=function(At,Ot){this.setDOMSize(At,Ot),this.set("width",At),this.set("height",Ot),this.onCanvasChange("changeSize")},st.prototype.getRenderer=function(){return this.get("renderer")},st.prototype.getCursor=function(){return this.get("cursor")},st.prototype.setCursor=function(At){this.set("cursor",At);var Ot=this.get("el");L.jU&&Ot&&(Ot.style.cursor=At)},st.prototype.getPointByEvent=function(At){var Ot=this.get("supportCSSTransform");if(Ot){if(Mt&&!(0,L.kK)(At.layerX)&&At.layerX!==At.offsetX)return{x:At.layerX,y:At.layerY};if(!(0,L.kK)(At.offsetX))return{x:At.offsetX,y:At.offsetY}}var Qt=this.getClientByEvent(At),ve=Qt.x,fe=Qt.y;return this.getPointByClient(ve,fe)},st.prototype.getClientByEvent=function(At){var Ot=At;return At.touches&&(At.type==="touchend"?Ot=At.changedTouches[0]:Ot=At.touches[0]),{x:Ot.clientX,y:Ot.clientY}},st.prototype.getPointByClient=function(At,Ot){var Qt=this.get("el"),ve=Qt.getBoundingClientRect();return{x:At-ve.left,y:Ot-ve.top}},st.prototype.getClientByPoint=function(At,Ot){var Qt=this.get("el"),ve=Qt.getBoundingClientRect();return{x:At+ve.left,y:Ot+ve.top}},st.prototype.draw=function(){},st.prototype.removeDom=function(){var At=this.get("el");At.parentNode.removeChild(At)},st.prototype.clearEvents=function(){var At=this.get("eventController");At.destroy()},st.prototype.isCanvas=function(){return!0},st.prototype.getParent=function(){return null},st.prototype.destroy=function(){var At=this.get("timeline");this.get("destroyed")||(this.clear(),At&&At.stop(),this.clearEvents(),this.removeDom(),lt.prototype.destroy.call(this))},st}(I.Z),et=rt},36540:function(xt,S,d){"use strict";var w=d(98453),O=d(49242),I=d(94638),L=d(91241),P={},T="_INDEX";function M(g,C){if(g.set("canvas",C),g.isGroup()){var _=g.get("children");_.length&&_.forEach(function(B){M(B,C)})}}function E(g,C){if(g.set("timeline",C),g.isGroup()){var _=g.get("children");_.length&&_.forEach(function(B){E(B,C)})}}function p(g,C){var _=g.getChildren();return _.indexOf(C)>=0}function b(g,C,_){_===void 0&&(_=!0),_?C.destroy():(C.set("parent",null),C.set("canvas",null)),(0,L.As)(g.getChildren(),C)}function m(g){return function(C,_){var B=g(C,_);return B===0?C[T]-_[T]:B}}var x=function(g){(0,w.ZT)(C,g);function C(){return g!==null&&g.apply(this,arguments)||this}return C.prototype.isCanvas=function(){return!1},C.prototype.getBBox=function(){var _=Infinity,B=-Infinity,D=Infinity,W=-Infinity,Z=[],X=[],j=this.getChildren().filter(function(tt){return tt.get("visible")&&(!tt.isGroup()||tt.isGroup()&&tt.getChildren().length>0)});j.length>0?((0,L.S6)(j,function(tt){var yt=tt.getBBox();Z.push(yt.minX,yt.maxX),X.push(yt.minY,yt.maxY)}),_=(0,O.min)(Z),B=(0,O.max)(Z),D=(0,O.min)(X),W=(0,O.max)(X)):(_=0,B=0,D=0,W=0);var it={x:_,y:D,minX:_,minY:D,maxX:B,maxY:W,width:B-_,height:W-D};return it},C.prototype.getCanvasBBox=function(){var _=Infinity,B=-Infinity,D=Infinity,W=-Infinity,Z=[],X=[],j=this.getChildren().filter(function(tt){return tt.get("visible")&&(!tt.isGroup()||tt.isGroup()&&tt.getChildren().length>0)});j.length>0?((0,L.S6)(j,function(tt){var yt=tt.getCanvasBBox();Z.push(yt.minX,yt.maxX),X.push(yt.minY,yt.maxY)}),_=(0,O.min)(Z),B=(0,O.max)(Z),D=(0,O.min)(X),W=(0,O.max)(X)):(_=0,B=0,D=0,W=0);var it={x:_,y:D,minX:_,minY:D,maxX:B,maxY:W,width:B-_,height:W-D};return it},C.prototype.getDefaultCfg=function(){var _=g.prototype.getDefaultCfg.call(this);return _.children=[],_},C.prototype.onAttrChange=function(_,B,D){if(g.prototype.onAttrChange.call(this,_,B,D),_==="matrix"){var W=this.getTotalMatrix();this._applyChildrenMarix(W)}},C.prototype.applyMatrix=function(_){var B=this.getTotalMatrix();g.prototype.applyMatrix.call(this,_);var D=this.getTotalMatrix();D!==B&&this._applyChildrenMarix(D)},C.prototype._applyChildrenMarix=function(_){var B=this.getChildren();(0,L.S6)(B,function(D){D.applyMatrix(_)})},C.prototype.addShape=function(){for(var _=[],B=0;B<arguments.length;B++)_[B]=arguments[B];var D=_[0],W=_[1];(0,L.Kn)(D)?W=D:W.type=D;var Z=P[W.type];Z||(Z=(0,L.jC)(W.type),P[W.type]=Z);var X=this.getShapeBase(),j=new X[Z](W);return this.add(j),j},C.prototype.addGroup=function(){for(var _=[],B=0;B<arguments.length;B++)_[B]=arguments[B];var D=_[0],W=_[1],Z;if((0,L.mf)(D))W?Z=new D(W):Z=new D({parent:this});else{var X=D||{},j=this.getGroupBase();Z=new j(X)}return this.add(Z),Z},C.prototype.getCanvas=function(){var _;return this.isCanvas()?_=this:_=this.get("canvas"),_},C.prototype.getShape=function(_,B,D){if(!(0,L.pP)(this))return null;var W=this.getChildren(),Z;if(this.isCanvas())Z=this._findShape(W,_,B,D);else{var X=[_,B,1];X=this.invertFromMatrix(X),this.isClipped(X[0],X[1])||(Z=this._findShape(W,X[0],X[1],D))}return Z},C.prototype._findShape=function(_,B,D,W){for(var Z=null,X=_.length-1;X>=0;X--){var j=_[X];if((0,L.pP)(j)&&(j.isGroup()?Z=j.getShape(B,D,W):j.isHit(B,D)&&(Z=j)),Z)break}return Z},C.prototype.add=function(_){var B=this.getCanvas(),D=this.getChildren(),W=this.get("timeline"),Z=_.getParent();Z&&b(Z,_,!1),_.set("parent",this),B&&M(_,B),W&&E(_,W),D.push(_),_.onCanvasChange("add"),this._applyElementMatrix(_)},C.prototype._applyElementMatrix=function(_){var B=this.getTotalMatrix();B&&_.applyMatrix(B)},C.prototype.getChildren=function(){return this.get("children")},C.prototype.sort=function(){var _=this.getChildren();(0,L.S6)(_,function(B,D){return B[T]=D,B}),_.sort(m(function(B,D){return B.get("zIndex")-D.get("zIndex")})),this.onCanvasChange("sort")},C.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var _=this.getChildren(),B=_.length-1;B>=0;B--)_[B].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},C.prototype.destroy=function(){this.get("destroyed")||(this.clear(),g.prototype.destroy.call(this))},C.prototype.getFirst=function(){return this.getChildByIndex(0)},C.prototype.getLast=function(){var _=this.getChildren();return this.getChildByIndex(_.length-1)},C.prototype.getChildByIndex=function(_){var B=this.getChildren();return B[_]},C.prototype.getCount=function(){var _=this.getChildren();return _.length},C.prototype.contain=function(_){var B=this.getChildren();return B.indexOf(_)>-1},C.prototype.removeChild=function(_,B){B===void 0&&(B=!0),this.contain(_)&&_.remove(B)},C.prototype.findAll=function(_){var B=[],D=this.getChildren();return(0,L.S6)(D,function(W){_(W)&&B.push(W),W.isGroup()&&(B=B.concat(W.findAll(_)))}),B},C.prototype.find=function(_){var B=null,D=this.getChildren();return(0,L.S6)(D,function(W){if(_(W)?B=W:W.isGroup()&&(B=W.find(_)),B)return!1}),B},C.prototype.findById=function(_){return this.find(function(B){return B.get("id")===_})},C.prototype.findByClassName=function(_){return this.find(function(B){return B.get("className")===_})},C.prototype.findAllByName=function(_){return this.findAll(function(B){return B.get("name")===_})},C}(I.Z);S.Z=x},94638:function(xt,S,d){"use strict";d.d(S,{Z:function(){return Ct}});var w=d(98453),O=d(49242),I=d(35600);function L(F,z,G){var Y=[0,0,0,0,0,0,0,0,0];return I.fromTranslation(Y,G),I.multiply(F,Y,z)}function P(F,z,G){var Y=[0,0,0,0,0,0,0,0,0];return I.fromRotation(Y,G),I.multiply(F,Y,z)}function T(F,z,G){var Y=[0,0,0,0,0,0,0,0,0];return I.fromScaling(Y,G),I.multiply(F,Y,z)}function M(F,z,G){return I.multiply(F,G,z)}function E(F,z){for(var G=F?[].concat(F):[1,0,0,0,1,0,0,0,1],Y=0,q=z.length;Y<q;Y++){var $=z[Y];switch($[0]){case"t":L(G,G,[$[1],$[2]]);break;case"s":T(G,G,[$[1],$[2]]);break;case"r":P(G,G,$[1]);break;case"m":M(G,G,$[1]);break;default:break}}return G}function p(F,z){return F[0]*z[1]-z[0]*F[1]}function b(F,z,G){var Y=vec2.angle(F,z),q=p(F,z)>=0;return G?q?Math.PI*2-Y:Y:q?Y:Math.PI*2-Y}function m(F,z,G){return G?(F[0]=z[1],F[1]=-1*z[0]):(F[0]=-1*z[1],F[1]=z[0]),F}var x=d(91241),g=d(93557),C=d(3935),_=E,B="matrix",D=["zIndex","capture","visible","type"],W=["repeat"],Z=":",X="*";function j(F){for(var z=[],G=0;G<F.length;G++)(0,O.isArray)(F[G])?z.push([].concat(F[G])):z.push(F[G]);return z}function it(F,z){var G={},Y=z.attrs;for(var q in F)G[q]=Y[q];return G}function tt(F,z){var G={},Y=z.attr();return(0,O.each)(F,function(q,$){W.indexOf($)===-1&&!(0,O.isEqual)(Y[$],q)&&(G[$]=q)}),G}function yt(F,z){if(z.onFrame)return F;var G=z.startTime,Y=z.delay,q=z.duration,$=Object.prototype.hasOwnProperty;return(0,O.each)(F,function(J){G+Y<J.startTime+J.delay+J.duration&&q>J.delay&&(0,O.each)(z.toAttrs,function(U,K){$.call(J.toAttrs,K)&&(delete J.toAttrs[K],delete J.fromAttrs[K])})}),F}var dt=function(F){(0,w.ZT)(z,F);function z(G){var Y=F.call(this,G)||this;Y.attrs={};var q=Y.getDefaultAttrs();return(0,O.mix)(q,G.attrs),Y.attrs=q,Y.initAttrs(q),Y.initAnimate(),Y}return z.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},z.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},z.prototype.onCanvasChange=function(G){},z.prototype.initAttrs=function(G){},z.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},z.prototype.isGroup=function(){return!1},z.prototype.getParent=function(){return this.get("parent")},z.prototype.getCanvas=function(){return this.get("canvas")},z.prototype.attr=function(){for(var G,Y=[],q=0;q<arguments.length;q++)Y[q]=arguments[q];var $=Y[0],J=Y[1];if(!$)return this.attrs;if((0,O.isObject)($)){for(var U in $)this.setAttr(U,$[U]);return this.afterAttrsChange($),this}return Y.length===2?(this.setAttr($,J),this.afterAttrsChange((G={},G[$]=J,G)),this):this.attrs[$]},z.prototype.isClipped=function(G,Y){var q=this.getClip();return q&&!q.isHit(G,Y)},z.prototype.setAttr=function(G,Y){var q=this.attrs[G];q!==Y&&(this.attrs[G]=Y,this.onAttrChange(G,Y,q))},z.prototype.onAttrChange=function(G,Y,q){G==="matrix"&&this.set("totalMatrix",null)},z.prototype.afterAttrsChange=function(G){if(this.cfg.isClipShape){var Y=this.cfg.applyTo;Y&&Y.onCanvasChange("clip")}else this.onCanvasChange("attr")},z.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},z.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},z.prototype.setZIndex=function(G){this.set("zIndex",G);var Y=this.getParent();return Y&&Y.sort(),this},z.prototype.toFront=function(){var G=this.getParent();if(!!G){var Y=G.getChildren(),q=this.get("el"),$=Y.indexOf(this);Y.splice($,1),Y.push(this),this.onCanvasChange("zIndex")}},z.prototype.toBack=function(){var G=this.getParent();if(!!G){var Y=G.getChildren(),q=this.get("el"),$=Y.indexOf(this);Y.splice($,1),Y.unshift(this),this.onCanvasChange("zIndex")}},z.prototype.remove=function(G){G===void 0&&(G=!0);var Y=this.getParent();Y?((0,x.As)(Y.getChildren(),this),Y.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),G&&this.destroy()},z.prototype.resetMatrix=function(){this.attr(B,this.getDefaultMatrix()),this.onCanvasChange("matrix")},z.prototype.getMatrix=function(){return this.attr(B)},z.prototype.setMatrix=function(G){this.attr(B,G),this.onCanvasChange("matrix")},z.prototype.getTotalMatrix=function(){var G=this.cfg.totalMatrix;if(!G){var Y=this.attr("matrix"),q=this.cfg.parentMatrix;q&&Y?G=(0,g.xq)(q,Y):G=Y||q,this.set("totalMatrix",G)}return G},z.prototype.applyMatrix=function(G){var Y=this.attr("matrix"),q=null;G&&Y?q=(0,g.xq)(G,Y):q=Y||G,this.set("totalMatrix",q),this.set("parentMatrix",G)},z.prototype.getDefaultMatrix=function(){return null},z.prototype.applyToMatrix=function(G){var Y=this.attr("matrix");return Y?(0,g.rG)(Y,G):G},z.prototype.invertFromMatrix=function(G){var Y=this.attr("matrix");if(Y){var q=(0,g.U_)(Y);if(q)return(0,g.rG)(q,G)}return G},z.prototype.setClip=function(G){var Y=this.getCanvas(),q=null;if(G){var $=this.getShapeBase(),J=(0,O.upperFirst)(G.type),U=$[J];U&&(q=new U({type:G.type,isClipShape:!0,applyTo:this,attrs:G.attrs,canvas:Y}))}return this.set("clipShape",q),this.onCanvasChange("clip"),q},z.prototype.getClip=function(){var G=this.cfg.clipShape;return G||null},z.prototype.clone=function(){var G=this,Y=this.attrs,q={};(0,O.each)(Y,function(U,K){(0,O.isArray)(Y[K])?q[K]=j(Y[K]):q[K]=Y[K]});var $=this.constructor,J=new $({attrs:q});return(0,O.each)(D,function(U){J.set(U,G.get(U))}),J},z.prototype.destroy=function(){var G=this.destroyed;G||(this.attrs={},F.prototype.destroy.call(this))},z.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},z.prototype.animate=function(){for(var G=[],Y=0;Y<arguments.length;Y++)G[Y]=arguments[Y];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var q=this.get("timeline");q||(q=this.get("canvas").get("timeline"),this.set("timeline",q));var $=this.get("animations")||[];q.timer||q.initTimer();var J=G[0],U=G[1],K=G[2],f=K===void 0?"easeLinear":K,mt=G[3],Tt=mt===void 0?O.noop:mt,at=G[4],Pt=at===void 0?0:at,wt,Et,Rt,Nt,kt;(0,O.isFunction)(J)?(wt=J,J={}):(0,O.isObject)(J)&&J.onFrame&&(wt=J.onFrame,Et=J.repeat),(0,O.isObject)(U)?(kt=U,U=kt.duration,f=kt.easing||"easeLinear",Pt=kt.delay||0,Et=kt.repeat||Et||!1,Tt=kt.callback||O.noop,Rt=kt.pauseCallback||O.noop,Nt=kt.resumeCallback||O.noop):((0,O.isNumber)(Tt)&&(Pt=Tt,Tt=null),(0,O.isFunction)(f)?(Tt=f,f="easeLinear"):f=f||"easeLinear");var _t=tt(J,this),ht={fromAttrs:it(_t,this),toAttrs:_t,duration:U,easing:f,repeat:Et,callback:Tt,pauseCallback:Rt,resumeCallback:Nt,delay:Pt,startTime:q.getTime(),id:(0,O.uniqueId)(),onFrame:wt,pathFormatted:!1};$.length>0?$=yt($,ht):q.addAnimator(this),$.push(ht),this.set("animations",$),this.set("_pause",{isPaused:!1})}},z.prototype.stopAnimate=function(G){var Y=this;G===void 0&&(G=!0);var q=this.get("animations");(0,O.each)(q,function($){G&&($.onFrame?Y.attr($.onFrame(1)):Y.attr($.toAttrs)),$.callback&&$.callback()}),this.set("animating",!1),this.set("animations",[])},z.prototype.pauseAnimate=function(){var G=this.get("timeline"),Y=this.get("animations"),q=G.getTime();return(0,O.each)(Y,function($){$._paused=!0,$._pauseTime=q,$.pauseCallback&&$.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:q}),this},z.prototype.resumeAnimate=function(){var G=this.get("timeline"),Y=G.getTime(),q=this.get("animations"),$=this.get("_pause").pauseTime;return(0,O.each)(q,function(J){J.startTime=J.startTime+(Y-$),J._paused=!1,J._pauseTime=null,J.resumeCallback&&J.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",q),this},z.prototype.emitDelegation=function(G,Y){var q=this,$=Y.propagationPath,J=this.getEvents(),U;G==="mouseenter"?U=Y.fromShape:G==="mouseleave"&&(U=Y.toShape);for(var K=function(at){var Pt=$[at],wt=Pt.get("name");if(wt){if((Pt.isGroup()||Pt.isCanvas&&Pt.isCanvas())&&U&&(0,x.UY)(Pt,U))return"break";(0,O.isArray)(wt)?(0,O.each)(wt,function(Et){q.emitDelegateEvent(Pt,Et,Y)}):f.emitDelegateEvent(Pt,wt,Y)}},f=this,mt=0;mt<$.length;mt++){var Tt=K(mt);if(Tt==="break")break}},z.prototype.emitDelegateEvent=function(G,Y,q){var $=this.getEvents(),J=Y+Z+q.type;($[J]||$[X])&&(q.name=J,q.currentTarget=G,q.delegateTarget=this,q.delegateObject=G.get("delegateObject"),this.emit(J,q))},z.prototype.translate=function(G,Y){G===void 0&&(G=0),Y===void 0&&(Y=0);var q=this.getMatrix(),$=_(q,[["t",G,Y]]);return this.setMatrix($),this},z.prototype.move=function(G,Y){var q=this.attr("x")||0,$=this.attr("y")||0;return this.translate(G-q,Y-$),this},z.prototype.moveTo=function(G,Y){return this.move(G,Y)},z.prototype.scale=function(G,Y){var q=this.getMatrix(),$=_(q,[["s",G,Y||G]]);return this.setMatrix($),this},z.prototype.rotate=function(G){var Y=this.getMatrix(),q=_(Y,[["r",G]]);return this.setMatrix(q),this},z.prototype.rotateAtStart=function(G){var Y=this.attr(),q=Y.x,$=Y.y,J=this.getMatrix(),U=_(J,[["t",-q,-$],["r",G],["t",q,$]]);return this.setMatrix(U),this},z.prototype.rotateAtPoint=function(G,Y,q){var $=this.getMatrix(),J=_($,[["t",-G,-Y],["r",q],["t",G,Y]]);return this.setMatrix(J),this},z}(C.Z),Ct=dt},1756:function(xt,S,d){"use strict";var w=d(98453),O=d(36540),I=function(L){(0,w.ZT)(P,L);function P(){return L!==null&&L.apply(this,arguments)||this}return P.prototype.isGroup=function(){return!0},P.prototype.isEntityGroup=function(){return!1},P.prototype.clone=function(){for(var T=L.prototype.clone.call(this),M=this.getChildren(),E=0;E<M.length;E++){var p=M[E];T.add(p.clone())}return T},P}(O.Z);S.Z=I},51995:function(xt,S,d){"use strict";var w=d(98453),O=d(94638),I=d(93557),L=function(P){(0,w.ZT)(T,P);function T(M){return P.call(this,M)||this}return T.prototype._isInBBox=function(M,E){var p=this.getBBox();return p.minX<=M&&p.maxX>=M&&p.minY<=E&&p.maxY>=E},T.prototype.afterAttrsChange=function(M){P.prototype.afterAttrsChange.call(this,M),this.clearCacheBBox()},T.prototype.getBBox=function(){var M=this.cfg.bbox;return M||(M=this.calculateBBox(),this.set("bbox",M)),M},T.prototype.getCanvasBBox=function(){var M=this.cfg.canvasBBox;return M||(M=this.calculateCanvasBBox(),this.set("canvasBBox",M)),M},T.prototype.applyMatrix=function(M){P.prototype.applyMatrix.call(this,M),this.set("canvasBBox",null)},T.prototype.calculateCanvasBBox=function(){var M=this.getBBox(),E=this.getTotalMatrix(),p=M.minX,b=M.minY,m=M.maxX,x=M.maxY;if(E){var g=(0,I.rG)(E,[M.minX,M.minY]),C=(0,I.rG)(E,[M.maxX,M.minY]),_=(0,I.rG)(E,[M.minX,M.maxY]),B=(0,I.rG)(E,[M.maxX,M.maxY]);p=Math.min(g[0],C[0],_[0],B[0]),m=Math.max(g[0],C[0],_[0],B[0]),b=Math.min(g[1],C[1],_[1],B[1]),x=Math.max(g[1],C[1],_[1],B[1])}var D=this.attrs;if(D.shadowColor){var W=D.shadowBlur,Z=W===void 0?0:W,X=D.shadowOffsetX,j=X===void 0?0:X,it=D.shadowOffsetY,tt=it===void 0?0:it,yt=p-Z+j,dt=m+Z+j,Ct=b-Z+tt,F=x+Z+tt;p=Math.min(p,yt),m=Math.max(m,dt),b=Math.min(b,Ct),x=Math.max(x,F)}return{x:p,y:b,minX:p,minY:b,maxX:m,maxY:x,width:m-p,height:x-b}},T.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},T.prototype.isClipShape=function(){return this.get("isClipShape")},T.prototype.isInShape=function(M,E){return!1},T.prototype.isOnlyHitBox=function(){return!1},T.prototype.isHit=function(M,E){var p=this.get("startArrowShape"),b=this.get("endArrowShape"),m=[M,E,1];m=this.invertFromMatrix(m);var x=m[0],g=m[1],C=this._isInBBox(x,g);return this.isOnlyHitBox()?C:!!(C&&!this.isClipped(x,g)&&(this.isInShape(x,g)||p&&p.isHit(x,g)||b&&b.isHit(x,g)))},T}(O.Z);S.Z=L},95802:function(xt,S,d){"use strict";d.d(S,{b:function(){return I}});var w=new Map;function O(X,j){w.set(X,j)}function I(X){return w.get(X)}function L(X){var j=X.attr(),it=j.x,tt=j.y,yt=j.width,dt=j.height;return{x:it,y:tt,width:yt,height:dt}}function P(X){var j=X.attr(),it=j.x,tt=j.y,yt=j.r;return{x:it-yt,y:tt-yt,width:yt*2,height:yt*2}}var T=d(89838);function M(X,j){return!X||!j?X||j:{minX:Math.min(X.minX,j.minX),minY:Math.min(X.minY,j.minY),maxX:Math.max(X.maxX,j.maxX),maxY:Math.max(X.maxY,j.maxY)}}function E(X,j){var it=X.get("startArrowShape"),tt=X.get("endArrowShape"),yt=null,dt=null;return it&&(yt=it.getCanvasBBox(),j=M(j,yt)),tt&&(dt=tt.getCanvasBBox(),j=M(j,dt)),j}function p(X){for(var j=X.attr(),it=j.points,tt=[],yt=[],dt=0;dt<it.length;dt++){var Ct=it[dt];tt.push(Ct[0]),yt.push(Ct[1])}var F=T.Util.getBBoxByArray(tt,yt),z=F.x,G=F.y,Y=F.width,q=F.height,$={minX:z,minY:G,maxX:z+Y,maxY:G+q};return $=E(X,$),{x:$.minX,y:$.minY,width:$.maxX-$.minX,height:$.maxY-$.minY}}function b(X){for(var j=X.attr(),it=j.points,tt=[],yt=[],dt=0;dt<it.length;dt++){var Ct=it[dt];tt.push(Ct[0]),yt.push(Ct[1])}return T.Util.getBBoxByArray(tt,yt)}var m=d(93323);function x(X){var j=X.attr(),it=j.x,tt=j.y,yt=j.text,dt=j.fontSize,Ct=j.lineHeight,F=j.font;F||(F=(0,m.$O)(j));var z=(0,m.mY)(yt,F),G;if(!z)G={x:it,y:tt,width:0,height:0};else{var Y=j.textAlign,q=j.textBaseline,$=(0,m.FE)(yt,dt,Ct),J={x:it,y:tt-$};Y&&(Y==="end"||Y==="right"?J.x-=z:Y==="center"&&(J.x-=z/2)),q&&(q==="top"?J.y+=$:q==="middle"&&(J.y+=$/2)),G={x:J.x,y:J.y,width:z,height:$}}return G}var g=d(57350),C=d(49242);function _(X,j){for(var it=[],tt=[],yt=[],dt=0;dt<X.length;dt++){var Ct=X[dt],F=Ct.currentPoint,z=Ct.params,G=Ct.prePoint,Y=void 0;switch(Ct.command){case"Q":Y=T.Quad.box(G[0],G[1],z[1],z[2],z[3],z[4]);break;case"C":Y=T.Cubic.box(G[0],G[1],z[1],z[2],z[3],z[4],z[5],z[6]);break;case"A":var q=Ct.arcParams;Y=T.Arc.box(q.cx,q.cy,q.rx,q.ry,q.xRotation,q.startAngle,q.endAngle);break;default:it.push(F[0]),tt.push(F[1]);break}Y&&(Ct.box=Y,it.push(Y.x,Y.x+Y.width),tt.push(Y.y,Y.y+Y.height)),j&&(Ct.command==="L"||Ct.command==="M")&&Ct.prePoint&&Ct.nextPoint&&yt.push(Ct)}it=it.filter(function(mt){return!Number.isNaN(mt)}),tt=tt.filter(function(mt){return!Number.isNaN(mt)});var $=(0,C.min)(it),J=(0,C.min)(tt),U=(0,C.max)(it),K=(0,C.max)(tt);if(yt.length===0)return{x:$,y:J,width:U-$,height:K-J};for(var dt=0;dt<yt.length;dt++){var Ct=yt[dt],F=Ct.currentPoint,f=void 0;F[0]===$?(f=B(Ct,j),$=$-f.xExtra):F[0]===U&&(f=B(Ct,j),U=U+f.xExtra),F[1]===J?(f=B(Ct,j),J=J-f.yExtra):F[1]===K&&(f=B(Ct,j),K=K+f.yExtra)}return{x:$,y:J,width:U-$,height:K-J}}function B(X,j){var it=X.prePoint,tt=X.currentPoint,yt=X.nextPoint,dt=Math.pow(tt[0]-it[0],2)+Math.pow(tt[1]-it[1],2),Ct=Math.pow(tt[0]-yt[0],2)+Math.pow(tt[1]-yt[1],2),F=Math.pow(it[0]-yt[0],2)+Math.pow(it[1]-yt[1],2),z=Math.acos((dt+Ct-F)/(2*Math.sqrt(dt)*Math.sqrt(Ct)));if(!z||Math.sin(z)===0||(0,C.isNumberEqual)(z,0))return{xExtra:0,yExtra:0};var G=Math.abs(Math.atan2(yt[1]-tt[1],yt[0]-tt[0])),Y=Math.abs(Math.atan2(yt[0]-tt[0],yt[1]-tt[1]));G=G>Math.PI/2?Math.PI-G:G,Y=Y>Math.PI/2?Math.PI-Y:Y;var q={xExtra:Math.cos(z/2-G)*(j/2*(1/Math.sin(z/2)))-j/2||0,yExtra:Math.cos(Y-z/2)*(j/2*(1/Math.sin(z/2)))-j/2||0};return q}function D(X){var j=X.attr(),it=j.path,tt=j.stroke,yt=tt?j.lineWidth:0,dt=X.get("segments")||(0,g.path2Segments)(it),Ct=_(dt,yt),F=Ct.x,z=Ct.y,G=Ct.width,Y=Ct.height,q={minX:F,minY:z,maxX:F+G,maxY:z+Y};return q=E(X,q),{x:q.minX,y:q.minY,width:q.maxX-q.minX,height:q.maxY-q.minY}}function W(X){var j=X.attr(),it=j.x1,tt=j.y1,yt=j.x2,dt=j.y2,Ct=Math.min(it,yt),F=Math.max(it,yt),z=Math.min(tt,dt),G=Math.max(tt,dt),Y={minX:Ct,maxX:F,minY:z,maxY:G};return Y=E(X,Y),{x:Y.minX,y:Y.minY,width:Y.maxX-Y.minX,height:Y.maxY-Y.minY}}function Z(X){var j=X.attr(),it=j.x,tt=j.y,yt=j.rx,dt=j.ry;return{x:it-yt,y:tt-dt,width:yt*2,height:dt*2}}O("rect",L),O("image",L),O("circle",P),O("marker",P),O("polyline",p),O("polygon",b),O("text",x),O("path",D),O("line",W),O("ellipse",Z)},65608:function(xt,S){"use strict";var d=function(){function w(O,I){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=O,this.name=O,this.originalEvent=I,this.timeStamp=I.timeStamp}return w.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},w.prototype.stopPropagation=function(){this.propagationStopped=!0},w.prototype.toString=function(){var O=this.type;return"[Event (type="+O+")]"},w.prototype.save=function(){},w.prototype.restore=function(){},w}();S.Z=d},85622:function(xt,S,d){"use strict";d.r(S),d.d(S,{Event:function(){return E.Z},Base:function(){return p.Z},AbstractCanvas:function(){return b.Z},AbstractGroup:function(){return m.Z},AbstractShape:function(){return x.Z},PathUtil:function(){return w},getBBoxMethod:function(){return g.b},getTextHeight:function(){return C.FE},assembleFont:function(){return C.$O},isAllowCapture:function(){return _.pP},multiplyVec2:function(){return B.rG},invert:function(){return B.U_},getOffScreenContext:function(){return D.L},version:function(){return W}});var w=d(80234),O=d(82723),I=d.n(O),L={};for(var P in O)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(P)<0&&(L[P]=function(Z){return O[Z]}.bind(0,P));d.d(S,L);var T=d(12548),M=d.n(T),L={};for(var P in T)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(P)<0&&(L[P]=function(X){return T[X]}.bind(0,P));d.d(S,L);var E=d(65608),p=d(3935),b=d(89725),m=d(1756),x=d(51995),g=d(95802),C=d(93323),_=d(91241),B=d(93557),D=d(40897),W="0.5.6"},12548:function(){},82723:function(){},93557:function(xt,S,d){"use strict";d.d(S,{xq:function(){return w},rG:function(){return O},U_:function(){return I}});function w(L,P){var T=[],M=L[0],E=L[1],p=L[2],b=L[3],m=L[4],x=L[5],g=L[6],C=L[7],_=L[8],B=P[0],D=P[1],W=P[2],Z=P[3],X=P[4],j=P[5],it=P[6],tt=P[7],yt=P[8];return T[0]=B*M+D*b+W*g,T[1]=B*E+D*m+W*C,T[2]=B*p+D*x+W*_,T[3]=Z*M+X*b+j*g,T[4]=Z*E+X*m+j*C,T[5]=Z*p+X*x+j*_,T[6]=it*M+tt*b+yt*g,T[7]=it*E+tt*m+yt*C,T[8]=it*p+tt*x+yt*_,T}function O(L,P){var T=[],M=P[0],E=P[1];return T[0]=L[0]*M+L[3]*E+L[6],T[1]=L[1]*M+L[4]*E+L[7],T}function I(L){var P=[],T=L[0],M=L[1],E=L[2],p=L[3],b=L[4],m=L[5],x=L[6],g=L[7],C=L[8],_=C*b-m*g,B=-C*p+m*x,D=g*p-b*x,W=T*_+M*B+E*D;return W?(W=1/W,P[0]=_*W,P[1]=(-C*M+E*g)*W,P[2]=(m*M-E*b)*W,P[3]=B*W,P[4]=(C*T-E*x)*W,P[5]=(-m*T+E*p)*W,P[6]=D*W,P[7]=(-g*T+M*x)*W,P[8]=(b*T-M*p)*W,P):null}},40897:function(xt,S,d){"use strict";d.d(S,{L:function(){return O}});var w=null;function O(){if(!w){var I=document.createElement("canvas");I.width=1,I.height=1,w=I.getContext("2d")}return w}},80234:function(xt,S,d){"use strict";d.r(S),d.d(S,{catmullRomToBezier:function(){return T},fillPath:function(){return q},fillPathByDiff:function(){return K},formatPath:function(){return Tt},intersection:function(){return F},parsePathArray:function(){return C},parsePathString:function(){return P},pathToAbsolute:function(){return E},pathToCurve:function(){return x},rectPath:function(){return X}});var w=d(49242),O=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,I=new RegExp("([a-z])["+O+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+O+"]*,?["+O+"]*)+)","ig"),L=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+O+"]*,?["+O+"]*","ig"),P=function(at){if(!at)return null;if((0,w.isArray)(at))return at;var Pt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},wt=[];return String(at).replace(I,function(Et,Rt,Nt){var kt=[],_t=Rt.toLowerCase();if(Nt.replace(L,function(ht,ft){ft&&kt.push(+ft)}),_t==="m"&&kt.length>2&&(wt.push([Rt].concat(kt.splice(0,2))),_t="l",Rt=Rt==="m"?"l":"L"),_t==="o"&&kt.length===1&&wt.push([Rt,kt[0]]),_t==="r")wt.push([Rt].concat(kt));else for(;kt.length>=Pt[_t]&&(wt.push([Rt].concat(kt.splice(0,Pt[_t]))),!!Pt[_t]););return at}),wt},T=function(at,Pt){for(var wt=[],Et=0,Rt=at.length;Rt-2*!Pt>Et;Et+=2){var Nt=[{x:+at[Et-2],y:+at[Et-1]},{x:+at[Et],y:+at[Et+1]},{x:+at[Et+2],y:+at[Et+3]},{x:+at[Et+4],y:+at[Et+5]}];Pt?Et?Rt-4===Et?Nt[3]={x:+at[0],y:+at[1]}:Rt-2===Et&&(Nt[2]={x:+at[0],y:+at[1]},Nt[3]={x:+at[2],y:+at[3]}):Nt[0]={x:+at[Rt-2],y:+at[Rt-1]}:Rt-4===Et?Nt[3]=Nt[2]:Et||(Nt[0]={x:+at[Et],y:+at[Et+1]}),wt.push(["C",(-Nt[0].x+6*Nt[1].x+Nt[2].x)/6,(-Nt[0].y+6*Nt[1].y+Nt[2].y)/6,(Nt[1].x+6*Nt[2].x-Nt[3].x)/6,(Nt[1].y+6*Nt[2].y-Nt[3].y)/6,Nt[2].x,Nt[2].y])}return wt},M=function(at,Pt,wt,Et,Rt){var Nt=[];if(Rt===null&&Et===null&&(Et=wt),at=+at,Pt=+Pt,wt=+wt,Et=+Et,Rt!==null){var kt=Math.PI/180,_t=at+wt*Math.cos(-Et*kt),ht=at+wt*Math.cos(-Rt*kt),ft=Pt+wt*Math.sin(-Et*kt),Mt=Pt+wt*Math.sin(-Rt*kt);Nt=[["M",_t,ft],["A",wt,wt,0,+(Rt-Et>180),0,ht,Mt]]}else Nt=[["M",at,Pt],["m",0,-Et],["a",wt,Et,0,1,1,0,2*Et],["a",wt,Et,0,1,1,0,-2*Et],["z"]];return Nt},E=function(at){if(at=P(at),!at||!at.length)return[["M",0,0]];var Pt=[],wt=0,Et=0,Rt=0,Nt=0,kt=0,_t,ht;at[0][0]==="M"&&(wt=+at[0][1],Et=+at[0][2],Rt=wt,Nt=Et,kt++,Pt[0]=["M",wt,Et]);for(var ft=at.length===3&&at[0][0]==="M"&&at[1][0].toUpperCase()==="R"&&at[2][0].toUpperCase()==="Z",Mt=void 0,rt=void 0,et=kt,lt=at.length;et<lt;et++){if(Pt.push(Mt=[]),rt=at[et],_t=rt[0],_t!==_t.toUpperCase())switch(Mt[0]=_t.toUpperCase(),Mt[0]){case"A":Mt[1]=rt[1],Mt[2]=rt[2],Mt[3]=rt[3],Mt[4]=rt[4],Mt[5]=rt[5],Mt[6]=+rt[6]+wt,Mt[7]=+rt[7]+Et;break;case"V":Mt[1]=+rt[1]+Et;break;case"H":Mt[1]=+rt[1]+wt;break;case"R":ht=[wt,Et].concat(rt.slice(1));for(var st=2,At=ht.length;st<At;st++)ht[st]=+ht[st]+wt,ht[++st]=+ht[st]+Et;Pt.pop(),Pt=Pt.concat(T(ht,ft));break;case"O":Pt.pop(),ht=M(wt,Et,rt[1],rt[2]),ht.push(ht[0]),Pt=Pt.concat(ht);break;case"U":Pt.pop(),Pt=Pt.concat(M(wt,Et,rt[1],rt[2],rt[3])),Mt=["U"].concat(Pt[Pt.length-1].slice(-2));break;case"M":Rt=+rt[1]+wt,Nt=+rt[2]+Et;break;default:for(var st=1,At=rt.length;st<At;st++)Mt[st]=+rt[st]+(st%2?wt:Et)}else if(_t==="R")ht=[wt,Et].concat(rt.slice(1)),Pt.pop(),Pt=Pt.concat(T(ht,ft)),Mt=["R"].concat(rt.slice(-2));else if(_t==="O")Pt.pop(),ht=M(wt,Et,rt[1],rt[2]),ht.push(ht[0]),Pt=Pt.concat(ht);else if(_t==="U")Pt.pop(),Pt=Pt.concat(M(wt,Et,rt[1],rt[2],rt[3])),Mt=["U"].concat(Pt[Pt.length-1].slice(-2));else for(var Ot=0,Qt=rt.length;Ot<Qt;Ot++)Mt[Ot]=rt[Ot];if(_t=_t.toUpperCase(),_t!=="O")switch(Mt[0]){case"Z":wt=+Rt,Et=+Nt;break;case"H":wt=Mt[1];break;case"V":Et=Mt[1];break;case"M":Rt=Mt[Mt.length-2],Nt=Mt[Mt.length-1];break;default:wt=Mt[Mt.length-2],Et=Mt[Mt.length-1]}}return Pt},p=function(at,Pt,wt,Et){return[at,Pt,wt,Et,wt,Et]},b=function(at,Pt,wt,Et,Rt,Nt){var kt=1/3,_t=2/3;return[kt*at+_t*wt,kt*Pt+_t*Et,kt*Rt+_t*wt,kt*Nt+_t*Et,Rt,Nt]},m=function(at,Pt,wt,Et,Rt,Nt,kt,_t,ht,ft){wt===Et&&(wt+=1);var Mt=Math.PI*120/180,rt=Math.PI/180*(+Rt||0),et=[],lt,st,At,Ot,Qt,ve=function(ke,qe,ir){var er=ke*Math.cos(ir)-qe*Math.sin(ir),or=ke*Math.sin(ir)+qe*Math.cos(ir);return{x:er,y:or}};if(ft)st=ft[0],At=ft[1],Ot=ft[2],Qt=ft[3];else{lt=ve(at,Pt,-rt),at=lt.x,Pt=lt.y,lt=ve(_t,ht,-rt),_t=lt.x,ht=lt.y,at===_t&&Pt===ht&&(_t+=1,ht+=1);var fe=(at-_t)/2,ce=(Pt-ht)/2,Ae=fe*fe/(wt*wt)+ce*ce/(Et*Et);Ae>1&&(Ae=Math.sqrt(Ae),wt=Ae*wt,Et=Ae*Et);var De=wt*wt,rr=Et*Et,Je=(Nt===kt?-1:1)*Math.sqrt(Math.abs((De*rr-De*ce*ce-rr*fe*fe)/(De*ce*ce+rr*fe*fe)));Ot=Je*wt*ce/Et+(at+_t)/2,Qt=Je*-Et*fe/wt+(Pt+ht)/2,st=Math.asin(((Pt-Qt)/Et).toFixed(9)),At=Math.asin(((ht-Qt)/Et).toFixed(9)),st=at<Ot?Math.PI-st:st,At=_t<Ot?Math.PI-At:At,st<0&&(st=Math.PI*2+st),At<0&&(At=Math.PI*2+At),kt&&st>At&&(st=st-Math.PI*2),!kt&&At>st&&(At=At-Math.PI*2)}var Er=At-st;if(Math.abs(Er)>Mt){var Jr=At,Ar=_t,Qr=ht;At=st+Mt*(kt&&At>st?1:-1),_t=Ot+wt*Math.cos(At),ht=Qt+Et*Math.sin(At),et=m(_t,ht,wt,Et,Rt,0,kt,Ar,Qr,[At,Jr,Ot,Qt])}Er=At-st;var Un=Math.cos(st),ii=Math.sin(st),wi=Math.cos(At),Si=Math.sin(At),Wt=Math.tan(Er/4),Kt=4/3*wt*Wt,re=4/3*Et*Wt,oe=[at,Pt],me=[at+Kt*ii,Pt-re*Un],be=[_t+Kt*Si,ht-re*wi],we=[_t,ht];if(me[0]=2*oe[0]-me[0],me[1]=2*oe[1]-me[1],ft)return[me,be,we].concat(et);et=[me,be,we].concat(et).join().split(",");for(var Ee=[],de=0,Xe=et.length;de<Xe;de++)Ee[de]=de%2?ve(et[de-1],et[de],rt).y:ve(et[de],et[de+1],rt).x;return Ee},x=function(at,Pt){var wt=E(at),Et=Pt&&E(Pt),Rt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Nt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},kt=[],_t=[],ht="",ft="",Mt,rt=function(fe,ce,Ae){var De,rr;if(!fe)return["C",ce.x,ce.y,ce.x,ce.y,ce.x,ce.y];switch(!(fe[0]in{T:1,Q:1})&&(ce.qx=ce.qy=null),fe[0]){case"M":ce.X=fe[1],ce.Y=fe[2];break;case"A":fe=["C"].concat(m.apply(0,[ce.x,ce.y].concat(fe.slice(1))));break;case"S":Ae==="C"||Ae==="S"?(De=ce.x*2-ce.bx,rr=ce.y*2-ce.by):(De=ce.x,rr=ce.y),fe=["C",De,rr].concat(fe.slice(1));break;case"T":Ae==="Q"||Ae==="T"?(ce.qx=ce.x*2-ce.qx,ce.qy=ce.y*2-ce.qy):(ce.qx=ce.x,ce.qy=ce.y),fe=["C"].concat(b(ce.x,ce.y,ce.qx,ce.qy,fe[1],fe[2]));break;case"Q":ce.qx=fe[1],ce.qy=fe[2],fe=["C"].concat(b(ce.x,ce.y,fe[1],fe[2],fe[3],fe[4]));break;case"L":fe=["C"].concat(p(ce.x,ce.y,fe[1],fe[2]));break;case"H":fe=["C"].concat(p(ce.x,ce.y,fe[1],ce.y));break;case"V":fe=["C"].concat(p(ce.x,ce.y,ce.x,fe[1]));break;case"Z":fe=["C"].concat(p(ce.x,ce.y,ce.X,ce.Y));break;default:break}return fe},et=function(fe,ce){if(fe[ce].length>7){fe[ce].shift();for(var Ae=fe[ce];Ae.length;)kt[ce]="A",Et&&(_t[ce]="A"),fe.splice(ce++,0,["C"].concat(Ae.splice(0,6)));fe.splice(ce,1),Mt=Math.max(wt.length,Et&&Et.length||0)}},lt=function(fe,ce,Ae,De,rr){fe&&ce&&fe[rr][0]==="M"&&ce[rr][0]!=="M"&&(ce.splice(rr,0,["M",De.x,De.y]),Ae.bx=0,Ae.by=0,Ae.x=fe[rr][1],Ae.y=fe[rr][2],Mt=Math.max(wt.length,Et&&Et.length||0))};Mt=Math.max(wt.length,Et&&Et.length||0);for(var st=0;st<Mt;st++){wt[st]&&(ht=wt[st][0]),ht!=="C"&&(kt[st]=ht,st&&(ft=kt[st-1])),wt[st]=rt(wt[st],Rt,ft),kt[st]!=="A"&&ht==="C"&&(kt[st]="C"),et(wt,st),Et&&(Et[st]&&(ht=Et[st][0]),ht!=="C"&&(_t[st]=ht,st&&(ft=_t[st-1])),Et[st]=rt(Et[st],Nt,ft),_t[st]!=="A"&&ht==="C"&&(_t[st]="C"),et(Et,st)),lt(wt,Et,Rt,Nt,st),lt(Et,wt,Nt,Rt,st);var At=wt[st],Ot=Et&&Et[st],Qt=At.length,ve=Et&&Ot.length;Rt.x=At[Qt-2],Rt.y=At[Qt-1],Rt.bx=parseFloat(At[Qt-4])||Rt.x,Rt.by=parseFloat(At[Qt-3])||Rt.y,Nt.bx=Et&&(parseFloat(Ot[ve-4])||Nt.x),Nt.by=Et&&(parseFloat(Ot[ve-3])||Nt.y),Nt.x=Et&&Ot[ve-2],Nt.y=Et&&Ot[ve-1]}return Et?[wt,Et]:wt},g=/,?([a-z]),?/gi,C=function(at){return at.join(",").replace(g,"$1")},_=function(at,Pt,wt,Et,Rt){var Nt=-3*Pt+9*wt-9*Et+3*Rt,kt=at*Nt+6*Pt-12*wt+6*Et;return at*kt-3*Pt+3*wt},B=function(at,Pt,wt,Et,Rt,Nt,kt,_t,ht){ht===null&&(ht=1),ht=ht>1?1:ht<0?0:ht;for(var ft=ht/2,Mt=12,rt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],et=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],lt=0,st=0;st<Mt;st++){var At=ft*rt[st]+ft,Ot=_(At,at,wt,Rt,kt),Qt=_(At,Pt,Et,Nt,_t),ve=Ot*Ot+Qt*Qt;lt+=et[st]*Math.sqrt(ve)}return ft*lt},D=function(at,Pt,wt,Et,Rt,Nt,kt,_t){for(var ht=[],ft=[[],[]],Mt,rt,et,lt,st=0;st<2;++st){if(st===0?(rt=6*at-12*wt+6*Rt,Mt=-3*at+9*wt-9*Rt+3*kt,et=3*wt-3*at):(rt=6*Pt-12*Et+6*Nt,Mt=-3*Pt+9*Et-9*Nt+3*_t,et=3*Et-3*Pt),Math.abs(Mt)<1e-12){if(Math.abs(rt)<1e-12)continue;lt=-et/rt,lt>0&&lt<1&&ht.push(lt);continue}var At=rt*rt-4*et*Mt,Ot=Math.sqrt(At);if(!(At<0)){var Qt=(-rt+Ot)/(2*Mt);Qt>0&&Qt<1&&ht.push(Qt);var ve=(-rt-Ot)/(2*Mt);ve>0&&ve<1&&ht.push(ve)}}for(var fe=ht.length,ce=fe,Ae;fe--;)lt=ht[fe],Ae=1-lt,ft[0][fe]=Ae*Ae*Ae*at+3*Ae*Ae*lt*wt+3*Ae*lt*lt*Rt+lt*lt*lt*kt,ft[1][fe]=Ae*Ae*Ae*Pt+3*Ae*Ae*lt*Et+3*Ae*lt*lt*Nt+lt*lt*lt*_t;return ft[0][ce]=at,ft[1][ce]=Pt,ft[0][ce+1]=kt,ft[1][ce+1]=_t,ft[0].length=ft[1].length=ce+2,{min:{x:Math.min.apply(0,ft[0]),y:Math.min.apply(0,ft[1])},max:{x:Math.max.apply(0,ft[0]),y:Math.max.apply(0,ft[1])}}},W=function(at,Pt,wt,Et,Rt,Nt,kt,_t){if(!(Math.max(at,wt)<Math.min(Rt,kt)||Math.min(at,wt)>Math.max(Rt,kt)||Math.max(Pt,Et)<Math.min(Nt,_t)||Math.min(Pt,Et)>Math.max(Nt,_t))){var ht=(at*Et-Pt*wt)*(Rt-kt)-(at-wt)*(Rt*_t-Nt*kt),ft=(at*Et-Pt*wt)*(Nt-_t)-(Pt-Et)*(Rt*_t-Nt*kt),Mt=(at-wt)*(Nt-_t)-(Pt-Et)*(Rt-kt);if(!!Mt){var rt=ht/Mt,et=ft/Mt,lt=+rt.toFixed(2),st=+et.toFixed(2);if(!(lt<+Math.min(at,wt).toFixed(2)||lt>+Math.max(at,wt).toFixed(2)||lt<+Math.min(Rt,kt).toFixed(2)||lt>+Math.max(Rt,kt).toFixed(2)||st<+Math.min(Pt,Et).toFixed(2)||st>+Math.max(Pt,Et).toFixed(2)||st<+Math.min(Nt,_t).toFixed(2)||st>+Math.max(Nt,_t).toFixed(2)))return{x:rt,y:et}}}},Z=function(at,Pt,wt){return Pt>=at.x&&Pt<=at.x+at.width&&wt>=at.y&&wt<=at.y+at.height},X=function(at,Pt,wt,Et,Rt){if(Rt)return[["M",+at+ +Rt,Pt],["l",wt-Rt*2,0],["a",Rt,Rt,0,0,1,Rt,Rt],["l",0,Et-Rt*2],["a",Rt,Rt,0,0,1,-Rt,Rt],["l",Rt*2-wt,0],["a",Rt,Rt,0,0,1,-Rt,-Rt],["l",0,Rt*2-Et],["a",Rt,Rt,0,0,1,Rt,-Rt],["z"]];var Nt=[["M",at,Pt],["l",wt,0],["l",0,Et],["l",-wt,0],["z"]];return Nt.parsePathArray=C,Nt},j=function(at,Pt,wt,Et){return at===null&&(at=Pt=wt=Et=0),Pt===null&&(Pt=at.y,wt=at.width,Et=at.height,at=at.x),{x:at,y:Pt,width:wt,w:wt,height:Et,h:Et,x2:at+wt,y2:Pt+Et,cx:at+wt/2,cy:Pt+Et/2,r1:Math.min(wt,Et)/2,r2:Math.max(wt,Et)/2,r0:Math.sqrt(wt*wt+Et*Et)/2,path:X(at,Pt,wt,Et),vb:[at,Pt,wt,Et].join(" ")}},it=function(at,Pt){return at=j(at),Pt=j(Pt),Z(Pt,at.x,at.y)||Z(Pt,at.x2,at.y)||Z(Pt,at.x,at.y2)||Z(Pt,at.x2,at.y2)||Z(at,Pt.x,Pt.y)||Z(at,Pt.x2,Pt.y)||Z(at,Pt.x,Pt.y2)||Z(at,Pt.x2,Pt.y2)||(at.x<Pt.x2&&at.x>Pt.x||Pt.x<at.x2&&Pt.x>at.x)&&(at.y<Pt.y2&&at.y>Pt.y||Pt.y<at.y2&&Pt.y>at.y)},tt=function(at,Pt,wt,Et,Rt,Nt,kt,_t){(0,w.isArray)(at)||(at=[at,Pt,wt,Et,Rt,Nt,kt,_t]);var ht=D.apply(null,at);return j(ht.min.x,ht.min.y,ht.max.x-ht.min.x,ht.max.y-ht.min.y)},yt=function(at,Pt,wt,Et,Rt,Nt,kt,_t,ht){var ft=1-ht,Mt=Math.pow(ft,3),rt=Math.pow(ft,2),et=ht*ht,lt=et*ht,st=Mt*at+rt*3*ht*wt+ft*3*ht*ht*Rt+lt*kt,At=Mt*Pt+rt*3*ht*Et+ft*3*ht*ht*Nt+lt*_t,Ot=at+2*ht*(wt-at)+et*(Rt-2*wt+at),Qt=Pt+2*ht*(Et-Pt)+et*(Nt-2*Et+Pt),ve=wt+2*ht*(Rt-wt)+et*(kt-2*Rt+wt),fe=Et+2*ht*(Nt-Et)+et*(_t-2*Nt+Et),ce=ft*at+ht*wt,Ae=ft*Pt+ht*Et,De=ft*Rt+ht*kt,rr=ft*Nt+ht*_t,Je=90-Math.atan2(Ot-ve,Qt-fe)*180/Math.PI;return{x:st,y:At,m:{x:Ot,y:Qt},n:{x:ve,y:fe},start:{x:ce,y:Ae},end:{x:De,y:rr},alpha:Je}},dt=function(at,Pt,wt){var Et=tt(at),Rt=tt(Pt);if(!it(Et,Rt))return wt?0:[];for(var Nt=B.apply(0,at),kt=B.apply(0,Pt),_t=~~(Nt/8),ht=~~(kt/8),ft=[],Mt=[],rt={},et=wt?0:[],lt=0;lt<_t+1;lt++){var st=yt.apply(0,at.concat(lt/_t));ft.push({x:st.x,y:st.y,t:lt/_t})}for(var lt=0;lt<ht+1;lt++){var st=yt.apply(0,Pt.concat(lt/ht));Mt.push({x:st.x,y:st.y,t:lt/ht})}for(var lt=0;lt<_t;lt++)for(var At=0;At<ht;At++){var Ot=ft[lt],Qt=ft[lt+1],ve=Mt[At],fe=Mt[At+1],ce=Math.abs(Qt.x-Ot.x)<.001?"y":"x",Ae=Math.abs(fe.x-ve.x)<.001?"y":"x",De=W(Ot.x,Ot.y,Qt.x,Qt.y,ve.x,ve.y,fe.x,fe.y);if(De){if(rt[De.x.toFixed(4)]===De.y.toFixed(4))continue;rt[De.x.toFixed(4)]=De.y.toFixed(4);var rr=Ot.t+Math.abs((De[ce]-Ot[ce])/(Qt[ce]-Ot[ce]))*(Qt.t-Ot.t),Je=ve.t+Math.abs((De[Ae]-ve[Ae])/(fe[Ae]-ve[Ae]))*(fe.t-ve.t);rr>=0&&rr<=1&&Je>=0&&Je<=1&&(wt?et+=1:et.push({x:De.x,y:De.y,t1:rr,t2:Je}))}}return et},Ct=function(at,Pt,wt){at=x(at),Pt=x(Pt);for(var Et,Rt,Nt,kt,_t,ht,ft,Mt,rt,et,lt=wt?0:[],st=0,At=at.length;st<At;st++){var Ot=at[st];if(Ot[0]==="M")Et=_t=Ot[1],Rt=ht=Ot[2];else{Ot[0]==="C"?(rt=[Et,Rt].concat(Ot.slice(1)),Et=rt[6],Rt=rt[7]):(rt=[Et,Rt,Et,Rt,_t,ht,_t,ht],Et=_t,Rt=ht);for(var Qt=0,ve=Pt.length;Qt<ve;Qt++){var fe=Pt[Qt];if(fe[0]==="M")Nt=ft=fe[1],kt=Mt=fe[2];else{fe[0]==="C"?(et=[Nt,kt].concat(fe.slice(1)),Nt=et[6],kt=et[7]):(et=[Nt,kt,Nt,kt,ft,Mt,ft,Mt],Nt=ft,kt=Mt);var ce=dt(rt,et,wt);if(wt)lt+=ce;else{for(var Ae=0,De=ce.length;Ae<De;Ae++)ce[Ae].segment1=st,ce[Ae].segment2=Qt,ce[Ae].bez1=rt,ce[Ae].bez2=et;lt=lt.concat(ce)}}}}}return lt},F=function(at,Pt){return Ct(at,Pt)};function z(at,Pt){var wt=[],Et=[];function Rt(Nt,kt){if(Nt.length===1)wt.push(Nt[0]),Et.push(Nt[0]);else{for(var _t=[],ht=0;ht<Nt.length-1;ht++)ht===0&&wt.push(Nt[0]),ht===Nt.length-2&&Et.push(Nt[ht+1]),_t[ht]=[(1-kt)*Nt[ht][0]+kt*Nt[ht+1][0],(1-kt)*Nt[ht][1]+kt*Nt[ht+1][1]];Rt(_t,kt)}}return at.length&&Rt(at,Pt),{left:wt,right:Et.reverse()}}function G(at,Pt,wt){var Et=[[at[1],at[2]]];wt=wt||2;var Rt=[];Pt[0]==="A"?(Et.push(Pt[6]),Et.push(Pt[7])):Pt[0]==="C"?(Et.push([Pt[1],Pt[2]]),Et.push([Pt[3],Pt[4]]),Et.push([Pt[5],Pt[6]])):Pt[0]==="S"||Pt[0]==="Q"?(Et.push([Pt[1],Pt[2]]),Et.push([Pt[3],Pt[4]])):Et.push([Pt[1],Pt[2]]);for(var Nt=Et,kt=1/wt,_t=0;_t<wt-1;_t++){var ht=kt/(1-kt*_t),ft=z(Nt,ht);Rt.push(ft.left),Nt=ft.right}Rt.push(Nt);var Mt=Rt.map(function(rt){var et=[];return rt.length===4&&(et.push("C"),et=et.concat(rt[2])),rt.length>=3&&(rt.length===3&&et.push("Q"),et=et.concat(rt[1])),rt.length===2&&et.push("L"),et=et.concat(rt[rt.length-1]),et});return Mt}var Y=function(at,Pt,wt){if(wt===1)return[[].concat(at)];var Et=[];if(Pt[0]==="L"||Pt[0]==="C"||Pt[0]==="Q")Et=Et.concat(G(at,Pt,wt));else{var Rt=[].concat(at);Rt[0]==="M"&&(Rt[0]="L");for(var Nt=0;Nt<=wt-1;Nt++)Et.push(Rt)}return Et},q=function(at,Pt){if(at.length===1)return at;var wt=at.length-1,Et=Pt.length-1,Rt=wt/Et,Nt=[];if(at.length===1&&at[0][0]==="M"){for(var kt=0;kt<Et-wt;kt++)at.push(at[0]);return at}for(var kt=0;kt<Et;kt++){var _t=Math.floor(Rt*kt);Nt[_t]=(Nt[_t]||0)+1}var ht=Nt.reduce(function(ft,Mt,rt){return rt===wt?ft.concat(at[wt]):ft.concat(Y(at[rt],at[rt+1],Mt))},[]);return ht.unshift(at[0]),(Pt[Et]==="Z"||Pt[Et]==="z")&&ht.push("Z"),ht},$=function(at,Pt){if(at.length!==Pt.length)return!1;var wt=!0;return(0,w.each)(at,function(Et,Rt){if(Et!==Pt[Rt])return wt=!1,!1}),wt};function J(at,Pt,wt){var Et=null,Rt=wt;return Pt<Rt&&(Rt=Pt,Et="add"),at<Rt&&(Rt=at,Et="del"),{type:Et,min:Rt}}var U=function(at,Pt){var wt=at.length,Et=Pt.length,Rt,Nt,kt=0;if(wt===0||Et===0)return null;for(var _t=[],ht=0;ht<=wt;ht++)_t[ht]=[],_t[ht][0]={min:ht};for(var ft=0;ft<=Et;ft++)_t[0][ft]={min:ft};for(var ht=1;ht<=wt;ht++){Rt=at[ht-1];for(var ft=1;ft<=Et;ft++){Nt=Pt[ft-1],$(Rt,Nt)?kt=0:kt=1;var Mt=_t[ht-1][ft].min+1,rt=_t[ht][ft-1].min+1,et=_t[ht-1][ft-1].min+kt;_t[ht][ft]=J(Mt,rt,et)}}return _t},K=function(at,Pt){var wt=U(at,Pt),Et=at.length,Rt=Pt.length,Nt=[],kt=1,_t=1;if(wt[Et][Rt].min!==Et){for(var ht=1;ht<=Et;ht++){var ft=wt[ht][ht].min;_t=ht;for(var Mt=kt;Mt<=Rt;Mt++)wt[ht][Mt].min<ft&&(ft=wt[ht][Mt].min,_t=Mt);kt=_t,wt[ht][kt].type&&Nt.push({index:ht-1,type:wt[ht][kt].type})}for(var ht=Nt.length-1;ht>=0;ht--)kt=Nt[ht].index,Nt[ht].type==="add"?at.splice(kt,0,[].concat(at[kt])):at.splice(kt,1)}Et=at.length;var rt=Rt-Et;if(Et<Rt)for(var ht=0;ht<rt;ht++)at[Et-1][0]==="z"||at[Et-1][0]==="Z"?at.splice(Et-2,0,at[Et-2]):at.push(at[Et-1]),Et+=1;return at};function f(at,Pt,wt){for(var Et=[].concat(at),Rt,Nt=1/(wt+1),kt=mt(Pt)[0],_t=1;_t<=wt;_t++)Nt*=_t,Rt=Math.floor(at.length*Nt),Rt===0?Et.unshift([kt[0]*Nt+at[Rt][0]*(1-Nt),kt[1]*Nt+at[Rt][1]*(1-Nt)]):Et.splice(Rt,0,[kt[0]*Nt+at[Rt][0]*(1-Nt),kt[1]*Nt+at[Rt][1]*(1-Nt)]);return Et}function mt(at){var Pt=[];switch(at[0]){case"M":Pt.push([at[1],at[2]]);break;case"L":Pt.push([at[1],at[2]]);break;case"A":Pt.push([at[6],at[7]]);break;case"Q":Pt.push([at[3],at[4]]),Pt.push([at[1],at[2]]);break;case"T":Pt.push([at[1],at[2]]);break;case"C":Pt.push([at[5],at[6]]),Pt.push([at[1],at[2]]),Pt.push([at[3],at[4]]);break;case"S":Pt.push([at[3],at[4]]),Pt.push([at[1],at[2]]);break;case"H":Pt.push([at[1],at[1]]);break;case"V":Pt.push([at[1],at[1]]);break;default:}return Pt}var Tt=function(at,Pt){if(at.length<=1)return at;for(var wt,Et=0;Et<Pt.length;Et++)if(at[Et][0]!==Pt[Et][0])switch(wt=mt(at[Et]),Pt[Et][0]){case"M":at[Et]=["M"].concat(wt[0]);break;case"L":at[Et]=["L"].concat(wt[0]);break;case"A":at[Et]=[].concat(Pt[Et]),at[Et][6]=wt[0][0],at[Et][7]=wt[0][1];break;case"Q":if(wt.length<2)if(Et>0)wt=f(wt,at[Et-1],1);else{at[Et]=Pt[Et];break}at[Et]=["Q"].concat(wt.reduce(function(Rt,Nt){return Rt.concat(Nt)},[]));break;case"T":at[Et]=["T"].concat(wt[0]);break;case"C":if(wt.length<3)if(Et>0)wt=f(wt,at[Et-1],2);else{at[Et]=Pt[Et];break}at[Et]=["C"].concat(wt.reduce(function(Rt,Nt){return Rt.concat(Nt)},[]));break;case"S":if(wt.length<2)if(Et>0)wt=f(wt,at[Et-1],1);else{at[Et]=Pt[Et];break}at[Et]=["S"].concat(wt.reduce(function(Rt,Nt){return Rt.concat(Nt)},[]));break;default:at[Et]=Pt[Et]}return at}},93323:function(xt,S,d){"use strict";d.d(S,{FE:function(){return I},mY:function(){return P},$O:function(){return T}});var w=d(91241),O=d(40897);function I(M,E,p){var b=1;if((0,w.HD)(M)&&(b=M.split(`
`).length),b>1){var m=L(E,p);return E*b+m*(b-1)}return E}function L(M,E){return E?E-M:M*.14}function P(M,E){var p=(0,O.L)(),b=0;if((0,w.kK)(M)||M==="")return b;if(p.save(),p.font=E,(0,w.HD)(M)&&M.includes(`
`)){var m=M.split(`
`);(0,w.S6)(m,function(x){var g=p.measureText(x).width;b<g&&(b=g)})}else b=p.measureText(M).width;return p.restore(),b}function T(M){var E=M.fontSize,p=M.fontFamily,b=M.fontWeight,m=M.fontStyle,x=M.fontVariant;return[m,x,b,E+"px",p].join(" ").trim()}},91241:function(xt,S,d){"use strict";d.d(S,{As:function(){return O},jU:function(){return I},kK:function(){return w.isNil},mf:function(){return w.isFunction},HD:function(){return w.isString},Kn:function(){return w.isObject},CD:function(){return w.mix},S6:function(){return w.each},jC:function(){return w.upperFirst},UY:function(){return L},pP:function(){return P}});var w=d(49242);function O(T,M){var E=T.indexOf(M);E!==-1&&T.splice(E,1)}var I=typeof window!="undefined"&&typeof window.document!="undefined";function L(T,M){if(T.isCanvas())return!0;for(var E=M.getParent(),p=!1;E;){if(E===T){p=!0;break}E=E.getParent()}return p}function P(T){return T.cfg.visible&&T.cfg.capture}},30490:function(xt,S){"use strict";var d;d={value:!0};var w=function(){function O(I,L){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=I,this.name=I,this.originalEvent=L,this.timeStamp=L.timeStamp}return O.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},O.prototype.stopPropagation=function(){this.propagationStopped=!0},O.prototype.toString=function(){var I=this.type;return"[Event (type="+I+")]"},O.prototype.save=function(){},O.prototype.restore=function(){},O}();S.Z=w},98453:function(xt,S,d){"use strict";d.d(S,{ZT:function(){return O}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w=function(F,z){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,Y){G.__proto__=Y}||function(G,Y){for(var q in Y)Object.prototype.hasOwnProperty.call(Y,q)&&(G[q]=Y[q])},w(F,z)};function O(F,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");w(F,z);function G(){this.constructor=F}F.prototype=z===null?Object.create(z):(G.prototype=z.prototype,new G)}var I=function(){return I=Object.assign||function(z){for(var G,Y=1,q=arguments.length;Y<q;Y++){G=arguments[Y];for(var $ in G)Object.prototype.hasOwnProperty.call(G,$)&&(z[$]=G[$])}return z},I.apply(this,arguments)};function L(F,z){var G={};for(var Y in F)Object.prototype.hasOwnProperty.call(F,Y)&&z.indexOf(Y)<0&&(G[Y]=F[Y]);if(F!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,Y=Object.getOwnPropertySymbols(F);q<Y.length;q++)z.indexOf(Y[q])<0&&Object.prototype.propertyIsEnumerable.call(F,Y[q])&&(G[Y[q]]=F[Y[q]]);return G}function P(F,z,G,Y){var q=arguments.length,$=q<3?z:Y===null?Y=Object.getOwnPropertyDescriptor(z,G):Y,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(F,z,G,Y);else for(var U=F.length-1;U>=0;U--)(J=F[U])&&($=(q<3?J($):q>3?J(z,G,$):J(z,G))||$);return q>3&&$&&Object.defineProperty(z,G,$),$}function T(F,z){return function(G,Y){z(G,Y,F)}}function M(F,z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(F,z)}function E(F,z,G,Y){function q($){return $ instanceof G?$:new G(function(J){J($)})}return new(G||(G=Promise))(function($,J){function U(mt){try{f(Y.next(mt))}catch(Tt){J(Tt)}}function K(mt){try{f(Y.throw(mt))}catch(Tt){J(Tt)}}function f(mt){mt.done?$(mt.value):q(mt.value).then(U,K)}f((Y=Y.apply(F,z||[])).next())})}function p(F,z){var G={label:0,sent:function(){if($[0]&1)throw $[1];return $[1]},trys:[],ops:[]},Y,q,$,J;return J={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(J[Symbol.iterator]=function(){return this}),J;function U(f){return function(mt){return K([f,mt])}}function K(f){if(Y)throw new TypeError("Generator is already executing.");for(;G;)try{if(Y=1,q&&($=f[0]&2?q.return:f[0]?q.throw||(($=q.return)&&$.call(q),0):q.next)&&!($=$.call(q,f[1])).done)return $;switch(q=0,$&&(f=[f[0]&2,$.value]),f[0]){case 0:case 1:$=f;break;case 4:return G.label++,{value:f[1],done:!1};case 5:G.label++,q=f[1],f=[0];continue;case 7:f=G.ops.pop(),G.trys.pop();continue;default:if($=G.trys,!($=$.length>0&&$[$.length-1])&&(f[0]===6||f[0]===2)){G=0;continue}if(f[0]===3&&(!$||f[1]>$[0]&&f[1]<$[3])){G.label=f[1];break}if(f[0]===6&&G.label<$[1]){G.label=$[1],$=f;break}if($&&G.label<$[2]){G.label=$[2],G.ops.push(f);break}$[2]&&G.ops.pop(),G.trys.pop();continue}f=z.call(F,G)}catch(mt){f=[6,mt],q=0}finally{Y=$=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var b=Object.create?function(F,z,G,Y){Y===void 0&&(Y=G),Object.defineProperty(F,Y,{enumerable:!0,get:function(){return z[G]}})}:function(F,z,G,Y){Y===void 0&&(Y=G),F[Y]=z[G]};function m(F,z){for(var G in F)G!=="default"&&!Object.prototype.hasOwnProperty.call(z,G)&&b(z,F,G)}function x(F){var z=typeof Symbol=="function"&&Symbol.iterator,G=z&&F[z],Y=0;if(G)return G.call(F);if(F&&typeof F.length=="number")return{next:function(){return F&&Y>=F.length&&(F=void 0),{value:F&&F[Y++],done:!F}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(F,z){var G=typeof Symbol=="function"&&F[Symbol.iterator];if(!G)return F;var Y=G.call(F),q,$=[],J;try{for(;(z===void 0||z-- >0)&&!(q=Y.next()).done;)$.push(q.value)}catch(U){J={error:U}}finally{try{q&&!q.done&&(G=Y.return)&&G.call(Y)}finally{if(J)throw J.error}}return $}function C(){for(var F=[],z=0;z<arguments.length;z++)F=F.concat(g(arguments[z]));return F}function _(){for(var F=0,z=0,G=arguments.length;z<G;z++)F+=arguments[z].length;for(var Y=Array(F),q=0,z=0;z<G;z++)for(var $=arguments[z],J=0,U=$.length;J<U;J++,q++)Y[q]=$[J];return Y}function B(F,z,G){if(G||arguments.length===2)for(var Y=0,q=z.length,$;Y<q;Y++)($||!(Y in z))&&($||($=Array.prototype.slice.call(z,0,Y)),$[Y]=z[Y]);return F.concat($||Array.prototype.slice.call(z))}function D(F){return this instanceof D?(this.v=F,this):new D(F)}function W(F,z,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=G.apply(F,z||[]),q,$=[];return q={},J("next"),J("throw"),J("return"),q[Symbol.asyncIterator]=function(){return this},q;function J(at){Y[at]&&(q[at]=function(Pt){return new Promise(function(wt,Et){$.push([at,Pt,wt,Et])>1||U(at,Pt)})})}function U(at,Pt){try{K(Y[at](Pt))}catch(wt){Tt($[0][3],wt)}}function K(at){at.value instanceof D?Promise.resolve(at.value.v).then(f,mt):Tt($[0][2],at)}function f(at){U("next",at)}function mt(at){U("throw",at)}function Tt(at,Pt){at(Pt),$.shift(),$.length&&U($[0][0],$[0][1])}}function Z(F){var z,G;return z={},Y("next"),Y("throw",function(q){throw q}),Y("return"),z[Symbol.iterator]=function(){return this},z;function Y(q,$){z[q]=F[q]?function(J){return(G=!G)?{value:D(F[q](J)),done:q==="return"}:$?$(J):J}:$}}function X(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z=F[Symbol.asyncIterator],G;return z?z.call(F):(F=typeof x=="function"?x(F):F[Symbol.iterator](),G={},Y("next"),Y("throw"),Y("return"),G[Symbol.asyncIterator]=function(){return this},G);function Y($){G[$]=F[$]&&function(J){return new Promise(function(U,K){J=F[$](J),q(U,K,J.done,J.value)})}}function q($,J,U,K){Promise.resolve(K).then(function(f){$({value:f,done:U})},J)}}function j(F,z){return Object.defineProperty?Object.defineProperty(F,"raw",{value:z}):F.raw=z,F}var it=Object.create?function(F,z){Object.defineProperty(F,"default",{enumerable:!0,value:z})}:function(F,z){F.default=z};function tt(F){if(F&&F.__esModule)return F;var z={};if(F!=null)for(var G in F)G!=="default"&&Object.prototype.hasOwnProperty.call(F,G)&&b(z,F,G);return it(z,F),z}function yt(F){return F&&F.__esModule?F:{default:F}}function dt(F,z,G,Y){if(G==="a"&&!Y)throw new TypeError("Private accessor was defined without a getter");if(typeof z=="function"?F!==z||!Y:!z.has(F))throw new TypeError("Cannot read private member from an object whose class did not declare it");return G==="m"?Y:G==="a"?Y.call(F):Y?Y.value:z.get(F)}function Ct(F,z,G,Y,q){if(Y==="m")throw new TypeError("Private method is not writable");if(Y==="a"&&!q)throw new TypeError("Private accessor was defined without a setter");if(typeof z=="function"?F!==z||!q:!z.has(F))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Y==="a"?q.call(F,G):q?q.value=G:z.set(F,G),G}},14563:function(xt,S,d){"use strict";var w;w={value:!0};var O=d(55654),I=d(85622),L=d(77096),P=d(63528),T=d(64830),M=d(21927),E=d(70530),p=function(b){O.__extends(m,b);function m(){return b!==null&&b.apply(this,arguments)||this}return m.prototype.getDefaultCfg=function(){var x=b.prototype.getDefaultCfg.call(this);return x.renderer="canvas",x.autoDraw=!0,x.localRefresh=!0,x.refreshElements=[],x.clipView=!0,x.quickHit=!1,x},m.prototype.onCanvasChange=function(x){(x==="attr"||x==="sort"||x==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},m.prototype.getShapeBase=function(){return P},m.prototype.getGroupBase=function(){return T.default},m.prototype.getPixelRatio=function(){var x=this.get("pixelRatio")||M.getPixelRatio();return x>=1?Math.ceil(x):1},m.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},m.prototype.createDom=function(){var x=document.createElement("canvas"),g=x.getContext("2d");return this.set("context",g),x},m.prototype.setDOMSize=function(x,g){b.prototype.setDOMSize.call(this,x,g);var C=this.get("context"),_=this.get("el"),B=this.getPixelRatio();_.width=B*x,_.height=B*g,B>1&&C.scale(B,B)},m.prototype.clear=function(){b.prototype.clear.call(this),this._clearFrame();var x=this.get("context"),g=this.get("el");x.clearRect(0,0,g.width,g.height)},m.prototype.getShape=function(x,g){var C;return this.get("quickHit")?C=L.getShape(this,x,g):C=b.prototype.getShape.call(this,x,g,null),C},m.prototype._getRefreshRegion=function(){var x=this.get("refreshElements"),g=this.getViewRange(),C;if(x.length&&x[0]===this)C=g;else if(C=E.getMergedRegion(x),C){C.minX=Math.floor(C.minX),C.minY=Math.floor(C.minY),C.maxX=Math.ceil(C.maxX),C.maxY=Math.ceil(C.maxY),C.maxY+=1;var _=this.get("clipView");_&&(C=E.mergeView(C,g))}return C},m.prototype.refreshElement=function(x){var g=this.get("refreshElements");g.push(x)},m.prototype._clearFrame=function(){var x=this.get("drawFrame");x&&(M.clearAnimationFrame(x),this.set("drawFrame",null),this.set("refreshElements",[]))},m.prototype.draw=function(){var x=this.get("drawFrame");this.get("autoDraw")&&x||this._startDraw()},m.prototype._drawAll=function(){var x=this.get("context"),g=this.get("el"),C=this.getChildren();x.clearRect(0,0,g.width,g.height),E.applyAttrsToContext(x,this),E.drawChildren(x,C),this.set("refreshElements",[])},m.prototype._drawRegion=function(){var x=this.get("context"),g=this.get("refreshElements"),C=this.getChildren(),_=this._getRefreshRegion();_?(x.clearRect(_.minX,_.minY,_.maxX-_.minX,_.maxY-_.minY),x.save(),x.beginPath(),x.rect(_.minX,_.minY,_.maxX-_.minX,_.maxY-_.minY),x.clip(),E.applyAttrsToContext(x,this),E.checkRefresh(this,C,_),E.drawChildren(x,C,_),x.restore()):g.length&&E.clearChanged(g),M.each(g,function(B){B.get("hasChanged")&&B.set("hasChanged",!1)}),this.set("refreshElements",[])},m.prototype._startDraw=function(){var x=this,g=this.get("drawFrame");g||(g=M.requestAnimationFrame(function(){x.get("localRefresh")?x._drawRegion():x._drawAll(),x.set("drawFrame",null)}),this.set("drawFrame",g))},m.prototype.skipDraw=function(){},m.prototype.removeDom=function(){var x=this.get("el");x.width=0,x.height=0,x.parentNode.removeChild(x)},m}(I.AbstractCanvas);S.Z=p},64830:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),O=d(85622),I=d(63528),L=d(70530),P=d(49242),T=d(21927),M=function(E){w.__extends(p,E);function p(){return E!==null&&E.apply(this,arguments)||this}return p.prototype.onCanvasChange=function(b){L.refreshElement(this,b)},p.prototype.getShapeBase=function(){return I},p.prototype.getGroupBase=function(){return p},p.prototype._applyClip=function(b,m){m&&(b.save(),L.applyAttrsToContext(b,m),m.createPath(b),b.restore(),b.clip(),m._afterDraw())},p.prototype.cacheCanvasBBox=function(){var b=this.cfg.children,m=[],x=[];P.each(b,function(X){var j=X.cfg.cacheCanvasBBox;j&&X.cfg.isInView&&(m.push(j.minX,j.maxX),x.push(j.minY,j.maxY))});var g=null;if(m.length){var C=P.min(m),_=P.max(m),B=P.min(x),D=P.max(x);g={minX:C,minY:B,x:C,y:B,maxX:_,maxY:D,width:_-C,height:D-B};var W=this.cfg.canvas;if(W){var Z=W.getViewRange();this.set("isInView",T.intersectRect(g,Z))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",g)},p.prototype.draw=function(b,m){var x=this.cfg.children,g=m?this.cfg.refresh:!0;x.length&&g&&(b.save(),L.applyAttrsToContext(b,this),this._applyClip(b,this.getClip()),L.drawChildren(b,x,m),b.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},p.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},p}(O.AbstractGroup);S.default=M},41310:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),O=d(85622),I=d(21927),L=d(70530),P=d(85622),T=d(63528),M=d(64830),E=function(p){w.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.getDefaultAttrs=function(){var m=p.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},m),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},b.prototype.getShapeBase=function(){return T},b.prototype.getGroupBase=function(){return M.default},b.prototype.onCanvasChange=function(m){L.refreshElement(this,m)},b.prototype.calculateBBox=function(){var m=this.get("type"),x=this.getHitLineWidth(),g=P.getBBoxMethod(m),C=g(this),_=x/2,B=C.x-_,D=C.y-_,W=C.x+C.width+_,Z=C.y+C.height+_;return{x:B,minX:B,y:D,minY:D,width:C.width+x,height:C.height+x,maxX:W,maxY:Z}},b.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},b.prototype.isStroke=function(){return!!this.attrs.stroke},b.prototype._applyClip=function(m,x){x&&(m.save(),L.applyAttrsToContext(m,x),x.createPath(m),m.restore(),m.clip(),x._afterDraw())},b.prototype.draw=function(m,x){var g=this.cfg.clipShape;if(x){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var C=this.getCanvasBBox();if(!I.intersectRect(x,C)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}m.save(),L.applyAttrsToContext(m,this),this._applyClip(m,g),this.drawPath(m),m.restore(),this._afterDraw()},b.prototype.getCanvasViewBox=function(){var m=this.cfg.canvas;return m?m.getViewRange():null},b.prototype.cacheCanvasBBox=function(){var m=this.getCanvasViewBox();if(m){var x=this.getCanvasBBox(),g=I.intersectRect(x,m);this.set("isInView",g),g?this.set("cacheCanvasBBox",x):this.set("cacheCanvasBBox",null)}},b.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},b.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},b.prototype.drawPath=function(m){this.createPath(m),this.strokeAndFill(m),this.afterDrawPath(m)},b.prototype.fill=function(m){m.fill()},b.prototype.stroke=function(m){m.stroke()},b.prototype.strokeAndFill=function(m){var x=this.attrs,g=x.lineWidth,C=x.opacity,_=x.strokeOpacity,B=x.fillOpacity;this.isFill()&&(!I.isNil(B)&&B!==1?(m.globalAlpha=B,this.fill(m),m.globalAlpha=C):this.fill(m)),this.isStroke()&&g>0&&(!I.isNil(_)&&_!==1&&(m.globalAlpha=_),this.stroke(m)),this.afterDrawPath(m)},b.prototype.createPath=function(m){},b.prototype.afterDrawPath=function(m){},b.prototype.isInShape=function(m,x){var g=this.isStroke(),C=this.isFill(),_=this.getHitLineWidth();return this.isInStrokeOrPath(m,x,g,C,_)},b.prototype.isInStrokeOrPath=function(m,x,g,C,_){return!1},b.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var m=this.attrs;return m.lineWidth+m.lineAppendWidth},b}(O.AbstractShape);S.default=E},22925:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),O=d(41310),I=d(21927),L=function(P){w.__extends(T,P);function T(){return P!==null&&P.apply(this,arguments)||this}return T.prototype.getDefaultAttrs=function(){var M=P.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},M),{x:0,y:0,r:0})},T.prototype.isInStrokeOrPath=function(M,E,p,b,m){var x=this.attr(),g=x.x,C=x.y,_=x.r,B=m/2,D=I.distance(g,C,M,E);return b&&p?D<=_+B:b?D<=_:p?D>=_-B&&D<=_+B:!1},T.prototype.createPath=function(M){var E=this.attr(),p=E.x,b=E.y,m=E.r;M.beginPath(),M.arc(p,b,m,0,Math.PI*2,!1),M.closePath()},T}(O.default);S.default=L},21287:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),O=d(41310);function I(P,T,M,E){return P/(M*M)+T/(E*E)}var L=function(P){w.__extends(T,P);function T(){return P!==null&&P.apply(this,arguments)||this}return T.prototype.getDefaultAttrs=function(){var M=P.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},M),{x:0,y:0,rx:0,ry:0})},T.prototype.isInStrokeOrPath=function(M,E,p,b,m){var x=this.attr(),g=m/2,C=x.x,_=x.y,B=x.rx,D=x.ry,W=(M-C)*(M-C),Z=(E-_)*(E-_);return b&&p?I(W,Z,B+g,D+g)<=1:b?I(W,Z,B,D)<=1:p?I(W,Z,B-g,D-g)>=1&&I(W,Z,B+g,D+g)<=1:!1},T.prototype.createPath=function(M){var E=this.attr(),p=E.x,b=E.y,m=E.rx,x=E.ry;if(M.beginPath(),M.ellipse)M.ellipse(p,b,m,x,0,0,Math.PI*2,!1);else{var g=m>x?m:x,C=m>x?1:m/x,_=m>x?x/m:1;M.save(),M.translate(p,b),M.scale(C,_),M.arc(0,0,g,0,Math.PI*2),M.restore(),M.closePath()}},T}(O.default);S.default=L},55303:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),O=d(41310),I=d(21927);function L(T){return T instanceof HTMLElement&&I.isString(T.nodeName)&&T.nodeName.toUpperCase()==="CANVAS"}var P=function(T){w.__extends(M,T);function M(){return T!==null&&T.apply(this,arguments)||this}return M.prototype.getDefaultAttrs=function(){var E=T.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},E),{x:0,y:0,width:0,height:0})},M.prototype.initAttrs=function(E){this._setImage(E.img)},M.prototype.isStroke=function(){return!1},M.prototype.isOnlyHitBox=function(){return!0},M.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var E=this.get("canvas");E?E.draw():this.createPath(this.get("context"))}},M.prototype._setImage=function(E){var p=this,b=this.attrs;if(I.isString(E)){var m=new Image;m.onload=function(){if(p.destroyed)return!1;p.attr("img",m),p.set("loading",!1),p._afterLoading();var x=p.get("callback");x&&x.call(p)},m.crossOrigin="Anonymous",m.src=E,this.set("loading",!0)}else E instanceof Image?(b.width||(b.width=E.width),b.height||(b.height=E.height)):L(E)&&(b.width||(b.width=Number(E.getAttribute("width"))),b.height||(b.height,Number(E.getAttribute("height"))))},M.prototype.onAttrChange=function(E,p,b){T.prototype.onAttrChange.call(this,E,p,b),E==="img"&&this._setImage(p)},M.prototype.createPath=function(E){if(this.get("loading")){this.set("toDraw",!0),this.set("context",E);return}var p=this.attr(),b=p.x,m=p.y,x=p.width,g=p.height,C=p.sx,_=p.sy,B=p.swidth,D=p.sheight,W=p.img;(W instanceof Image||L(W))&&(!I.isNil(C)&&!I.isNil(_)&&!I.isNil(B)&&!I.isNil(D)?E.drawImage(W,C,_,B,D,b,m,x,g):E.drawImage(W,b,m,x,g))},M}(O.default);S.default=P},63528:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Text=S.Rect=S.Polyline=S.Polygon=S.Path=S.Marker=S.Line=S.Image=S.Ellipse=S.Circle=S.Base=void 0;var w=d(41310);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return w.default}});var O=d(22925);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return O.default}});var I=d(21287);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return I.default}});var L=d(55303);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return L.default}});var P=d(65159);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return P.default}});var T=d(22034);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return T.default}});var M=d(55263);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return M.default}});var E=d(69324);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return E.default}});var p=d(49067);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return p.default}});var b=d(9558);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return b.default}});var m=d(17310);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return m.default}})},65159:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),O=d(89838),I=d(41310),L=d(63161),P=d(27836),T=function(M){w.__extends(E,M);function E(){return M!==null&&M.apply(this,arguments)||this}return E.prototype.getDefaultAttrs=function(){var p=M.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},E.prototype.initAttrs=function(p){this.setArrow()},E.prototype.onAttrChange=function(p,b,m){M.prototype.onAttrChange.call(this,p,b,m),this.setArrow()},E.prototype.setArrow=function(){var p=this.attr(),b=p.x1,m=p.y1,x=p.x2,g=p.y2,C=p.startArrow,_=p.endArrow;C&&P.addStartArrow(this,p,x,g,b,m),_&&P.addEndArrow(this,p,b,m,x,g)},E.prototype.isInStrokeOrPath=function(p,b,m,x,g){if(!m||!g)return!1;var C=this.attr(),_=C.x1,B=C.y1,D=C.x2,W=C.y2;return L.default(_,B,D,W,g,p,b)},E.prototype.createPath=function(p){var b=this.attr(),m=b.x1,x=b.y1,g=b.x2,C=b.y2,_=b.startArrow,B=b.endArrow,D={dx:0,dy:0},W={dx:0,dy:0};_&&_.d&&(D=P.getShortenOffset(m,x,g,C,b.startArrow.d)),B&&B.d&&(W=P.getShortenOffset(m,x,g,C,b.endArrow.d)),p.beginPath(),p.moveTo(m+D.dx,x+D.dy),p.lineTo(g-W.dx,C-W.dy)},E.prototype.afterDrawPath=function(p){var b=this.get("startArrowShape"),m=this.get("endArrowShape");b&&b.draw(p),m&&m.draw(p)},E.prototype.getTotalLength=function(){var p=this.attr(),b=p.x1,m=p.y1,x=p.x2,g=p.y2;return O.Line.length(b,m,x,g)},E.prototype.getPoint=function(p){var b=this.attr(),m=b.x1,x=b.y1,g=b.x2,C=b.y2;return O.Line.pointAt(m,x,g,C,p)},E}(I.default);S.default=T},22034:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),O=d(49242),I=d(57350),L=d(41310),P=d(21927),T=d(70530),M={circle:function(p,b,m){return[["M",p-m,b],["A",m,m,0,1,0,p+m,b],["A",m,m,0,1,0,p-m,b]]},square:function(p,b,m){return[["M",p-m,b-m],["L",p+m,b-m],["L",p+m,b+m],["L",p-m,b+m],["Z"]]},diamond:function(p,b,m){return[["M",p-m,b],["L",p,b-m],["L",p+m,b],["L",p,b+m],["Z"]]},triangle:function(p,b,m){var x=m*Math.sin(1/3*Math.PI);return[["M",p-m,b+x],["L",p,b-x],["L",p+m,b+x],["Z"]]},"triangle-down":function(p,b,m){var x=m*Math.sin(1/3*Math.PI);return[["M",p-m,b-x],["L",p+m,b-x],["L",p,b+x],["Z"]]}},E=function(p){w.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.initAttrs=function(m){this._resetParamsCache()},b.prototype._resetParamsCache=function(){this.set("paramsCache",{})},b.prototype.onAttrChange=function(m,x,g){p.prototype.onAttrChange.call(this,m,x,g),["symbol","x","y","r","radius"].indexOf(m)!==-1&&this._resetParamsCache()},b.prototype.isOnlyHitBox=function(){return!0},b.prototype._getR=function(m){return O.isNil(m.r)?m.radius:m.r},b.prototype._getPath=function(){var m=this.attr(),x=m.x,g=m.y,C=m.symbol||"circle",_=this._getR(m),B,D;if(P.isFunction(C))B=C,D=B(x,g,_),D=I.path2Absolute(D);else{if(B=b.Symbols[C],!B)return console.warn(C+" marker is not supported."),null;D=B(x,g,_)}return D},b.prototype.createPath=function(m){var x=this._getPath(),g=this.get("paramsCache");T.drawPath(this,m,{path:x},g)},b.Symbols=M,b}(L.default);S.default=E},55263:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),O=d(89838),I=d(49242),L=d(41310),P=d(57350),T=d(70530),M=d(31977),E=d(50970),p=d(55531),b=d(27836);function m(g,C,_){for(var B=!1,D=0;D<g.length;D++){var W=g[D];if(B=E.default(W,C,_),B)break}return B}var x=function(g){w.__extends(C,g);function C(){return g!==null&&g.apply(this,arguments)||this}return C.prototype.getDefaultAttrs=function(){var _=g.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},_),{startArrow:!1,endArrow:!1})},C.prototype.initAttrs=function(_){this._setPathArr(_.path),this.setArrow()},C.prototype.onAttrChange=function(_,B,D){g.prototype.onAttrChange.call(this,_,B,D),_==="path"&&this._setPathArr(B),this.setArrow()},C.prototype._setPathArr=function(_){this.attrs.path=P.path2Absolute(_);var B=p.default.hasArc(_);this.set("hasArc",B),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},C.prototype.getSegments=function(){var _=this.get("segements");return _||(_=P.path2Segments(this.attr("path")),this.set("segments",_)),_},C.prototype.setArrow=function(){var _=this.attr(),B=_.startArrow,D=_.endArrow;if(B){var W=this.getStartTangent();b.addStartArrow(this,_,W[0][0],W[0][1],W[1][0],W[1][1])}if(D){var W=this.getEndTangent();b.addEndArrow(this,_,W[0][0],W[0][1],W[1][0],W[1][1])}},C.prototype.isInStrokeOrPath=function(_,B,D,W,Z){var X=this.getSegments(),j=this.get("hasArc"),it=!1;if(D){var tt=this.getTotalLength();it=p.default.isPointInStroke(X,Z,_,B,tt)}if(!it&&W)if(j)it=M.default(this,_,B);else{var yt=this.attr("path"),dt=p.default.extractPolygons(yt);it=m(dt.polygons,_,B)||m(dt.polylines,_,B)}return it},C.prototype.createPath=function(_){var B=this.attr(),D=this.get("paramsCache");T.drawPath(this,_,B,D)},C.prototype.afterDrawPath=function(_){var B=this.get("startArrowShape"),D=this.get("endArrowShape");B&&B.draw(_),D&&D.draw(_)},C.prototype.getTotalLength=function(){var _=this.get("totalLength");return I.isNil(_)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):_},C.prototype.getPoint=function(_){var B=this.get("tCache");B||(this._calculateCurve(),this._setTcache(),B=this.get("tCache"));var D,W,Z=this.get("curve");if(!B||B.length===0)return Z?{x:Z[0][1],y:Z[0][2]}:null;I.each(B,function(tt,yt){_>=tt[0]&&_<=tt[1]&&(D=(_-tt[0])/(tt[1]-tt[0]),W=yt)});var X=Z[W];if(I.isNil(X)||I.isNil(W))return null;var j=X.length,it=Z[W+1];return O.Cubic.pointAt(X[j-2],X[j-1],it[1],it[2],it[3],it[4],it[5],it[6],D)},C.prototype._calculateCurve=function(){var _=this.attr().path;this.set("curve",p.default.pathToCurve(_))},C.prototype._setTcache=function(){var _=0,B=0,D=[],W,Z,X,j,it=this.get("curve");if(!!it){if(I.each(it,function(tt,yt){X=it[yt+1],j=tt.length,X&&(_+=O.Cubic.length(tt[j-2],tt[j-1],X[1],X[2],X[3],X[4],X[5],X[6])||0)}),this.set("totalLength",_),_===0){this.set("tCache",[]);return}I.each(it,function(tt,yt){X=it[yt+1],j=tt.length,X&&(W=[],W[0]=B/_,Z=O.Cubic.length(tt[j-2],tt[j-1],X[1],X[2],X[3],X[4],X[5],X[6]),B+=Z||0,W[1]=B/_,D.push(W))}),this.set("tCache",D)}},C.prototype.getStartTangent=function(){var _=this.getSegments(),B;if(_.length>1){var D=_[0].currentPoint,W=_[1].currentPoint,Z=_[1].startTangent;B=[],Z?(B.push([D[0]-Z[0],D[1]-Z[1]]),B.push([D[0],D[1]])):(B.push([W[0],W[1]]),B.push([D[0],D[1]]))}return B},C.prototype.getEndTangent=function(){var _=this.getSegments(),B=_.length,D;if(B>1){var W=_[B-2].currentPoint,Z=_[B-1].currentPoint,X=_[B-1].endTangent;D=[],X?(D.push([Z[0]-X[0],Z[1]-X[1]]),D.push([Z[0],Z[1]])):(D.push([W[0],W[1]]),D.push([Z[0],Z[1]]))}return D},C}(L.default);S.default=x},69324:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),O=d(41310),I=d(39761),L=d(50970),P=function(T){w.__extends(M,T);function M(){return T!==null&&T.apply(this,arguments)||this}return M.prototype.isInStrokeOrPath=function(E,p,b,m,x){var g=this.attr().points,C=!1;return b&&(C=I.default(g,x,E,p,!0)),!C&&m&&(C=L.default(g,E,p)),C},M.prototype.createPath=function(E){var p=this.attr(),b=p.points;if(!(b.length<2)){E.beginPath();for(var m=0;m<b.length;m++){var x=b[m];m===0?E.moveTo(x[0],x[1]):E.lineTo(x[0],x[1])}E.closePath()}},M}(O.default);S.default=P},49067:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),O=d(89838),I=d(89838),L=d(49242),P=d(41310),T=d(39761),M=d(27836),E=function(p){w.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.getDefaultAttrs=function(){var m=p.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},m),{startArrow:!1,endArrow:!1})},b.prototype.initAttrs=function(m){this.setArrow()},b.prototype.onAttrChange=function(m,x,g){p.prototype.onAttrChange.call(this,m,x,g),this.setArrow(),["points"].indexOf(m)!==-1&&this._resetCache()},b.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},b.prototype.setArrow=function(){var m=this.attr(),x=this.attrs,g=x.points,C=x.startArrow,_=x.endArrow,B=g.length,D=g[0][0],W=g[0][1],Z=g[B-1][0],X=g[B-1][1];C&&M.addStartArrow(this,m,g[1][0],g[1][1],D,W),_&&M.addEndArrow(this,m,g[B-2][0],g[B-2][1],Z,X)},b.prototype.isFill=function(){return!1},b.prototype.isInStrokeOrPath=function(m,x,g,C,_){if(!g||!_)return!1;var B=this.attr().points;return T.default(B,_,m,x,!1)},b.prototype.isStroke=function(){return!0},b.prototype.createPath=function(m){var x=this.attr(),g=x.points,C=x.startArrow,_=x.endArrow,B=g.length;if(!(g.length<2)){var D=g[0][0],W=g[0][1],Z=g[B-1][0],X=g[B-1][1];if(C&&C.d){var j=M.getShortenOffset(D,W,g[1][0],g[1][1],C.d);D+=j.dx,W+=j.dy}if(_&&_.d){var j=M.getShortenOffset(g[B-2][0],g[B-2][1],Z,X,_.d);Z-=j.dx,X-=j.dy}m.beginPath(),m.moveTo(D,W);for(var it=0;it<B-1;it++){var tt=g[it];m.lineTo(tt[0],tt[1])}m.lineTo(Z,X)}},b.prototype.afterDrawPath=function(m){var x=this.get("startArrowShape"),g=this.get("endArrowShape");x&&x.draw(m),g&&g.draw(m)},b.prototype.getTotalLength=function(){var m=this.attr().points,x=this.get("totalLength");return L.isNil(x)?(this.set("totalLength",I.Polyline.length(m)),this.get("totalLength")):x},b.prototype.getPoint=function(m){var x=this.attr().points,g=this.get("tCache");g||(this._setTcache(),g=this.get("tCache"));var C,_;return L.each(g,function(B,D){m>=B[0]&&m<=B[1]&&(C=(m-B[0])/(B[1]-B[0]),_=D)}),O.Line.pointAt(x[_][0],x[_][1],x[_+1][0],x[_+1][1],C)},b.prototype._setTcache=function(){var m=this.attr().points;if(!(!m||m.length===0)){var x=this.getTotalLength();if(!(x<=0)){var g=0,C=[],_,B;L.each(m,function(D,W){m[W+1]&&(_=[],_[0]=g/x,B=O.Line.length(D[0],D[1],m[W+1][0],m[W+1][1]),g+=B,_[1]=g/x,C.push(_))}),this.set("tCache",C)}}},b.prototype.getStartTangent=function(){var m=this.attr().points,x=[];return x.push([m[1][0],m[1][1]]),x.push([m[0][0],m[0][1]]),x},b.prototype.getEndTangent=function(){var m=this.attr().points,x=m.length-1,g=[];return g.push([m[x-1][0],m[x-1][1]]),g.push([m[x][0],m[x][1]]),g},b}(P.default);S.default=E},9558:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),O=d(41310),I=d(93377),L=d(21927),P=d(21897),T=d(46647),M=d(31977),E=function(p){w.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.getDefaultAttrs=function(){var m=p.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},m),{x:0,y:0,width:0,height:0,radius:0})},b.prototype.isInStrokeOrPath=function(m,x,g,C,_){var B=this.attr(),D=B.x,W=B.y,Z=B.width,X=B.height,j=B.radius;if(j){var tt=!1;return g&&(tt=T.default(D,W,Z,X,j,_,m,x)),!tt&&C&&(tt=M.default(this,m,x)),tt}else{var it=_/2;if(C&&g)return L.inBox(D-it,W-it,Z+it,X+it,m,x);if(C)return L.inBox(D,W,Z,X,m,x);if(g)return P.default(D,W,Z,X,_,m,x)}},b.prototype.createPath=function(m){var x=this.attr(),g=x.x,C=x.y,_=x.width,B=x.height,D=x.radius;if(m.beginPath(),D===0)m.rect(g,C,_,B);else{var W=I.parseRadius(D),Z=W[0],X=W[1],j=W[2],it=W[3];m.moveTo(g+Z,C),m.lineTo(g+_-X,C),X!==0&&m.arc(g+_-X,C+X,X,-Math.PI/2,0),m.lineTo(g+_,C+B-j),j!==0&&m.arc(g+_-j,C+B-j,j,0,Math.PI/2),m.lineTo(g+it,C+B),it!==0&&m.arc(g+it,C+B-it,it,Math.PI/2,Math.PI),m.lineTo(g,C+Z),Z!==0&&m.arc(g+Z,C+Z,Z,Math.PI,Math.PI*1.5),m.closePath()}},b}(O.default);S.default=E},17310:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),O=d(41310),I=d(21927),L=d(85622),P=function(T){w.__extends(M,T);function M(){return T!==null&&T.apply(this,arguments)||this}return M.prototype.getDefaultAttrs=function(){var E=T.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},E),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},M.prototype.isOnlyHitBox=function(){return!0},M.prototype.initAttrs=function(E){this._assembleFont(),E.text&&this._setText(E.text)},M.prototype._assembleFont=function(){var E=this.attrs;E.font=L.assembleFont(E)},M.prototype._setText=function(E){var p=null;I.isString(E)&&E.indexOf(`
`)!==-1&&(p=E.split(`
`)),this.set("textArr",p)},M.prototype.onAttrChange=function(E,p,b){T.prototype.onAttrChange.call(this,E,p,b),E.startsWith("font")&&this._assembleFont(),E==="text"&&this._setText(p)},M.prototype._getSpaceingY=function(){var E=this.attrs,p=E.lineHeight,b=E.fontSize*1;return p?p-b:b*.14},M.prototype._drawTextArr=function(E,p,b){var m=this.attrs,x=m.textBaseline,g=m.x,C=m.y,_=m.fontSize*1,B=this._getSpaceingY(),D=L.getTextHeight(m.text,m.fontSize,m.lineHeight),W;I.each(p,function(Z,X){W=C+X*(B+_)-D+_,x==="middle"&&(W+=D-_-(D-_)/2),x==="top"&&(W+=D-_),I.isNil(Z)||(b?E.fillText(Z,g,W):E.strokeText(Z,g,W))})},M.prototype._drawText=function(E,p){var b=this.attr(),m=b.x,x=b.y,g=this.get("textArr");if(g)this._drawTextArr(E,g,p);else{var C=b.text;I.isNil(C)||(p?E.fillText(C,m,x):E.strokeText(C,m,x))}},M.prototype.strokeAndFill=function(E){var p=this.attrs,b=p.lineWidth,m=p.opacity,x=p.strokeOpacity,g=p.fillOpacity;this.isStroke()&&b>0&&(!I.isNil(x)&&x!==1&&(E.globalAlpha=m),this.stroke(E)),this.isFill()&&(!I.isNil(g)&&g!==1?(E.globalAlpha=g,this.fill(E),E.globalAlpha=m):this.fill(E)),this.afterDrawPath(E)},M.prototype.fill=function(E){this._drawText(E,!0)},M.prototype.stroke=function(E){this._drawText(E,!1)},M}(O.default);S.default=P},44706:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(21927);function O(T){return Math.sqrt(T[0]*T[0]+T[1]*T[1])}function I(T,M){return O(T)*O(M)?(T[0]*M[0]+T[1]*M[1])/(O(T)*O(M)):1}function L(T,M){return(T[0]*M[1]<T[1]*M[0]?-1:1)*Math.acos(I(T,M))}function P(T,M){var E=M[1],p=M[2],b=w.mod(w.toRadian(M[3]),Math.PI*2),m=M[4],x=M[5],g=T[0],C=T[1],_=M[6],B=M[7],D=Math.cos(b)*(g-_)/2+Math.sin(b)*(C-B)/2,W=-1*Math.sin(b)*(g-_)/2+Math.cos(b)*(C-B)/2,Z=D*D/(E*E)+W*W/(p*p);Z>1&&(E*=Math.sqrt(Z),p*=Math.sqrt(Z));var X=E*E*(W*W)+p*p*(D*D),j=X?Math.sqrt((E*E*(p*p)-X)/X):1;m===x&&(j*=-1),isNaN(j)&&(j=0);var it=p?j*E*W/p:0,tt=E?j*-p*D/E:0,yt=(g+_)/2+Math.cos(b)*it-Math.sin(b)*tt,dt=(C+B)/2+Math.sin(b)*it+Math.cos(b)*tt,Ct=[(D-it)/E,(W-tt)/p],F=[(-1*D-it)/E,(-1*W-tt)/p],z=L([1,0],Ct),G=L(Ct,F);return I(Ct,F)<=-1&&(G=Math.PI),I(Ct,F)>=1&&(G=0),x===0&&G>0&&(G=G-2*Math.PI),x===1&&G<0&&(G=G+2*Math.PI),{cx:yt,cy:dt,rx:w.isSamePoint(T,[_,B])?0:E,ry:w.isSamePoint(T,[_,B])?0:p,startAngle:z,endAngle:z+G,xRotation:b,arcFlag:m,sweepFlag:x}}S.default=P},27836:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.addEndArrow=S.addStartArrow=S.getShortenOffset=void 0;var w=d(55654),O=d(63528),I=Math.sin,L=Math.cos,P=Math.atan2,T=Math.PI;function M(x,g,C,_,B,D,W){var Z=g.stroke,X=g.lineWidth,j=C-B,it=_-D,tt=P(it,j),yt=new O.Path({type:"path",canvas:x.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*L(T/6)+","+10*I(T/6)+" L0,0 L"+10*L(T/6)+",-"+10*I(T/6),stroke:Z,lineWidth:X}});yt.translate(B,D),yt.rotateAtPoint(B,D,tt),x.set(W?"startArrowShape":"endArrowShape",yt)}function E(x,g,C,_,B,D,W){var Z=g.startArrow,X=g.endArrow,j=g.stroke,it=g.lineWidth,tt=W?Z:X,yt=tt.d,dt=tt.fill,Ct=tt.stroke,F=tt.lineWidth,z=w.__rest(tt,["d","fill","stroke","lineWidth"]),G=C-B,Y=_-D,q=P(Y,G);yt&&(B=B-L(q)*yt,D=D-I(q)*yt);var $=new O.Path({type:"path",canvas:x.get("canvas"),isArrowShape:!0,attrs:w.__assign(w.__assign({},z),{stroke:Ct||j,lineWidth:F||it,fill:dt})});$.translate(B,D),$.rotateAtPoint(B,D,q),x.set(W?"startArrowShape":"endArrowShape",$)}function p(x,g,C,_,B){var D=P(_-g,C-x);return{dx:L(D)*B,dy:I(D)*B}}S.getShortenOffset=p;function b(x,g,C,_,B,D){typeof g.startArrow=="object"?E(x,g,C,_,B,D,!0):g.startArrow?M(x,g,C,_,B,D,!0):x.set("startArrowShape",null)}S.addStartArrow=b;function m(x,g,C,_,B,D){typeof g.endArrow=="object"?E(x,g,C,_,B,D,!1):g.endArrow?M(x,g,C,_,B,D,!1):x.set("startArrowShape",null)}S.addEndArrow=m},70530:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.mergeView=S.getMergedRegion=S.getRefreshRegion=S.refreshElement=S.drawPath=S.clearChanged=S.checkChildrenRefresh=S.checkRefresh=S.drawChildren=S.applyAttrsToContext=void 0;var w=d(49242),O=d(93377),I=d(44706),L=d(21927),P=d(27836),T={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function M(Z,X){var j=X.attr();for(var it in j){var tt=j[it],yt=T[it]?T[it]:it;yt==="matrix"&&tt?Z.transform(tt[0],tt[1],tt[3],tt[4],tt[6],tt[7]):yt==="lineDash"&&Z.setLineDash?w.isArray(tt)&&Z.setLineDash(tt):(yt==="strokeStyle"||yt==="fillStyle"?tt=O.parseStyle(Z,X,tt):yt==="globalAlpha"&&(tt=tt*Z.globalAlpha),Z[yt]=tt)}}S.applyAttrsToContext=M;function E(Z,X,j){for(var it=0;it<X.length;it++){var tt=X[it];tt.cfg.visible?tt.draw(Z,j):tt.skipDraw()}}S.drawChildren=E;function p(Z,X,j){var it=Z.get("refreshElements");w.each(it,function(tt){if(tt!==Z)for(var yt=tt.cfg.parent;yt&&yt!==Z&&!yt.cfg.refresh;)yt.cfg.refresh=!0,yt=yt.cfg.parent}),it[0]===Z?x(X,j):b(X,j)}S.checkRefresh=p;function b(Z,X){for(var j=0;j<Z.length;j++){var it=Z[j];if(it.cfg.visible)if(it.cfg.hasChanged)it.cfg.refresh=!0,it.isGroup()&&x(it.cfg.children,X);else if(it.cfg.refresh)it.isGroup()&&b(it.cfg.children,X);else{var tt=g(it,X);it.cfg.refresh=tt,tt&&it.isGroup()&&b(it.cfg.children,X)}}}S.checkChildrenRefresh=b;function m(Z){for(var X=0;X<Z.length;X++){var j=Z[X];j.cfg.hasChanged=!1,j.isGroup()&&!j.destroyed&&m(j.cfg.children)}}S.clearChanged=m;function x(Z,X){for(var j=0;j<Z.length;j++){var it=Z[j];it.cfg.refresh=!0,it.isGroup()&&x(it.get("children"),X)}}function g(Z,X){var j=Z.cfg.cacheCanvasBBox,it=Z.cfg.isInView&&j&&L.intersectRect(j,X);return it}function C(Z,X,j,it){var tt=j.path,yt=j.startArrow,dt=j.endArrow;if(!!tt){var Ct=[0,0],F=[0,0],z={dx:0,dy:0};X.beginPath();for(var G=0;G<tt.length;G++){var Y=tt[G],q=Y[0];if(G===0&&yt&&yt.d){var $=Z.getStartTangent();z=P.getShortenOffset($[0][0],$[0][1],$[1][0],$[1][1],yt.d)}else if(G===tt.length-2&&tt[G+1][0]==="Z"&&dt&&dt.d){var J=tt[G+1];if(J[0]==="Z"){var $=Z.getEndTangent();z=P.getShortenOffset($[0][0],$[0][1],$[1][0],$[1][1],dt.d)}}else if(G===tt.length-1&&dt&&dt.d&&tt[0]!=="Z"){var $=Z.getEndTangent();z=P.getShortenOffset($[0][0],$[0][1],$[1][0],$[1][1],dt.d)}var U=z.dx,K=z.dy;switch(q){case"M":X.moveTo(Y[1]-U,Y[2]-K),F=[Y[1],Y[2]];break;case"L":X.lineTo(Y[1]-U,Y[2]-K);break;case"Q":X.quadraticCurveTo(Y[1],Y[2],Y[3]-U,Y[4]-K);break;case"C":X.bezierCurveTo(Y[1],Y[2],Y[3],Y[4],Y[5]-U,Y[6]-K);break;case"A":{var f=void 0;it?(f=it[G],f||(f=I.default(Ct,Y),it[G]=f)):f=I.default(Ct,Y);var mt=f.cx,Tt=f.cy,at=f.rx,Pt=f.ry,wt=f.startAngle,Et=f.endAngle,Rt=f.xRotation,Nt=f.sweepFlag;if(X.ellipse)X.ellipse(mt,Tt,at,Pt,Rt,wt,Et,1-Nt);else{var kt=at>Pt?at:Pt,_t=at>Pt?1:at/Pt,ht=at>Pt?Pt/at:1;X.translate(mt,Tt),X.rotate(Rt),X.scale(_t,ht),X.arc(0,0,kt,wt,Et,1-Nt),X.scale(1/_t,1/ht),X.rotate(-Rt),X.translate(-mt,-Tt)}break}case"Z":X.closePath();break;default:break}if(q==="Z")Ct=F;else{var ft=Y.length;Ct=[Y[ft-2],Y[ft-1]]}}}}S.drawPath=C;function _(Z,X){var j=Z.get("canvas");j&&(X==="remove"&&(Z._cacheCanvasBBox=Z.get("cacheCanvasBBox")),Z.get("hasChanged")||(Z.set("hasChanged",!0),Z.cfg.parent&&Z.cfg.parent.get("hasChanged")||(j.refreshElement(Z,X,j),j.get("autoDraw")&&j.draw())))}S.refreshElement=_;function B(Z){var X;if(Z.destroyed)X=Z._cacheCanvasBBox;else{var j=Z.get("cacheCanvasBBox"),it=j&&!!(j.width&&j.height),tt=Z.getCanvasBBox(),yt=tt&&!!(tt.width&&tt.height);it&&yt?X=L.mergeRegion(j,tt):it?X=j:yt&&(X=tt)}return X}S.getRefreshRegion=B;function D(Z){if(!Z.length)return null;var X=[],j=[],it=[],tt=[];return w.each(Z,function(yt){var dt=B(yt);dt&&(X.push(dt.minX),j.push(dt.minY),it.push(dt.maxX),tt.push(dt.maxY))}),{minX:w.min(X),minY:w.min(j),maxX:w.max(it),maxY:w.max(tt)}}S.getMergedRegion=D;function W(Z,X){return!Z||!X||!L.intersectRect(Z,X)?null:{minX:Math.max(Z.minX,X.minX),minY:Math.max(Z.minY,X.minY),maxX:Math.min(Z.maxX,X.maxX),maxY:Math.min(Z.maxY,X.maxY)}}S.mergeView=W},77096:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getShape=void 0;var w=d(85622);function O(T,M){if(M){var E=w.invert(M);return w.multiplyVec2(E,T)}return T}function I(T,M,E){var p=T.getTotalMatrix();if(p){var b=O([M,E,1],p),m=b[0],x=b[1];return[m,x]}return[M,E]}function L(T,M,E){if(T.isCanvas&&T.isCanvas())return!0;if(!w.isAllowCapture(T)||T.cfg.isInView===!1)return!1;if(T.cfg.clipShape){var p=I(T,M,E),b=p[0],m=p[1];if(T.isClipped(b,m))return!1}var x=T.cfg.cacheCanvasBBox||T.getCanvasBBox();return M>=x.minX&&M<=x.maxX&&E>=x.minY&&E<=x.maxY}function P(T,M,E){if(!L(T,M,E))return null;for(var p=null,b=T.getChildren(),m=b.length,x=m-1;x>=0;x--){var g=b[x];if(g.isGroup())p=P(g,M,E);else if(L(g,M,E)){var C=g,_=I(g,M,E),B=_[0],D=_[1];C.isInShape(B,D)&&(p=g)}if(p)break}return p}S.getShape=P},31977:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(85622);function O(I,L,P){var T=w.getOffScreenContext();return I.createPath(T),T.isPointInPath(L,P)}S.default=O},50970:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-6;function w(L){return Math.abs(L)<d?0:L<0?-1:1}function O(L,P,T){return(T[0]-L[0])*(P[1]-L[1])==(P[0]-L[0])*(T[1]-L[1])&&Math.min(L[0],P[0])<=T[0]&&T[0]<=Math.max(L[0],P[0])&&Math.min(L[1],P[1])<=T[1]&&T[1]<=Math.max(L[1],P[1])}function I(L,P,T){var M=!1,E=L.length;if(E<=2)return!1;for(var p=0;p<E;p++){var b=L[p],m=L[(p+1)%E];if(O(b,m,[P,T]))return!0;w(b[1]-T)>0!=w(m[1]-T)>0&&w(P-(T-b[1])*(b[0]-m[0])/(b[1]-m[1])-b[0])<0&&(M=!M)}return M}S.default=I},70122:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(21927);function O(I,L,P,T,M,E,p,b){var m=(Math.atan2(b-L,p-I)+Math.PI*2)%(Math.PI*2);if(m<T||m>M)return!1;var x={x:I+P*Math.cos(m),y:L+P*Math.sin(m)};return w.distance(x.x,x.y,p,b)<=E/2}S.default=O},63161:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(89838);function O(I,L,P,T,M,E,p){var b=Math.min(I,P),m=Math.max(I,P),x=Math.min(L,T),g=Math.max(L,T),C=M/2;return E>=b-C&&E<=m+C&&p>=x-C&&p<=g+C?w.Line.pointToLine(I,L,P,T,E,p)<=M/2:!1}S.default=O},39761:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(63161);function O(I,L,P,T,M){var E=I.length;if(E<2)return!1;for(var p=0;p<E-1;p++){var b=I[p][0],m=I[p][1],x=I[p+1][0],g=I[p+1][1];if(w.default(b,m,x,g,L,P,T))return!0}if(M){var C=I[0],_=I[E-1];if(w.default(C[0],C[1],_[0],_[1],L,P,T))return!0}return!1}S.default=O},46647:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(63161),O=d(70122);function I(L,P,T,M,E,p,b,m){var x=p/2;return w.default(L+E,P,L+T-E,P,p,b,m)||w.default(L+T,P+E,L+T,P+M-E,p,b,m)||w.default(L+T-E,P+M,L+E,P+M,p,b,m)||w.default(L,P+M-E,L,P+E,p,b,m)||O.default(L+T-E,P+E,E,1.5*Math.PI,2*Math.PI,p,b,m)||O.default(L+T-E,P+M-E,E,0,.5*Math.PI,p,b,m)||O.default(L+E,P+M-E,E,.5*Math.PI,Math.PI,p,b,m)||O.default(L+E,P+E,E,Math.PI,1.5*Math.PI,p,b,m)}S.default=I},21897:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(21927);function O(I,L,P,T,M,E,p){var b=M/2;return w.inBox(I-b,L-b,P,M,E,p)||w.inBox(I+P-b,L-b,M,T,E,p)||w.inBox(I+b,L+T-b,P,M,E,p)||w.inBox(I-b,L+b,M,T,E,p)}S.default=O},93377:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parseRadius=S.parseStyle=S.parsePattern=S.parseRadialGradient=S.parseLineGradient=void 0;var w=d(21927),O=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,I=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,L=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,P=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function T(x,g){var C=x.match(P);w.each(C,function(_){var B=_.split(":");g.addColorStop(B[0],B[1])})}function M(x,g,C){var _=O.exec(C),B=parseFloat(_[1])%360*(Math.PI/180),D=_[2],W=g.getBBox(),Z,X;B>=0&&B<1/2*Math.PI?(Z={x:W.minX,y:W.minY},X={x:W.maxX,y:W.maxY}):1/2*Math.PI<=B&&B<Math.PI?(Z={x:W.maxX,y:W.minY},X={x:W.minX,y:W.maxY}):Math.PI<=B&&B<3/2*Math.PI?(Z={x:W.maxX,y:W.maxY},X={x:W.minX,y:W.minY}):(Z={x:W.minX,y:W.maxY},X={x:W.maxX,y:W.minY});var j=Math.tan(B),it=j*j,tt=(X.x-Z.x+j*(X.y-Z.y))/(it+1)+Z.x,yt=j*(X.x-Z.x+j*(X.y-Z.y))/(it+1)+Z.y,dt=x.createLinearGradient(Z.x,Z.y,tt,yt);return T(D,dt),dt}S.parseLineGradient=M;function E(x,g,C){var _=I.exec(C),B=parseFloat(_[1]),D=parseFloat(_[2]),W=parseFloat(_[3]),Z=_[4];if(W===0){var X=Z.match(P);return X[X.length-1].split(":")[1]}var j=g.getBBox(),it=j.maxX-j.minX,tt=j.maxY-j.minY,yt=Math.sqrt(it*it+tt*tt)/2,dt=x.createRadialGradient(j.minX+it*B,j.minY+tt*D,0,j.minX+it/2,j.minY+tt/2,W*yt);return T(Z,dt),dt}S.parseRadialGradient=E;function p(x,g,C){if(g.get("patternSource")&&g.get("patternSource")===C)return g.get("pattern");var _,B,D=L.exec(C),W=D[1],Z=D[2];function X(){_=x.createPattern(B,W),g.set("pattern",_),g.set("patternSource",C)}switch(W){case"a":W="repeat";break;case"x":W="repeat-x";break;case"y":W="repeat-y";break;case"n":W="no-repeat";break;default:W="no-repeat"}return B=new Image,Z.match(/^data:/i)||(B.crossOrigin="Anonymous"),B.src=Z,B.complete?X():(B.onload=X,B.src=B.src),_}S.parsePattern=p;function b(x,g,C){var _=g.getBBox();if(isNaN(_.x)||isNaN(_.y)||isNaN(_.width)||isNaN(_.height))return C;if(w.isString(C)){if(C[1]==="("||C[2]==="("){if(C[0]==="l")return M(x,g,C);if(C[0]==="r")return E(x,g,C);if(C[0]==="p")return p(x,g,C)}return C}if(C instanceof CanvasPattern)return C}S.parseStyle=b;function m(x){var g=0,C=0,_=0,B=0;return w.isArray(x)?x.length===1?g=C=_=B=x[0]:x.length===2?(g=_=x[0],C=B=x[1]):x.length===3?(g=x[0],C=B=x[1],_=x[2]):(g=x[0],C=x[1],_=x[2],B=x[3]):g=C=_=B=x,[g,C,_,B]}S.parseRadius=m},55531:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),O=d(85622),I=d(89838),L=d(89838),P=d(77788),T=d(77160),M=d(21927),E=d(63161),p=d(70122),b=P.ext.transform;function m(C){for(var _=!1,B=C.length,D=0;D<B;D++){var W=C[D],Z=W[0];if(Z==="C"||Z==="A"||Z==="Q"){_=!0;break}}return _}function x(C,_,B,D,W){for(var Z=!1,X=_/2,j=0;j<C.length;j++){var it=C[j],tt=it.currentPoint,yt=it.params,dt=it.prePoint,Ct=it.box;if(!(Ct&&!M.inBox(Ct.x-X,Ct.y-X,Ct.width+_,Ct.height+_,B,D))){switch(it.command){case"L":case"Z":Z=E.default(dt[0],dt[1],tt[0],tt[1],_,B,D);break;case"Q":var F=I.Quad.pointDistance(dt[0],dt[1],yt[1],yt[2],yt[3],yt[4],B,D);Z=F<=_/2;break;case"C":var z=L.Cubic.pointDistance(dt[0],dt[1],yt[1],yt[2],yt[3],yt[4],yt[5],yt[6],B,D,W);Z=z<=_/2;break;case"A":var G=it.arcParams,Y=G.cx,q=G.cy,$=G.rx,J=G.ry,U=G.startAngle,K=G.endAngle,f=G.xRotation,mt=[B,D,1],Tt=$>J?$:J,at=$>J?1:$/J,Pt=$>J?J/$:1,wt=b(null,[["t",-Y,-q],["r",-f],["s",1/at,1/Pt]]);T.transformMat3(mt,mt,wt),Z=p.default(0,0,Tt,U,K,_,mt[0],mt[1]);break;default:break}if(Z)break}}return Z}function g(C){for(var _=C.length,B=[],D=[],W=[],Z=0;Z<_;Z++){var X=C[Z],j=X[0];j==="M"?(W.length&&(D.push(W),W=[]),W.push([X[1],X[2]])):j==="Z"?W.length&&(B.push(W),W=[]):W.push([X[1],X[2]])}return W.length>0&&D.push(W),{polygons:B,polylines:D}}S.default=w.__assign({hasArc:m,extractPolygons:g,isPointInStroke:x},O.PathUtil)},21927:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.clearAnimationFrame=S.requestAnimationFrame=S.isNumberEqual=S.mod=S.toRadian=S.each=S.isArray=S.isFunction=S.isString=S.isNil=S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function w(){return window?window.devicePixelRatio:1}S.getPixelRatio=w;function O(E,p,b,m){var x=E-b,g=p-m;return Math.sqrt(x*x+g*g)}S.distance=O;function I(E,p,b,m,x,g){return x>=E&&x<=E+b&&g>=p&&g<=p+m}S.inBox=I;function L(E,p){return!(p.minX>E.maxX||p.maxX<E.minX||p.minY>E.maxY||p.maxY<E.minY)}S.intersectRect=L;function P(E,p){return!E||!p?E||p:{minX:Math.min(E.minX,p.minX),minY:Math.min(E.minY,p.minY),maxX:Math.max(E.maxX,p.maxX),maxY:Math.max(E.maxY,p.maxY)}}S.mergeRegion=P;function T(E,p){return E[0]===p[0]&&E[1]===p[1]}S.isSamePoint=T;var M=d(49242);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return M.isNil}}),Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return M.isString}}),Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return M.isFunction}}),Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return M.isArray}}),Object.defineProperty(S,"each",{enumerable:!0,get:function(){return M.each}}),Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return M.toRadian}}),Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return M.mod}}),Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return M.isNumberEqual}}),Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return M.requestAnimationFrame}}),Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return M.clearAnimationFrame}})},77788:function(xt,S,d){"use strict";d.r(S),d.d(S,{ext:function(){return w},mat3:function(){return O},vec2:function(){return I},vec3:function(){return L}});var w={};d.r(w),d.d(w,{angleTo:function(){return m},direction:function(){return b},leftRotate:function(){return T},leftScale:function(){return M},leftTranslate:function(){return P},transform:function(){return p},vertical:function(){return x}});var O=d(35600),I=d(31437),L=d(77160);function P(g,C,_){var B=[0,0,0,0,0,0,0,0,0];return O.fromTranslation(B,_),O.multiply(g,B,C)}function T(g,C,_){var B=[0,0,0,0,0,0,0,0,0];return O.fromRotation(B,_),O.multiply(g,B,C)}function M(g,C,_){var B=[0,0,0,0,0,0,0,0,0];return O.fromScaling(B,_),O.multiply(g,B,C)}function E(g,C,_){return O.multiply(g,_,C)}function p(g,C){for(var _=g?[].concat(g):[1,0,0,0,1,0,0,0,1],B=0,D=C.length;B<D;B++){var W=C[B];switch(W[0]){case"t":P(_,_,[W[1],W[2]]);break;case"s":M(_,_,[W[1],W[2]]);break;case"r":T(_,_,W[1]);break;case"m":E(_,_,W[1]);break;default:break}}return _}function b(g,C){return g[0]*C[1]-C[0]*g[1]}function m(g,C,_){var B=I.angle(g,C),D=b(g,C)>=0;return _?D?Math.PI*2-B:B:D?B:Math.PI*2-B}function x(g,C,_){return _?(g[0]=C[1],g[1]=-1*C[0]):(g[0]=-1*C[1],g[1]=C[0]),g}},55654:function(xt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return L},__decorate:function(){return P},__param:function(){return T},__metadata:function(){return M},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return m},__values:function(){return x},__read:function(){return g},__spread:function(){return C},__spreadArrays:function(){return _},__spreadArray:function(){return B},__await:function(){return D},__asyncGenerator:function(){return W},__asyncDelegator:function(){return Z},__asyncValues:function(){return X},__makeTemplateObject:function(){return j},__importStar:function(){return tt},__importDefault:function(){return yt},__classPrivateFieldGet:function(){return dt},__classPrivateFieldSet:function(){return Ct}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w=function(F,z){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,Y){G.__proto__=Y}||function(G,Y){for(var q in Y)Object.prototype.hasOwnProperty.call(Y,q)&&(G[q]=Y[q])},w(F,z)};function O(F,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");w(F,z);function G(){this.constructor=F}F.prototype=z===null?Object.create(z):(G.prototype=z.prototype,new G)}var I=function(){return I=Object.assign||function(z){for(var G,Y=1,q=arguments.length;Y<q;Y++){G=arguments[Y];for(var $ in G)Object.prototype.hasOwnProperty.call(G,$)&&(z[$]=G[$])}return z},I.apply(this,arguments)};function L(F,z){var G={};for(var Y in F)Object.prototype.hasOwnProperty.call(F,Y)&&z.indexOf(Y)<0&&(G[Y]=F[Y]);if(F!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,Y=Object.getOwnPropertySymbols(F);q<Y.length;q++)z.indexOf(Y[q])<0&&Object.prototype.propertyIsEnumerable.call(F,Y[q])&&(G[Y[q]]=F[Y[q]]);return G}function P(F,z,G,Y){var q=arguments.length,$=q<3?z:Y===null?Y=Object.getOwnPropertyDescriptor(z,G):Y,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(F,z,G,Y);else for(var U=F.length-1;U>=0;U--)(J=F[U])&&($=(q<3?J($):q>3?J(z,G,$):J(z,G))||$);return q>3&&$&&Object.defineProperty(z,G,$),$}function T(F,z){return function(G,Y){z(G,Y,F)}}function M(F,z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(F,z)}function E(F,z,G,Y){function q($){return $ instanceof G?$:new G(function(J){J($)})}return new(G||(G=Promise))(function($,J){function U(mt){try{f(Y.next(mt))}catch(Tt){J(Tt)}}function K(mt){try{f(Y.throw(mt))}catch(Tt){J(Tt)}}function f(mt){mt.done?$(mt.value):q(mt.value).then(U,K)}f((Y=Y.apply(F,z||[])).next())})}function p(F,z){var G={label:0,sent:function(){if($[0]&1)throw $[1];return $[1]},trys:[],ops:[]},Y,q,$,J;return J={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(J[Symbol.iterator]=function(){return this}),J;function U(f){return function(mt){return K([f,mt])}}function K(f){if(Y)throw new TypeError("Generator is already executing.");for(;G;)try{if(Y=1,q&&($=f[0]&2?q.return:f[0]?q.throw||(($=q.return)&&$.call(q),0):q.next)&&!($=$.call(q,f[1])).done)return $;switch(q=0,$&&(f=[f[0]&2,$.value]),f[0]){case 0:case 1:$=f;break;case 4:return G.label++,{value:f[1],done:!1};case 5:G.label++,q=f[1],f=[0];continue;case 7:f=G.ops.pop(),G.trys.pop();continue;default:if($=G.trys,!($=$.length>0&&$[$.length-1])&&(f[0]===6||f[0]===2)){G=0;continue}if(f[0]===3&&(!$||f[1]>$[0]&&f[1]<$[3])){G.label=f[1];break}if(f[0]===6&&G.label<$[1]){G.label=$[1],$=f;break}if($&&G.label<$[2]){G.label=$[2],G.ops.push(f);break}$[2]&&G.ops.pop(),G.trys.pop();continue}f=z.call(F,G)}catch(mt){f=[6,mt],q=0}finally{Y=$=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var b=Object.create?function(F,z,G,Y){Y===void 0&&(Y=G),Object.defineProperty(F,Y,{enumerable:!0,get:function(){return z[G]}})}:function(F,z,G,Y){Y===void 0&&(Y=G),F[Y]=z[G]};function m(F,z){for(var G in F)G!=="default"&&!Object.prototype.hasOwnProperty.call(z,G)&&b(z,F,G)}function x(F){var z=typeof Symbol=="function"&&Symbol.iterator,G=z&&F[z],Y=0;if(G)return G.call(F);if(F&&typeof F.length=="number")return{next:function(){return F&&Y>=F.length&&(F=void 0),{value:F&&F[Y++],done:!F}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(F,z){var G=typeof Symbol=="function"&&F[Symbol.iterator];if(!G)return F;var Y=G.call(F),q,$=[],J;try{for(;(z===void 0||z-- >0)&&!(q=Y.next()).done;)$.push(q.value)}catch(U){J={error:U}}finally{try{q&&!q.done&&(G=Y.return)&&G.call(Y)}finally{if(J)throw J.error}}return $}function C(){for(var F=[],z=0;z<arguments.length;z++)F=F.concat(g(arguments[z]));return F}function _(){for(var F=0,z=0,G=arguments.length;z<G;z++)F+=arguments[z].length;for(var Y=Array(F),q=0,z=0;z<G;z++)for(var $=arguments[z],J=0,U=$.length;J<U;J++,q++)Y[q]=$[J];return Y}function B(F,z,G){if(G||arguments.length===2)for(var Y=0,q=z.length,$;Y<q;Y++)($||!(Y in z))&&($||($=Array.prototype.slice.call(z,0,Y)),$[Y]=z[Y]);return F.concat($||Array.prototype.slice.call(z))}function D(F){return this instanceof D?(this.v=F,this):new D(F)}function W(F,z,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=G.apply(F,z||[]),q,$=[];return q={},J("next"),J("throw"),J("return"),q[Symbol.asyncIterator]=function(){return this},q;function J(at){Y[at]&&(q[at]=function(Pt){return new Promise(function(wt,Et){$.push([at,Pt,wt,Et])>1||U(at,Pt)})})}function U(at,Pt){try{K(Y[at](Pt))}catch(wt){Tt($[0][3],wt)}}function K(at){at.value instanceof D?Promise.resolve(at.value.v).then(f,mt):Tt($[0][2],at)}function f(at){U("next",at)}function mt(at){U("throw",at)}function Tt(at,Pt){at(Pt),$.shift(),$.length&&U($[0][0],$[0][1])}}function Z(F){var z,G;return z={},Y("next"),Y("throw",function(q){throw q}),Y("return"),z[Symbol.iterator]=function(){return this},z;function Y(q,$){z[q]=F[q]?function(J){return(G=!G)?{value:D(F[q](J)),done:q==="return"}:$?$(J):J}:$}}function X(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z=F[Symbol.asyncIterator],G;return z?z.call(F):(F=typeof x=="function"?x(F):F[Symbol.iterator](),G={},Y("next"),Y("throw"),Y("return"),G[Symbol.asyncIterator]=function(){return this},G);function Y($){G[$]=F[$]&&function(J){return new Promise(function(U,K){J=F[$](J),q(U,K,J.done,J.value)})}}function q($,J,U,K){Promise.resolve(K).then(function(f){$({value:f,done:U})},J)}}function j(F,z){return Object.defineProperty?Object.defineProperty(F,"raw",{value:z}):F.raw=z,F}var it=Object.create?function(F,z){Object.defineProperty(F,"default",{enumerable:!0,value:z})}:function(F,z){F.default=z};function tt(F){if(F&&F.__esModule)return F;var z={};if(F!=null)for(var G in F)G!=="default"&&Object.prototype.hasOwnProperty.call(F,G)&&b(z,F,G);return it(z,F),z}function yt(F){return F&&F.__esModule?F:{default:F}}function dt(F,z,G,Y){if(G==="a"&&!Y)throw new TypeError("Private accessor was defined without a getter");if(typeof z=="function"?F!==z||!Y:!z.has(F))throw new TypeError("Cannot read private member from an object whose class did not declare it");return G==="m"?Y:G==="a"?Y.call(F):Y?Y.value:z.get(F)}function Ct(F,z,G,Y,q){if(Y==="m")throw new TypeError("Private method is not writable");if(Y==="a"&&!q)throw new TypeError("Private accessor was defined without a setter");if(typeof z=="function"?F!==z||!q:!z.has(F))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Y==="a"?q.call(F,G):q?q.value=G:z.set(F,G),G}},70673:function(xt,S,d){"use strict";var w;w={value:!0};var O=d(47862),I=d(85622),L=d(65712),P=d(98820),T=d(50063),M=d(87596),E=d(4206),p=d(11694),b=d(21318),m=function(x){O.__extends(g,x);function g(C){return x.call(this,O.__assign(O.__assign({},C),{autoDraw:!0,renderer:"svg"}))||this}return g.prototype.getShapeBase=function(){return E},g.prototype.getGroupBase=function(){return p.default},g.prototype.getShape=function(C,_,B){var D=B.target||B.srcElement;if(!L.SHAPE_TO_TAGS[D.tagName]){for(var W=D.parentNode;W&&!L.SHAPE_TO_TAGS[W.tagName];)W=W.parentNode;D=W}return this.find(function(Z){return Z.get("el")===D})},g.prototype.createDom=function(){var C=M.createSVGElement("svg"),_=new b.default(C);return C.setAttribute("width",""+this.get("width")),C.setAttribute("height",""+this.get("height")),this.set("context",_),C},g.prototype.onCanvasChange=function(C){var _=this.get("context"),B=this.get("el");if(C==="sort"){var D=this.get("children");D&&D.length&&M.sortDom(this,function(Z,X){return D.indexOf(Z)-D.indexOf(X)?1:0})}else if(C==="clear"){if(B){B.innerHTML="";var W=_.el;W.innerHTML="",B.appendChild(W)}}else C==="matrix"?T.setTransform(this):C==="clip"?T.setClip(this,_):C==="changeSize"&&(B.setAttribute("width",""+this.get("width")),B.setAttribute("height",""+this.get("height")))},g.prototype.draw=function(){var C=this.get("context"),_=this.getChildren();T.setClip(this,C),_.length&&P.drawChildren(C,_)},g}(I.AbstractCanvas);S.Z=m},65712:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.EVENTS=S.SVG_ATTR_MAP=S.SHAPE_TO_TAGS=void 0,S.SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},S.SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},S.EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},9353:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),O=d(87596),I=function(){function L(P,T){this.cfg={};var M=O.createSVGElement("marker"),E=w.uniqueId("marker_");M.setAttribute("id",E);var p=O.createSVGElement("path");p.setAttribute("stroke",P.stroke||"none"),p.setAttribute("fill",P.fill||"none"),M.appendChild(p),M.setAttribute("overflow","visible"),M.setAttribute("orient","auto-start-reverse"),this.el=M,this.child=p,this.id=E;var b=P[T==="marker-start"?"startArrow":"endArrow"];return this.stroke=P.stroke||"#000",b===!0?this._setDefaultPath(T,p):(this.cfg=b,this._setMarker(P.lineWidth,p)),this}return L.prototype.match=function(){return!1},L.prototype._setDefaultPath=function(P,T){var M=this.el;T.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),M.setAttribute("refX",""+10*Math.cos(Math.PI/6)),M.setAttribute("refY",""+5)},L.prototype._setMarker=function(P,T){var M=this.el,E=this.cfg.path,p=this.cfg.d;w.isArray(E)&&(E=E.map(function(b){return b.join(" ")}).join("")),T.setAttribute("d",E),M.appendChild(T),p&&M.setAttribute("refX",""+p/P)},L.prototype.update=function(P){var T=this.child;T.attr?T.attr("fill",P):T.setAttribute("fill",P)},L}();S.default=I},67926:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),O=d(87596),I=function(){function L(P){this.type="clip",this.cfg={};var T=O.createSVGElement("clipPath");this.el=T,this.id=w.uniqueId("clip_"),T.id=this.id;var M=P.cfg.el;return T.appendChild(M),this.cfg=P,this}return L.prototype.match=function(){return!1},L.prototype.remove=function(){var P=this.el;P.parentNode.removeChild(P)},L}();S.default=I},10052:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),O=d(87596),I=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,L=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,P=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function T(b){var m=b.match(P);if(!m)return"";var x="";return m.sort(function(g,C){return g=g.split(":"),C=C.split(":"),Number(g[0])-Number(C[0])}),w.each(m,function(g){g=g.split(":"),x+='<stop offset="'+g[0]+'" stop-color="'+g[1]+'"></stop>'}),x}function M(b,m){var x=I.exec(b),g=w.mod(w.toRadian(parseFloat(x[1])),Math.PI*2),C=x[2],_,B;g>=0&&g<.5*Math.PI?(_={x:0,y:0},B={x:1,y:1}):.5*Math.PI<=g&&g<Math.PI?(_={x:1,y:0},B={x:0,y:1}):Math.PI<=g&&g<1.5*Math.PI?(_={x:1,y:1},B={x:0,y:0}):(_={x:0,y:1},B={x:1,y:0});var D=Math.tan(g),W=D*D,Z=(B.x-_.x+D*(B.y-_.y))/(W+1)+_.x,X=D*(B.x-_.x+D*(B.y-_.y))/(W+1)+_.y;m.setAttribute("x1",_.x),m.setAttribute("y1",_.y),m.setAttribute("x2",Z),m.setAttribute("y2",X),m.innerHTML=T(C)}function E(b,m){var x=L.exec(b),g=parseFloat(x[1]),C=parseFloat(x[2]),_=parseFloat(x[3]),B=x[4];m.setAttribute("cx",g),m.setAttribute("cy",C),m.setAttribute("r",_),m.innerHTML=T(B)}var p=function(){function b(m){this.cfg={};var x=null,g=w.uniqueId("gradient_");return m.toLowerCase()[0]==="l"?(x=O.createSVGElement("linearGradient"),M(m,x)):(x=O.createSVGElement("radialGradient"),E(m,x)),x.setAttribute("id",g),this.el=x,this.id=g,this.cfg=m,this}return b.prototype.match=function(m,x){return this.cfg===x},b}();S.default=p},21318:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),O=d(10052),I=d(96526),L=d(9353),P=d(67926),T=d(10011),M=d(87596),E=function(){function p(b){var m=M.createSVGElement("defs"),x=w.uniqueId("defs_");m.id=x,b.appendChild(m),this.children=[],this.defaultArrow={},this.el=m,this.canvas=b}return p.prototype.find=function(b,m){for(var x=this.children,g=null,C=0;C<x.length;C++)if(x[C].match(b,m)){g=x[C].id;break}return g},p.prototype.findById=function(b){for(var m=this.children,x=null,g=0;g<m.length;g++)if(m[g].id===b){x=m[g];break}return x},p.prototype.add=function(b){this.children.push(b),b.canvas=this.canvas,b.parent=this},p.prototype.getDefaultArrow=function(b,m){var x=b.stroke||b.strokeStyle;if(this.defaultArrow[x])return this.defaultArrow[x].id;var g=new L.default(b,m);return this.defaultArrow[x]=g,this.el.appendChild(g.el),this.add(g),g.id},p.prototype.addGradient=function(b){var m=new O.default(b);return this.el.appendChild(m.el),this.add(m),m.id},p.prototype.addArrow=function(b,m){var x=new L.default(b,m);return this.el.appendChild(x.el),this.add(x),x.id},p.prototype.addShadow=function(b){var m=new I.default(b);return this.el.appendChild(m.el),this.add(m),m.id},p.prototype.addPattern=function(b){var m=new T.default(b);return this.el.appendChild(m.el),this.add(m),m.id},p.prototype.addClip=function(b){var m=new P.default(b);return this.el.appendChild(m.el),this.add(m),m.id},p}();S.default=E},10011:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),O=d(87596),I=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,L=function(){function P(T){this.cfg={};var M=O.createSVGElement("pattern");M.setAttribute("patternUnits","userSpaceOnUse");var E=O.createSVGElement("image");M.appendChild(E);var p=w.uniqueId("pattern_");M.id=p,this.el=M,this.id=p,this.cfg=T;var b=I.exec(T),m=b[2];E.setAttribute("href",m);var x=new Image;m.match(/^data:/i)||(x.crossOrigin="Anonymous"),x.src=m;function g(){M.setAttribute("width",""+x.width),M.setAttribute("height",""+x.height)}return x.complete?g():(x.onload=g,x.src=x.src),this}return P.prototype.match=function(T,M){return this.cfg===M},P}();S.default=L},96526:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),O=d(87596),I={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},L={x:"-40%",y:"-40%",width:"200%",height:"200%"},P=function(){function T(M){this.type="filter",this.cfg={},this.type="filter";var E=O.createSVGElement("filter");return w.each(L,function(p,b){E.setAttribute(b,p)}),this.el=E,this.id=w.uniqueId("filter_"),this.el.id=this.id,this.cfg=M,this._parseShadow(M,E),this}return T.prototype.match=function(M,E){if(this.type!==M)return!1;var p=!0,b=this.cfg;return w.each(Object.keys(b),function(m){if(b[m]!==E[m])return p=!1,!1}),p},T.prototype.update=function(M,E){var p=this.cfg;return p[I[M]]=E,this._parseShadow(p,this.el),this},T.prototype._parseShadow=function(M,E){var p=`<feDropShadow
      dx="`+(M.dx||0)+`"
      dy="`+(M.dy||0)+`"
      stdDeviation="`+(M.blur?M.blur/10:0)+`"
      flood-color="`+(M.color?M.color:"#000")+`"
      flood-opacity="`+(M.opacity?M.opacity:1)+`"
      />`;E.innerHTML=p},T}();S.default=P},11694:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),O=d(85622),I=d(49242),L=d(4206),P=d(98820),T=d(50063),M=d(65712),E=d(87596),p=function(b){w.__extends(m,b);function m(){return b!==null&&b.apply(this,arguments)||this}return m.prototype.isEntityGroup=function(){return!0},m.prototype.createDom=function(){var x=E.createSVGElement("g");this.set("el",x);var g=this.getParent();if(g){var C=g.get("el");C||(C=g.createDom(),g.set("el",C)),C.appendChild(x)}return x},m.prototype.afterAttrsChange=function(x){b.prototype.afterAttrsChange.call(this,x);var g=this.get("canvas");if(g&&g.get("autoDraw")){var C=g.get("context");this.createPath(C,x)}},m.prototype.onCanvasChange=function(x){P.refreshElement(this,x)},m.prototype.getShapeBase=function(){return L},m.prototype.getGroupBase=function(){return m},m.prototype.draw=function(x){var g=this.getChildren(),C=this.get("el");this.get("destroyed")?C&&C.parentNode.removeChild(C):(C||this.createDom(),T.setClip(this,x),this.createPath(x),g.length&&P.drawChildren(x,g))},m.prototype.createPath=function(x,g){var C=this.attr(),_=this.get("el");I.each(g||C,function(B,D){M.SVG_ATTR_MAP[D]&&_.setAttribute(M.SVG_ATTR_MAP[D],B)}),T.setTransform(this)},m}(O.AbstractGroup);S.default=p},4050:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),O=d(85622),I=d(50063),L=d(87596),P=d(98820),T=d(65712),M=d(4206),E=d(11694),p=d(85622),b=function(m){w.__extends(x,m);function x(){var g=m!==null&&m.apply(this,arguments)||this;return g.type="svg",g.canFill=!1,g.canStroke=!1,g}return x.prototype.getDefaultAttrs=function(){var g=m.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},g),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},x.prototype.afterAttrsChange=function(g){m.prototype.afterAttrsChange.call(this,g);var C=this.get("canvas");if(C&&C.get("autoDraw")){var _=C.get("context");this.draw(_,g)}},x.prototype.getShapeBase=function(){return M},x.prototype.getGroupBase=function(){return E.default},x.prototype.onCanvasChange=function(g){P.refreshElement(this,g)},x.prototype.calculateBBox=function(){var g=this.get("el"),C=null;if(g)C=g.getBBox();else{var _=p.getBBoxMethod(this.get("type"));_&&(C=_(this))}if(C){var B=C.x,D=C.y,W=C.width,Z=C.height,X=this.getHitLineWidth(),j=X/2,it=B-j,tt=D-j,yt=B+W+j,dt=D+Z+j;return{x:it,y:tt,minX:it,minY:tt,maxX:yt,maxY:dt,width:W+X,height:Z+X}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},x.prototype.isFill=function(){var g=this.attr(),C=g.fill,_=g.fillStyle;return(C||_||this.isClipShape())&&this.canFill},x.prototype.isStroke=function(){var g=this.attr(),C=g.stroke,_=g.strokeStyle;return(C||_)&&this.canStroke},x.prototype.draw=function(g,C){var _=this.get("el");this.get("destroyed")?_&&_.parentNode.removeChild(_):(_||L.createDom(this),I.setClip(this,g),this.createPath(g,C),this.shadow(g,C),this.strokeAndFill(g,C),this.transform(C))},x.prototype.createPath=function(g,C){},x.prototype.strokeAndFill=function(g,C){var _=C||this.attr(),B=_.fill,D=_.fillStyle,W=_.stroke,Z=_.strokeStyle,X=_.fillOpacity,j=_.strokeOpacity,it=_.lineWidth,tt=this.get("el");this.canFill&&(C?"fill"in _?this._setColor(g,"fill",B):"fillStyle"in _&&this._setColor(g,"fill",D):this._setColor(g,"fill",B||D),X&&tt.setAttribute(T.SVG_ATTR_MAP.fillOpacity,X)),this.canStroke&&it>0&&(C?"stroke"in _?this._setColor(g,"stroke",W):"strokeStyle"in _&&this._setColor(g,"stroke",Z):this._setColor(g,"stroke",W||Z),j&&tt.setAttribute(T.SVG_ATTR_MAP.strokeOpacity,j),it&&tt.setAttribute(T.SVG_ATTR_MAP.lineWidth,it))},x.prototype._setColor=function(g,C,_){var B=this.get("el");if(!_){B.setAttribute(T.SVG_ATTR_MAP[C],"none");return}if(_=_.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(_)){var D=g.find("gradient",_);D||(D=g.addGradient(_)),B.setAttribute(T.SVG_ATTR_MAP[C],"url(#"+D+")")}else if(/^[p,P]{1}[\s]*\(/.test(_)){var D=g.find("pattern",_);D||(D=g.addPattern(_)),B.setAttribute(T.SVG_ATTR_MAP[C],"url(#"+D+")")}else B.setAttribute(T.SVG_ATTR_MAP[C],_)},x.prototype.shadow=function(g,C){var _=this.attr(),B=C||_,D=B.shadowOffsetX,W=B.shadowOffsetY,Z=B.shadowBlur,X=B.shadowColor;(D||W||Z||X)&&I.setShadow(this,g)},x.prototype.transform=function(g){var C=this.attr(),_=(g||C).matrix;_&&I.setTransform(this)},x.prototype.isInShape=function(g,C){return this.isPointInPath(g,C)},x.prototype.isPointInPath=function(g,C){var _=this.get("el"),B=this.get("canvas"),D=B.get("el").getBoundingClientRect(),W=g+D.left,Z=C+D.top,X=document.elementFromPoint(W,Z);return!!(X&&X.isEqualNode(_))},x.prototype.getHitLineWidth=function(){var g=this.attrs,C=g.lineWidth,_=g.lineAppendWidth;return this.isStroke()?C+_:0},x}(O.AbstractShape);S.default=b},14661:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),O=d(49242),I=d(65712),L=d(4050),P=function(T){w.__extends(M,T);function M(){var E=T!==null&&T.apply(this,arguments)||this;return E.type="circle",E.canFill=!0,E.canStroke=!0,E}return M.prototype.getDefaultAttrs=function(){var E=T.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},E),{x:0,y:0,r:0})},M.prototype.createPath=function(E,p){var b=this.attr(),m=this.get("el");O.each(p||b,function(x,g){g==="x"||g==="y"?m.setAttribute("c"+g,x):I.SVG_ATTR_MAP[g]&&m.setAttribute(I.SVG_ATTR_MAP[g],x)})},M}(L.default);S.default=P},55504:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),O=d(49242),I=d(65712),L=d(4050),P=function(T){w.__extends(M,T);function M(){var E=T!==null&&T.apply(this,arguments)||this;return E.type="dom",E.canFill=!1,E.canStroke=!1,E}return M.prototype.createPath=function(E,p){var b=this.attr(),m=this.get("el");if(O.each(p||b,function(_,B){I.SVG_ATTR_MAP[B]&&m.setAttribute(I.SVG_ATTR_MAP[B],_)}),typeof b.html=="function"){var x=b.html.call(this,b);if(x instanceof Element||x instanceof HTMLDocument){for(var g=m.childNodes,C=g.length-1;C>=0;C--)m.removeChild(g[C]);m.appendChild(x)}else m.innerHTML=x}else m.innerHTML=b.html},M}(L.default);S.default=P},92502:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),O=d(49242),I=d(65712),L=d(4050),P=function(T){w.__extends(M,T);function M(){var E=T!==null&&T.apply(this,arguments)||this;return E.type="ellipse",E.canFill=!0,E.canStroke=!0,E}return M.prototype.getDefaultAttrs=function(){var E=T.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},E),{x:0,y:0,rx:0,ry:0})},M.prototype.createPath=function(E,p){var b=this.attr(),m=this.get("el");O.each(p||b,function(x,g){g==="x"||g==="y"?m.setAttribute("c"+g,x):I.SVG_ATTR_MAP[g]&&m.setAttribute(I.SVG_ATTR_MAP[g],x)})},M}(L.default);S.default=P},74729:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),O=d(49242),I=d(65712),L=d(4050),P=function(T){w.__extends(M,T);function M(){var E=T!==null&&T.apply(this,arguments)||this;return E.type="image",E.canFill=!1,E.canStroke=!1,E}return M.prototype.getDefaultAttrs=function(){var E=T.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},E),{x:0,y:0,width:0,height:0})},M.prototype.createPath=function(E,p){var b=this,m=this.attr(),x=this.get("el");O.each(p||m,function(g,C){C==="img"?b._setImage(m.img):I.SVG_ATTR_MAP[C]&&x.setAttribute(I.SVG_ATTR_MAP[C],g)})},M.prototype.setAttr=function(E,p){this.attrs[E]=p,E==="img"&&this._setImage(p)},M.prototype._setImage=function(E){var p=this.attr(),b=this.get("el");if(O.isString(E))b.setAttribute("href",E);else if(E instanceof window.Image)p.width||(b.setAttribute("width",E.width),this.attr("width",E.width)),p.height||(b.setAttribute("height",E.height),this.attr("height",E.height)),b.setAttribute("href",E.src);else if(E instanceof HTMLElement&&O.isString(E.nodeName)&&E.nodeName.toUpperCase()==="CANVAS")b.setAttribute("href",E.toDataURL());else if(E instanceof ImageData){var m=document.createElement("canvas");m.setAttribute("width",""+E.width),m.setAttribute("height",""+E.height),m.getContext("2d").putImageData(E,0,0),p.width||(b.setAttribute("width",""+E.width),this.attr("width",E.width)),p.height||(b.setAttribute("height",""+E.height),this.attr("height",E.height)),b.setAttribute("href",m.toDataURL())}},M}(L.default);S.default=P},4206:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(4050);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return w.default}});var O=d(14661);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return O.default}});var I=d(55504);Object.defineProperty(S,"Dom",{enumerable:!0,get:function(){return I.default}});var L=d(92502);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return L.default}});var P=d(74729);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return P.default}});var T=d(34870);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return T.default}});var M=d(59408);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return M.default}});var E=d(51076);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return E.default}});var p=d(36361);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return p.default}});var b=d(46406);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return b.default}});var m=d(71320);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return m.default}});var x=d(35726);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return x.default}})},34870:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),O=d(89838),I=d(49242),L=d(65712),P=d(4050),T=function(M){w.__extends(E,M);function E(){var p=M!==null&&M.apply(this,arguments)||this;return p.type="line",p.canFill=!1,p.canStroke=!0,p}return E.prototype.getDefaultAttrs=function(){var p=M.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},E.prototype.createPath=function(p,b){var m=this.attr(),x=this.get("el");I.each(b||m,function(g,C){if(C==="startArrow"||C==="endArrow")if(g){var _=I.isObject(g)?p.addArrow(m,L.SVG_ATTR_MAP[C]):p.getDefaultArrow(m,L.SVG_ATTR_MAP[C]);x.setAttribute(L.SVG_ATTR_MAP[C],"url(#"+_+")")}else x.removeAttribute(L.SVG_ATTR_MAP[C]);else L.SVG_ATTR_MAP[C]&&x.setAttribute(L.SVG_ATTR_MAP[C],g)})},E.prototype.getTotalLength=function(){var p=this.attr(),b=p.x1,m=p.y1,x=p.x2,g=p.y2;return O.Line.length(b,m,x,g)},E.prototype.getPoint=function(p){var b=this.attr(),m=b.x1,x=b.y1,g=b.x2,C=b.y2;return O.Line.pointAt(m,x,g,C,p)},E}(P.default);S.default=T},59408:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),O=d(49242),I=d(4050),L=d(22505),P=function(T){w.__extends(M,T);function M(){var E=T!==null&&T.apply(this,arguments)||this;return E.type="marker",E.canFill=!0,E.canStroke=!0,E}return M.prototype.createPath=function(E){var p=this.get("el");p.setAttribute("d",this._assembleMarker())},M.prototype._assembleMarker=function(){var E=this._getPath();return O.isArray(E)?E.map(function(p){return p.join(" ")}).join(""):E},M.prototype._getPath=function(){var E=this.attr(),p=E.x,b=E.y,m=E.r||E.radius,x=E.symbol||"circle",g;return O.isFunction(x)?g=x:g=L.default.get(x),g?g(p,b,m):(console.warn(g+" symbol is not exist."),null)},M.symbolsFactory=L.default,M}(I.default);S.default=P},22505:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={circle:function(w,O,I){return[["M",w,O],["m",-I,0],["a",I,I,0,1,0,I*2,0],["a",I,I,0,1,0,-I*2,0]]},square:function(w,O,I){return[["M",w-I,O-I],["L",w+I,O-I],["L",w+I,O+I],["L",w-I,O+I],["Z"]]},diamond:function(w,O,I){return[["M",w-I,O],["L",w,O-I],["L",w+I,O],["L",w,O+I],["Z"]]},triangle:function(w,O,I){var L=I*Math.sin(1/3*Math.PI);return[["M",w-I,O+L],["L",w,O-L],["L",w+I,O+L],["z"]]},triangleDown:function(w,O,I){var L=I*Math.sin(1/3*Math.PI);return[["M",w-I,O-L],["L",w+I,O-L],["L",w,O+L],["Z"]]}};S.default={get:function(w){return d[w]},register:function(w,O){d[w]=O},remove:function(w){delete d[w]},getAll:function(){return d}}},51076:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),O=d(49242),I=d(65712),L=d(4050),P=function(T){w.__extends(M,T);function M(){var E=T!==null&&T.apply(this,arguments)||this;return E.type="path",E.canFill=!0,E.canStroke=!0,E}return M.prototype.getDefaultAttrs=function(){var E=T.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},E),{startArrow:!1,endArrow:!1})},M.prototype.createPath=function(E,p){var b=this,m=this.attr(),x=this.get("el");O.each(p||m,function(g,C){if(C==="path"&&O.isArray(g))x.setAttribute("d",b._formatPath(g));else if(C==="startArrow"||C==="endArrow")if(g){var _=O.isObject(g)?E.addArrow(m,I.SVG_ATTR_MAP[C]):E.getDefaultArrow(m,I.SVG_ATTR_MAP[C]);x.setAttribute(I.SVG_ATTR_MAP[C],"url(#"+_+")")}else x.removeAttribute(I.SVG_ATTR_MAP[C]);else I.SVG_ATTR_MAP[C]&&x.setAttribute(I.SVG_ATTR_MAP[C],g)})},M.prototype._formatPath=function(E){var p=E.map(function(b){return b.join(" ")}).join("");return~p.indexOf("NaN")?"":p},M.prototype.getTotalLength=function(){var E=this.get("el");return E?E.getTotalLength():null},M.prototype.getPoint=function(E){var p=this.get("el"),b=this.getTotalLength();if(b===0)return null;var m=p?p.getPointAtLength(E*b):null;return m?{x:m.x,y:m.y}:null},M}(L.default);S.default=P},36361:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),O=d(49242),I=d(65712),L=d(4050),P=function(T){w.__extends(M,T);function M(){var E=T!==null&&T.apply(this,arguments)||this;return E.type="polygon",E.canFill=!0,E.canStroke=!0,E}return M.prototype.createPath=function(E,p){var b=this.attr(),m=this.get("el");O.each(p||b,function(x,g){g==="points"&&O.isArray(x)&&x.length>=2?m.setAttribute("points",x.map(function(C){return C[0]+","+C[1]}).join(" ")):I.SVG_ATTR_MAP[g]&&m.setAttribute(I.SVG_ATTR_MAP[g],x)})},M}(L.default);S.default=P},46406:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),O=d(89838),I=d(89838),L=d(49242),P=d(65712),T=d(4050),M=function(E){w.__extends(p,E);function p(){var b=E!==null&&E.apply(this,arguments)||this;return b.type="polyline",b.canFill=!0,b.canStroke=!0,b}return p.prototype.getDefaultAttrs=function(){var b=E.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},b),{startArrow:!1,endArrow:!1})},p.prototype.onAttrChange=function(b,m,x){E.prototype.onAttrChange.call(this,b,m,x),["points"].indexOf(b)!==-1&&this._resetCache()},p.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},p.prototype.createPath=function(b,m){var x=this.attr(),g=this.get("el");L.each(m||x,function(C,_){_==="points"&&L.isArray(C)&&C.length>=2?g.setAttribute("points",C.map(function(B){return B[0]+","+B[1]}).join(" ")):P.SVG_ATTR_MAP[_]&&g.setAttribute(P.SVG_ATTR_MAP[_],C)})},p.prototype.getTotalLength=function(){var b=this.attr().points,m=this.get("totalLength");return L.isNil(m)?(this.set("totalLength",O.Polyline.length(b)),this.get("totalLength")):m},p.prototype.getPoint=function(b){var m=this.attr().points,x=this.get("tCache");x||(this._setTcache(),x=this.get("tCache"));var g,C;return L.each(x,function(_,B){b>=_[0]&&b<=_[1]&&(g=(b-_[0])/(_[1]-_[0]),C=B)}),I.Line.pointAt(m[C][0],m[C][1],m[C+1][0],m[C+1][1],g)},p.prototype._setTcache=function(){var b=this.attr().points;if(!(!b||b.length===0)){var m=this.getTotalLength();if(!(m<=0)){var x=0,g=[],C,_;L.each(b,function(B,D){b[D+1]&&(C=[],C[0]=x/m,_=I.Line.length(B[0],B[1],b[D+1][0],b[D+1][1]),x+=_,C[1]=x/m,g.push(C))}),this.set("tCache",g)}}},p.prototype.getStartTangent=function(){var b=this.attr().points,m=[];return m.push([b[1][0],b[1][1]]),m.push([b[0][0],b[0][1]]),m},p.prototype.getEndTangent=function(){var b=this.attr().points,m=b.length-1,x=[];return x.push([b[m-1][0],b[m-1][1]]),x.push([b[m][0],b[m][1]]),x},p}(T.default);S.default=M},71320:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),O=d(49242),I=d(4050),L=d(65712),P=d(48490),T=function(M){w.__extends(E,M);function E(){var p=M!==null&&M.apply(this,arguments)||this;return p.type="rect",p.canFill=!0,p.canStroke=!0,p}return E.prototype.getDefaultAttrs=function(){var p=M.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},p),{x:0,y:0,width:0,height:0,radius:0})},E.prototype.createPath=function(p,b){var m=this,x=this.attr(),g=this.get("el"),C=!1,_=["x","y","width","height","radius"];O.each(b||x,function(B,D){_.indexOf(D)!==-1&&!C?(g.setAttribute("d",m._assembleRect(x)),C=!0):_.indexOf(D)===-1&&L.SVG_ATTR_MAP[D]&&g.setAttribute(L.SVG_ATTR_MAP[D],B)})},E.prototype._assembleRect=function(p){var b=p.x,m=p.y,x=p.width,g=p.height,C=p.radius;if(!C)return"M "+b+","+m+" l "+x+",0 l 0,"+g+" l"+-x+" 0 z";var _=P.parseRadius(C);O.isArray(C)?C.length===1?_.r1=_.r2=_.r3=_.r4=C[0]:C.length===2?(_.r1=_.r3=C[0],_.r2=_.r4=C[1]):C.length===3?(_.r1=C[0],_.r2=_.r4=C[1],_.r3=C[2]):(_.r1=C[0],_.r2=C[1],_.r3=C[2],_.r4=C[3]):_.r1=_.r2=_.r3=_.r4=C;var B=[["M "+(b+_.r1)+","+m],["l "+(x-_.r1-_.r2)+",0"],["a "+_.r2+","+_.r2+",0,0,1,"+_.r2+","+_.r2],["l 0,"+(g-_.r2-_.r3)],["a "+_.r3+","+_.r3+",0,0,1,"+-_.r3+","+_.r3],["l "+(_.r3+_.r4-x)+",0"],["a "+_.r4+","+_.r4+",0,0,1,"+-_.r4+","+-_.r4],["l 0,"+(_.r4+_.r1-g)],["a "+_.r1+","+_.r1+",0,0,1,"+_.r1+","+-_.r1],["z"]];return B.join(" ")},E}(I.default);S.default=T},35726:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),O=d(49242),I=d(43631),L=d(50063),P=d(65712),T=d(4050),M=.3,E={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},p={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},b={left:"left",start:"left",center:"middle",right:"end",end:"end"},m=function(x){w.__extends(g,x);function g(){var C=x!==null&&x.apply(this,arguments)||this;return C.type="text",C.canFill=!0,C.canStroke=!0,C}return g.prototype.getDefaultAttrs=function(){var C=x.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},C),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},g.prototype.createPath=function(C,_){var B=this,D=this.attr(),W=this.get("el");this._setFont(),O.each(_||D,function(Z,X){X==="text"?B._setText(""+Z):X==="matrix"&&Z?L.setTransform(B):P.SVG_ATTR_MAP[X]&&W.setAttribute(P.SVG_ATTR_MAP[X],Z)}),W.setAttribute("paint-order","stroke"),W.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},g.prototype._setFont=function(){var C=this.get("el"),_=this.attr(),B=_.textBaseline,D=_.textAlign,W=I.detect();W&&W.name==="firefox"?C.setAttribute("dominant-baseline",p[B]||"alphabetic"):C.setAttribute("alignment-baseline",E[B]||"baseline"),C.setAttribute("text-anchor",b[D]||"left")},g.prototype._setText=function(C){var _=this.get("el"),B=this.attr(),D=B.x,W=B.textBaseline,Z=W===void 0?"bottom":W;if(!C)_.innerHTML="";else if(~C.indexOf(`
`)){var X=C.split(`
`),j=X.length-1,it="";O.each(X,function(tt,yt){yt===0?Z==="alphabetic"?it+='<tspan x="'+D+'" dy="'+-j+'em">'+tt+"</tspan>":Z==="top"?it+='<tspan x="'+D+'" dy="0.9em">'+tt+"</tspan>":Z==="middle"?it+='<tspan x="'+D+'" dy="'+-(j-1)/2+'em">'+tt+"</tspan>":Z==="bottom"?it+='<tspan x="'+D+'" dy="-'+(j+M)+'em">'+tt+"</tspan>":Z==="hanging"&&(it+='<tspan x="'+D+'" dy="'+(-(j-1)-M)+'em">'+tt+"</tspan>"):it+='<tspan x="'+D+'" dy="1em">'+tt+"</tspan>"}),_.innerHTML=it}else _.innerHTML=C},g}(T.default);S.default=m},87596:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.moveTo=S.sortDom=S.createDom=S.createSVGElement=void 0;var w=d(49242),O=d(65712);function I(M){return document.createElementNS("http://www.w3.org/2000/svg",M)}S.createSVGElement=I;function L(M){var E=O.SHAPE_TO_TAGS[M.type],p=M.getParent();if(!E)throw new Error("the type "+M.type+" is not supported by svg");var b=I(E);if(M.get("id")&&(b.id=M.get("id")),M.set("el",b),M.set("attrs",{}),p){var m=p.get("el");m||(m=p.createDom(),p.set("el",m)),m.appendChild(b)}return b}S.createDom=L;function P(M,E){var p=M.get("el"),b=w.toArray(p.children).sort(E),m=document.createDocumentFragment();b.forEach(function(x){m.appendChild(x)}),p.appendChild(m)}S.sortDom=P;function T(M,E){var p=M.parentNode,b=Array.from(p.childNodes).filter(function(C){return C.nodeType===1&&C.nodeName.toLowerCase()!=="defs"}),m=b[E],x=b.indexOf(M);if(m){if(x>E)p.insertBefore(M,m);else if(x<E){var g=b[E+1];g?p.insertBefore(M,g):p.appendChild(M)}}else p.appendChild(M)}S.moveTo=T},98820:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.refreshElement=S.drawChildren=void 0;var w=d(50063),O=d(87596);function I(P,T){T.forEach(function(M){M.draw(P)})}S.drawChildren=I;function L(P,T){var M=P.get("canvas");if(M&&M.get("autoDraw")){var E=M.get("context"),p=P.getParent(),b=p?p.getChildren():[M],m=P.get("el");if(T==="remove"){var x=P.get("isClipShape");if(x){var g=m&&m.parentNode,C=g&&g.parentNode;g&&C&&C.removeChild(g)}else m&&m.parentNode&&m.parentNode.removeChild(m)}else if(T==="show")m.setAttribute("visibility","visible");else if(T==="hide")m.setAttribute("visibility","hidden");else if(T==="zIndex")O.moveTo(m,b.indexOf(P));else if(T==="sort"){var _=P.get("children");_&&_.length&&O.sortDom(P,function(B,D){return _.indexOf(B)-_.indexOf(D)?1:0})}else T==="clear"?m&&(m.innerHTML=""):T==="matrix"?w.setTransform(P):T==="clip"?w.setClip(P,E):T==="attr"||T==="add"&&P.draw(E)}}S.refreshElement=L},48490:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parsePath=S.parseRadius=void 0;var w=d(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,I=/[^\s,]+/gi;function L(T){var M=0,E=0,p=0,b=0;return w.isArray(T)?T.length===1?M=E=p=b=T[0]:T.length===2?(M=p=T[0],E=b=T[1]):T.length===3?(M=T[0],E=b=T[1],p=T[2]):(M=T[0],E=T[1],p=T[2],b=T[3]):M=E=p=b=T,{r1:M,r2:E,r3:p,r4:b}}S.parseRadius=L;function P(T){if(T=T||[],w.isArray(T))return T;if(w.isString(T))return T=T.match(O),w.each(T,function(M,E){if(M=M.match(I),M[0].length>1){var p=M[0].charAt(0);M.splice(1,0,M[0].substr(1)),M[0]=p}w.each(M,function(b,m){isNaN(b)||(M[m]=+b)}),T[E]=M}),T}S.parsePath=P},50063:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setClip=S.setTransform=S.setShadow=void 0;var w=d(87596);function O(P,T){var M=P.cfg.el,E=P.attr(),p={dx:E.shadowOffsetX,dy:E.shadowOffsetY,blur:E.shadowBlur,color:E.shadowColor};if(!p.dx&&!p.dy&&!p.blur&&!p.color)M.removeAttribute("filter");else{var b=T.find("filter",p);b||(b=T.addShadow(p)),M.setAttribute("filter","url(#"+b+")")}}S.setShadow=O;function I(P){var T=P.attr().matrix;if(T){for(var M=P.cfg.el,E=[],p=0;p<9;p+=3)E.push(T[p]+","+T[p+1]);E=E.join(","),E.indexOf("NaN")===-1?M.setAttribute("transform","matrix("+E+")"):console.warn("invalid matrix:",T)}}S.setTransform=I;function L(P,T){var M=P.getClip(),E=P.get("el");if(!M)E.removeAttribute("clip-path");else if(M&&!E.hasAttribute("clip-path")){w.createDom(M),M.createPath(T);var p=T.addClip(M);E.setAttribute("clip-path","url(#"+p+")")}}S.setClip=L},47862:function(xt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return L},__decorate:function(){return P},__param:function(){return T},__metadata:function(){return M},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return m},__values:function(){return x},__read:function(){return g},__spread:function(){return C},__spreadArrays:function(){return _},__spreadArray:function(){return B},__await:function(){return D},__asyncGenerator:function(){return W},__asyncDelegator:function(){return Z},__asyncValues:function(){return X},__makeTemplateObject:function(){return j},__importStar:function(){return tt},__importDefault:function(){return yt},__classPrivateFieldGet:function(){return dt},__classPrivateFieldSet:function(){return Ct}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w=function(F,z){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,Y){G.__proto__=Y}||function(G,Y){for(var q in Y)Object.prototype.hasOwnProperty.call(Y,q)&&(G[q]=Y[q])},w(F,z)};function O(F,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");w(F,z);function G(){this.constructor=F}F.prototype=z===null?Object.create(z):(G.prototype=z.prototype,new G)}var I=function(){return I=Object.assign||function(z){for(var G,Y=1,q=arguments.length;Y<q;Y++){G=arguments[Y];for(var $ in G)Object.prototype.hasOwnProperty.call(G,$)&&(z[$]=G[$])}return z},I.apply(this,arguments)};function L(F,z){var G={};for(var Y in F)Object.prototype.hasOwnProperty.call(F,Y)&&z.indexOf(Y)<0&&(G[Y]=F[Y]);if(F!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,Y=Object.getOwnPropertySymbols(F);q<Y.length;q++)z.indexOf(Y[q])<0&&Object.prototype.propertyIsEnumerable.call(F,Y[q])&&(G[Y[q]]=F[Y[q]]);return G}function P(F,z,G,Y){var q=arguments.length,$=q<3?z:Y===null?Y=Object.getOwnPropertyDescriptor(z,G):Y,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(F,z,G,Y);else for(var U=F.length-1;U>=0;U--)(J=F[U])&&($=(q<3?J($):q>3?J(z,G,$):J(z,G))||$);return q>3&&$&&Object.defineProperty(z,G,$),$}function T(F,z){return function(G,Y){z(G,Y,F)}}function M(F,z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(F,z)}function E(F,z,G,Y){function q($){return $ instanceof G?$:new G(function(J){J($)})}return new(G||(G=Promise))(function($,J){function U(mt){try{f(Y.next(mt))}catch(Tt){J(Tt)}}function K(mt){try{f(Y.throw(mt))}catch(Tt){J(Tt)}}function f(mt){mt.done?$(mt.value):q(mt.value).then(U,K)}f((Y=Y.apply(F,z||[])).next())})}function p(F,z){var G={label:0,sent:function(){if($[0]&1)throw $[1];return $[1]},trys:[],ops:[]},Y,q,$,J;return J={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(J[Symbol.iterator]=function(){return this}),J;function U(f){return function(mt){return K([f,mt])}}function K(f){if(Y)throw new TypeError("Generator is already executing.");for(;G;)try{if(Y=1,q&&($=f[0]&2?q.return:f[0]?q.throw||(($=q.return)&&$.call(q),0):q.next)&&!($=$.call(q,f[1])).done)return $;switch(q=0,$&&(f=[f[0]&2,$.value]),f[0]){case 0:case 1:$=f;break;case 4:return G.label++,{value:f[1],done:!1};case 5:G.label++,q=f[1],f=[0];continue;case 7:f=G.ops.pop(),G.trys.pop();continue;default:if($=G.trys,!($=$.length>0&&$[$.length-1])&&(f[0]===6||f[0]===2)){G=0;continue}if(f[0]===3&&(!$||f[1]>$[0]&&f[1]<$[3])){G.label=f[1];break}if(f[0]===6&&G.label<$[1]){G.label=$[1],$=f;break}if($&&G.label<$[2]){G.label=$[2],G.ops.push(f);break}$[2]&&G.ops.pop(),G.trys.pop();continue}f=z.call(F,G)}catch(mt){f=[6,mt],q=0}finally{Y=$=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var b=Object.create?function(F,z,G,Y){Y===void 0&&(Y=G),Object.defineProperty(F,Y,{enumerable:!0,get:function(){return z[G]}})}:function(F,z,G,Y){Y===void 0&&(Y=G),F[Y]=z[G]};function m(F,z){for(var G in F)G!=="default"&&!Object.prototype.hasOwnProperty.call(z,G)&&b(z,F,G)}function x(F){var z=typeof Symbol=="function"&&Symbol.iterator,G=z&&F[z],Y=0;if(G)return G.call(F);if(F&&typeof F.length=="number")return{next:function(){return F&&Y>=F.length&&(F=void 0),{value:F&&F[Y++],done:!F}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(F,z){var G=typeof Symbol=="function"&&F[Symbol.iterator];if(!G)return F;var Y=G.call(F),q,$=[],J;try{for(;(z===void 0||z-- >0)&&!(q=Y.next()).done;)$.push(q.value)}catch(U){J={error:U}}finally{try{q&&!q.done&&(G=Y.return)&&G.call(Y)}finally{if(J)throw J.error}}return $}function C(){for(var F=[],z=0;z<arguments.length;z++)F=F.concat(g(arguments[z]));return F}function _(){for(var F=0,z=0,G=arguments.length;z<G;z++)F+=arguments[z].length;for(var Y=Array(F),q=0,z=0;z<G;z++)for(var $=arguments[z],J=0,U=$.length;J<U;J++,q++)Y[q]=$[J];return Y}function B(F,z,G){if(G||arguments.length===2)for(var Y=0,q=z.length,$;Y<q;Y++)($||!(Y in z))&&($||($=Array.prototype.slice.call(z,0,Y)),$[Y]=z[Y]);return F.concat($||Array.prototype.slice.call(z))}function D(F){return this instanceof D?(this.v=F,this):new D(F)}function W(F,z,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=G.apply(F,z||[]),q,$=[];return q={},J("next"),J("throw"),J("return"),q[Symbol.asyncIterator]=function(){return this},q;function J(at){Y[at]&&(q[at]=function(Pt){return new Promise(function(wt,Et){$.push([at,Pt,wt,Et])>1||U(at,Pt)})})}function U(at,Pt){try{K(Y[at](Pt))}catch(wt){Tt($[0][3],wt)}}function K(at){at.value instanceof D?Promise.resolve(at.value.v).then(f,mt):Tt($[0][2],at)}function f(at){U("next",at)}function mt(at){U("throw",at)}function Tt(at,Pt){at(Pt),$.shift(),$.length&&U($[0][0],$[0][1])}}function Z(F){var z,G;return z={},Y("next"),Y("throw",function(q){throw q}),Y("return"),z[Symbol.iterator]=function(){return this},z;function Y(q,$){z[q]=F[q]?function(J){return(G=!G)?{value:D(F[q](J)),done:q==="return"}:$?$(J):J}:$}}function X(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z=F[Symbol.asyncIterator],G;return z?z.call(F):(F=typeof x=="function"?x(F):F[Symbol.iterator](),G={},Y("next"),Y("throw"),Y("return"),G[Symbol.asyncIterator]=function(){return this},G);function Y($){G[$]=F[$]&&function(J){return new Promise(function(U,K){J=F[$](J),q(U,K,J.done,J.value)})}}function q($,J,U,K){Promise.resolve(K).then(function(f){$({value:f,done:U})},J)}}function j(F,z){return Object.defineProperty?Object.defineProperty(F,"raw",{value:z}):F.raw=z,F}var it=Object.create?function(F,z){Object.defineProperty(F,"default",{enumerable:!0,value:z})}:function(F,z){F.default=z};function tt(F){if(F&&F.__esModule)return F;var z={};if(F!=null)for(var G in F)G!=="default"&&Object.prototype.hasOwnProperty.call(F,G)&&b(z,F,G);return it(z,F),z}function yt(F){return F&&F.__esModule?F:{default:F}}function dt(F,z,G,Y){if(G==="a"&&!Y)throw new TypeError("Private accessor was defined without a getter");if(typeof z=="function"?F!==z||!Y:!z.has(F))throw new TypeError("Cannot read private member from an object whose class did not declare it");return G==="m"?Y:G==="a"?Y.call(F):Y?Y.value:z.get(F)}function Ct(F,z,G,Y,q){if(Y==="m")throw new TypeError("Private method is not writable");if(Y==="a"&&!q)throw new TypeError("Private accessor was defined without a setter");if(typeof z=="function"?F!==z||!q:!z.has(F))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Y==="a"?q.call(F,G):q?q.value=G:z.set(F,G),G}},83077:function(xt,S,d){"use strict";var w;w={value:!0};var O=d(16854);S.wO=O.default;var I=d(13841);w=I.default;var L=d(38269);w=L.default;var P=d(34302);S.vs=P.default},16854:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(31502);w.translate=function(O,I,L){var P=new Array(9);return w.fromTranslation(P,L),w.multiply(O,P,I)},w.rotate=function(O,I,L){var P=new Array(9);return w.fromRotation(P,L),w.multiply(O,P,I)},w.scale=function(O,I,L){var P=new Array(9);return w.fromScaling(P,L),w.multiply(O,P,I)},w.transform=function(O,I){for(var L=[].concat(O),P=0,T=I.length;P<T;P++){var M=I[P];switch(M[0]){case"t":w.translate(L,L,[M[1],M[2]]);break;case"s":w.scale(L,L,[M[1],M[2]]);break;case"r":w.rotate(L,L,M[1]);break;default:break}}return L},S.default=w},34302:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),O=d(16854);S.default=function(I,L){var P=I?w.clone(I):[1,0,0,0,1,0,0,0,1];return w.each(L,function(T){switch(T[0]){case"t":O.default.translate(P,P,[T[1],T[2]]);break;case"s":O.default.scale(P,P,[T[1],T[2]]);break;case"r":O.default.rotate(P,P,T[1]);break;case"m":O.default.multiply(P,P,T[1]);break;default:return!1}}),P}},13841:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(76172),O=d(49242);w.angle=function(I,L){var P=w.dot(I,L)/(w.length(I)*w.length(L));return Math.acos(O.clamp(P,-1,1))},w.direction=function(I,L){return I[0]*L[1]-L[0]*I[1]},w.angleTo=function(I,L,P){var T=w.angle(I,L),M=w.direction(I,L)>=0;return P?M?Math.PI*2-T:T:M?T:Math.PI*2-T},w.vertical=function(I,L,P){return P?(I[0]=L[1],I[1]=-1*L[0]):(I[0]=-1*L[1],I[1]=L[0]),I},S.default=w},38269:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(88395);S.default=w},55223:function(xt,S,d){"use strict";d.r(S);var w=d(49242),O=/rgba?\(([\s.,0-9]+)\)/,I=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,L=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,P=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,T=function(D){return/^[r,R,L,l]{1}[\s]*\(/.test(D)},M=function(){var D=document.createElement("i");return D.title="Web Colour Picker",D.style.display="none",document.body.appendChild(D),D},E=function(D,W,Z,X){return D[X]+(W[X]-D[X])*Z};function p(D){return"#"+m(D[0])+m(D[1])+m(D[2])}var b=function(D){return[parseInt(D.substr(1,2),16),parseInt(D.substr(3,2),16),parseInt(D.substr(5,2),16)]},m=function(D){var W=Math.round(D).toString(16);return W.length===1?"0"+W:W},x=function(D,W){var Z=isNaN(Number(W))||W<0?0:W>1?1:Number(W),X=D.length-1,j=Math.floor(X*Z),it=X*Z-j,tt=D[j],yt=j===X?tt:D[j+1];return p([E(tt,yt,it,0),E(tt,yt,it,1),E(tt,yt,it,2)])},g,C=function(D){if(D[0]==="#"&&D.length===7)return D;g||(g=M()),g.style.color=D;var W=document.defaultView.getComputedStyle(g,"").getPropertyValue("color"),Z=O.exec(W),X=Z[1].split(/\s*,\s*/).map(function(j){return Number(j)});return W=p(X),W},_=function(D){var W=(0,w.isString)(D)?D.split("-"):D,Z=(0,w.map)(W,function(X){return b(X.indexOf("#")===-1?C(X):X)});return function(X){return x(Z,X)}},B=function(D){if(T(D)){var W,Z=void 0;if(D[0]==="l"){var X=I.exec(D),j=+X[1]+90;Z=X[2],W="linear-gradient("+j+"deg, "}else if(D[0]==="r"){W="radial-gradient(";var X=L.exec(D);Z=X[4]}var it=Z.match(P);return(0,w.each)(it,function(tt,yt){var dt=tt.split(":");W+=dt[1]+" "+dt[0]*100+"%",yt!==it.length-1&&(W+=", ")}),W+=")",W}return D};S.default={rgb2arr:b,gradient:_,toRGB:(0,w.memoize)(C),toCSSGradient:B}},51441:function(xt,S,d){"use strict";d.r(S),d.d(S,{Annotation:function(){return w},Axis:function(){return T},Component:function(){return _t},Crosshair:function(){return M},Grid:function(){return E},GroupComponent:function(){return et},HtmlComponent:function(){return pa},Legend:function(){return p},Scrollbar:function(){return xa},Slider:function(){return Co},Tooltip:function(){return m}});var w={};d.r(w),d.d(w,{Arc:function(){return ii},DataMarker:function(){return oe},DataRegion:function(){return be},Image:function(){return Kt},Line:function(){return Jr},Region:function(){return Si},RegionFilter:function(){return Ee},Text:function(){return Qr}});var O={};d.r(O),d.d(O,{ellipsisHead:function(){return er},ellipsisMiddle:function(){return sr},ellipsisTail:function(){return or},getDefault:function(){return ir}});var I={};d.r(I),d.d(I,{equidistance:function(){return zr},getDefault:function(){return Ir},reserveBoth:function(){return Hr},reserveFirst:function(){return Pr},reserveLast:function(){return kr}});var L={};d.r(L),d.d(L,{fixedAngle:function(){return ai},getDefault:function(){return zn},unfixedAngle:function(){return Qn}});var P={};d.r(P),d.d(P,{autoEllipsis:function(){return O},autoHide:function(){return I},autoRotate:function(){return L}});var T={};d.r(T),d.d(T,{Base:function(){return ke},Circle:function(){return ui},Line:function(){return Vi}});var M={};d.r(M),d.d(M,{Base:function(){return ti},Circle:function(){return _i},Html:function(){return vi},Line:function(){return hi}});var E={};d.r(E),d.d(E,{Base:function(){return aa},Circle:function(){return Yt},Line:function(){return Jt}});var p={};d.r(p),d.d(p,{Base:function(){return ye},Category:function(){return We},Continuous:function(){return nt}});var b={};d.r(b),d.d(b,{CONTAINER_CLASS:function(){return Bt},CROSSHAIR_X:function(){return Fe},CROSSHAIR_Y:function(){return nr},LIST_CLASS:function(){return ie},LIST_ITEM_CLASS:function(){return le},MARKER_CLASS:function(){return ae},NAME_CLASS:function(){return Ie},TITLE_CLASS:function(){return jt},VALUE_CLASS:function(){return _e}});var m={};d.r(m),d.d(m,{Html:function(){return tr}});var x=d(62117),g=d(49242),C=d(66192);function _(Ht,gt,N){var Q=new C.default(gt,N);Q.target=Ht,Q.propagationPath.push(Ht),Ht.emitDelegation(gt,Q);for(var ct=Ht.getParent();ct;)ct.emitDelegation(gt,Q),Q.propagationPath.push(ct),ct=ct.getParent()}var B=d(31506),D=d(31437),W=[1,0,0,0,1,0,0,0,1];function Z(Ht,gt,N){if(N===void 0&&(N=W),!gt)return null;var Q=B.transform(N,[["t",-Ht.x,-Ht.y],["r",gt],["t",Ht.x,Ht.y]]);return Q}function X(Ht,gt){return!Ht.x&&!Ht.y?null:B.transform(gt||W,[["t",Ht.x,Ht.y]])}function j(Ht){var gt=[1,0,0],N=[0,0,0];return vec3.transformMat3(N,gt,Ht),Math.atan2(N[1],N[0])}function it(Ht,gt){var N=[0,0];return D.transformMat3(N,gt,Ht),N}function tt(Ht,gt){var N=it(Ht,[gt.minX,gt.minY]),Q=it(Ht,[gt.maxX,gt.minY]),ct=it(Ht,[gt.minX,gt.maxY]),St=it(Ht,[gt.maxX,gt.maxY]),Dt=Math.min(N[0],Q[0],ct[0],St[0]),Vt=Math.max(N[0],Q[0],ct[0],St[0]),ee=Math.min(N[1],Q[1],ct[1],St[1]),ne=Math.max(N[1],Q[1],ct[1],St[1]);return{x:Dt,y:ee,minX:Dt,minY:ee,maxX:Vt,maxY:ne,width:Vt-Dt,height:ne-ee}}function yt(Ht,gt,N,Q){if(gt){var ct=Z({x:N,y:Q},gt,Ht.getMatrix());Ht.setMatrix(ct)}}function dt(Ht,gt,N){var Q=X({x:gt,y:N});Ht.attr("matrix",Q)}function Ct(Ht){var gt=0,N=0,Q=0,ct=0;return(0,g.isNumber)(Ht)?gt=N=Q=ct=Ht:(0,g.isArray)(Ht)&&(gt=Ht[0],Q=(0,g.isNil)(Ht[1])?Ht[0]:Ht[1],ct=(0,g.isNil)(Ht[2])?Ht[0]:Ht[2],N=(0,g.isNil)(Ht[3])?Q:Ht[3]),[gt,Q,ct,N]}function F(Ht){for(var gt=Ht.childNodes,N=gt.length,Q=N-1;Q>=0;Q--)Ht.removeChild(gt[Q])}function z(Ht,gt){return!!Ht.className.match(new RegExp("(\\s|^)"+gt+"(\\s|$)"))}function G(Ht){var gt=Ht.start,N=Ht.end,Q=Math.min(gt.x,N.x),ct=Math.min(gt.y,N.y),St=Math.max(gt.x,N.x),Dt=Math.max(gt.y,N.y);return{x:Q,y:ct,minX:Q,minY:ct,maxX:St,maxY:Dt,width:St-Q,height:Dt-ct}}function Y(Ht){var gt=Ht.map(function(Vt){return Vt.x}),N=Ht.map(function(Vt){return Vt.y}),Q=Math.min.apply(Math,gt),ct=Math.min.apply(Math,N),St=Math.max.apply(Math,gt),Dt=Math.max.apply(Math,N);return{x:Q,y:ct,minX:Q,minY:ct,maxX:St,maxY:Dt,width:St-Q,height:Dt-ct}}function q(Ht,gt,N,Q){return{x:Ht,y:gt,width:N,height:Q,minX:Ht,minY:gt,maxX:Ht+N,maxY:gt+Q}}function $(Ht,gt,N){return(1-N)*Ht+gt*N}function J(Ht,gt,N){return{x:Ht.x+Math.cos(N)*gt,y:Ht.y+Math.sin(N)*gt}}function U(Ht,gt){var N=gt.x-Ht.x,Q=gt.y-Ht.y;return Math.sqrt(N*N+Q*Q)}var K=function(Ht){return new Promise(function(gt){setTimeout(gt,Ht)})},f=function(Ht,gt){return[Ht,gt].includes(Infinity)?Math.abs(Ht)===Math.abs(gt):Math.abs(Ht-gt)<Math.pow(Number.EPSILON,.5)};function mt(Ht,gt){var N=Math.max(Ht.minX,gt.minX),Q=Math.max(Ht.minY,gt.minY),ct=Math.min(Ht.maxX,gt.maxX),St=Math.min(Ht.maxY,gt.maxY);return q(N,Q,ct-N,St-Q)}function Tt(Ht,gt){var N=Math.min(Ht.minX,gt.minX),Q=Math.min(Ht.minY,gt.minY),ct=Math.max(Ht.maxX,gt.maxX),St=Math.max(Ht.maxY,gt.maxY);return q(N,Q,ct-N,St-Q)}function at(Ht){var gt=Ht.getClip(),N=gt&&gt.getBBox(),Q;if(!Ht.isGroup())Q=Ht.getBBox();else{var ct=Infinity,St=-Infinity,Dt=Infinity,Vt=-Infinity,ee=Ht.getChildren();ee.length>0?(0,g.each)(ee,function(ne){if(ne.get("visible")){if(ne.isGroup()&&ne.get("children").length===0)return!0;var pe=at(ne),Se=ne.applyToMatrix([pe.minX,pe.minY,1]),Re=ne.applyToMatrix([pe.minX,pe.maxY,1]),He=ne.applyToMatrix([pe.maxX,pe.minY,1]),hr=ne.applyToMatrix([pe.maxX,pe.maxY,1]),Br=Math.min(Se[0],Re[0],He[0],hr[0]),Cr=Math.max(Se[0],Re[0],He[0],hr[0]),rn=Math.min(Se[1],Re[1],He[1],hr[1]),an=Math.max(Se[1],Re[1],He[1],hr[1]);Br<ct&&(ct=Br),Cr>St&&(St=Cr),rn<Dt&&(Dt=rn),an>Vt&&(Vt=an)}}):(ct=0,St=0,Dt=0,Vt=0),Q=q(ct,Dt,St-ct,Vt-Dt)}return N?mt(Q,N):Q}function Pt(Ht,gt){if(!(!Ht.getClip()&&!gt.getClip())){var N=gt.getClip();if(!N){Ht.setClip(null);return}var Q={type:N.get("type"),attrs:N.attr()};Ht.setClip(Q)}}function wt(Ht){return Ht+"px"}function Et(Ht,gt,N,Q){var ct=U(Ht,gt),St=Q/ct,Dt=0;return N==="start"?Dt=0-St:N==="end"&&(Dt=1+St),{x:$(Ht.x,gt.x,Dt),y:$(Ht.y,gt.y,Dt)}}var Rt=d(65722),Nt={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},kt=function(Ht){(0,x.__extends)(gt,Ht);function gt(N){var Q=Ht.call(this,N)||this;return Q.initCfg(),Q}return gt.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},gt.prototype.clear=function(){},gt.prototype.update=function(N){var Q=this,ct=this.get("defaultCfg");(0,g.each)(N,function(St,Dt){var Vt=Q.get(Dt),ee=St;Vt!==St&&((0,g.isObject)(St)&&ct[Dt]&&(ee=(0,g.deepMix)({},ct[Dt],St)),Q.set(Dt,ee))}),this.updateInner(N),this.afterUpdate(N)},gt.prototype.updateInner=function(N){},gt.prototype.afterUpdate=function(N){(0,g.hasKey)(N,"visible")&&(N.visible?this.show():this.hide()),(0,g.hasKey)(N,"capture")&&this.setCapture(N.capture)},gt.prototype.getLayoutBBox=function(){return this.getBBox()},gt.prototype.getLocationType=function(){return this.get("locationType")},gt.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},gt.prototype.setOffset=function(N,Q){this.update({offsetX:N,offsetY:Q})},gt.prototype.setLocation=function(N){var Q=(0,x.__assign)({},N);this.update(Q)},gt.prototype.getLocation=function(){var N=this,Q={},ct=this.get("locationType"),St=Nt[ct];return(0,g.each)(St,function(Dt){Q[Dt]=N.get(Dt)}),Q},gt.prototype.isList=function(){return!1},gt.prototype.isSlider=function(){return!1},gt.prototype.init=function(){},gt.prototype.initCfg=function(){var N=this,Q=this.get("defaultCfg");(0,g.each)(Q,function(ct,St){var Dt=N.get(St);if((0,g.isObject)(Dt)){var Vt=(0,g.deepMix)({},ct,Dt);N.set(St,Vt)}})},gt}(Rt.Base),_t=kt,ht="update_status",ft=["visible","tip","delegateObject"],Mt=["container","group","shapesMap","isRegister","isUpdating","destroyed"],rt=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},gt.prototype.remove=function(){this.clear();var N=this.get("group");N.remove()},gt.prototype.clear=function(){var N=this.get("group");N.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},gt.prototype.getChildComponentById=function(N){var Q=this.getElementById(N),ct=Q&&Q.get("component");return ct},gt.prototype.getElementById=function(N){return this.get("shapesMap")[N]},gt.prototype.getElementByLocalId=function(N){var Q=this.getElementId(N);return this.getElementById(Q)},gt.prototype.getElementsByName=function(N){var Q=[];return(0,g.each)(this.get("shapesMap"),function(ct){ct.get("name")===N&&Q.push(ct)}),Q},gt.prototype.getContainer=function(){return this.get("container")},gt.prototype.updateInner=function(N){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},gt.prototype.render=function(){var N=this.get("offScreenGroup");N||(N=this.offScreenRender());var Q=this.get("group");this.updateElements(N,Q),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},gt.prototype.show=function(){var N=this.get("group");N.show(),this.set("visible",!0)},gt.prototype.hide=function(){var N=this.get("group");N.hide(),this.set("visible",!1)},gt.prototype.setCapture=function(N){var Q=this.get("group");Q.set("capture",N),this.set("capture",N)},gt.prototype.destroy=function(){this.removeEvent(),this.remove(),Ht.prototype.destroy.call(this)},gt.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},gt.prototype.getLayoutBBox=function(){var N=this.get("group"),Q=this.getInnerLayoutBBox(),ct=N.getTotalMatrix();return ct&&(Q=tt(ct,Q)),Q},gt.prototype.on=function(N,Q,ct){var St=this.get("group");return St.on(N,Q,ct),this},gt.prototype.off=function(N,Q){var ct=this.get("group");return ct&&ct.off(N,Q),this},gt.prototype.emit=function(N,Q){var ct=this.get("group");ct.emit(N,Q)},gt.prototype.init=function(){Ht.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},gt.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},gt.prototype.delegateEmit=function(N,Q){var ct=this.get("group");Q.target=ct,ct.emit(N,Q),_(ct,N,Q)},gt.prototype.createOffScreenGroup=function(){var N=this.get("group"),Q=N.getGroupBase(),ct=new Q({delegateObject:this.getDelegateObject()});return ct},gt.prototype.applyOffset=function(){var N=this.get("offsetX"),Q=this.get("offsetY");this.moveElementTo(this.get("group"),{x:N,y:Q})},gt.prototype.initGroup=function(){var N=this.get("container");this.set("group",N.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},gt.prototype.offScreenRender=function(){this.clearOffScreenCache();var N=this.createOffScreenGroup();return this.renderInner(N),this.set("offScreenGroup",N),this.set("offScreenBBox",at(N)),N},gt.prototype.addGroup=function(N,Q){this.appendDelegateObject(N,Q);var ct=N.addGroup(Q);return this.get("isRegister")&&this.registerElement(ct),ct},gt.prototype.addShape=function(N,Q){this.appendDelegateObject(N,Q);var ct=N.addShape(Q);return this.get("isRegister")&&this.registerElement(ct),ct},gt.prototype.addComponent=function(N,Q){var ct=Q.id,St=Q.component,Dt=(0,x.__rest)(Q,["id","component"]),Vt=new St((0,x.__assign)((0,x.__assign)({},Dt),{id:ct,container:N,updateAutoRender:this.get("updateAutoRender")}));return Vt.init(),Vt.render(),this.get("isRegister")&&this.registerElement(Vt.get("group")),Vt},gt.prototype.initEvent=function(){},gt.prototype.removeEvent=function(){var N=this.get("group");N.off()},gt.prototype.getElementId=function(N){var Q=this.get("id"),ct=this.get("name");return Q+"-"+ct+"-"+N},gt.prototype.registerElement=function(N){var Q=N.get("id");this.get("shapesMap")[Q]=N},gt.prototype.unregisterElement=function(N){var Q=N.get("id");delete this.get("shapesMap")[Q]},gt.prototype.moveElementTo=function(N,Q){var ct=X(Q);N.attr("matrix",ct)},gt.prototype.addAnimation=function(N,Q,ct){var St=Q.attr("opacity");(0,g.isNil)(St)&&(St=1),Q.attr("opacity",0),Q.animate({opacity:St},ct)},gt.prototype.removeAnimation=function(N,Q,ct){Q.animate({opacity:0},ct)},gt.prototype.updateAnimation=function(N,Q,ct,St){Q.animate(ct,St)},gt.prototype.updateElements=function(N,Q){var ct=this,St=this.get("animate"),Dt=this.get("animateOption"),Vt=N.getChildren().slice(0),ee;(0,g.each)(Vt,function(ne){var pe=ne.get("id"),Se=ct.getElementById(pe),Re=ne.get("name");if(Se)if(ne.get("isComponent")){var He=ne.get("component"),hr=Se.get("component"),Br=(0,g.pick)(He.cfg,(0,g.difference)((0,g.keys)(He.cfg),Mt));hr.update(Br),Se.set(ht,"update")}else{var Cr=ct.getReplaceAttrs(Se,ne);St&&Dt.update?ct.updateAnimation(Re,Se,Cr,Dt.update):Se.attr(Cr),ne.isGroup()&&ct.updateElements(ne,Se),(0,g.each)(ft,function(It){Se.set(It,ne.get(It))}),Pt(Se,ne),ee=Se,Se.set(ht,"update")}else{Q.add(ne);var rn=Q.getChildren();if(rn.splice(rn.length-1,1),ee){var an=rn.indexOf(ee);rn.splice(an+1,0,ne)}else rn.unshift(ne);if(ct.registerElement(ne),ne.set(ht,"add"),ne.get("isComponent")){var He=ne.get("component");He.set("container",Q)}else ne.isGroup()&&ct.registerNewGroup(ne);if(ee=ne,St){var nn=ct.get("isInit")?Dt.appear:Dt.enter;nn&&ct.addAnimation(Re,ne,nn)}}})},gt.prototype.clearUpdateStatus=function(N){var Q=N.getChildren();(0,g.each)(Q,function(ct){ct.set(ht,null)})},gt.prototype.clearOffScreenCache=function(){var N=this.get("offScreenGroup");N&&N.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},gt.prototype.getDelegateObject=function(){var N,Q=this.get("name"),ct=(N={},N[Q]=this,N.component=this,N);return ct},gt.prototype.appendDelegateObject=function(N,Q){var ct=N.get("delegateObject");Q.delegateObject||(Q.delegateObject={}),(0,g.mix)(Q.delegateObject,ct)},gt.prototype.getReplaceAttrs=function(N,Q){var ct=N.attr(),St=Q.attr();return(0,g.each)(ct,function(Dt,Vt){St[Vt]===void 0&&(St[Vt]=void 0)}),St},gt.prototype.registerNewGroup=function(N){var Q=this,ct=N.getChildren();(0,g.each)(ct,function(St){Q.registerElement(St),St.set(ht,"add"),St.isGroup()&&Q.registerNewGroup(St)})},gt.prototype.deleteElements=function(){var N=this,Q=this.get("shapesMap"),ct=[];(0,g.each)(Q,function(Vt,ee){!Vt.get(ht)||Vt.destroyed?ct.push([ee,Vt]):Vt.set(ht,null)});var St=this.get("animate"),Dt=this.get("animateOption");(0,g.each)(ct,function(Vt){var ee=Vt[0],ne=Vt[1];if(!ne.destroyed){var pe=ne.get("name");if(St&&Dt.leave){var Se=(0,g.mix)({callback:function(){N.removeElement(ne)}},Dt.leave);N.removeAnimation(pe,ne,Se)}else N.removeElement(ne)}delete Q[ee]})},gt.prototype.removeElement=function(N){if(N.get("isGroup")){var Q=N.get("component");Q&&Q.destroy()}N.remove()},gt}(_t),et=rt,lt="\u2026";function st(Ht){for(var gt=0,N=0;N<Ht.length;N++)gt+=At(Ht,N);return gt}function At(Ht,gt){return Ht.charCodeAt(gt)>0&&Ht.charCodeAt(gt)<128?1:2}function Ot(Ht,gt,N){N===void 0&&(N="tail");var Q=Ht.length,ct="";if(N==="tail"){for(var St=0,Dt=0;St<gt;){var Vt=At(Ht,Dt);if(St+Vt<=gt)ct+=Ht[Dt],St+=At(Ht,Dt),Dt++;else break}ct+=lt}else if(N==="head"){for(var St=0,Dt=Q-1;St<gt;){var Vt=At(Ht,Dt);if(St+Vt<=gt)ct+=Ht[Dt],St+=At(Ht,Dt),Dt--;else break}ct=lt+ct}else{for(var ee="",ne="",St=0,pe=0,Se=Q-1;St<gt;){var Re=At(Ht,pe),He=!1;Re+St<=gt&&(ee+=Ht[pe],pe++,St+=Re,He=!0);var hr=At(Ht,Se);if(hr+St<=gt&&(ne=Ht[Se]+ne,St+=hr,Se--,He=!0),!He)break}ct=ee+lt+ne}return ct}var Qt="\u2026",ve=2;function fe(Ht){var gt=0;return(0,g.each)(Ht,function(N){var Q=N.getBBox(),ct=Q.width;gt<ct&&(gt=ct)}),gt}function ce(Ht,gt){var N=gt.getCanvasBBox();return Ht?N.width:N.height}function Ae(Ht,gt){return Ht.getBBox().width<gt}function De(Ht,gt,N,Q){Q===void 0&&(Q="tail");var ct=gt.attr("text"),St=ce(Ht,gt),Dt=st(ct),Vt=!1;if(N<St){var ee=Math.floor(N/St*Dt)-ve,ne=void 0;ee>=0?ne=Ot(ct,ee,Q):ne=Qt,ne&&(gt.attr("text",ne),Vt=!0)}return Vt?gt.set("tip",ct):gt.set("tip",null),Vt}function rr(Ht,gt){var N=gt.x,Q=gt.y,ct=gt.content,St=gt.style,Dt=gt.id,Vt=gt.name,ee=gt.rotate,ne=gt.maxLength,pe=gt.autoEllipsis,Se=gt.isVertical,Re=gt.ellipsisPosition,He=gt.background,hr=Ht.addGroup({id:Dt+"-group",name:Vt+"-group",attrs:{x:N,y:Q}}),Br=hr.addShape({type:"text",id:Dt,name:Vt,attrs:(0,x.__assign)({x:0,y:0,text:ct},St)}),Cr=Ct((0,g.get)(He,"padding",0));if(ne&&pe){var rn=ne-(Cr[1]+Cr[3]);De(!Se,Br,rn,Re)}if(He){var an=(0,g.get)(He,"style",{}),nn=Br.getCanvasBBox(),It=nn.minX,qt=nn.minY,he=nn.width,xe=nn.height,Oe=hr.addShape("rect",{id:Dt+"-bg",name:Dt+"-bg",attrs:(0,x.__assign)({x:It-Cr[3],y:qt-Cr[0],width:he+Cr[1]+Cr[3],height:xe+Cr[0]+Cr[2]},an)});Oe.toBack()}dt(hr,N,Q),yt(hr,ee,N,Q)}var Je={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},Er=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:Je.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:Je.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:Je.lineColor,lineWidth:1}}}})},gt.prototype.renderInner=function(N){this.renderLine(N),this.get("text")&&this.renderLabel(N)},gt.prototype.renderLine=function(N){var Q=this.get("start"),ct=this.get("end"),St=this.get("style");this.addShape(N,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,x.__assign)({x1:Q.x,y1:Q.y,x2:ct.x,y2:ct.y},St)})},gt.prototype.getLabelPoint=function(N,Q,ct){var St;return ct==="start"?St=0:ct==="center"?St=.5:(0,g.isString)(ct)&&ct.indexOf("%")!==-1?St=parseInt(ct,10)/100:(0,g.isNumber)(ct)?St=ct:St=1,(St>1||St<0)&&(St=1),{x:$(N.x,Q.x,St),y:$(N.y,Q.y,St)}},gt.prototype.renderLabel=function(N){var Q=this.get("text"),ct=this.get("start"),St=this.get("end"),Dt=Q.position,Vt=Q.content,ee=Q.style,ne=Q.offsetX,pe=Q.offsetY,Se=Q.autoRotate,Re=Q.maxLength,He=Q.autoEllipsis,hr=Q.ellipsisPosition,Br=Q.background,Cr=Q.isVertical,rn=Cr===void 0?!1:Cr,an=this.getLabelPoint(ct,St,Dt),nn=an.x+ne,It=an.y+pe,qt={id:this.getElementId("line-text"),name:"annotation-line-text",x:nn,y:It,content:Vt,style:ee,maxLength:Re,autoEllipsis:He,ellipsisPosition:hr,background:Br,isVertical:rn};if(Se){var he=[St.x-ct.x,St.y-ct.y];qt.rotate=Math.atan2(he[1],he[0])}rr(N,qt)},gt}(et),Jr=Er,Ar=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:Je.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:Je.fontFamily}}})},gt.prototype.setLocation=function(N){this.set("x",N.x),this.set("y",N.y),this.resetLocation()},gt.prototype.renderInner=function(N){var Q=this.getLocation(),ct=Q.x,St=Q.y,Dt=this.get("content"),Vt=this.get("style"),ee=this.getElementId("text"),ne=this.get("name")+"-text",pe=this.get("maxLength"),Se=this.get("autoEllipsis"),Re=this.get("isVertical"),He=this.get("ellipsisPosition"),hr=this.get("background"),Br=this.get("rotate"),Cr={id:ee,name:ne,x:ct,y:St,content:Dt,style:Vt,maxLength:pe,autoEllipsis:Se,isVertical:Re,ellipsisPosition:He,background:hr,rotate:Br};rr(N,Cr)},gt.prototype.resetLocation=function(){var N=this.getElementByLocalId("text-group");if(N){var Q=this.getLocation(),ct=Q.x,St=Q.y,Dt=this.get("rotate");dt(N,ct,St),yt(N,Dt,ct,St)}},gt}(et),Qr=Ar,Un=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},gt.prototype.renderInner=function(N){this.renderArc(N)},gt.prototype.getArcPath=function(){var N=this.getLocation(),Q=N.center,ct=N.radius,St=N.startAngle,Dt=N.endAngle,Vt=J(Q,ct,St),ee=J(Q,ct,Dt),ne=Dt-St>Math.PI?1:0,pe=[["M",Vt.x,Vt.y]];if(Dt-St==Math.PI*2){var Se=J(Q,ct,St+Math.PI);pe.push(["A",ct,ct,0,ne,1,Se.x,Se.y]),pe.push(["A",ct,ct,0,ne,1,ee.x,ee.y])}else pe.push(["A",ct,ct,0,ne,1,ee.x,ee.y]);return pe},gt.prototype.renderArc=function(N){var Q=this.getArcPath(),ct=this.get("style");this.addShape(N,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,x.__assign)({path:Q},ct)})},gt}(et),ii=Un,wi=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:Je.regionColor,opacity:.4}}})},gt.prototype.renderInner=function(N){this.renderRegion(N)},gt.prototype.renderRegion=function(N){var Q=this.get("start"),ct=this.get("end"),St=this.get("style"),Dt=G({start:Q,end:ct});this.addShape(N,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,x.__assign)({x:Dt.x,y:Dt.y,width:Dt.width,height:Dt.height},St)})},gt}(et),Si=wi,Wt=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},gt.prototype.renderInner=function(N){this.renderImage(N)},gt.prototype.getImageAttrs=function(){var N=this.get("start"),Q=this.get("end"),ct=this.get("style"),St=G({start:N,end:Q}),Dt=this.get("src");return(0,x.__assign)({x:St.x,y:St.y,img:Dt,width:St.width,height:St.height},ct)},gt.prototype.renderImage=function(N){this.addShape(N,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},gt}(et),Kt=Wt,re=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:Je.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:Je.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:Je.fontFamily}}}})},gt.prototype.renderInner=function(N){(0,g.get)(this.get("line"),"display")&&this.renderLine(N),(0,g.get)(this.get("text"),"display")&&this.renderText(N),(0,g.get)(this.get("point"),"display")&&this.renderPoint(N),this.get("autoAdjust")&&this.autoAdjust(N)},gt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},gt.prototype.renderPoint=function(N){var Q=this.getShapeAttrs().point;this.addShape(N,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:Q})},gt.prototype.renderLine=function(N){var Q=this.getShapeAttrs().line;this.addShape(N,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:Q})},gt.prototype.renderText=function(N){var Q=this.getShapeAttrs().text,ct=Q.x,St=Q.y,Dt=Q.text,Vt=(0,x.__rest)(Q,["x","y","text"]),ee=this.get("text"),ne=ee.background,pe=ee.maxLength,Se=ee.autoEllipsis,Re=ee.isVertival,He=ee.ellipsisPosition,hr={x:ct,y:St,id:this.getElementId("text"),name:"annotation-text",content:Dt,style:Vt,background:ne,maxLength:pe,autoEllipsis:Se,isVertival:Re,ellipsisPosition:He};rr(N,hr)},gt.prototype.autoAdjust=function(N){var Q=this.get("direction"),ct=this.get("x"),St=this.get("y"),Dt=(0,g.get)(this.get("line"),"length",0),Vt=this.get("coordinateBBox"),ee=N.getBBox(),ne=ee.minX,pe=ee.maxX,Se=ee.minY,Re=ee.maxY,He=N.findById(this.getElementId("text-group")),hr=N.findById(this.getElementId("text")),Br=N.findById(this.getElementId("line"));if(!!Vt){if(He){if(ct+ne<=Vt.minX){var Cr=Vt.minX-(ct+ne);dt(He,He.attr("x")+Cr,He.attr("y"))}if(ct+pe>=Vt.maxX){var Cr=ct+pe-Vt.maxX;dt(He,He.attr("x")-Cr,He.attr("y"))}}if(Q==="upward"&&St+Se<=Vt.minY||Q!=="upward"&&St+Re>=Vt.maxY){var rn=void 0,an=void 0;Q==="upward"&&St+Se<=Vt.minY?(rn="top",an=1):(rn="bottom",an=-1),hr.attr("textBaseline",rn),Br&&Br.attr("path",[["M",0,0],["L",0,Dt*an]]),dt(He,He.attr("x"),(Dt+2)*an)}}},gt.prototype.getShapeAttrs=function(){var N=(0,g.get)(this.get("line"),"display"),Q=(0,g.get)(this.get("point"),"style",{}),ct=(0,g.get)(this.get("line"),"style",{}),St=(0,g.get)(this.get("text"),"style",{}),Dt=this.get("direction"),Vt=N?(0,g.get)(this.get("line"),"length",0):0,ee=Dt==="upward"?-1:1;return{point:(0,x.__assign)({x:0,y:0},Q),line:(0,x.__assign)({path:[["M",0,0],["L",0,Vt*ee]]},ct),text:(0,x.__assign)({x:0,y:(Vt+2)*ee,text:(0,g.get)(this.get("text"),"content",""),textBaseline:Dt==="upward"?"bottom":"top"},St)}},gt}(et),oe=re,me=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:Je.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:Je.textColor,fontFamily:Je.fontFamily}}}})},gt.prototype.renderInner=function(N){var Q=(0,g.get)(this.get("region"),"style",{}),ct=(0,g.get)(this.get("text"),"style",{}),St=this.get("lineLength")||0,Dt=this.get("points");if(!!Dt.length){var Vt=Y(Dt),ee=[];ee.push(["M",Dt[0].x,Vt.minY-St]),Dt.forEach(function(pe){ee.push(["L",pe.x,pe.y])}),ee.push(["L",Dt[Dt.length-1].x,Dt[Dt.length-1].y-St]),this.addShape(N,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,x.__assign)({path:ee},Q)});var ne=(0,x.__assign)({id:this.getElementId("text"),name:"annotation-text",x:(Vt.minX+Vt.maxX)/2,y:Vt.minY-St},this.get("text"));rr(N,ne)}},gt}(et),be=me,we=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},gt.prototype.renderInner=function(N){var Q=this,ct=this.get("start"),St=this.get("end"),Dt=this.addGroup(N,{id:this.getElementId("region-filter"),capture:!1});(0,g.each)(this.get("shapes"),function(ee,ne){var pe=ee.get("type"),Se=(0,g.clone)(ee.attr());Q.adjustShapeAttrs(Se),Q.addShape(Dt,{id:Q.getElementId("shape-"+pe+"-"+ne),capture:!1,type:pe,attrs:Se})});var Vt=G({start:ct,end:St});Dt.setClip({type:"rect",attrs:{x:Vt.minX,y:Vt.minY,width:Vt.width,height:Vt.height}})},gt.prototype.adjustShapeAttrs=function(N){var Q=this.get("color");N.fill&&(N.fill=N.fillStyle=Q),N.stroke=N.strokeStyle=Q},gt}(et),Ee=we;function de(Ht,gt,N){var Q=gt+"Style",ct=null;return(0,g.each)(N,function(St,Dt){Ht[Dt]&&St[Q]&&(ct||(ct={}),(0,g.mix)(ct,St[Q]))}),ct}var Xe=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:Je.lineColor}},tickLine:{style:{lineWidth:1,stroke:Je.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:Je.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:Je.textColor,textBaseline:"middle",fontFamily:Je.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:Je.textColor,textBaseline:"middle",fontFamily:Je.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:Je.uncheckedColor}}}}})},gt.prototype.renderInner=function(N){this.get("line")&&this.drawLine(N),this.drawTicks(N),this.get("title")&&this.drawTitle(N)},gt.prototype.isList=function(){return!0},gt.prototype.getItems=function(){return this.get("ticks")},gt.prototype.setItems=function(N){this.update({ticks:N})},gt.prototype.updateItem=function(N,Q){(0,g.mix)(N,Q),this.clear(),this.render()},gt.prototype.clearItems=function(){var N=this.getElementByLocalId("label-group");N&&N.clear()},gt.prototype.setItemState=function(N,Q,ct){N[Q]=ct,this.updateTickStates(N)},gt.prototype.hasState=function(N,Q){return!!N[Q]},gt.prototype.getItemStates=function(N){var Q=this.get("tickStates"),ct=[];return(0,g.each)(Q,function(St,Dt){N[Dt]&&ct.push(Dt)}),ct},gt.prototype.clearItemsState=function(N){var Q=this,ct=this.getItemsByState(N);(0,g.each)(ct,function(St){Q.setItemState(St,N,!1)})},gt.prototype.getItemsByState=function(N){var Q=this,ct=this.getItems();return(0,g.filter)(ct,function(St){return Q.hasState(St,N)})},gt.prototype.getSidePoint=function(N,Q){var ct=this,St=ct.getSideVector(Q,N);return{x:N.x+St[0],y:N.y+St[1]}},gt.prototype.getTextAnchor=function(N){var Q;return(0,g.isNumberEqual)(N[0],0)?Q="center":N[0]>0?Q="start":N[0]<0&&(Q="end"),Q},gt.prototype.processOverlap=function(N){},gt.prototype.drawLine=function(N){var Q=this.getLinePath(),ct=this.get("line");this.addShape(N,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,g.mix)({path:Q},ct.style)})},gt.prototype.getTickLineItems=function(N){var Q=this,ct=[],St=this.get("tickLine"),Dt=St.alignTick,Vt=St.length,ee=1,ne=N.length;return ne>=2&&(ee=N[1].value-N[0].value),(0,g.each)(N,function(pe){var Se=pe.point;Dt||(Se=Q.getTickPoint(pe.value-ee/2));var Re=Q.getSidePoint(Se,Vt);ct.push({startPoint:Se,tickValue:pe.value,endPoint:Re,tickId:pe.id,id:"tickline-"+pe.id})}),ct},gt.prototype.getSubTickLineItems=function(N){var Q=[],ct=this.get("subTickLine"),St=ct.count,Dt=N.length;if(Dt>=2)for(var Vt=0;Vt<Dt-1;Vt++)for(var ee=N[Vt],ne=N[Vt+1],pe=0;pe<St;pe++){var Se=(pe+1)/(St+1),Re=(1-Se)*ee.tickValue+Se*ne.tickValue,He=this.getTickPoint(Re),hr=this.getSidePoint(He,ct.length);Q.push({startPoint:He,endPoint:hr,tickValue:Re,id:"sub-"+ee.id+"-"+pe})}return Q},gt.prototype.getTickLineAttrs=function(N,Q){var ct=this.get(Q).style,St=N.startPoint,Dt=N.endPoint,Vt=(0,g.mix)({x1:St.x,y1:St.y,x2:Dt.x,y2:Dt.y},ct);return Vt},gt.prototype.drawTick=function(N,Q,ct){this.addShape(Q,{type:"line",id:this.getElementId(N.id),name:"axis-"+ct,attrs:this.getTickLineAttrs(N,ct)})},gt.prototype.drawTickLines=function(N){var Q=this,ct=this.get("ticks"),St=this.get("subTickLine"),Dt=this.getTickLineItems(ct),Vt=this.addGroup(N,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),ee=this.get("tickLine");if((0,g.each)(Dt,function(pe){if(ee.displayWithLabel){var Se=Q.getElementId("label-"+pe.tickId);N.findById(Se)&&Q.drawTick(pe,Vt,"tickLine")}else Q.drawTick(pe,Vt,"tickLine")}),St){var ne=this.getSubTickLineItems(Dt);(0,g.each)(ne,function(pe){Q.drawTick(pe,Vt,"subTickLine")})}},gt.prototype.processTicks=function(){var N=this,Q=this.get("ticks");(0,g.each)(Q,function(ct){ct.point=N.getTickPoint(ct.value),(0,g.isNil)(ct.id)&&(ct.id=ct.name)})},gt.prototype.drawTicks=function(N){var Q=this;this.processTicks(),this.get("label")&&this.drawLabels(N),this.get("tickLine")&&this.drawTickLines(N);var ct=this.get("ticks");(0,g.each)(ct,function(St){Q.applyTickStates(St,N)})},gt.prototype.getLabelAttrs=function(N,Q){var ct=this.get("label"),St=ct.offset,Dt=ct.style,Vt=ct.rotate,ee=ct.formatter,ne=this.getSidePoint(N.point,St),pe=this.getSideVector(St,ne),Se=ee?ee(N.name,N,Q):N.name,Re=(0,g.mix)({x:ne.x,y:ne.y,text:Se,textAlign:this.getTextAnchor(pe)},Dt);return Vt&&(Re.matrix=Z(ne,Vt)),Re},gt.prototype.drawLabels=function(N){var Q=this,ct=this.get("ticks"),St=this.addGroup(N,{name:"axis-label-group",id:this.getElementId("label-group")});(0,g.each)(ct,function(Dt,Vt){Q.addShape(St,{type:"text",name:"axis-label",id:Q.getElementId("label-"+Dt.id),attrs:Q.getLabelAttrs(Dt,Vt),delegateObject:{tick:Dt,item:Dt,index:Vt}})}),this.processOverlap(St)},gt.prototype.getTitleAttrs=function(){var N=this.get("title"),Q=N.style,ct=N.position,St=N.offset,Dt=N.spacing,Vt=Dt===void 0?0:Dt,ee=N.autoRotate,ne=Q.fontSize,pe=.5;ct==="start"?pe=0:ct==="end"&&(pe=1);var Se=this.getTickPoint(pe),Re=this.getSidePoint(Se,St||Vt+ne/2),He=(0,g.mix)({x:Re.x,y:Re.y,text:N.text},Q),hr=N.rotate,Br=hr;if((0,g.isNil)(hr)&&ee){var Cr=this.getAxisVector(Se),rn=[1,0];Br=B.angleTo(Cr,rn,!0)}if(Br){var an=Z(Re,Br);He.matrix=an}return He},gt.prototype.drawTitle=function(N){this.addShape(N,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},gt.prototype.applyTickStates=function(N,Q){var ct=this.getItemStates(N);if(ct.length){var St=this.get("tickStates"),Dt=this.getElementId("label-"+N.id),Vt=Q.findById(Dt);if(Vt){var ee=de(N,"label",St);ee&&Vt.attr(ee)}var ne=this.getElementId("tickline-"+N.id),pe=Q.findById(ne);if(pe){var Se=de(N,"tickLine",St);Se&&pe.attr(Se)}}},gt.prototype.updateTickStates=function(N){var Q=this.getItemStates(N),ct=this.get("tickStates"),St=this.get("label"),Dt=this.getElementByLocalId("label-"+N.id),Vt=this.get("tickLine"),ee=this.getElementByLocalId("tickline-"+N.id);if(Q.length){if(Dt){var ne=de(N,"label",ct);ne&&Dt.attr(ne)}if(ee){var pe=de(N,"tickLine",ct);pe&&ee.attr(pe)}}else Dt&&Dt.attr(St.style),ee&&ee.attr(Vt.style)},gt}(et),ke=Xe;function qe(Ht,gt,N,Q){var ct=gt.getChildren(),St=!1;return(0,g.each)(ct,function(Dt){var Vt=De(Ht,Dt,N,Q);St=St||Vt}),St}function ir(){return or}function er(Ht,gt,N){return qe(Ht,gt,N,"head")}function or(Ht,gt,N){return qe(Ht,gt,N,"tail")}function sr(Ht,gt,N){return qe(Ht,gt,N,"middle")}function gr(Ht){var gt=Ht.attr("matrix");return gt&&gt[0]!==1}function Qe(Ht,gt,N,Q,ct){ct===void 0&&(ct=!1);var St=!1;if(Ht)St=Math.abs(N.y-Q.y)<N.height;else if(gt){var Dt=ct?Q.height:N.height;St=Math.abs(N.x-Q.x)<Dt}else{var Vt=ct?Q.width:N.width;St=Math.abs(N.x-Q.x)<Vt}return St}function wr(Ht,gt,N){var Q=gt.getChildren().slice();if(!Q.length)return!1;var ct=!1;N&&Q.reverse();for(var St=Q.length,Dt=Q[0],Vt=gr(Dt),ee=Dt.getBBox(),ne=1;ne<St;ne++){var pe=Q[ne],Se=pe.getBBox(),Re=Qe(Ht,Vt,ee,Se,N);Re?(pe.hide(),ct=!0):ee=Se}return ct}function Ir(){return zr}function Pr(Ht,gt){return wr(Ht,gt,!1)}function kr(Ht,gt){return wr(Ht,gt,!0)}function Hr(Ht,gt){var N=gt.getChildren().slice();if(N.length<=2)return!1;for(var Q=!1,ct=N.length,St=N[0],Dt=N[ct-1],Vt=gr(St),ee=St.getBBox(),ne=St,pe=1;pe<ct-1;pe++){var Se=N[pe],Re=Se.getBBox(),He=Qe(Ht,Vt,ee,Re);He?(Se.hide(),Q=!0):(ee=Re,ne=Se)}var hr=Dt.getBBox(),Br=Qe(Ht,Vt,ee,hr);return Br&&(ne.hide(),Q=!0),Q}function zr(Ht,gt){var N=gt.getChildren().slice();if(N.length<2)return!1;var Q=!1,ct=N[0],St=ct.getBBox(),Dt=N[1],Vt=gr(ct),ee=N.length,ne=0;if(Ht){var pe=Math.abs(Dt.attr("y")-ct.attr("y"));ne=St.height/pe}else if(Vt){var pe=Math.abs(Dt.attr("x")-ct.attr("x"));ne=St.width/pe}else{var Se=fe(N),pe=Math.abs(Dt.attr("x")-ct.attr("x"));ne=Se/pe}if(ne>1){ne=Math.ceil(ne);for(var Re=0;Re<ee;Re++)Re%ne!=0&&(N[Re].hide(),Q=!0)}return Q}function Nn(Ht,gt){(0,g.each)(Ht,function(N){var Q=N.attr("x"),ct=N.attr("y"),St=Z({x:Q,y:ct},gt);N.attr("matrix",St)})}function tn(Ht,gt,N,Q){var ct=gt.getChildren();if(!ct.length||!Ht&&ct.length<2)return!1;var St=fe(ct),Dt=!1;if(Ht)Dt=!!N&&St>N;else{var Vt=Math.abs(ct[1].attr("x")-ct[0].attr("x"));Dt=St>Vt}if(Dt){var ee=Q(N,St);Nn(ct,ee)}return Dt}function zn(){return ai}function ai(Ht,gt,N){return tn(Ht,gt,N,function(){return Ht?Je.verticalAxisRotate:Je.horizontalAxisRotate})}function Qn(Ht,gt,N){return tn(Ht,gt,N,function(Q,ct){if(!Q)return Ht?Je.verticalAxisRotate:Je.horizontalAxisRotate;if(Ht)return-Math.acos(Q/ct);var St=0;return Q>ct?St=Math.PI/4:(St=Math.asin(Q/ct),St>Math.PI/4&&(St=Math.PI/4)),St})}var Ri=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{type:"line",locationType:"region",start:null,end:null})},gt.prototype.getLinePath=function(){var N=this.get("start"),Q=this.get("end"),ct=[];return ct.push(["M",N.x,N.y]),ct.push(["L",Q.x,Q.y]),ct},gt.prototype.getInnerLayoutBBox=function(){var N=this.get("start"),Q=this.get("end"),ct=Ht.prototype.getInnerLayoutBBox.call(this),St=Math.min(N.x,Q.x,ct.x),Dt=Math.min(N.y,Q.y,ct.y),Vt=Math.max(N.x,Q.x,ct.maxX),ee=Math.max(N.y,Q.y,ct.maxY);return{x:St,y:Dt,minX:St,minY:Dt,maxX:Vt,maxY:ee,width:Vt-St,height:ee-Dt}},gt.prototype.isVertical=function(){var N=this.get("start"),Q=this.get("end");return(0,g.isNumberEqual)(N.x,Q.x)},gt.prototype.isHorizontal=function(){var N=this.get("start"),Q=this.get("end");return(0,g.isNumberEqual)(N.y,Q.y)},gt.prototype.getTickPoint=function(N){var Q=this,ct=Q.get("start"),St=Q.get("end"),Dt=St.x-ct.x,Vt=St.y-ct.y;return{x:ct.x+Dt*N,y:ct.y+Vt*N}},gt.prototype.getSideVector=function(N){var Q=this.getAxisVector(),ct=D.normalize([0,0],Q),St=this.get("verticalFactor"),Dt=[ct[1],ct[0]*-1];return D.scale([0,0],Dt,N*St)},gt.prototype.getAxisVector=function(){var N=this.get("start"),Q=this.get("end");return[Q.x-N.x,Q.y-N.y]},gt.prototype.processOverlap=function(N){var Q=this,ct=this.isVertical(),St=this.isHorizontal();if(!(!ct&&!St)){var Dt=this.get("label"),Vt=this.get("title"),ee=this.get("verticalLimitLength"),ne=Dt.offset,pe=ee,Se=0,Re=0;Vt&&(Se=Vt.style.fontSize,Re=Vt.spacing),pe&&(pe=pe-ne-Re-Se);var He=this.get("overlapOrder");if((0,g.each)(He,function(Cr){Dt[Cr]&&Q.autoProcessOverlap(Cr,Dt[Cr],N,pe)}),Vt){var hr=N.getBBox(),Br=ct?hr.width:hr.height;(0,g.isNil)(Vt.offset)&&(Vt.offset=ne+Br+Re+Se/2)}}},gt.prototype.autoProcessOverlap=function(N,Q,ct,St){var Dt=this,Vt=this.isVertical(),ee=!1,ne=P[N];if(Q===!0?ee=ne.getDefault()(Vt,ct,St):(0,g.isFunction)(Q)?ee=Q(Vt,ct,St):ne[Q]&&(ee=ne[Q](Vt,ct,St)),N==="autoRotate"){if(ee){var pe=ct.getChildren(),Se=this.get("verticalFactor");(0,g.each)(pe,function(He){var hr=He.attr("textAlign");if(hr==="center"){var Br=Se>0?"end":"start";He.attr("textAlign",Br)}})}}else if(N==="autoHide"){var Re=ct.getChildren().slice(0);(0,g.each)(Re,function(He){He.get("visible")||(Dt.get("isRegister")&&Dt.unregisterElement(He),He.remove())})}},gt}(ke),Vi=Ri,Mr=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},gt.prototype.getLinePath=function(){var N=this.get("center"),Q=N.x,ct=N.y,St=this.get("radius"),Dt=St,Vt=this.get("startAngle"),ee=this.get("endAngle"),ne=[];if(Math.abs(ee-Vt)===Math.PI*2)ne=[["M",Q,ct-Dt],["A",St,Dt,0,1,1,Q,ct+Dt],["A",St,Dt,0,1,1,Q,ct-Dt],["Z"]];else{var pe=this.getCirclePoint(Vt),Se=this.getCirclePoint(ee),Re=Math.abs(ee-Vt)>Math.PI?1:0,He=Vt>ee?0:1;ne=[["M",Q,ct],["L",pe.x,pe.y],["A",St,Dt,0,Re,He,Se.x,Se.y],["L",Q,ct]]}return ne},gt.prototype.getTickPoint=function(N){var Q=this.get("startAngle"),ct=this.get("endAngle"),St=Q+(ct-Q)*N;return this.getCirclePoint(St)},gt.prototype.getSideVector=function(N,Q){var ct=this.get("center"),St=[Q.x-ct.x,Q.y-ct.y],Dt=this.get("verticalFactor"),Vt=D.length(St);return D.scale(St,St,Dt*N/Vt),St},gt.prototype.getAxisVector=function(N){var Q=this.get("center"),ct=[N.x-Q.x,N.y-Q.y];return[ct[1],-1*ct[0]]},gt.prototype.getCirclePoint=function(N,Q){var ct=this.get("center");return Q=Q||this.get("radius"),{x:ct.x+Math.cos(N)*Q,y:ct.y+Math.sin(N)*Q}},gt}(ke),ui=Mr,fi=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:Je.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:Je.textColor,textAlign:"center",textBaseline:"middle",fontFamily:Je.fontFamily}},textBackground:{padding:5,style:{stroke:Je.lineColor}}}})},gt.prototype.renderInner=function(N){this.get("line")&&this.renderLine(N),this.get("text")&&(this.renderText(N),this.renderBackground(N))},gt.prototype.renderText=function(N){var Q=this.get("text"),ct=Q.style,St=Q.autoRotate,Dt=Q.content;if(!(0,g.isNil)(Dt)){var Vt=this.getTextPoint(),ee=null;if(St){var ne=this.getRotateAngle();ee=Z(Vt,ne)}this.addShape(N,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,x.__assign)((0,x.__assign)((0,x.__assign)({},Vt),{text:Dt,matrix:ee}),ct)})}},gt.prototype.renderLine=function(N){var Q=this.getLinePath(),ct=this.get("line"),St=ct.style;this.addShape(N,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,x.__assign)({path:Q},St)})},gt.prototype.renderBackground=function(N){var Q=this.getElementId("text"),ct=N.findById(Q),St=this.get("textBackground");if(St&&ct){var Dt=ct.getBBox(),Vt=Ct(St.padding),ee=St.style,ne=this.addShape(N,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,x.__assign)({x:Dt.x-Vt[3],y:Dt.y-Vt[0],width:Dt.width+Vt[1]+Vt[3],height:Dt.height+Vt[0]+Vt[2],matrix:ct.attr("matrix")},ee)});ne.toBack()}},gt}(et),ti=fi,Sn=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{type:"line",locationType:"region",start:null,end:null})},gt.prototype.getRotateAngle=function(){var N=this.getLocation(),Q=N.start,ct=N.end,St=this.get("text").position,Dt=Math.atan2(ct.y-Q.y,ct.x-Q.x),Vt=St==="start"?Dt-Math.PI/2:Dt+Math.PI/2;return Vt},gt.prototype.getTextPoint=function(){var N=this.getLocation(),Q=N.start,ct=N.end,St=this.get("text"),Dt=St.position,Vt=St.offset;return Et(Q,ct,Dt,Vt)},gt.prototype.getLinePath=function(){var N=this.getLocation(),Q=N.start,ct=N.end;return[["M",Q.x,Q.y],["L",ct.x,ct.y]]},gt}(ti),hi=Sn,Hi=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},gt.prototype.getRotateAngle=function(){var N=this.getLocation(),Q=N.startAngle,ct=N.endAngle,St=this.get("text").position,Dt=St==="start"?Q+Math.PI/2:ct-Math.PI/2;return Dt},gt.prototype.getTextPoint=function(){var N=this.get("text"),Q=N.position,ct=N.offset,St=this.getLocation(),Dt=St.center,Vt=St.radius,ee=St.startAngle,ne=St.endAngle,pe=Q==="start"?ee:ne,Se=this.getRotateAngle()-Math.PI,Re=J(Dt,Vt,pe),He=Math.cos(Se)*ct,hr=Math.sin(Se)*ct;return{x:Re.x+He,y:Re.y+hr}},gt.prototype.getLinePath=function(){var N=this.getLocation(),Q=N.center,ct=N.radius,St=N.startAngle,Dt=N.endAngle,Vt=null;if(Dt-St==Math.PI*2){var ee=Q.x,ne=Q.y;Vt=[["M",ee,ne-ct],["A",ct,ct,0,1,1,ee,ne+ct],["A",ct,ct,0,1,1,ee,ne-ct],["Z"]]}else{var pe=J(Q,ct,St),Se=J(Q,ct,Dt),Re=Math.abs(Dt-St)>Math.PI?1:0,He=St>Dt?0:1;Vt=[["M",pe.x,pe.y],["A",ct,ct,0,Re,He,Se.x,Se.y]]}return Vt},gt}(ti),_i=Hi,Ni=d(6056),Zn=d(45442),ea=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},gt.prototype.getContainer=function(){return this.get("container")},gt.prototype.show=function(){var N=this.get("container");N.style.display="",this.set("visible",!0)},gt.prototype.hide=function(){var N=this.get("container");N.style.display="none",this.set("visible",!1)},gt.prototype.setCapture=function(N){var Q=this.getContainer(),ct=N?"auto":"none";Q.style.pointerEvents=ct,this.set("capture",N)},gt.prototype.getBBox=function(){var N=this.getContainer(),Q=parseFloat(N.style.left)||0,ct=parseFloat(N.style.top)||0;return q(Q,ct,N.clientWidth,N.clientHeight)},gt.prototype.clear=function(){var N=this.get("container");F(N)},gt.prototype.destroy=function(){this.removeEvent(),this.removeDom(),Ht.prototype.destroy.call(this)},gt.prototype.init=function(){Ht.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},gt.prototype.initCapture=function(){this.setCapture(this.get("capture"))},gt.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},gt.prototype.initDom=function(){},gt.prototype.initContainer=function(){var N=this.get("container");if((0,g.isNil)(N)){N=this.createDom();var Q=this.get("parent");(0,g.isString)(Q)&&(Q=document.getElementById(Q),this.set("parent",Q)),Q.appendChild(N),this.set("container",N)}else(0,g.isString)(N)&&(N=document.getElementById(N),this.set("container",N));this.get("parent")||this.set("parent",N.parentNode)},gt.prototype.resetStyles=function(){var N=this.get("domStyles"),Q=this.get("defaultStyles");N?N=(0,g.deepMix)({},Q,N):N=Q,this.set("domStyles",N)},gt.prototype.applyStyles=function(){var N=this.get("domStyles");if(!!N){var Q=this.getContainer();this.applyChildrenStyles(Q,N);var ct=this.get("containerClassName");if(ct&&z(Q,ct)){var St=N[ct];(0,Zn.Z)(Q,St)}}},gt.prototype.applyChildrenStyles=function(N,Q){(0,g.each)(Q,function(ct,St){var Dt=N.getElementsByClassName(St);(0,g.each)(Dt,function(Vt){(0,Zn.Z)(Vt,ct)})})},gt.prototype.applyStyle=function(N,Q){var ct=this.get("domStyles");(0,Zn.Z)(Q,ct[N])},gt.prototype.createDom=function(){var N=this.get("containerTpl");return(0,Ni.Z)(N)},gt.prototype.initEvent=function(){},gt.prototype.removeDom=function(){var N=this.get("container");N&&N.parentNode.removeChild(N)},gt.prototype.removeEvent=function(){},gt.prototype.updateInner=function(N){(0,g.hasKey)(N,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},gt.prototype.resetPosition=function(){},gt}(_t),pa=ea,Xn="g2-crosshair",ci=Xn+"-line",Li=Xn+"-text",ia,Oi=(ia={},ia[""+Xn]={position:"relative"},ia[""+ci]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},ia[""+Li]={position:"absolute",color:Je.textColor,fontFamily:Je.fontFamily},ia),ga=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+Xn+'"></div>',crosshairTpl:'<div class="'+ci+'"></div>',textTpl:'<span class="'+Li+'">{content}</span>',domStyles:null,containerClassName:Xn,defaultStyles:Oi,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},gt.prototype.render=function(){this.resetText(),this.resetPosition()},gt.prototype.initCrossHair=function(){var N=this.getContainer(),Q=this.get("crosshairTpl"),ct=(0,Ni.Z)(Q);N.appendChild(ct),this.applyStyle(ci,ct),this.set("crosshairEl",ct)},gt.prototype.getTextPoint=function(){var N=this.getLocation(),Q=N.start,ct=N.end,St=this.get("text"),Dt=St.position,Vt=St.offset;return Et(Q,ct,Dt,Vt)},gt.prototype.resetText=function(){var N=this.get("text"),Q=this.get("textEl");if(N){var ct=N.content;if(!Q){var St=this.getContainer(),Dt=(0,g.substitute)(this.get("textTpl"),N);Q=(0,Ni.Z)(Dt),St.appendChild(Q),this.applyStyle(Li,Q),this.set("textEl",Q)}Q.innerHTML=ct}else Q&&Q.remove()},gt.prototype.isVertical=function(N,Q){return N.x===Q.x},gt.prototype.resetPosition=function(){var N=this.get("crosshairEl");N||(this.initCrossHair(),N=this.get("crosshairEl"));var Q=this.get("start"),ct=this.get("end"),St=Math.min(Q.x,ct.x),Dt=Math.min(Q.y,ct.y);this.isVertical(Q,ct)?(0,Zn.Z)(N,{width:"1px",height:wt(Math.abs(ct.y-Q.y))}):(0,Zn.Z)(N,{height:"1px",width:wt(Math.abs(ct.x-Q.x))}),(0,Zn.Z)(N,{top:wt(Dt),left:wt(St)}),this.alignText()},gt.prototype.alignText=function(){var N=this.get("textEl");if(N){var Q=this.get("text").align,ct=N.clientWidth,St=this.getTextPoint();switch(Q){case"center":St.x=St.x-ct/2;break;case"right":St.x=St.x-ct;case"left":break}(0,Zn.Z)(N,{top:wt(St.y),left:wt(St.x)})}},gt.prototype.updateInner=function(N){(0,g.hasKey)(N,"text")&&this.resetText(),Ht.prototype.updateInner.call(this,N)},gt}(pa),vi=ga,La=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:Je.lineColor}}}})},gt.prototype.getLineType=function(){var N=this.get("line")||this.get("defaultCfg").line;return N.type},gt.prototype.renderInner=function(N){this.drawGrid(N)},gt.prototype.getAlternatePath=function(N,Q){var ct=this.getGridPath(N),St=Q.slice(0).reverse(),Dt=this.getGridPath(St,!0),Vt=this.get("closed");return Vt?ct=ct.concat(Dt):(Dt[0][0]="L",ct=ct.concat(Dt),ct.push(["Z"])),ct},gt.prototype.getPathStyle=function(){return this.get("line").style},gt.prototype.drawGrid=function(N){var Q=this,ct=this.get("line"),St=this.get("items"),Dt=this.get("alternateColor"),Vt=null;(0,g.each)(St,function(ee,ne){var pe=ee.id||ne;if(ct){var Se=Q.getPathStyle(),Re=Q.getElementId("line-"+pe),He=Q.getGridPath(ee.points);Q.addShape(N,{type:"path",name:"grid-line",id:Re,attrs:(0,g.mix)({path:He},Se)})}if(Dt&&ne>0){var hr=Q.getElementId("region-"+pe),Br=ne%2==0;if((0,g.isString)(Dt))Br&&Q.drawAlternateRegion(hr,N,Vt.points,ee.points,Dt);else{var Cr=Br?Dt[1]:Dt[0];Q.drawAlternateRegion(hr,N,Vt.points,ee.points,Cr)}}Vt=ee})},gt.prototype.drawAlternateRegion=function(N,Q,ct,St,Dt){var Vt=this.getAlternatePath(ct,St);this.addShape(Q,{type:"path",id:N,name:"grid-region",attrs:{path:Vt,fill:Dt}})},gt}(et),aa=La;function oa(Ht,gt,N,Q){var ct=N-Ht,St=Q-gt;return Math.sqrt(ct*ct+St*St)}var Wa=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{type:"circle",center:null,closed:!0})},gt.prototype.getGridPath=function(N,Q){var ct=this.getLineType(),St=this.get("closed"),Dt=[];if(N.length)if(ct==="circle"){var Vt=this.get("center"),ee=N[0],ne=oa(Vt.x,Vt.y,ee.x,ee.y),pe=Q?0:1;St?(Dt.push(["M",Vt.x,Vt.y-ne]),Dt.push(["A",ne,ne,0,0,pe,Vt.x,Vt.y+ne]),Dt.push(["A",ne,ne,0,0,pe,Vt.x,Vt.y-ne]),Dt.push(["Z"])):(0,g.each)(N,function(Se,Re){Re===0?Dt.push(["M",Se.x,Se.y]):Dt.push(["A",ne,ne,0,0,pe,Se.x,Se.y])})}else(0,g.each)(N,function(Se,Re){Re===0?Dt.push(["M",Se.x,Se.y]):Dt.push(["L",Se.x,Se.y])}),St&&Dt.push(["Z"]);return Dt},gt}(aa),Yt=Wa,Zt=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{type:"line"})},gt.prototype.getGridPath=function(N){var Q=[];return(0,g.each)(N,function(ct,St){St===0?Q.push(["M",ct.x,ct.y]):Q.push(["L",ct.x,ct.y])}),Q},gt}(aa),Jt=Zt,ge=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},gt.prototype.getLayoutBBox=function(){var N=Ht.prototype.getLayoutBBox.call(this),Q=this.get("x"),ct=this.get("y"),St=this.get("offsetX"),Dt=this.get("offsetY"),Vt=this.get("maxWidth"),ee=this.get("maxHeight"),ne=Q+St,pe=ct+Dt,Se=N.maxX-ne,Re=N.maxY-pe;return Vt&&(Se=Math.min(Se,Vt)),ee&&(Re=Math.min(Re,ee)),q(ne,pe,Se,Re)},gt.prototype.setLocation=function(N){this.set("x",N.x),this.set("y",N.y),this.resetLocation()},gt.prototype.resetLocation=function(){var N=this.get("x"),Q=this.get("y"),ct=this.get("offsetX"),St=this.get("offsetY");this.moveElementTo(this.get("group"),{x:N+ct,y:Q+St})},gt.prototype.applyOffset=function(){this.resetLocation()},gt.prototype.getDrawPoint=function(){return this.get("currentPoint")},gt.prototype.setDrawPoint=function(N){return this.set("currentPoint",N)},gt.prototype.renderInner=function(N){this.resetDraw(),this.get("title")&&this.drawTitle(N),this.drawLegendContent(N),this.get("background")&&this.drawBackground(N)},gt.prototype.drawBackground=function(N){var Q=this.get("background"),ct=N.getBBox(),St=Ct(Q.padding),Dt=(0,x.__assign)({x:0,y:0,width:ct.width+St[1]+St[3],height:ct.height+St[0]+St[2]},Q.style),Vt=this.addShape(N,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:Dt});Vt.toBack()},gt.prototype.drawTitle=function(N){var Q=this.get("currentPoint"),ct=this.get("title"),St=ct.spacing,Dt=ct.style,Vt=ct.text,ee=this.addShape(N,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,x.__assign)({text:Vt,x:Q.x,y:Q.y},Dt)}),ne=ee.getBBox();this.set("currentPoint",{x:Q.x,y:ne.maxY+St})},gt.prototype.resetDraw=function(){var N=this.get("background"),Q={x:0,y:0};if(N){var ct=Ct(N.padding);Q.x=ct[3],Q.y=ct[0]}this.set("currentPoint",Q)},gt}(et),ye=ge,Ce=function(Ht){(0,x.__extends)(gt,Ht);function gt(){var N=Ht!==null&&Ht.apply(this,arguments)||this;return N.currentPageIndex=1,N.totalPagesCnt=1,N.pageWidth=0,N.pageHeight=0,N.startX=0,N.startY=0,N.onNavigationBack=function(){var Q=N.getElementByLocalId("item-group");if(N.currentPageIndex>1){N.currentPageIndex-=1,N.updateNavigation();var ct=N.getCurrentNavigationMatrix();N.get("animate")?Q.animate({matrix:ct},100):Q.attr({matrix:ct})}},N.onNavigationAfter=function(){var Q=N.getElementByLocalId("item-group");if(N.currentPageIndex<N.totalPagesCnt){N.currentPageIndex+=1,N.updateNavigation();var ct=N.getCurrentNavigationMatrix();N.get("animate")?Q.animate({matrix:ct},100):Q.attr({matrix:ct})}},N}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{name:"legend",type:"category",itemSpacing:24,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:Je.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:Je.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:Je.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:Je.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:Je.uncheckedColor},markerStyle:{fill:Je.uncheckedColor,stroke:Je.uncheckedColor}},inactive:{nameStyle:{fill:Je.uncheckedColor},markerStyle:{opacity:.2}}}}})},gt.prototype.isList=function(){return!0},gt.prototype.getItems=function(){return this.get("items")},gt.prototype.setItems=function(N){this.update({items:N})},gt.prototype.updateItem=function(N,Q){(0,g.mix)(N,Q),this.clear(),this.render()},gt.prototype.clearItems=function(){var N=this.getElementByLocalId("item-group");N&&N.clear()},gt.prototype.setItemState=function(N,Q,ct){N[Q]=ct;var St=this.getElementByLocalId("item-"+N.id);if(St){var Dt=this.getItems(),Vt=Dt.indexOf(N),ee=this.createOffScreenGroup(),ne=this.drawItem(N,Vt,this.getItemHeight(),ee);this.updateElements(ne,St),this.clearUpdateStatus(St)}},gt.prototype.hasState=function(N,Q){return!!N[Q]},gt.prototype.getItemStates=function(N){var Q=this.get("itemStates"),ct=[];return(0,g.each)(Q,function(St,Dt){N[Dt]&&ct.push(Dt)}),ct},gt.prototype.clearItemsState=function(N){var Q=this,ct=this.getItemsByState(N);(0,g.each)(ct,function(St){Q.setItemState(St,N,!1)})},gt.prototype.getItemsByState=function(N){var Q=this,ct=this.getItems();return(0,g.filter)(ct,function(St){return Q.hasState(St,N)})},gt.prototype.drawLegendContent=function(N){this.processItems(),this.drawItems(N)},gt.prototype.processItems=function(){var N=this.get("items");(0,g.each)(N,function(Q){Q.id||(Q.id=Q.name)})},gt.prototype.drawItems=function(N){var Q=this,ct=this.addGroup(N,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),St=this.addGroup(ct,{id:this.getElementId("item-group"),name:"legend-item-group"}),Dt=this.getItemHeight(),Vt=this.get("itemWidth"),ee=this.get("itemSpacing"),ne=this.get("currentPoint"),pe=ne.x,Se=ne.y,Re=this.get("layout"),He=this.get("items"),hr=!1,Br=0,Cr=this.get("maxWidth"),rn=this.get("maxHeight");(0,g.each)(He,function(an,nn){var It=Q.drawItem(an,nn,Dt,St),qt=It.getBBox(),he=Vt||qt.width;he>Br&&(Br=he),Re==="horizontal"?(Cr&&Cr<ne.x+he-pe&&(hr=!0,ne.x=pe,ne.y+=Dt),Q.moveElementTo(It,ne),ne.x+=he+ee):(rn&&rn<ne.y+Dt-Se&&(hr=!0,ne.x+=Br+ee,ne.y=Se,Br=0),Q.moveElementTo(It,ne),ne.y+=Dt)}),hr&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=pe,this.startY=Se,this.adjustNavigation(N,St))},gt.prototype.getItemHeight=function(){var N=this.get("itemHeight");if(!N){var Q=this.get("itemName");Q&&(N=Q.style.fontSize+8)}return N},gt.prototype.drawMarker=function(N,Q,ct,St){var Dt=(0,x.__assign)((0,x.__assign)((0,x.__assign)({x:0,y:St/2},Q.style),{symbol:(0,g.get)(ct.marker,"symbol","circle")}),(0,g.get)(ct.marker,"style",{})),Vt=this.addShape(N,{type:"marker",id:this.getElementId("item-"+ct.id+"-marker"),name:"legend-item-marker",attrs:Dt}),ee=Vt.getBBox();Vt.attr("x",ee.width/2);var ne=Vt.attr(),pe=ne.stroke,Se=ne.fill;return pe&&Vt.set("isStroke",!0),Se&&Vt.set("isFill",!0),Vt},gt.prototype.drawItemText=function(N,Q,ct,St,Dt,Vt,ee){var ne=ct.formatter,pe=(0,x.__assign)({x:Vt,y:Dt/2,text:ne?ne(St[Q],St,ee):St[Q]},ct.style);return this.addShape(N,{type:"text",id:this.getElementId("item-"+St.id+"-"+Q),name:"legend-item-"+Q,attrs:pe})},gt.prototype.drawItem=function(N,Q,ct,St){var Dt="item-"+N.id,Vt=this.addGroup(St,{name:"legend-item-container",id:this.getElementId("item-container-"+Dt),delegateObject:{item:N,index:Q}}),ee=this.addGroup(Vt,{name:"legend-item",id:this.getElementId(Dt),delegateObject:{item:N,index:Q}}),ne=this.get("marker"),pe=this.get("itemName"),Se=this.get("itemValue"),Re=this.get("itemBackground"),He=this.getLimitItemWidth(),hr=0;if(ne){var Br=this.drawMarker(ee,ne,N,ct);hr=Br.getBBox().maxX+ne.spacing}if(pe){var Cr=this.drawItemText(ee,"name",pe,N,ct,hr,Q);He&&De(!0,Cr,(0,g.clamp)(He-hr,0,He)),hr=Cr.getBBox().maxX+pe.spacing}if(Se){var rn=this.drawItemText(ee,"value",Se,N,ct,hr,Q);He&&(Se.alignRight?(rn.attr({textAlign:"right",x:He}),De(!0,rn,(0,g.clamp)(He-hr,0,He),"head")):De(!0,rn,(0,g.clamp)(He-hr,0,He)))}if(Re){var an=ee.getBBox(),nn=this.addShape(ee,{type:"rect",name:"legend-item-background",id:this.getElementId(Dt+"-background"),attrs:(0,x.__assign)({x:0,y:0,width:an.width,height:ct},Re.style)});nn.toBack()}return this.applyItemStates(N,ee),ee},gt.prototype.adjustNavigation=function(N,Q){var ct=this,St=this.startX,Dt=this.startY,Vt=this.get("layout"),ee=Q.findAll(function(he){return he.get("name")==="legend-item"}),ne=this.get("maxWidth"),pe=this.get("maxHeight"),Se=this.get("itemWidth"),Re=this.get("itemSpacing"),He=this.getItemHeight(),hr=this.drawNavigation(N,Vt,"00/00",12),Br=hr.getBBox(),Cr={x:St,y:Dt},rn=1,an=0,nn=0,It=0;if(Vt==="horizontal")this.pageHeight=He,(0,g.each)(ee,function(he){var xe=he.getBBox(),Oe=Se||xe.width;(an&&an<Cr.x+Oe+Re||ne<Cr.x+Oe+Re+Br.width)&&(rn===1&&(an=Cr.x+Re,ct.pageWidth=an,ct.moveElementTo(hr,{x:ne-Re-Br.width-Br.minX,y:Cr.y+He/2-Br.height/2-Br.minY})),rn+=1,Cr.x=St,Cr.y+=He),ct.moveElementTo(he,Cr),he.getParent().setClip({type:"rect",attrs:{x:Cr.x,y:Cr.y,width:Oe+Re,height:He}}),Cr.x+=Oe+Re});else{(0,g.each)(ee,function(he){var xe=he.getBBox();xe.width>nn&&(nn=xe.width)}),It=nn,nn+=Re,ne&&(nn=Math.min(ne,nn),It=Math.min(ne,It)),this.pageWidth=nn,this.pageHeight=pe-Math.max(Br.height,He);var qt=Math.floor(this.pageHeight/He);(0,g.each)(ee,function(he,xe){xe!==0&&xe%qt==0&&(rn+=1,Cr.x+=nn,Cr.y=Dt),ct.moveElementTo(he,Cr),he.getParent().setClip({type:"rect",attrs:{x:Cr.x,y:Cr.y,width:nn,height:He}}),Cr.y+=He}),this.totalPagesCnt=rn,this.moveElementTo(hr,{x:St+It/2-Br.width/2-Br.minX,y:pe-Br.height-Br.minY})}this.pageHeight&&this.pageWidth&&Q.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=rn,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(hr),Q.attr("matrix",this.getCurrentNavigationMatrix())},gt.prototype.drawNavigation=function(N,Q,ct,St){var Dt={x:0,y:0},Vt=this.addGroup(N,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),ee=this.drawArrow(Vt,Dt,"navigation-arrow-left",Q==="horizontal"?"up":"left",St);ee.on("click",this.onNavigationBack);var ne=ee.getBBox();Dt.x+=ne.width+2;var pe=this.addShape(Vt,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:Dt.x,y:Dt.y+St/2,text:ct,fontSize:12,fill:"#ccc",textBaseline:"middle"}}),Se=pe.getBBox();Dt.x+=Se.width+2;var Re=this.drawArrow(Vt,Dt,"navigation-arrow-right",Q==="horizontal"?"down":"right",St);return Re.on("click",this.onNavigationAfter),Vt},gt.prototype.updateNavigation=function(N){var Q=this.currentPageIndex+"/"+this.totalPagesCnt,ct=N?N.getChildren()[1]:this.getElementByLocalId("navigation-text"),St=N?N.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),Dt=N?N.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),Vt=ct.getBBox();ct.attr("text",Q);var ee=ct.getBBox();ct.attr("x",ct.attr("x")-(ee.width-Vt.width)/2),St.attr("opacity",this.currentPageIndex===1?.45:1),St.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),Dt.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),Dt.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},gt.prototype.drawArrow=function(N,Q,ct,St,Dt){var Vt=Q.x,ee=Q.y,ne={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},pe=this.addShape(N,{type:"path",id:this.getElementId(ct),name:ct,attrs:{path:[["M",Vt+Dt/2,ee],["L",Vt,ee+Dt],["L",Vt+Dt,ee+Dt],["Z"]],fill:"#000",cursor:"pointer"}});return pe.attr("matrix",Z({x:Vt+Dt/2,y:ee+Dt/2},ne[St])),pe},gt.prototype.getCurrentNavigationMatrix=function(){var N=this,Q=N.currentPageIndex,ct=N.pageWidth,St=N.pageHeight,Dt=this.get("layout"),Vt=Dt==="horizontal"?{x:0,y:St*(1-Q)}:{x:ct*(1-Q),y:0};return X(Vt)},gt.prototype.applyItemStates=function(N,Q){var ct=this.getItemStates(N),St=ct.length>0;if(St){var Dt=Q.getChildren(),Vt=this.get("itemStates");(0,g.each)(Dt,function(ee){var ne=ee.get("name"),pe=ne.split("-")[2],Se=de(N,pe,Vt);Se&&(ee.attr(Se),pe==="marker"&&!(ee.get("isStroke")&&ee.get("isFill"))&&(ee.get("isStroke")&&ee.attr("fill",null),ee.get("isFill")&&ee.attr("stroke",null)))})}},gt.prototype.getLimitItemWidth=function(){var N=this.get("itemWidth"),Q=this.get("maxItemWidth");return Q?N&&(Q=N<=Q?N:Q):N&&(Q=N),Q},gt}(ye),We=Ce,Ke=1.4,Lt=.4,vt=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:Je.textColor,textBaseline:"middle",fontFamily:Je.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:Je.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},gt.prototype.isSlider=function(){return!0},gt.prototype.getValue=function(){return this.getCurrentValue()},gt.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},gt.prototype.setRange=function(N,Q){this.update({min:N,max:Q})},gt.prototype.setValue=function(N){var Q=this.getValue();this.set("value",N);var ct=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(ct),this.delegateEmit("valuechanged",{originValue:Q,value:N})},gt.prototype.initEvent=function(){var N=this.get("group");this.bindSliderEvent(N),this.bindRailEvent(N),this.bindTrackEvent(N)},gt.prototype.drawLegendContent=function(N){this.drawRail(N),this.drawLabels(N),this.fixedElements(N),this.resetTrack(N),this.resetTrackClip(N),this.get("slidable")&&this.resetHandlers(N)},gt.prototype.bindSliderEvent=function(N){this.bindHandlersEvent(N)},gt.prototype.bindHandlersEvent=function(N){var Q=this;N.on("legend-handler-min:drag",function(ct){var St=Q.getValueByCanvasPoint(ct.x,ct.y),Dt=Q.getCurrentValue(),Vt=Dt[1];Vt<St&&(Vt=St),Q.setValue([St,Vt])}),N.on("legend-handler-max:drag",function(ct){var St=Q.getValueByCanvasPoint(ct.x,ct.y),Dt=Q.getCurrentValue(),Vt=Dt[0];Vt>St&&(Vt=St),Q.setValue([Vt,St])})},gt.prototype.bindRailEvent=function(N){},gt.prototype.bindTrackEvent=function(N){var Q=this,ct=null;N.on("legend-track:dragstart",function(St){ct={x:St.x,y:St.y}}),N.on("legend-track:drag",function(St){if(!!ct){var Dt=Q.getValueByCanvasPoint(ct.x,ct.y),Vt=Q.getValueByCanvasPoint(St.x,St.y),ee=Q.getCurrentValue(),ne=ee[1]-ee[0],pe=Q.getRange(),Se=Vt-Dt;Se<0?ee[0]+Se>pe.min?Q.setValue([ee[0]+Se,ee[1]+Se]):Q.setValue([pe.min,pe.min+ne]):Se>0&&(Se>0&&ee[1]+Se<pe.max?Q.setValue([ee[0]+Se,ee[1]+Se]):Q.setValue([pe.max-ne,pe.max])),ct={x:St.x,y:St.y}}}),N.on("legend-track:dragend",function(St){ct=null})},gt.prototype.drawLabels=function(N){this.drawLabel("min",N),this.drawLabel("max",N)},gt.prototype.drawLabel=function(N,Q){var ct=this.get("label"),St=ct.style,Dt=ct.align,Vt=this.get(N),ee=this.getLabelAlignAttrs(N,Dt),ne="label-"+N;this.addShape(Q,{type:"text",id:this.getElementId(ne),name:"legend-label-"+N,attrs:(0,x.__assign)((0,x.__assign)({x:0,y:0,text:Vt},St),ee)})},gt.prototype.getLabelAlignAttrs=function(N,Q){var ct=this.isVertical(),St="center",Dt="middle";return ct?(St="start",Q!=="rail"?N==="min"?Dt="top":Dt="bottom":Dt="top"):Q!=="rail"?(Dt="top",N==="min"?St="start":St="end"):(St="start",Dt="middle"),{textAlign:St,textBaseline:Dt}},gt.prototype.getRailPath=function(N,Q,ct,St){var Dt=this.get("rail"),Vt=Dt.size,ee=Dt.defaultLength,ne=Dt.type,pe=this.isVertical(),Se=ee,Re=ct,He=St;Re||(Re=pe?Vt:Se),He||(He=pe?Se:Vt);var hr=[];return ne==="color"?(hr.push(["M",N,Q]),hr.push(["L",N+Re,Q]),hr.push(["L",N+Re,Q+He]),hr.push(["L",N,Q+He]),hr.push(["Z"])):(hr.push(["M",N+Re,Q]),hr.push(["L",N+Re,Q+He]),hr.push(["L",N,Q+He]),hr.push(["Z"])),hr},gt.prototype.drawRail=function(N){var Q=this.get("rail"),ct=Q.style;this.addShape(N,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,x.__assign)({path:this.getRailPath(0,0)},ct)})},gt.prototype.getTrackColor=function(N){var Q=N.length;if(!Q)return null;if(Q===1)return N[0];var ct;this.isVertical()?ct="l(90)":ct="l(0)";for(var St=0;St<Q;St++){var Dt=St/(Q-1);ct+=" "+Dt+":"+N[St]}return ct},gt.prototype.getTrackPath=function(N){var Q=this.getRailShape(N),ct=Q.attr("path");return(0,g.clone)(ct)},gt.prototype.getClipTrackAttrs=function(N){var Q=this.getCurrentValue(),ct=Q[0],St=Q[1],Dt=this.getRailBBox(N),Vt=this.getPointByValue(ct,N),ee=this.getPointByValue(St,N),ne=this.isVertical(),pe,Se,Re,He;return ne?(pe=Dt.minX,Se=Vt.y,Re=Dt.width,He=ee.y-Vt.y):(pe=Vt.x,Se=Dt.minY,Re=ee.x-Vt.x,He=Dt.height),{x:pe,y:Se,width:Re,height:He}},gt.prototype.getTrackAttrs=function(N){var Q=this.get("track"),ct=this.get("colors"),St=this.getTrackPath(N);return(0,g.mix)({path:St,fill:this.getTrackColor(ct)},Q.style)},gt.prototype.resetTrackClip=function(N){var Q=N||this.get("group"),ct=this.getElementId("track"),St=Q.findById(ct),Dt=St.getClip(),Vt=this.getClipTrackAttrs(N);Dt?Dt.attr(Vt):St.setClip({type:"rect",attrs:Vt})},gt.prototype.resetTrack=function(N){var Q=this.getElementId("track"),ct=N.findById(Q),St=this.getTrackAttrs(N);ct?ct.attr(St):this.addShape(N,{type:"path",id:Q,draggable:this.get("slidable"),name:"legend-track",attrs:St})},gt.prototype.getPointByValue=function(N,Q){var ct=this.getRange(),St=ct.min,Dt=ct.max,Vt=(N-St)/(Dt-St),ee=this.getRailBBox(Q),ne=this.isVertical(),pe={x:0,y:0};return ne?(pe.x=ee.minX+ee.width/2,pe.y=$(ee.minY,ee.maxY,Vt)):(pe.x=$(ee.minX,ee.maxX,Vt),pe.y=ee.minY+ee.height/2),pe},gt.prototype.getRailShape=function(N){var Q=N||this.get("group");return Q.findById(this.getElementId("rail"))},gt.prototype.getRailBBox=function(N){var Q=this.getRailShape(N),ct=Q.getBBox();return ct},gt.prototype.getRailCanvasBBox=function(){var N=this.get("group"),Q=N.findById(this.getElementId("rail")),ct=Q.getCanvasBBox();return ct},gt.prototype.isVertical=function(){return this.get("layout")==="vertical"},gt.prototype.getValueByCanvasPoint=function(N,Q){var ct=this.getRange(),St=ct.min,Dt=ct.max,Vt=this.getRailCanvasBBox(),ee=this.isVertical(),ne=this.get("step"),pe;ee?pe=(Q-Vt.minY)/Vt.height:pe=(N-Vt.minX)/Vt.width;var Se=$(St,Dt,pe);if(ne){var Re=Math.round((Se-St)/ne);Se=St+Re*ne}return Se>Dt&&(Se=Dt),Se<St&&(Se=St),Se},gt.prototype.getCurrentValue=function(){var N=this.get("value");return N||(N=[this.get("min"),this.get("max")]),N},gt.prototype.resetHandlers=function(N){var Q=this.getCurrentValue(),ct=Q[0],St=Q[1];this.resetHandler(N,"min",ct),this.resetHandler(N,"max",St)},gt.prototype.getHandlerPath=function(N,Q){var ct=this.isVertical(),St=[],Dt=N.size,Vt=Q.x,ee=Q.y,ne=Dt*Ke,pe=Dt/2,Se=Dt/6;if(ct){var Re=Vt+ne*Lt;St.push(["M",Vt,ee]),St.push(["L",Re,ee+pe]),St.push(["L",Vt+ne,ee+pe]),St.push(["L",Vt+ne,ee-pe]),St.push(["L",Re,ee-pe]),St.push(["Z"]),St.push(["M",Re,ee+Se]),St.push(["L",Vt+ne-2,ee+Se]),St.push(["M",Re,ee-Se]),St.push(["L",Vt+ne-2,ee-Se])}else{var He=ee+ne*Lt;St.push(["M",Vt,ee]),St.push(["L",Vt-pe,He]),St.push(["L",Vt-pe,ee+ne]),St.push(["L",Vt+pe,ee+ne]),St.push(["L",Vt+pe,He]),St.push(["Z"]),St.push(["M",Vt-Se,He]),St.push(["L",Vt-Se,ee+ne-2]),St.push(["M",Vt+Se,He]),St.push(["L",Vt+Se,ee+ne-2])}return St},gt.prototype.resetHandler=function(N,Q,ct){var St=this.getPointByValue(ct,N),Dt=this.get("handler"),Vt=this.getHandlerPath(Dt,St),ee=this.getElementId("handler-"+Q),ne=N.findById(ee),pe=this.isVertical();ne?ne.attr("path",Vt):this.addShape(N,{type:"path",name:"legend-handler-"+Q,draggable:!0,id:ee,attrs:(0,x.__assign)((0,x.__assign)({path:Vt},Dt.style),{cursor:pe?"ns-resize":"ew-resize"})})},gt.prototype.fixedElements=function(N){var Q=N.findById(this.getElementId("rail")),ct=N.findById(this.getElementId("label-min")),St=N.findById(this.getElementId("label-max")),Dt=this.getDrawPoint();this.isVertical()?this.fixedVertail(ct,St,Q,Dt):this.fixedHorizontal(ct,St,Q,Dt)},gt.prototype.fitRailLength=function(N,Q,ct,St){var Dt=this.isVertical(),Vt=Dt?"height":"width",ee=this.get("label"),ne=ee.align,pe=ee.spacing,Se=this.get("max"+(0,g.upperFirst)(Vt));if(Se){var Re=ne==="rail"?ct[Vt]+N[Vt]+Q[Vt]+pe*2:ct[Vt],He=Re-Se;He>0&&this.changeRailLength(St,Vt,ct[Vt]-He)}},gt.prototype.changeRailLength=function(N,Q,ct){var St=N.getBBox(),Dt;Q==="height"?Dt=this.getRailPath(St.x,St.y,St.width,ct):Dt=this.getRailPath(St.x,St.y,ct,St.height),N.attr("path",Dt)},gt.prototype.changeRailPosition=function(N,Q,ct){var St=N.getBBox(),Dt=this.getRailPath(Q,ct,St.width,St.height);N.attr("path",Dt)},gt.prototype.fixedHorizontal=function(N,Q,ct,St){var Dt=this.get("label"),Vt=Dt.align,ee=Dt.spacing,ne=ct.getBBox(),pe=N.getBBox(),Se=Q.getBBox(),Re=ne.height;this.fitRailLength(pe,Se,ne,ct),ne=ct.getBBox(),Vt==="rail"?(N.attr({x:St.x,y:St.y+Re/2}),this.changeRailPosition(ct,St.x+pe.width+ee,St.y),Q.attr({x:St.x+pe.width+ne.width+ee*2,y:St.y+Re/2})):Vt==="top"?(N.attr({x:St.x,y:St.y}),Q.attr({x:St.x+ne.width,y:St.y}),this.changeRailPosition(ct,St.x,St.y+pe.height+ee)):(this.changeRailPosition(ct,St.x,St.y),N.attr({x:St.x,y:St.y+ne.height+ee}),Q.attr({x:St.x+ne.width,y:St.y+ne.height+ee}))},gt.prototype.fixedVertail=function(N,Q,ct,St){var Dt=this.get("label"),Vt=Dt.align,ee=Dt.spacing,ne=ct.getBBox(),pe=N.getBBox(),Se=Q.getBBox();if(this.fitRailLength(pe,Se,ne,ct),ne=ct.getBBox(),Vt==="rail")N.attr({x:St.x,y:St.y}),this.changeRailPosition(ct,St.x,St.y+pe.height+ee),Q.attr({x:St.x,y:St.y+pe.height+ne.height+ee*2});else if(Vt==="right")N.attr({x:St.x+ne.width+ee,y:St.y}),this.changeRailPosition(ct,St.x,St.y),Q.attr({x:St.x+ne.width+ee,y:St.y+ne.height});else{var Re=Math.max(pe.width,Se.width);N.attr({x:St.x,y:St.y}),this.changeRailPosition(ct,St.x+Re+ee,St.y),Q.attr({x:St.x,y:St.y+ne.height})}},gt}(ye),nt=vt,pt=d(55223),Bt="g2-tooltip",jt="g2-tooltip-title",ie="g2-tooltip-list",le="g2-tooltip-list-item",ae="g2-tooltip-marker",_e="g2-tooltip-value",Ie="g2-tooltip-name",Fe="g2-tooltip-crosshair-x",nr="g2-tooltip-crosshair-y",Ne,Be=(Ne={},Ne[""+Bt]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:Je.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Ne[""+jt]={marginBottom:"4px"},Ne[""+ie]={margin:"0px",listStyleType:"none",padding:"0px"},Ne[""+le]={listStyleType:"none",marginBottom:"4px"},Ne[""+ae]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Ne[""+_e]={display:"inline-block",float:"right",marginLeft:"30px"},Ne[""+Fe]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Ne[""+nr]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Ne);function yr(Ht,gt,N,Q,ct){var St={left:Ht<ct.x,right:Ht+N>ct.x+ct.width,top:gt<ct.y,bottom:gt+Q>ct.y+ct.height};return St}function mr(Ht,gt,N,Q,ct,St){var Dt=Ht,Vt=gt;switch(St){case"left":Dt=Ht-Q-N,Vt=gt-ct/2;break;case"right":Dt=Ht+N,Vt=gt-ct/2;break;case"top":Dt=Ht-Q/2,Vt=gt-ct-N;break;case"bottom":Dt=Ht-Q/2,Vt=gt+N;break;default:Dt=Ht+N,Vt=gt-ct-N;break}return{x:Dt,y:Vt}}function Nr(Ht,gt,N,Q,ct,St,Dt){var Vt=mr(Ht,gt,N,Q,ct,St);if(Dt){var ee=yr(Vt.x,Vt.y,Q,ct,Dt);St==="auto"?(ee.right&&(Vt.x=Math.max(0,Ht-Q-N)),ee.top&&(Vt.y=Math.max(0,gt-ct-N))):St==="top"||St==="bottom"?(ee.left&&(Vt.x=Dt.x),ee.right&&(Vt.x=Dt.x+Dt.width-Q),St==="top"&&ee.top&&(Vt.y=gt+N),St==="bottom"&&ee.bottom&&(Vt.y=gt-ct-N)):(ee.top&&(Vt.y=Dt.y),ee.bottom&&(Vt.y=Dt.y+Dt.height-ct),St==="left"&&ee.left&&(Vt.x=Ht+N),St==="right"&&ee.right&&(Vt.x=Ht-Q-N))}return Vt}function Gr(Ht,gt){var N=!1;return(0,g.each)(gt,function(Q){if((0,g.hasKey)(Ht,Q))return N=!0,!1}),N}var fr=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+Bt+'"><div class="'+jt+'"></div><ul class="'+ie+'"></ul></div>',itemTpl:'<li class="'+le+`" data-index={index}>
          <span class="`+ae+`" style="background:{color}"></span>
          <span class="`+Ie+`">{name}</span>:
          <span class="`+_e+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+Fe+'"></div>',yCrosshairTpl:'<div class="'+nr+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:Bt,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:Be})},gt.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},gt.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},gt.prototype.show=function(){var N=this.getContainer();!N||this.destroyed||(this.set("visible",!0),(0,Zn.Z)(N,{visibility:"visible"}),this.setCrossHairsVisible(!0))},gt.prototype.hide=function(){var N=this.getContainer();!N||this.destroyed||(this.set("visible",!1),(0,Zn.Z)(N,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},gt.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},gt.prototype.setLocation=function(N){this.set("x",N.x),this.set("y",N.y),this.resetPosition()},gt.prototype.setCrossHairsVisible=function(N){var Q=N?"":"none",ct=this.get("xCrosshairDom"),St=this.get("yCrosshairDom");ct&&(0,Zn.Z)(ct,{display:Q}),St&&(0,Zn.Z)(St,{display:Q})},gt.prototype.initContainer=function(){if(Ht.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var N=this.getHtmlContentNode();this.get("parent").appendChild(N),this.set("container",N),this.resetStyles(),this.applyStyles()}},gt.prototype.updateInner=function(N){this.get("customContent")?this.renderCustomContent():(Gr(N,["title","showTitle"])&&this.resetTitle(),(0,g.hasKey)(N,"items")&&this.renderItems()),Ht.prototype.updateInner.call(this,N)},gt.prototype.initDom=function(){this.cacheDoms()},gt.prototype.removeDom=function(){Ht.prototype.removeDom.call(this),this.clearCrosshairs()},gt.prototype.resetPosition=function(){var N=this.get("x"),Q=this.get("y"),ct=this.get("offset"),St=this.getOffset(),Dt=St.offsetX,Vt=St.offsetY,ee=this.get("position"),ne=this.get("region"),pe=this.getContainer(),Se=this.getBBox(),Re=Se.width,He=Se.height,hr;ne&&(hr=G(ne));var Br=Nr(N,Q,ct,Re,He,ee,hr);(0,Zn.Z)(pe,{left:wt(Br.x+Dt),top:wt(Br.y+Vt)}),this.resetCrosshairs()},gt.prototype.renderCustomContent=function(){var N=this.getHtmlContentNode(),Q=this.get("parent"),ct=this.get("container");ct&&ct.parentNode===Q?Q.replaceChild(N,ct):Q.appendChild(N),this.set("container",N),this.resetStyles(),this.applyStyles()},gt.prototype.getHtmlContentNode=function(){var N,Q=this.get("customContent");if(Q){var ct=Q(this.get("title"),this.get("items"));(0,g.isElement)(ct)?N=ct:N=(0,Ni.Z)(ct)}return N},gt.prototype.cacheDoms=function(){var N=this.getContainer(),Q=N.getElementsByClassName(jt)[0],ct=N.getElementsByClassName(ie)[0];this.set("titleDom",Q),this.set("listDom",ct)},gt.prototype.resetTitle=function(){var N=this.get("title"),Q=this.get("showTitle");Q&&N?this.setTitle(N):this.setTitle("")},gt.prototype.setTitle=function(N){var Q=this.get("titleDom");Q&&(Q.innerText=N)},gt.prototype.resetCrosshairs=function(){var N=this.get("crosshairsRegion"),Q=this.get("crosshairs");if(!N||!Q)this.clearCrosshairs();else{var ct=G(N),St=this.get("xCrosshairDom"),Dt=this.get("yCrosshairDom");Q==="x"?(this.resetCrosshair("x",ct),Dt&&(Dt.remove(),this.set("yCrosshairDom",null))):Q==="y"?(this.resetCrosshair("y",ct),St&&(St.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",ct),this.resetCrosshair("y",ct)),this.setCrossHairsVisible(this.get("visible"))}},gt.prototype.resetCrosshair=function(N,Q){var ct=this.checkCrosshair(N),St=this.get(N);N==="x"?(0,Zn.Z)(ct,{left:wt(St),top:wt(Q.y),height:wt(Q.height)}):(0,Zn.Z)(ct,{top:wt(St),left:wt(Q.x),width:wt(Q.width)})},gt.prototype.checkCrosshair=function(N){var Q=N+"CrosshairDom",ct=N+"CrosshairTpl",St="CROSSHAIR_"+N.toUpperCase(),Dt=b[St],Vt=this.get(Q),ee=this.get("parent");return Vt||(Vt=(0,Ni.Z)(this.get(ct)),this.applyStyle(Dt,Vt),ee.appendChild(Vt),this.set(Q,Vt)),Vt},gt.prototype.renderItems=function(){this.clearItemDoms();var N=this.get("items"),Q=this.get("itemTpl"),ct=this.get("listDom");ct&&((0,g.each)(N,function(St){var Dt=pt.default.toCSSGradient(St.color),Vt=(0,x.__assign)((0,x.__assign)({},St),{color:Dt}),ee=(0,g.substitute)(Q,Vt),ne=(0,Ni.Z)(ee);ct.appendChild(ne)}),this.applyChildrenStyles(ct,this.get("domStyles")))},gt.prototype.clearItemDoms=function(){this.get("listDom")&&F(this.get("listDom"))},gt.prototype.clearCrosshairs=function(){var N=this.get("xCrosshairDom"),Q=this.get("yCrosshairDom");N&&N.remove(),Q&&Q.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},gt}(pa),tr=fr,Yr={opacity:0},hn={stroke:"#C5C5C5",strokeOpacity:.85},Tn={fill:"#CACED4",opacity:.85},Kn=d(57350),Jn=d(72469);function Oa(Ht){return(0,g.map)(Ht,function(gt,N){var Q=N===0?"M":"L",ct=gt[0],St=gt[1];return[Q,ct,St]})}function di(Ht){return Oa(Ht)}function ao(Ht){if(Ht.length<=2)return di(Ht);var gt=[];(0,g.each)(Ht,function(Dt){(0,g.isEqual)(Dt,gt.slice(gt.length-2))||gt.push(Dt[0],Dt[1])});var N=(0,Kn.catmullRom2Bezier)(gt,!1),Q=(0,g.head)(Ht),ct=Q[0],St=Q[1];return N.unshift(["M",ct,St]),N}function sa(Ht,gt,N,Q){Q===void 0&&(Q=!0);var ct=new Jn.Linear({values:Ht}),St=new Jn.Category({values:(0,g.map)(Ht,function(Vt,ee){return ee})}),Dt=(0,g.map)(Ht,function(Vt,ee){return[St.scale(ee)*gt,N-ct.scale(Vt)*N]});return Q?ao(Dt):di(Dt)}function Mo(Ht,gt,N){var Q=(0,x.__spreadArrays)(Ht);return Q.push(["L",gt,0]),Q.push(["L",0,N]),Q.push(["Z"]),Q}var oo=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:Yr,lineStyle:hn,areaStyle:Tn})},gt.prototype.renderInner=function(N){var Q=this.cfg,ct=Q.width,St=Q.height,Dt=Q.data,Vt=Q.smooth,ee=Q.isArea,ne=Q.backgroundStyle,pe=Q.lineStyle,Se=Q.areaStyle;this.addShape(N,{id:this.getElementId("background"),type:"rect",attrs:(0,x.__assign)({x:0,y:0,width:ct,height:St},ne)});var Re=sa(Dt,ct,St,Vt);if(this.addShape(N,{id:this.getElementId("line"),type:"path",attrs:(0,x.__assign)({path:Re},pe)}),ee){var He=Mo(Re,ct,St);this.addShape(N,{id:this.getElementId("area"),type:"path",attrs:(0,x.__assign)({path:He},Se)})}},gt.prototype.applyOffset=function(){var N=this.cfg,Q=N.x,ct=N.y;this.moveElementTo(this.get("group"),{x:Q,y:ct})},gt}(et),Vo=null,Ia={fill:"#416180",opacity:.05},ja={fill:"#5B8FF9",opacity:.15,cursor:"move"},ya=10,oi={width:ya,height:24},la={textBaseline:"middle",fill:"#000",opacity:.45},so="sliderchange",Ua={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},ka=function(Ht){(0,x.__extends)(gt,Ht);function gt(){return Ht!==null&&Ht.apply(this,arguments)||this}return gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{name:"handler",x:0,y:0,width:10,height:24,style:Ua})},gt.prototype.renderInner=function(N){var Q=this.cfg,ct=Q.width,St=Q.height,Dt=Q.style,Vt=Dt.fill,ee=Dt.stroke,ne=Dt.radius,pe=Dt.opacity,Se=Dt.cursor;this.addShape(N,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:ct,height:St,fill:Vt,stroke:ee,radius:ne,opacity:pe,cursor:Se}});var Re=1/3*ct,He=2/3*ct,hr=1/4*St,Br=3/4*St;this.addShape(N,{id:this.getElementId("line-left"),type:"line",attrs:{x1:Re,y1:hr,x2:Re,y2:Br,stroke:ee,cursor:Se}}),this.addShape(N,{id:this.getElementId("line-right"),type:"line",attrs:{x1:He,y1:hr,x2:He,y2:Br,stroke:ee,cursor:Se}})},gt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},gt.prototype.initEvent=function(){this.bindEvents()},gt.prototype.bindEvents=function(){var N=this;this.get("group").on("mouseenter",function(){var Q=N.get("style").highLightFill;N.getElementByLocalId("background").attr("fill",Q),N.draw()}),this.get("group").on("mouseleave",function(){var Q=N.get("style").fill;N.getElementByLocalId("background").attr("fill",Q),N.draw()})},gt.prototype.draw=function(){var N=this.get("container").get("canvas");N&&N.draw()},gt}(et),ln=null,Co=function(Ht){(0,x.__extends)(gt,Ht);function gt(){var N=Ht!==null&&Ht.apply(this,arguments)||this;return N.onMouseDown=function(Q){return function(ct){N.currentTarget=Q;var St=ct.originalEvent;St.stopPropagation(),St.preventDefault(),N.prevX=(0,g.get)(St,"touches.0.pageX",St.pageX),N.prevY=(0,g.get)(St,"touches.0.pageY",St.pageY);var Dt=N.getContainerDOM();Dt.addEventListener("mousemove",N.onMouseMove),Dt.addEventListener("mouseup",N.onMouseUp),Dt.addEventListener("mouseleave",N.onMouseUp),Dt.addEventListener("touchmove",N.onMouseMove),Dt.addEventListener("touchend",N.onMouseUp),Dt.addEventListener("touchcancel",N.onMouseUp)}},N.onMouseMove=function(Q){var ct=N.cfg.width,St=[N.get("start"),N.get("end")];Q.stopPropagation(),Q.preventDefault();var Dt=(0,g.get)(Q,"touches.0.pageX",Q.pageX),Vt=(0,g.get)(Q,"touches.0.pageY",Q.pageY),ee=Dt-N.prevX,ne=N.adjustOffsetRange(ee/ct);N.updateStartEnd(ne),N.updateUI(N.getElementByLocalId("foreground"),N.getElementByLocalId("minText"),N.getElementByLocalId("maxText")),N.prevX=Dt,N.prevY=Vt,N.draw(),N.emit(so,[N.get("start"),N.get("end")].sort()),N.delegateEmit("valuechanged",{originValue:St,value:[N.get("start"),N.get("end")]})},N.onMouseUp=function(){N.currentTarget&&(N.currentTarget=void 0);var Q=N.getContainerDOM();Q&&(Q.removeEventListener("mousemove",N.onMouseMove),Q.removeEventListener("mouseup",N.onMouseUp),Q.removeEventListener("mouseleave",N.onMouseUp),Q.removeEventListener("touchmove",N.onMouseMove),Q.removeEventListener("touchend",N.onMouseUp),Q.removeEventListener("touchcancel",N.onMouseUp))},N}return gt.prototype.setRange=function(N,Q){this.set("minLimit",N),this.set("maxLimit",Q);var ct=this.get("start"),St=this.get("end"),Dt=(0,g.clamp)(ct,N,Q),Vt=(0,g.clamp)(St,N,Q);!this.get("isInit")&&(ct!==Dt||St!==Vt)&&this.setValue([Dt,Vt])},gt.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},gt.prototype.setValue=function(N){var Q=this.getRange();if((0,g.isArray)(N)&&N.length===2){var ct=[this.get("start"),this.get("end")];this.update({start:(0,g.clamp)(N[0],Q.min,Q.max),end:(0,g.clamp)(N[1],Q.min,Q.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:ct,value:N})}},gt.prototype.getValue=function(){return[this.get("start"),this.get("end")]},gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:Ia,foregroundStyle:ja,handlerStyle:oi,textStyle:la}})},gt.prototype.update=function(N){var Q=N.start,ct=N.end,St=(0,x.__assign)({},N);(0,g.isNil)(Q)||(St.start=(0,g.clamp)(Q,0,1)),(0,g.isNil)(ct)||(St.end=(0,g.clamp)(ct,0,1)),Ht.prototype.update.call(this,St),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler"))},gt.prototype.init=function(){this.set("start",(0,g.clamp)(this.get("start"),0,1)),this.set("end",(0,g.clamp)(this.get("end"),0,1)),Ht.prototype.init.call(this)},gt.prototype.renderInner=function(N){var Q=this.cfg,ct=Q.start,St=Q.end,Dt=Q.width,Vt=Q.height,ee=Q.trendCfg,ne=ee===void 0?{}:ee,pe=Q.minText,Se=Q.maxText,Re=Q.backgroundStyle,He=Re===void 0?{}:Re,hr=Q.foregroundStyle,Br=hr===void 0?{}:hr,Cr=Q.textStyle,rn=Cr===void 0?{}:Cr,an=Q.handlerStyle,nn=an===void 0?{}:an,It=ct*Dt,qt=St*Dt;(0,g.size)((0,g.get)(ne,"data"))&&this.addComponent(N,(0,x.__assign)({component:oo,id:this.getElementId("trend"),x:0,y:0,width:Dt,height:Vt},ne)),this.addShape(N,{id:this.getElementId("background"),type:"rect",attrs:(0,x.__assign)({x:0,y:0,width:Dt,height:Vt},He)});var he=this.addShape(N,{id:this.getElementId("minText"),type:"text",attrs:(0,x.__assign)({y:Vt/2,textAlign:"right",text:pe,silent:!1},rn)}),xe=this.addShape(N,{id:this.getElementId("maxText"),type:"text",attrs:(0,x.__assign)({y:Vt/2,textAlign:"left",text:Se,silent:!1},rn)}),Oe=this.addShape(N,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,x.__assign)({y:0,height:Vt},Br)}),ar=(0,g.get)(nn,"height",24);this.minHandler=this.addComponent(N,(0,x.__assign)({component:ka,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(Vt-ar)/2,width:Dt,height:ar,cursor:"ew-resize"},nn)),this.maxHandler=this.addComponent(N,(0,x.__assign)({component:ka,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(Vt-ar)/2,width:Dt,height:ar,cursor:"ew-resize"},nn)),this.updateUI(Oe,he,xe)},gt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},gt.prototype.initEvent=function(){this.bindEvents()},gt.prototype.updateUI=function(N,Q,ct){var St=this.cfg,Dt=St.start,Vt=St.end,ee=St.width,ne=St.minText,pe=St.maxText,Se=St.handlerStyle,Re=Dt*ee,He=Vt*ee;N.attr("x",Re),N.attr("width",He-Re);var hr=(0,g.get)(Se,"width",ya);Q.attr("text",ne),ct.attr("text",pe);var Br=this._dodgeText([Re,He],Q,ct),Cr=Br[0],rn=Br[1];this.minHandler&&(this.minHandler.update({x:Re-hr/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,g.each)(Cr,function(an,nn){return Q.attr(nn,an)}),this.maxHandler&&(this.maxHandler.update({x:He-hr/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,g.each)(rn,function(an,nn){return ct.attr(nn,an)})},gt.prototype.bindEvents=function(){var N=this.get("group");N.on("handler-min:mousedown",this.onMouseDown("minHandler")),N.on("handler-min:touchstart",this.onMouseDown("minHandler")),N.on("handler-max:mousedown",this.onMouseDown("maxHandler")),N.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var Q=N.findById(this.getElementId("foreground"));Q.on("mousedown",this.onMouseDown("foreground")),Q.on("touchstart",this.onMouseDown("foreground"))},gt.prototype.adjustOffsetRange=function(N){var Q=this.cfg,ct=Q.start,St=Q.end;switch(this.currentTarget){case"minHandler":{var Dt=0-ct,Vt=1-ct;return Math.min(Vt,Math.max(Dt,N))}case"maxHandler":{var Dt=0-St,Vt=1-St;return Math.min(Vt,Math.max(Dt,N))}case"foreground":{var Dt=0-ct,Vt=1-St;return Math.min(Vt,Math.max(Dt,N))}}},gt.prototype.updateStartEnd=function(N){var Q=this.cfg,ct=Q.start,St=Q.end;switch(this.currentTarget){case"minHandler":ct+=N;break;case"maxHandler":St+=N;break;case"foreground":ct+=N,St+=N;break}this.set("start",ct),this.set("end",St)},gt.prototype._dodgeText=function(N,Q,ct){var St,Dt,Vt=this.cfg,ee=Vt.handlerStyle,ne=Vt.width,pe=2,Se=(0,g.get)(ee,"width",ya),Re=N[0],He=N[1],hr=!1;Re>He&&(St=[He,Re],Re=St[0],He=St[1],Dt=[ct,Q],Q=Dt[0],ct=Dt[1],hr=!0);var Br=Q.getBBox(),Cr=ct.getBBox(),rn=Br.width>Re-pe?{x:Re+Se/2+pe,textAlign:"left"}:{x:Re-Se/2-pe,textAlign:"right"},an=Cr.width>ne-He-pe?{x:He-Se/2-pe,textAlign:"right"}:{x:He+Se/2+pe,textAlign:"left"};return hr?[an,rn]:[rn,an]},gt.prototype.draw=function(){var N=this.get("container"),Q=N&&N.get("canvas");Q&&Q.draw()},gt.prototype.getContainerDOM=function(){var N=this.get("container"),Q=N&&N.get("canvas");return Q&&Q.get("container")},gt}(et),ei=null,yn=d(57817),ma={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},pn={default:ma,hover:{thumbColor:"rgba(0,0,0,0.2)"}},xa=function(Ht){(0,x.__extends)(gt,Ht);function gt(){var N=Ht!==null&&Ht.apply(this,arguments)||this;return N.clearEvents=g.noop,N.onStartEvent=function(Q){return function(ct){N.isMobile=Q,ct.originalEvent.preventDefault();var St=Q?(0,g.get)(ct.originalEvent,"touches.0.clientX"):ct.clientX,Dt=Q?(0,g.get)(ct.originalEvent,"touches.0.clientY"):ct.clientY;N.startPos=N.cfg.isHorizontal?St:Dt,N.bindLaterEvent()}},N.bindLaterEvent=function(){var Q=N.getContainerDOM(),ct=[];N.isMobile?ct=[(0,yn.Z)(Q,"touchmove",N.onMouseMove),(0,yn.Z)(Q,"touchend",N.onMouseUp),(0,yn.Z)(Q,"touchcancel",N.onMouseUp)]:ct=[(0,yn.Z)(Q,"mousemove",N.onMouseMove),(0,yn.Z)(Q,"mouseup",N.onMouseUp),(0,yn.Z)(Q,"mouseleave",N.onMouseUp)],N.clearEvents=function(){ct.forEach(function(St){St.remove()})}},N.onMouseMove=function(Q){var ct=N.cfg,St=ct.isHorizontal,Dt=ct.thumbOffset;Q.preventDefault();var Vt=N.isMobile?(0,g.get)(Q,"touches.0.clientX"):Q.clientX,ee=N.isMobile?(0,g.get)(Q,"touches.0.clientY"):Q.clientY,ne=St?Vt:ee,pe=ne-N.startPos;N.startPos=ne,N.updateThumbOffset(Dt+pe)},N.onMouseUp=function(Q){Q.preventDefault(),N.clearEvents()},N.onTrackClick=function(Q){var ct=N.cfg,St=ct.isHorizontal,Dt=ct.x,Vt=ct.y,ee=ct.thumbLen,ne=N.getContainerDOM(),pe=ne.getBoundingClientRect(),Se=Q.clientX,Re=Q.clientY,He=St?Se-pe.left-Dt-ee/2:Re-pe.top-Vt-ee/2,hr=N.validateRange(He);N.updateThumbOffset(hr)},N.onThumbMouseOver=function(){var Q=N.cfg.theme.hover.thumbColor;N.getElementByLocalId("thumb").attr("stroke",Q),N.draw()},N.onThumbMouseOut=function(){var Q=N.cfg.theme.default.thumbColor;N.getElementByLocalId("thumb").attr("stroke",Q),N.draw()},N}return gt.prototype.setRange=function(N,Q){this.set("minLimit",N),this.set("maxLimit",Q);var ct=this.getValue(),St=(0,g.clamp)(ct,N,Q);ct!==St&&!this.get("isInit")&&this.setValue(St)},gt.prototype.getRange=function(){var N=this.get("minLimit")||0,Q=this.get("maxLimit")||1;return{min:N,max:Q}},gt.prototype.setValue=function(N){var Q=this.getRange(),ct=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,g.clamp)(N,Q.min,Q.max)}),this.delegateEmit("valuechange",{originalValue:ct,value:this.getValue()})},gt.prototype.getValue=function(){return(0,g.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},gt.prototype.getDefaultCfg=function(){var N=Ht.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},N),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:pn})},gt.prototype.renderInner=function(N){this.renderTrackShape(N),this.renderThumbShape(N)},gt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},gt.prototype.initEvent=function(){this.bindEvents()},gt.prototype.renderTrackShape=function(N){var Q=this.cfg,ct=Q.trackLen,St=Q.theme,Dt=St===void 0?{default:{}}:St,Vt=Dt.default,ee=Vt.lineCap,ne=Vt.trackColor,pe=Vt.size,Se=this.get("isHorizontal")?{x1:0+pe/2,y1:pe/2,x2:ct-pe/2,y2:pe/2,lineWidth:pe,stroke:ne,lineCap:ee}:{x1:pe/2,y1:0+pe/2,x2:pe/2,y2:ct-pe/2,lineWidth:pe,stroke:ne,lineCap:ee};return this.addShape(N,{id:this.getElementId("track"),name:"track",type:"line",attrs:Se})},gt.prototype.renderThumbShape=function(N){var Q=this.cfg,ct=Q.thumbOffset,St=Q.thumbLen,Dt=Q.theme,Vt=Dt===void 0?{default:{}}:Dt,ee=Vt.default,ne=ee.size,pe=ee.lineCap,Se=ee.thumbColor,Re=this.get("isHorizontal")?{x1:ct+ne/2,y1:ne/2,x2:ct+St-ne/2,y2:ne/2,lineWidth:ne,stroke:Se,lineCap:pe,cursor:"default"}:{x1:ne/2,y1:ct+ne/2,x2:ne/2,y2:ct+St-ne/2,lineWidth:ne,stroke:Se,lineCap:pe,cursor:"default"};return this.addShape(N,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:Re})},gt.prototype.bindEvents=function(){var N=this.get("group");N.on("mousedown",this.onStartEvent(!1)),N.on("mouseup",this.onMouseUp),N.on("touchstart",this.onStartEvent(!0)),N.on("touchend",this.onMouseUp);var Q=N.findById(this.getElementId("track"));Q.on("click",this.onTrackClick);var ct=N.findById(this.getElementId("thumb"));ct.on("mouseover",this.onThumbMouseOver),ct.on("mouseout",this.onThumbMouseOut)},gt.prototype.getContainerDOM=function(){var N=this.get("container"),Q=N&&N.get("canvas");return Q&&Q.get("container")},gt.prototype.validateRange=function(N){var Q=this.cfg,ct=Q.thumbLen,St=Q.trackLen,Dt=N;return N+ct>St?Dt=St-ct:N+ct<ct&&(Dt=0),Dt},gt.prototype.draw=function(){var N=this.get("container"),Q=N&&N.get("canvas");Q&&Q.draw()},gt.prototype.updateThumbOffset=function(N){var Q=this.cfg,ct=Q.thumbOffset,St=Q.isHorizontal,Dt=Q.thumbLen,Vt=Q.size,ee=this.validateRange(N);if(ee!==ct){var ne=this.getElementByLocalId("thumb");St?ne.attr({x1:ee+Vt/2,x2:ee+Dt-Vt/2}):ne.attr({y1:ee+Vt/2,y2:ee+Dt-Vt/2}),this.emitOffsetChange(ee)}},gt.prototype.emitOffsetChange=function(N){var Q=this.cfg,ct=Q.thumbOffset,St=Q.trackLen,Dt=Q.thumbLen;this.cfg.thumbOffset=N,this.emit("scrollchange",{thumbOffset:N,ratio:(0,g.clamp)(N/(St-Dt),0,1)}),this.delegateEmit("valuechange",{originalValue:ct,value:N})},gt}(et)},15110:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(62117),O=d(65722),I=d(49242),L={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},P=function(T){w.__extends(M,T);function M(E){var p=T.call(this,E)||this;return p.initCfg(),p}return M.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},M.prototype.clear=function(){},M.prototype.update=function(E){var p=this,b=this.get("defaultCfg");I.each(E,function(m,x){var g=p.get(x),C=m;g!==m&&(I.isObject(m)&&b[x]&&(C=I.deepMix({},b[x],m)),p.set(x,C))}),this.updateInner(E),this.afterUpdate(E)},M.prototype.updateInner=function(E){},M.prototype.afterUpdate=function(E){I.hasKey(E,"visible")&&(E.visible?this.show():this.hide()),I.hasKey(E,"capture")&&this.setCapture(E.capture)},M.prototype.getLayoutBBox=function(){return this.getBBox()},M.prototype.getLocationType=function(){return this.get("locationType")},M.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},M.prototype.setOffset=function(E,p){this.update({offsetX:E,offsetY:p})},M.prototype.setLocation=function(E){var p=w.__assign({},E);this.update(p)},M.prototype.getLocation=function(){var E=this,p={},b=this.get("locationType"),m=L[b];return I.each(m,function(x){p[x]=E.get(x)}),p},M.prototype.isList=function(){return!1},M.prototype.isSlider=function(){return!1},M.prototype.init=function(){},M.prototype.initCfg=function(){var E=this,p=this.get("defaultCfg");I.each(p,function(b,m){var x=E.get(m);if(I.isObject(x)){var g=I.deepMix({},b,x);E.set(m,g)}})},M}(O.Base);S.default=P},51964:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(62117),O=d(80478),I=d(49242),L=d(11594),P=d(15110),T=function(M){w.__extends(E,M);function E(){return M!==null&&M.apply(this,arguments)||this}return E.prototype.getDefaultCfg=function(){var p=M.prototype.getDefaultCfg.call(this);return w.__assign(w.__assign({},p),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},E.prototype.getContainer=function(){return this.get("container")},E.prototype.show=function(){var p=this.get("container");p.style.display="",this.set("visible",!0)},E.prototype.hide=function(){var p=this.get("container");p.style.display="none",this.set("visible",!1)},E.prototype.setCapture=function(p){var b=this.getContainer(),m=p?"auto":"none";b.style.pointerEvents=m,this.set("capture",p)},E.prototype.getBBox=function(){var p=this.getContainer(),b=parseFloat(p.style.left)||0,m=parseFloat(p.style.top)||0;return L.createBBox(b,m,p.clientWidth,p.clientHeight)},E.prototype.clear=function(){var p=this.get("container");L.clearDom(p)},E.prototype.destroy=function(){this.removeEvent(),this.removeDom(),M.prototype.destroy.call(this)},E.prototype.init=function(){M.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},E.prototype.initCapture=function(){this.setCapture(this.get("capture"))},E.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},E.prototype.initDom=function(){},E.prototype.initContainer=function(){var p=this.get("container");if(I.isNil(p)){p=this.createDom();var b=this.get("parent");I.isString(b)&&(b=document.getElementById(b),this.set("parent",b)),b.appendChild(p),this.set("container",p)}else I.isString(p)&&(p=document.getElementById(p),this.set("container",p));this.get("parent")||this.set("parent",p.parentNode)},E.prototype.resetStyles=function(){var p=this.get("domStyles"),b=this.get("defaultStyles");p?p=I.deepMix({},b,p):p=b,this.set("domStyles",p)},E.prototype.applyStyles=function(){var p=this.get("domStyles");if(!!p){var b=this.getContainer();this.applyChildrenStyles(b,p);var m=this.get("containerClassName");if(m&&L.hasClass(b,m)){var x=p[m];O.modifyCSS(b,x)}}},E.prototype.applyChildrenStyles=function(p,b){I.each(b,function(m,x){var g=p.getElementsByClassName(x);I.each(g,function(C){O.modifyCSS(C,m)})})},E.prototype.applyStyle=function(p,b){var m=this.get("domStyles");O.modifyCSS(b,m[p])},E.prototype.createDom=function(){var p=this.get("containerTpl");return O.createDom(p)},E.prototype.initEvent=function(){},E.prototype.removeDom=function(){var p=this.get("container");p&&p.parentNode.removeChild(p)},E.prototype.removeEvent=function(){},E.prototype.updateInner=function(p){I.hasKey(p,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},E.prototype.resetPosition=function(){},E}(P.default);S.default=T},7755:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CROSSHAIR_Y=S.CROSSHAIR_X=S.NAME_CLASS=S.VALUE_CLASS=S.MARKER_CLASS=S.LIST_ITEM_CLASS=S.LIST_CLASS=S.TITLE_CLASS=S.CONTAINER_CLASS=void 0,S.CONTAINER_CLASS="g2-tooltip",S.TITLE_CLASS="g2-tooltip-title",S.LIST_CLASS="g2-tooltip-list",S.LIST_ITEM_CLASS="g2-tooltip-list-item",S.MARKER_CLASS="g2-tooltip-marker",S.VALUE_CLASS="g2-tooltip-value",S.NAME_CLASS="g2-tooltip-name",S.CROSSHAIR_X="g2-tooltip-crosshair-x",S.CROSSHAIR_Y="g2-tooltip-crosshair-y"},55225:function(xt,S,d){"use strict";var w;Object.defineProperty(S,"__esModule",{value:!0});var O=d(52782),I=d(7755);S.default=(w={},w[""+I.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:O.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},w[""+I.TITLE_CLASS]={marginBottom:"4px"},w[""+I.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},w[""+I.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},w[""+I.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},w[""+I.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},w[""+I.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},w[""+I.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},w)},88373:function(xt,S,d){"use strict";var w;w={value:!0};var O=d(62117),I=d(55223),L=d(80478),P=d(49242),T=d(51964),M=d(11594),E=d(7755),p=d(55225),b=d(51227);function m(g,C){var _=!1;return P.each(C,function(B){if(P.hasKey(g,B))return _=!0,!1}),_}var x=function(g){O.__extends(C,g);function C(){return g!==null&&g.apply(this,arguments)||this}return C.prototype.getDefaultCfg=function(){var _=g.prototype.getDefaultCfg.call(this);return O.__assign(O.__assign({},_),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+E.CONTAINER_CLASS+'"><div class="'+E.TITLE_CLASS+'"></div><ul class="'+E.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+E.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+E.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+E.NAME_CLASS+`">{name}</span>:
          <span class="`+E.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+E.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+E.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:E.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:p.default})},C.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},C.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},C.prototype.show=function(){var _=this.getContainer();!_||this.destroyed||(this.set("visible",!0),L.modifyCSS(_,{visibility:"visible"}),this.setCrossHairsVisible(!0))},C.prototype.hide=function(){var _=this.getContainer();!_||this.destroyed||(this.set("visible",!1),L.modifyCSS(_,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},C.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},C.prototype.setLocation=function(_){this.set("x",_.x),this.set("y",_.y),this.resetPosition()},C.prototype.setCrossHairsVisible=function(_){var B=_?"":"none",D=this.get("xCrosshairDom"),W=this.get("yCrosshairDom");D&&L.modifyCSS(D,{display:B}),W&&L.modifyCSS(W,{display:B})},C.prototype.initContainer=function(){if(g.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var _=this.getHtmlContentNode();this.get("parent").appendChild(_),this.set("container",_),this.resetStyles(),this.applyStyles()}},C.prototype.updateInner=function(_){this.get("customContent")?this.renderCustomContent():(m(_,["title","showTitle"])&&this.resetTitle(),P.hasKey(_,"items")&&this.renderItems()),g.prototype.updateInner.call(this,_)},C.prototype.initDom=function(){this.cacheDoms()},C.prototype.removeDom=function(){g.prototype.removeDom.call(this),this.clearCrosshairs()},C.prototype.resetPosition=function(){var _=this.get("x"),B=this.get("y"),D=this.get("offset"),W=this.getOffset(),Z=W.offsetX,X=W.offsetY,j=this.get("position"),it=this.get("region"),tt=this.getContainer(),yt=this.getBBox(),dt=yt.width,Ct=yt.height,F;it&&(F=M.regionToBBox(it));var z=b.getAlignPoint(_,B,D,dt,Ct,j,F);L.modifyCSS(tt,{left:M.toPx(z.x+Z),top:M.toPx(z.y+X)}),this.resetCrosshairs()},C.prototype.renderCustomContent=function(){var _=this.getHtmlContentNode(),B=this.get("parent"),D=this.get("container");D&&D.parentNode===B?B.replaceChild(_,D):B.appendChild(_),this.set("container",_),this.resetStyles(),this.applyStyles()},C.prototype.getHtmlContentNode=function(){var _,B=this.get("customContent");if(B){var D=B(this.get("title"),this.get("items"));P.isElement(D)?_=D:_=L.createDom(D)}return _},C.prototype.cacheDoms=function(){var _=this.getContainer(),B=_.getElementsByClassName(E.TITLE_CLASS)[0],D=_.getElementsByClassName(E.LIST_CLASS)[0];this.set("titleDom",B),this.set("listDom",D)},C.prototype.resetTitle=function(){var _=this.get("title"),B=this.get("showTitle");B&&_?this.setTitle(_):this.setTitle("")},C.prototype.setTitle=function(_){var B=this.get("titleDom");B&&(B.innerText=_)},C.prototype.resetCrosshairs=function(){var _=this.get("crosshairsRegion"),B=this.get("crosshairs");if(!_||!B)this.clearCrosshairs();else{var D=M.regionToBBox(_),W=this.get("xCrosshairDom"),Z=this.get("yCrosshairDom");B==="x"?(this.resetCrosshair("x",D),Z&&(Z.remove(),this.set("yCrosshairDom",null))):B==="y"?(this.resetCrosshair("y",D),W&&(W.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",D),this.resetCrosshair("y",D)),this.setCrossHairsVisible(this.get("visible"))}},C.prototype.resetCrosshair=function(_,B){var D=this.checkCrosshair(_),W=this.get(_);_==="x"?L.modifyCSS(D,{left:M.toPx(W),top:M.toPx(B.y),height:M.toPx(B.height)}):L.modifyCSS(D,{top:M.toPx(W),left:M.toPx(B.x),width:M.toPx(B.width)})},C.prototype.checkCrosshair=function(_){var B=_+"CrosshairDom",D=_+"CrosshairTpl",W="CROSSHAIR_"+_.toUpperCase(),Z=E[W],X=this.get(B),j=this.get("parent");return X||(X=L.createDom(this.get(D)),this.applyStyle(Z,X),j.appendChild(X),this.set(B,X)),X},C.prototype.renderItems=function(){this.clearItemDoms();var _=this.get("items"),B=this.get("itemTpl"),D=this.get("listDom");D&&(P.each(_,function(W){var Z=I.default.toCSSGradient(W.color),X=O.__assign(O.__assign({},W),{color:Z}),j=P.substitute(B,X),it=L.createDom(j);D.appendChild(it)}),this.applyChildrenStyles(D,this.get("domStyles")))},C.prototype.clearItemDoms=function(){this.get("listDom")&&M.clearDom(this.get("listDom"))},C.prototype.clearCrosshairs=function(){var _=this.get("xCrosshairDom"),B=this.get("yCrosshairDom");_&&_.remove(),B&&B.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},C}(T.default);S.Z=x},51227:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getAlignPoint=S.getPointByPosition=S.getOutSides=void 0;function d(I,L,P,T,M){var E={left:I<M.x,right:I+P>M.x+M.width,top:L<M.y,bottom:L+T>M.y+M.height};return E}S.getOutSides=d;function w(I,L,P,T,M,E){var p=I,b=L;switch(E){case"left":p=I-T-P,b=L-M/2;break;case"right":p=I+P,b=L-M/2;break;case"top":p=I-T/2,b=L-M-P;break;case"bottom":p=I-T/2,b=L+P;break;default:p=I+P,b=L-M-P;break}return{x:p,y:b}}S.getPointByPosition=w;function O(I,L,P,T,M,E,p){var b=w(I,L,P,T,M,E);if(p){var m=d(b.x,b.y,T,M,p);E==="auto"?(m.right&&(b.x=Math.max(0,I-T-P)),m.top&&(b.y=Math.max(0,L-M-P))):E==="top"||E==="bottom"?(m.left&&(b.x=p.x),m.right&&(b.x=p.x+p.width-T),E==="top"&&m.top&&(b.y=L+P),E==="bottom"&&m.bottom&&(b.y=L-M-P)):(m.top&&(b.y=p.y),m.bottom&&(b.y=p.y+p.height-M),E==="left"&&m.left&&(b.x=I+P),E==="right"&&m.right&&(b.x=I-T-P))}return b}S.getAlignPoint=O},31207:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.propagationDelegate=void 0;var w=d(66192);function O(I,L,P){var T=new w.default(L,P);T.target=I,T.propagationPath.push(I),I.emitDelegation(L,T);for(var M=I.getParent();M;)M.emitDelegation(L,T),T.propagationPath.push(M),M=M.getParent()}S.propagationDelegate=O},52782:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},11594:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTextPoint=S.toPx=S.updateClip=S.getBBoxWithClip=S.mergeBBox=S.intersectBBox=S.near=S.wait=S.distance=S.getCirclePoint=S.getValueByPercent=S.createBBox=S.pointsToBBox=S.regionToBBox=S.hasClass=S.clearDom=S.formatPadding=void 0;var w=d(49242);function O(D){var W=0,Z=0,X=0,j=0;return w.isNumber(D)?W=Z=X=j=D:w.isArray(D)&&(W=D[0],X=w.isNil(D[1])?D[0]:D[1],j=w.isNil(D[2])?D[0]:D[2],Z=w.isNil(D[3])?X:D[3]),[W,X,j,Z]}S.formatPadding=O;function I(D){for(var W=D.childNodes,Z=W.length,X=Z-1;X>=0;X--)D.removeChild(W[X])}S.clearDom=I;function L(D,W){return!!D.className.match(new RegExp("(\\s|^)"+W+"(\\s|$)"))}S.hasClass=L;function P(D){var W=D.start,Z=D.end,X=Math.min(W.x,Z.x),j=Math.min(W.y,Z.y),it=Math.max(W.x,Z.x),tt=Math.max(W.y,Z.y);return{x:X,y:j,minX:X,minY:j,maxX:it,maxY:tt,width:it-X,height:tt-j}}S.regionToBBox=P;function T(D){var W=D.map(function(yt){return yt.x}),Z=D.map(function(yt){return yt.y}),X=Math.min.apply(Math,W),j=Math.min.apply(Math,Z),it=Math.max.apply(Math,W),tt=Math.max.apply(Math,Z);return{x:X,y:j,minX:X,minY:j,maxX:it,maxY:tt,width:it-X,height:tt-j}}S.pointsToBBox=T;function M(D,W,Z,X){return{x:D,y:W,width:Z,height:X,minX:D,minY:W,maxX:D+Z,maxY:W+X}}S.createBBox=M;function E(D,W,Z){return(1-Z)*D+W*Z}S.getValueByPercent=E;function p(D,W,Z){return{x:D.x+Math.cos(Z)*W,y:D.y+Math.sin(Z)*W}}S.getCirclePoint=p;function b(D,W){var Z=W.x-D.x,X=W.y-D.y;return Math.sqrt(Z*Z+X*X)}S.distance=b,S.wait=function(D){return new Promise(function(W){setTimeout(W,D)})},S.near=function(D,W){return[D,W].includes(Infinity)?Math.abs(D)===Math.abs(W):Math.abs(D-W)<Math.pow(Number.EPSILON,.5)};function m(D,W){var Z=Math.max(D.minX,W.minX),X=Math.max(D.minY,W.minY),j=Math.min(D.maxX,W.maxX),it=Math.min(D.maxY,W.maxY);return M(Z,X,j-Z,it-X)}S.intersectBBox=m;function x(D,W){var Z=Math.min(D.minX,W.minX),X=Math.min(D.minY,W.minY),j=Math.max(D.maxX,W.maxX),it=Math.max(D.maxY,W.maxY);return M(Z,X,j-Z,it-X)}S.mergeBBox=x;function g(D){var W=D.getClip(),Z=W&&W.getBBox(),X;if(!D.isGroup())X=D.getBBox();else{var j=Infinity,it=-Infinity,tt=Infinity,yt=-Infinity,dt=D.getChildren();dt.length>0?w.each(dt,function(Ct){if(Ct.get("visible")){if(Ct.isGroup()&&Ct.get("children").length===0)return!0;var F=g(Ct),z=Ct.applyToMatrix([F.minX,F.minY,1]),G=Ct.applyToMatrix([F.minX,F.maxY,1]),Y=Ct.applyToMatrix([F.maxX,F.minY,1]),q=Ct.applyToMatrix([F.maxX,F.maxY,1]),$=Math.min(z[0],G[0],Y[0],q[0]),J=Math.max(z[0],G[0],Y[0],q[0]),U=Math.min(z[1],G[1],Y[1],q[1]),K=Math.max(z[1],G[1],Y[1],q[1]);$<j&&(j=$),J>it&&(it=J),U<tt&&(tt=U),K>yt&&(yt=K)}}):(j=0,it=0,tt=0,yt=0),X=M(j,tt,it-j,yt-tt)}return Z?m(X,Z):X}S.getBBoxWithClip=g;function C(D,W){if(!(!D.getClip()&&!W.getClip())){var Z=W.getClip();if(!Z){D.setClip(null);return}var X={type:Z.get("type"),attrs:Z.attr()};D.setClip(X)}}S.updateClip=C;function _(D){return D+"px"}S.toPx=_;function B(D,W,Z,X){var j=b(D,W),it=X/j,tt=0;return Z==="start"?tt=0-it:Z==="end"&&(tt=1+it),{x:E(D.x,W.x,tt),y:E(D.y,W.y,tt)}}S.getTextPoint=B},13541:function(xt,S,d){"use strict";d.r(S),d.d(S,{Coordinate:function(){return M},getCoordinate:function(){return B},registerCoordinate:function(){return D}});var w=d(70655),O=d(77160),I=d(35600),L=d(31506),P=d(49242),T=function(){function W(Z){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var X=Z.start,j=Z.end,it=Z.matrix,tt=it===void 0?[1,0,0,0,1,0,0,0,1]:it,yt=Z.isTransposed,dt=yt===void 0?!1:yt;this.start=X,this.end=j,this.matrix=tt,this.originalMatrix=(0,w.__spreadArray)([],tt),this.isTransposed=dt}return W.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},W.prototype.update=function(Z){(0,P.assign)(this,Z),this.initial()},W.prototype.convertDim=function(Z,X){var j,it=this[X],tt=it.start,yt=it.end;return this.isReflect(X)&&(j=[yt,tt],tt=j[0],yt=j[1]),tt+Z*(yt-tt)},W.prototype.invertDim=function(Z,X){var j,it=this[X],tt=it.start,yt=it.end;return this.isReflect(X)&&(j=[yt,tt],tt=j[0],yt=j[1]),(Z-tt)/(yt-tt)},W.prototype.applyMatrix=function(Z,X,j){j===void 0&&(j=0);var it=this.matrix,tt=[Z,X,j];return O.transformMat3(tt,tt,it),tt},W.prototype.invertMatrix=function(Z,X,j){j===void 0&&(j=0);var it=this.matrix,tt=I.invert([0,0,0,0,0,0,0,0,0],it),yt=[Z,X,j];return tt&&O.transformMat3(yt,yt,tt),yt},W.prototype.convert=function(Z){var X=this.convertPoint(Z),j=X.x,it=X.y,tt=this.applyMatrix(j,it,1);return{x:tt[0],y:tt[1]}},W.prototype.invert=function(Z){var X=this.invertMatrix(Z.x,Z.y,1);return this.invertPoint({x:X[0],y:X[1]})},W.prototype.rotate=function(Z){var X=this.matrix,j=this.center;return L.leftTranslate(X,X,[-j.x,-j.y]),L.leftRotate(X,X,Z),L.leftTranslate(X,X,[j.x,j.y]),this},W.prototype.reflect=function(Z){return Z==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},W.prototype.scale=function(Z,X){var j=this.matrix,it=this.center;return L.leftTranslate(j,j,[-it.x,-it.y]),L.leftScale(j,j,[Z,X]),L.leftTranslate(j,j,[it.x,it.y]),this},W.prototype.translate=function(Z,X){var j=this.matrix;return L.leftTranslate(j,j,[Z,X]),this},W.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},W.prototype.getCenter=function(){return this.center},W.prototype.getWidth=function(){return this.width},W.prototype.getHeight=function(){return this.height},W.prototype.getRadius=function(){return this.radius},W.prototype.isReflect=function(Z){return Z==="x"?this.isReflectX:this.isReflectY},W.prototype.resetMatrix=function(Z){this.matrix=Z||(0,w.__spreadArray)([],this.originalMatrix)},W}(),M=T,E=function(W){(0,w.__extends)(Z,W);function Z(X){var j=W.call(this,X)||this;return j.isRect=!0,j.type="cartesian",j.initial(),j}return Z.prototype.initial=function(){W.prototype.initial.call(this);var X=this.start,j=this.end;this.x={start:X.x,end:j.x},this.y={start:X.y,end:j.y}},Z.prototype.convertPoint=function(X){var j,it=X.x,tt=X.y;return this.isTransposed&&(j=[tt,it],it=j[0],tt=j[1]),{x:this.convertDim(it,"x"),y:this.convertDim(tt,"y")}},Z.prototype.invertPoint=function(X){var j,it=this.invertDim(X.x,"x"),tt=this.invertDim(X.y,"y");return this.isTransposed&&(j=[tt,it],it=j[0],tt=j[1]),{x:it,y:tt}},Z}(M),p=E,b=d(31437),m=function(W){(0,w.__extends)(Z,W);function Z(X){var j=W.call(this,X)||this;j.isHelix=!0,j.type="helix";var it=X.startAngle,tt=it===void 0?1.25*Math.PI:it,yt=X.endAngle,dt=yt===void 0?7.25*Math.PI:yt,Ct=X.innerRadius,F=Ct===void 0?0:Ct,z=X.radius;return j.startAngle=tt,j.endAngle=dt,j.innerRadius=F,j.radius=z,j.initial(),j}return Z.prototype.initial=function(){W.prototype.initial.call(this);var X=(this.endAngle-this.startAngle)/(2*Math.PI)+1,j=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(j=j*this.radius),this.d=Math.floor(j*(1-this.innerRadius)/X),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*j,end:this.innerRadius*j+this.d*.99}},Z.prototype.convertPoint=function(X){var j,it=X.x,tt=X.y;this.isTransposed&&(j=[tt,it],it=j[0],tt=j[1]);var yt=this.convertDim(it,"x"),dt=this.a*yt,Ct=this.convertDim(tt,"y");return{x:this.center.x+Math.cos(yt)*(dt+Ct),y:this.center.y+Math.sin(yt)*(dt+Ct)}},Z.prototype.invertPoint=function(X){var j,it=this.d+this.y.start,tt=b.subtract([0,0],[X.x,X.y],[this.center.x,this.center.y]),yt=L.angleTo(tt,[1,0],!0),dt=yt*this.a;b.length(tt)<dt&&(dt=b.length(tt));var Ct=Math.floor((b.length(tt)-dt)/it);yt=2*Ct*Math.PI+yt;var F=this.a*yt,z=b.length(tt)-F;z=(0,P.isNumberEqual)(z,0)?0:z;var G=this.invertDim(yt,"x"),Y=this.invertDim(z,"y");return G=(0,P.isNumberEqual)(G,0)?0:G,Y=(0,P.isNumberEqual)(Y,0)?0:Y,this.isTransposed&&(j=[Y,G],G=j[0],Y=j[1]),{x:G,y:Y}},Z}(M),x=m,g=function(W){(0,w.__extends)(Z,W);function Z(X){var j=W.call(this,X)||this;j.isPolar=!0,j.type="polar";var it=X.startAngle,tt=it===void 0?-Math.PI/2:it,yt=X.endAngle,dt=yt===void 0?Math.PI*3/2:yt,Ct=X.innerRadius,F=Ct===void 0?0:Ct,z=X.radius;return j.startAngle=tt,j.endAngle=dt,j.innerRadius=F,j.radius=z,j.initial(),j}return Z.prototype.initial=function(){for(W.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var X=this.getOneBox(),j=X.maxX-X.minX,it=X.maxY-X.minY,tt=Math.abs(X.minX)/j,yt=Math.abs(X.minY)/it,dt;this.height/it>this.width/j?(dt=this.width/j,this.circleCenter={x:this.center.x-(.5-tt)*this.width,y:this.center.y-(.5-yt)*dt*it}):(dt=this.height/it,this.circleCenter={x:this.center.x-(.5-tt)*dt*j,y:this.center.y-(.5-yt)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=dt*this.radius:(this.radius<=0||this.radius>dt)&&(this.polarRadius=dt):this.polarRadius=dt,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},Z.prototype.getRadius=function(){return this.polarRadius},Z.prototype.convertPoint=function(X){var j,it=this.getCenter(),tt=X.x,yt=X.y;return this.isTransposed&&(j=[yt,tt],tt=j[0],yt=j[1]),tt=this.convertDim(tt,"x"),yt=this.convertDim(yt,"y"),{x:it.x+Math.cos(tt)*yt,y:it.y+Math.sin(tt)*yt}},Z.prototype.invertPoint=function(X){var j,it=this.getCenter(),tt=[X.x-it.x,X.y-it.y],yt=this,dt=yt.startAngle,Ct=yt.endAngle;this.isReflect("x")&&(j=[Ct,dt],dt=j[0],Ct=j[1]);var F=[1,0,0,0,1,0,0,0,1];L.leftRotate(F,F,dt);var z=[1,0,0];O.transformMat3(z,z,F);var G=[z[0],z[1]],Y=L.angleTo(G,tt,Ct<dt);(0,P.isNumberEqual)(Y,Math.PI*2)&&(Y=0);var q=b.length(tt),$=Y/(Ct-dt);$=Ct-dt>0?$:-$;var J=this.invertDim(q,"y"),U={x:0,y:0};return U.x=this.isTransposed?J:$,U.y=this.isTransposed?$:J,U},Z.prototype.getCenter=function(){return this.circleCenter},Z.prototype.getOneBox=function(){var X=this.startAngle,j=this.endAngle;if(Math.abs(j-X)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var it=[0,Math.cos(X),Math.cos(j)],tt=[0,Math.sin(X),Math.sin(j)],yt=Math.min(X,j);yt<Math.max(X,j);yt+=Math.PI/18)it.push(Math.cos(yt)),tt.push(Math.sin(yt));return{minX:Math.min.apply(Math,it),maxX:Math.max.apply(Math,it),minY:Math.min.apply(Math,tt),maxY:Math.max.apply(Math,tt)}},Z}(M),C=g,_={},B=function(W){return _[W.toLowerCase()]},D=function(W,Z){_[W.toLowerCase()]=Z};D("rect",p),D("cartesian",p),D("polar",C),D("helix",x)},57817:function(xt,S,d){"use strict";d.d(S,{Z:function(){return w}});function w(O,I,L){if(O){if(typeof O.addEventListener=="function")return O.addEventListener(I,L,!1),{remove:function(){O.removeEventListener(I,L,!1)}};if(typeof O.attachEvent=="function")return O.attachEvent("on"+I,L),{remove:function(){O.detachEvent("on"+I,L)}}}}},6056:function(xt,S,d){"use strict";d.d(S,{Z:function(){return T}});var w,O,I,L;function P(){w=document.createElement("table"),O=document.createElement("tr"),I=/^\s*<(\w+|!)[^>]*>/,L={tr:document.createElement("tbody"),tbody:w,thead:w,tfoot:w,td:O,th:O,"*":document.createElement("div")}}function T(M){w||P();var E=I.test(M)&&RegExp.$1;(!E||!(E in L))&&(E="*");var p=L[E];M=typeof M=="string"?M.replace(/(^\s*)|(\s*$)/g,""):M,p.innerHTML=""+M;var b=p.childNodes[0];return b&&p.contains(b)&&p.removeChild(b),b}},10430:function(xt,S,d){"use strict";d.d(S,{Z:function(){return O}});var w=d(99911);function O(I,L){var P=(0,w.Z)(I,"height",L);return P==="auto"&&(P=I.offsetHeight),parseFloat(P)}},79189:function(xt,S,d){"use strict";d.d(S,{Z:function(){return I}});var w=d(99911),O=d(10430);function I(L,P){var T=(0,O.Z)(L,P),M=parseFloat((0,w.Z)(L,"borderTopWidth"))||0,E=parseFloat((0,w.Z)(L,"paddingTop"))||0,p=parseFloat((0,w.Z)(L,"paddingBottom"))||0,b=parseFloat((0,w.Z)(L,"borderBottomWidth"))||0,m=parseFloat((0,w.Z)(L,"marginTop"))||0,x=parseFloat((0,w.Z)(L,"marginBottom"))||0;return T+M+b+E+p+m+x}},89810:function(xt,S,d){"use strict";d.d(S,{Z:function(){return I}});var w=d(99911),O=d(23408);function I(L,P){var T=(0,O.Z)(L,P),M=parseFloat((0,w.Z)(L,"borderLeftWidth"))||0,E=parseFloat((0,w.Z)(L,"paddingLeft"))||0,p=parseFloat((0,w.Z)(L,"paddingRight"))||0,b=parseFloat((0,w.Z)(L,"borderRightWidth"))||0,m=parseFloat((0,w.Z)(L,"marginRight"))||0,x=parseFloat((0,w.Z)(L,"marginLeft"))||0;return T+M+b+E+p+x+m}},99911:function(xt,S,d){"use strict";d.d(S,{Z:function(){return w}});function w(O,I,L){var P;try{P=window.getComputedStyle?window.getComputedStyle(O,null)[I]:O.style[I]}catch(T){}finally{P=P===void 0?L:P}return P}},23408:function(xt,S,d){"use strict";d.d(S,{Z:function(){return O}});var w=d(99911);function O(I,L){var P=(0,w.Z)(I,"width",L);return P==="auto"&&(P=I.offsetWidth),parseFloat(P)}},80478:function(xt,S,d){"use strict";d.r(S),d.d(S,{addEventListener:function(){return w.Z},createDom:function(){return O.Z},getHeight:function(){return I.Z},getOuterHeight:function(){return L.Z},getOuterWidth:function(){return P.Z},getRatio:function(){return T},getStyle:function(){return M.Z},getWidth:function(){return E.Z},modifyCSS:function(){return p.Z}});var w=d(57817),O=d(6056),I=d(10430),L=d(79189),P=d(89810);function T(){return window.devicePixelRatio?window.devicePixelRatio:2}var M=d(99911),E=d(23408),p=d(45442)},45442:function(xt,S,d){"use strict";d.d(S,{Z:function(){return w}});function w(O,I){if(O)for(var L in I)I.hasOwnProperty(L)&&(O.style[L]=I[L]);return O}},73136:function(xt,S){"use strict";var d;d={value:!0};function w(O,I,L){if(O){if(typeof O.addEventListener=="function")return O.addEventListener(I,L,!1),{remove:function(){O.removeEventListener(I,L,!1)}};if(typeof O.attachEvent=="function")return O.attachEvent("on"+I,L),{remove:function(){O.detachEvent("on"+I,L)}}}}S.Z=w},57821:function(xt,S){"use strict";var d;d={value:!0};var w,O,I,L;function P(){w=document.createElement("table"),O=document.createElement("tr"),I=/^\s*<(\w+|!)[^>]*>/,L={tr:document.createElement("tbody"),tbody:w,thead:w,tfoot:w,td:O,th:O,"*":document.createElement("div")}}function T(M){w||P();var E=I.test(M)&&RegExp.$1;(!E||!(E in L))&&(E="*");var p=L[E];M=typeof M=="string"?M.replace(/(^\s*)|(\s*$)/g,""):M,p.innerHTML=""+M;var b=p.childNodes[0];return b&&p.contains(b)&&p.removeChild(b),b}S.Z=T},1513:function(xt,S){"use strict";var d;d={value:!0};function w(O,I){if(O)for(var L in I)I.hasOwnProperty(L)&&(O.style[L]=I[L]);return O}S.Z=w},90494:function(xt,S,d){"use strict";d.r(S);var w="*",O=function(){function I(){this._events={}}return I.prototype.on=function(L,P,T){return this._events[L]||(this._events[L]=[]),this._events[L].push({callback:P,once:!!T}),this},I.prototype.once=function(L,P){return this.on(L,P,!0),this},I.prototype.emit=function(L){for(var P=this,T=[],M=1;M<arguments.length;M++)T[M-1]=arguments[M];var E=this._events[L]||[],p=this._events[w]||[],b=function(m){for(var x=m.length,g=0;g<x;g++)if(!!m[g]){var C=m[g],_=C.callback,B=C.once;B&&(m.splice(g,1),m.length===0&&delete P._events[L],x--,g--),_.apply(P,T)}};b(E),b(p)},I.prototype.off=function(L,P){if(!L)this._events={};else if(!P)delete this._events[L];else{for(var T=this._events[L]||[],M=T.length,E=0;E<M;E++)T[E].callback===P&&(T.splice(E,1),M--,E--);T.length===0&&delete this._events[L]}return this},I.prototype.getEvents=function(){return this._events},I}();S.default=O},65722:function(xt,S,d){"use strict";d.r(S),d.d(S,{AbstractCanvas:function(){return Zt},AbstractGroup:function(){return ge},AbstractShape:function(){return Ce},Base:function(){return ve},Event:function(){return wt},PathUtil:function(){return w},version:function(){return Ke}});var w={};d.r(w),d.d(w,{catmullRomToBezier:function(){return M},fillPath:function(){return $},fillPathByDiff:function(){return f},formatPath:function(){return at},intersection:function(){return z},parsePathArray:function(){return _},parsePathString:function(){return T},pathToAbsolute:function(){return p},pathToCurve:function(){return g},rectPath:function(){return j}});var O=d(49242),I=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,L=new RegExp("([a-z])["+I+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+I+"]*,?["+I+"]*)+)","ig"),P=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+I+"]*,?["+I+"]*","ig"),T=function(Lt){if(!Lt)return null;if((0,O.isArray)(Lt))return Lt;var vt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},nt=[];return String(Lt).replace(L,function(pt,Bt,jt){var ie=[],le=Bt.toLowerCase();if(jt.replace(P,function(ae,_e){_e&&ie.push(+_e)}),le==="m"&&ie.length>2&&(nt.push([Bt].concat(ie.splice(0,2))),le="l",Bt=Bt==="m"?"l":"L"),le==="o"&&ie.length===1&&nt.push([Bt,ie[0]]),le==="r")nt.push([Bt].concat(ie));else for(;ie.length>=vt[le]&&(nt.push([Bt].concat(ie.splice(0,vt[le]))),!!vt[le]););return Lt}),nt},M=function(Lt,vt){for(var nt=[],pt=0,Bt=Lt.length;Bt-2*!vt>pt;pt+=2){var jt=[{x:+Lt[pt-2],y:+Lt[pt-1]},{x:+Lt[pt],y:+Lt[pt+1]},{x:+Lt[pt+2],y:+Lt[pt+3]},{x:+Lt[pt+4],y:+Lt[pt+5]}];vt?pt?Bt-4===pt?jt[3]={x:+Lt[0],y:+Lt[1]}:Bt-2===pt&&(jt[2]={x:+Lt[0],y:+Lt[1]},jt[3]={x:+Lt[2],y:+Lt[3]}):jt[0]={x:+Lt[Bt-2],y:+Lt[Bt-1]}:Bt-4===pt?jt[3]=jt[2]:pt||(jt[0]={x:+Lt[pt],y:+Lt[pt+1]}),nt.push(["C",(-jt[0].x+6*jt[1].x+jt[2].x)/6,(-jt[0].y+6*jt[1].y+jt[2].y)/6,(jt[1].x+6*jt[2].x-jt[3].x)/6,(jt[1].y+6*jt[2].y-jt[3].y)/6,jt[2].x,jt[2].y])}return nt},E=function(Lt,vt,nt,pt,Bt){var jt=[];if(Bt===null&&pt===null&&(pt=nt),Lt=+Lt,vt=+vt,nt=+nt,pt=+pt,Bt!==null){var ie=Math.PI/180,le=Lt+nt*Math.cos(-pt*ie),ae=Lt+nt*Math.cos(-Bt*ie),_e=vt+nt*Math.sin(-pt*ie),Ie=vt+nt*Math.sin(-Bt*ie);jt=[["M",le,_e],["A",nt,nt,0,+(Bt-pt>180),0,ae,Ie]]}else jt=[["M",Lt,vt],["m",0,-pt],["a",nt,pt,0,1,1,0,2*pt],["a",nt,pt,0,1,1,0,-2*pt],["z"]];return jt},p=function(Lt){if(Lt=T(Lt),!Lt||!Lt.length)return[["M",0,0]];var vt=[],nt=0,pt=0,Bt=0,jt=0,ie=0,le,ae;Lt[0][0]==="M"&&(nt=+Lt[0][1],pt=+Lt[0][2],Bt=nt,jt=pt,ie++,vt[0]=["M",nt,pt]);for(var _e=Lt.length===3&&Lt[0][0]==="M"&&Lt[1][0].toUpperCase()==="R"&&Lt[2][0].toUpperCase()==="Z",Ie=void 0,Fe=void 0,nr=ie,Ne=Lt.length;nr<Ne;nr++){if(vt.push(Ie=[]),Fe=Lt[nr],le=Fe[0],le!==le.toUpperCase())switch(Ie[0]=le.toUpperCase(),Ie[0]){case"A":Ie[1]=Fe[1],Ie[2]=Fe[2],Ie[3]=Fe[3],Ie[4]=Fe[4],Ie[5]=Fe[5],Ie[6]=+Fe[6]+nt,Ie[7]=+Fe[7]+pt;break;case"V":Ie[1]=+Fe[1]+pt;break;case"H":Ie[1]=+Fe[1]+nt;break;case"R":ae=[nt,pt].concat(Fe.slice(1));for(var Be=2,yr=ae.length;Be<yr;Be++)ae[Be]=+ae[Be]+nt,ae[++Be]=+ae[Be]+pt;vt.pop(),vt=vt.concat(M(ae,_e));break;case"O":vt.pop(),ae=E(nt,pt,Fe[1],Fe[2]),ae.push(ae[0]),vt=vt.concat(ae);break;case"U":vt.pop(),vt=vt.concat(E(nt,pt,Fe[1],Fe[2],Fe[3])),Ie=["U"].concat(vt[vt.length-1].slice(-2));break;case"M":Bt=+Fe[1]+nt,jt=+Fe[2]+pt;break;default:for(var Be=1,yr=Fe.length;Be<yr;Be++)Ie[Be]=+Fe[Be]+(Be%2?nt:pt)}else if(le==="R")ae=[nt,pt].concat(Fe.slice(1)),vt.pop(),vt=vt.concat(M(ae,_e)),Ie=["R"].concat(Fe.slice(-2));else if(le==="O")vt.pop(),ae=E(nt,pt,Fe[1],Fe[2]),ae.push(ae[0]),vt=vt.concat(ae);else if(le==="U")vt.pop(),vt=vt.concat(E(nt,pt,Fe[1],Fe[2],Fe[3])),Ie=["U"].concat(vt[vt.length-1].slice(-2));else for(var mr=0,Nr=Fe.length;mr<Nr;mr++)Ie[mr]=Fe[mr];if(le=le.toUpperCase(),le!=="O")switch(Ie[0]){case"Z":nt=+Bt,pt=+jt;break;case"H":nt=Ie[1];break;case"V":pt=Ie[1];break;case"M":Bt=Ie[Ie.length-2],jt=Ie[Ie.length-1];break;default:nt=Ie[Ie.length-2],pt=Ie[Ie.length-1]}}return vt},b=function(Lt,vt,nt,pt){return[Lt,vt,nt,pt,nt,pt]},m=function(Lt,vt,nt,pt,Bt,jt){var ie=1/3,le=2/3;return[ie*Lt+le*nt,ie*vt+le*pt,ie*Bt+le*nt,ie*jt+le*pt,Bt,jt]},x=function(Lt,vt,nt,pt,Bt,jt,ie,le,ae,_e){nt===pt&&(nt+=1);var Ie=Math.PI*120/180,Fe=Math.PI/180*(+Bt||0),nr=[],Ne,Be,yr,mr,Nr,Gr=function(ei,yn,ma){var pn=ei*Math.cos(ma)-yn*Math.sin(ma),xa=ei*Math.sin(ma)+yn*Math.cos(ma);return{x:pn,y:xa}};if(_e)Be=_e[0],yr=_e[1],mr=_e[2],Nr=_e[3];else{Ne=Gr(Lt,vt,-Fe),Lt=Ne.x,vt=Ne.y,Ne=Gr(le,ae,-Fe),le=Ne.x,ae=Ne.y,Lt===le&&vt===ae&&(le+=1,ae+=1);var fr=(Lt-le)/2,tr=(vt-ae)/2,Yr=fr*fr/(nt*nt)+tr*tr/(pt*pt);Yr>1&&(Yr=Math.sqrt(Yr),nt=Yr*nt,pt=Yr*pt);var hn=nt*nt,Tn=pt*pt,Kn=(jt===ie?-1:1)*Math.sqrt(Math.abs((hn*Tn-hn*tr*tr-Tn*fr*fr)/(hn*tr*tr+Tn*fr*fr)));mr=Kn*nt*tr/pt+(Lt+le)/2,Nr=Kn*-pt*fr/nt+(vt+ae)/2,Be=Math.asin(((vt-Nr)/pt).toFixed(9)),yr=Math.asin(((ae-Nr)/pt).toFixed(9)),Be=Lt<mr?Math.PI-Be:Be,yr=le<mr?Math.PI-yr:yr,Be<0&&(Be=Math.PI*2+Be),yr<0&&(yr=Math.PI*2+yr),ie&&Be>yr&&(Be=Be-Math.PI*2),!ie&&yr>Be&&(yr=yr-Math.PI*2)}var Jn=yr-Be;if(Math.abs(Jn)>Ie){var Oa=yr,di=le,ao=ae;yr=Be+Ie*(ie&&yr>Be?1:-1),le=mr+nt*Math.cos(yr),ae=Nr+pt*Math.sin(yr),nr=x(le,ae,nt,pt,Bt,0,ie,di,ao,[yr,Oa,mr,Nr])}Jn=yr-Be;var sa=Math.cos(Be),Mo=Math.sin(Be),oo=Math.cos(yr),Vo=Math.sin(yr),Ia=Math.tan(Jn/4),ja=4/3*nt*Ia,ya=4/3*pt*Ia,oi=[Lt,vt],la=[Lt+ja*Mo,vt-ya*sa],so=[le+ja*Vo,ae-ya*oo],Ua=[le,ae];if(la[0]=2*oi[0]-la[0],la[1]=2*oi[1]-la[1],_e)return[la,so,Ua].concat(nr);nr=[la,so,Ua].concat(nr).join().split(",");for(var ka=[],ln=0,Co=nr.length;ln<Co;ln++)ka[ln]=ln%2?Gr(nr[ln-1],nr[ln],Fe).y:Gr(nr[ln],nr[ln+1],Fe).x;return ka},g=function(Lt,vt){var nt=p(Lt),pt=vt&&p(vt),Bt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},jt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ie=[],le=[],ae="",_e="",Ie,Fe=function(fr,tr,Yr){var hn,Tn;if(!fr)return["C",tr.x,tr.y,tr.x,tr.y,tr.x,tr.y];switch(!(fr[0]in{T:1,Q:1})&&(tr.qx=tr.qy=null),fr[0]){case"M":tr.X=fr[1],tr.Y=fr[2];break;case"A":fr=["C"].concat(x.apply(0,[tr.x,tr.y].concat(fr.slice(1))));break;case"S":Yr==="C"||Yr==="S"?(hn=tr.x*2-tr.bx,Tn=tr.y*2-tr.by):(hn=tr.x,Tn=tr.y),fr=["C",hn,Tn].concat(fr.slice(1));break;case"T":Yr==="Q"||Yr==="T"?(tr.qx=tr.x*2-tr.qx,tr.qy=tr.y*2-tr.qy):(tr.qx=tr.x,tr.qy=tr.y),fr=["C"].concat(m(tr.x,tr.y,tr.qx,tr.qy,fr[1],fr[2]));break;case"Q":tr.qx=fr[1],tr.qy=fr[2],fr=["C"].concat(m(tr.x,tr.y,fr[1],fr[2],fr[3],fr[4]));break;case"L":fr=["C"].concat(b(tr.x,tr.y,fr[1],fr[2]));break;case"H":fr=["C"].concat(b(tr.x,tr.y,fr[1],tr.y));break;case"V":fr=["C"].concat(b(tr.x,tr.y,tr.x,fr[1]));break;case"Z":fr=["C"].concat(b(tr.x,tr.y,tr.X,tr.Y));break;default:break}return fr},nr=function(fr,tr){if(fr[tr].length>7){fr[tr].shift();for(var Yr=fr[tr];Yr.length;)ie[tr]="A",pt&&(le[tr]="A"),fr.splice(tr++,0,["C"].concat(Yr.splice(0,6)));fr.splice(tr,1),Ie=Math.max(nt.length,pt&&pt.length||0)}},Ne=function(fr,tr,Yr,hn,Tn){fr&&tr&&fr[Tn][0]==="M"&&tr[Tn][0]!=="M"&&(tr.splice(Tn,0,["M",hn.x,hn.y]),Yr.bx=0,Yr.by=0,Yr.x=fr[Tn][1],Yr.y=fr[Tn][2],Ie=Math.max(nt.length,pt&&pt.length||0))};Ie=Math.max(nt.length,pt&&pt.length||0);for(var Be=0;Be<Ie;Be++){nt[Be]&&(ae=nt[Be][0]),ae!=="C"&&(ie[Be]=ae,Be&&(_e=ie[Be-1])),nt[Be]=Fe(nt[Be],Bt,_e),ie[Be]!=="A"&&ae==="C"&&(ie[Be]="C"),nr(nt,Be),pt&&(pt[Be]&&(ae=pt[Be][0]),ae!=="C"&&(le[Be]=ae,Be&&(_e=le[Be-1])),pt[Be]=Fe(pt[Be],jt,_e),le[Be]!=="A"&&ae==="C"&&(le[Be]="C"),nr(pt,Be)),Ne(nt,pt,Bt,jt,Be),Ne(pt,nt,jt,Bt,Be);var yr=nt[Be],mr=pt&&pt[Be],Nr=yr.length,Gr=pt&&mr.length;Bt.x=yr[Nr-2],Bt.y=yr[Nr-1],Bt.bx=parseFloat(yr[Nr-4])||Bt.x,Bt.by=parseFloat(yr[Nr-3])||Bt.y,jt.bx=pt&&(parseFloat(mr[Gr-4])||jt.x),jt.by=pt&&(parseFloat(mr[Gr-3])||jt.y),jt.x=pt&&mr[Gr-2],jt.y=pt&&mr[Gr-1]}return pt?[nt,pt]:nt},C=/,?([a-z]),?/gi,_=function(Lt){return Lt.join(",").replace(C,"$1")},B=function(Lt,vt,nt,pt,Bt){var jt=-3*vt+9*nt-9*pt+3*Bt,ie=Lt*jt+6*vt-12*nt+6*pt;return Lt*ie-3*vt+3*nt},D=function(Lt,vt,nt,pt,Bt,jt,ie,le,ae){ae===null&&(ae=1),ae=ae>1?1:ae<0?0:ae;for(var _e=ae/2,Ie=12,Fe=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],nr=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Ne=0,Be=0;Be<Ie;Be++){var yr=_e*Fe[Be]+_e,mr=B(yr,Lt,nt,Bt,ie),Nr=B(yr,vt,pt,jt,le),Gr=mr*mr+Nr*Nr;Ne+=nr[Be]*Math.sqrt(Gr)}return _e*Ne},W=function(Lt,vt,nt,pt,Bt,jt,ie,le){for(var ae=[],_e=[[],[]],Ie,Fe,nr,Ne,Be=0;Be<2;++Be){if(Be===0?(Fe=6*Lt-12*nt+6*Bt,Ie=-3*Lt+9*nt-9*Bt+3*ie,nr=3*nt-3*Lt):(Fe=6*vt-12*pt+6*jt,Ie=-3*vt+9*pt-9*jt+3*le,nr=3*pt-3*vt),Math.abs(Ie)<1e-12){if(Math.abs(Fe)<1e-12)continue;Ne=-nr/Fe,Ne>0&&Ne<1&&ae.push(Ne);continue}var yr=Fe*Fe-4*nr*Ie,mr=Math.sqrt(yr);if(!(yr<0)){var Nr=(-Fe+mr)/(2*Ie);Nr>0&&Nr<1&&ae.push(Nr);var Gr=(-Fe-mr)/(2*Ie);Gr>0&&Gr<1&&ae.push(Gr)}}for(var fr=ae.length,tr=fr,Yr;fr--;)Ne=ae[fr],Yr=1-Ne,_e[0][fr]=Yr*Yr*Yr*Lt+3*Yr*Yr*Ne*nt+3*Yr*Ne*Ne*Bt+Ne*Ne*Ne*ie,_e[1][fr]=Yr*Yr*Yr*vt+3*Yr*Yr*Ne*pt+3*Yr*Ne*Ne*jt+Ne*Ne*Ne*le;return _e[0][tr]=Lt,_e[1][tr]=vt,_e[0][tr+1]=ie,_e[1][tr+1]=le,_e[0].length=_e[1].length=tr+2,{min:{x:Math.min.apply(0,_e[0]),y:Math.min.apply(0,_e[1])},max:{x:Math.max.apply(0,_e[0]),y:Math.max.apply(0,_e[1])}}},Z=function(Lt,vt,nt,pt,Bt,jt,ie,le){if(!(Math.max(Lt,nt)<Math.min(Bt,ie)||Math.min(Lt,nt)>Math.max(Bt,ie)||Math.max(vt,pt)<Math.min(jt,le)||Math.min(vt,pt)>Math.max(jt,le))){var ae=(Lt*pt-vt*nt)*(Bt-ie)-(Lt-nt)*(Bt*le-jt*ie),_e=(Lt*pt-vt*nt)*(jt-le)-(vt-pt)*(Bt*le-jt*ie),Ie=(Lt-nt)*(jt-le)-(vt-pt)*(Bt-ie);if(!!Ie){var Fe=ae/Ie,nr=_e/Ie,Ne=+Fe.toFixed(2),Be=+nr.toFixed(2);if(!(Ne<+Math.min(Lt,nt).toFixed(2)||Ne>+Math.max(Lt,nt).toFixed(2)||Ne<+Math.min(Bt,ie).toFixed(2)||Ne>+Math.max(Bt,ie).toFixed(2)||Be<+Math.min(vt,pt).toFixed(2)||Be>+Math.max(vt,pt).toFixed(2)||Be<+Math.min(jt,le).toFixed(2)||Be>+Math.max(jt,le).toFixed(2)))return{x:Fe,y:nr}}}},X=function(Lt,vt,nt){return vt>=Lt.x&&vt<=Lt.x+Lt.width&&nt>=Lt.y&&nt<=Lt.y+Lt.height},j=function(Lt,vt,nt,pt,Bt){if(Bt)return[["M",+Lt+ +Bt,vt],["l",nt-Bt*2,0],["a",Bt,Bt,0,0,1,Bt,Bt],["l",0,pt-Bt*2],["a",Bt,Bt,0,0,1,-Bt,Bt],["l",Bt*2-nt,0],["a",Bt,Bt,0,0,1,-Bt,-Bt],["l",0,Bt*2-pt],["a",Bt,Bt,0,0,1,Bt,-Bt],["z"]];var jt=[["M",Lt,vt],["l",nt,0],["l",0,pt],["l",-nt,0],["z"]];return jt.parsePathArray=_,jt},it=function(Lt,vt,nt,pt){return Lt===null&&(Lt=vt=nt=pt=0),vt===null&&(vt=Lt.y,nt=Lt.width,pt=Lt.height,Lt=Lt.x),{x:Lt,y:vt,width:nt,w:nt,height:pt,h:pt,x2:Lt+nt,y2:vt+pt,cx:Lt+nt/2,cy:vt+pt/2,r1:Math.min(nt,pt)/2,r2:Math.max(nt,pt)/2,r0:Math.sqrt(nt*nt+pt*pt)/2,path:j(Lt,vt,nt,pt),vb:[Lt,vt,nt,pt].join(" ")}},tt=function(Lt,vt){return Lt=it(Lt),vt=it(vt),X(vt,Lt.x,Lt.y)||X(vt,Lt.x2,Lt.y)||X(vt,Lt.x,Lt.y2)||X(vt,Lt.x2,Lt.y2)||X(Lt,vt.x,vt.y)||X(Lt,vt.x2,vt.y)||X(Lt,vt.x,vt.y2)||X(Lt,vt.x2,vt.y2)||(Lt.x<vt.x2&&Lt.x>vt.x||vt.x<Lt.x2&&vt.x>Lt.x)&&(Lt.y<vt.y2&&Lt.y>vt.y||vt.y<Lt.y2&&vt.y>Lt.y)},yt=function(Lt,vt,nt,pt,Bt,jt,ie,le){(0,O.isArray)(Lt)||(Lt=[Lt,vt,nt,pt,Bt,jt,ie,le]);var ae=W.apply(null,Lt);return it(ae.min.x,ae.min.y,ae.max.x-ae.min.x,ae.max.y-ae.min.y)},dt=function(Lt,vt,nt,pt,Bt,jt,ie,le,ae){var _e=1-ae,Ie=Math.pow(_e,3),Fe=Math.pow(_e,2),nr=ae*ae,Ne=nr*ae,Be=Ie*Lt+Fe*3*ae*nt+_e*3*ae*ae*Bt+Ne*ie,yr=Ie*vt+Fe*3*ae*pt+_e*3*ae*ae*jt+Ne*le,mr=Lt+2*ae*(nt-Lt)+nr*(Bt-2*nt+Lt),Nr=vt+2*ae*(pt-vt)+nr*(jt-2*pt+vt),Gr=nt+2*ae*(Bt-nt)+nr*(ie-2*Bt+nt),fr=pt+2*ae*(jt-pt)+nr*(le-2*jt+pt),tr=_e*Lt+ae*nt,Yr=_e*vt+ae*pt,hn=_e*Bt+ae*ie,Tn=_e*jt+ae*le,Kn=90-Math.atan2(mr-Gr,Nr-fr)*180/Math.PI;return{x:Be,y:yr,m:{x:mr,y:Nr},n:{x:Gr,y:fr},start:{x:tr,y:Yr},end:{x:hn,y:Tn},alpha:Kn}},Ct=function(Lt,vt,nt){var pt=yt(Lt),Bt=yt(vt);if(!tt(pt,Bt))return nt?0:[];for(var jt=D.apply(0,Lt),ie=D.apply(0,vt),le=~~(jt/8),ae=~~(ie/8),_e=[],Ie=[],Fe={},nr=nt?0:[],Ne=0;Ne<le+1;Ne++){var Be=dt.apply(0,Lt.concat(Ne/le));_e.push({x:Be.x,y:Be.y,t:Ne/le})}for(var Ne=0;Ne<ae+1;Ne++){var Be=dt.apply(0,vt.concat(Ne/ae));Ie.push({x:Be.x,y:Be.y,t:Ne/ae})}for(var Ne=0;Ne<le;Ne++)for(var yr=0;yr<ae;yr++){var mr=_e[Ne],Nr=_e[Ne+1],Gr=Ie[yr],fr=Ie[yr+1],tr=Math.abs(Nr.x-mr.x)<.001?"y":"x",Yr=Math.abs(fr.x-Gr.x)<.001?"y":"x",hn=Z(mr.x,mr.y,Nr.x,Nr.y,Gr.x,Gr.y,fr.x,fr.y);if(hn){if(Fe[hn.x.toFixed(4)]===hn.y.toFixed(4))continue;Fe[hn.x.toFixed(4)]=hn.y.toFixed(4);var Tn=mr.t+Math.abs((hn[tr]-mr[tr])/(Nr[tr]-mr[tr]))*(Nr.t-mr.t),Kn=Gr.t+Math.abs((hn[Yr]-Gr[Yr])/(fr[Yr]-Gr[Yr]))*(fr.t-Gr.t);Tn>=0&&Tn<=1&&Kn>=0&&Kn<=1&&(nt?nr+=1:nr.push({x:hn.x,y:hn.y,t1:Tn,t2:Kn}))}}return nr},F=function(Lt,vt,nt){Lt=g(Lt),vt=g(vt);for(var pt,Bt,jt,ie,le,ae,_e,Ie,Fe,nr,Ne=nt?0:[],Be=0,yr=Lt.length;Be<yr;Be++){var mr=Lt[Be];if(mr[0]==="M")pt=le=mr[1],Bt=ae=mr[2];else{mr[0]==="C"?(Fe=[pt,Bt].concat(mr.slice(1)),pt=Fe[6],Bt=Fe[7]):(Fe=[pt,Bt,pt,Bt,le,ae,le,ae],pt=le,Bt=ae);for(var Nr=0,Gr=vt.length;Nr<Gr;Nr++){var fr=vt[Nr];if(fr[0]==="M")jt=_e=fr[1],ie=Ie=fr[2];else{fr[0]==="C"?(nr=[jt,ie].concat(fr.slice(1)),jt=nr[6],ie=nr[7]):(nr=[jt,ie,jt,ie,_e,Ie,_e,Ie],jt=_e,ie=Ie);var tr=Ct(Fe,nr,nt);if(nt)Ne+=tr;else{for(var Yr=0,hn=tr.length;Yr<hn;Yr++)tr[Yr].segment1=Be,tr[Yr].segment2=Nr,tr[Yr].bez1=Fe,tr[Yr].bez2=nr;Ne=Ne.concat(tr)}}}}}return Ne},z=function(Lt,vt){return F(Lt,vt)};function G(Lt,vt){var nt=[],pt=[];function Bt(jt,ie){if(jt.length===1)nt.push(jt[0]),pt.push(jt[0]);else{for(var le=[],ae=0;ae<jt.length-1;ae++)ae===0&&nt.push(jt[0]),ae===jt.length-2&&pt.push(jt[ae+1]),le[ae]=[(1-ie)*jt[ae][0]+ie*jt[ae+1][0],(1-ie)*jt[ae][1]+ie*jt[ae+1][1]];Bt(le,ie)}}return Lt.length&&Bt(Lt,vt),{left:nt,right:pt.reverse()}}function Y(Lt,vt,nt){var pt=[[Lt[1],Lt[2]]];nt=nt||2;var Bt=[];vt[0]==="A"?(pt.push(vt[6]),pt.push(vt[7])):vt[0]==="C"?(pt.push([vt[1],vt[2]]),pt.push([vt[3],vt[4]]),pt.push([vt[5],vt[6]])):vt[0]==="S"||vt[0]==="Q"?(pt.push([vt[1],vt[2]]),pt.push([vt[3],vt[4]])):pt.push([vt[1],vt[2]]);for(var jt=pt,ie=1/nt,le=0;le<nt-1;le++){var ae=ie/(1-ie*le),_e=G(jt,ae);Bt.push(_e.left),jt=_e.right}Bt.push(jt);var Ie=Bt.map(function(Fe){var nr=[];return Fe.length===4&&(nr.push("C"),nr=nr.concat(Fe[2])),Fe.length>=3&&(Fe.length===3&&nr.push("Q"),nr=nr.concat(Fe[1])),Fe.length===2&&nr.push("L"),nr=nr.concat(Fe[Fe.length-1]),nr});return Ie}var q=function(Lt,vt,nt){if(nt===1)return[[].concat(Lt)];var pt=[];if(vt[0]==="L"||vt[0]==="C"||vt[0]==="Q")pt=pt.concat(Y(Lt,vt,nt));else{var Bt=[].concat(Lt);Bt[0]==="M"&&(Bt[0]="L");for(var jt=0;jt<=nt-1;jt++)pt.push(Bt)}return pt},$=function(Lt,vt){if(Lt.length===1)return Lt;var nt=Lt.length-1,pt=vt.length-1,Bt=nt/pt,jt=[];if(Lt.length===1&&Lt[0][0]==="M"){for(var ie=0;ie<pt-nt;ie++)Lt.push(Lt[0]);return Lt}for(var ie=0;ie<pt;ie++){var le=Math.floor(Bt*ie);jt[le]=(jt[le]||0)+1}var ae=jt.reduce(function(_e,Ie,Fe){return Fe===nt?_e.concat(Lt[nt]):_e.concat(q(Lt[Fe],Lt[Fe+1],Ie))},[]);return ae.unshift(Lt[0]),(vt[pt]==="Z"||vt[pt]==="z")&&ae.push("Z"),ae},J=function(Lt,vt){if(Lt.length!==vt.length)return!1;var nt=!0;return(0,O.each)(Lt,function(pt,Bt){if(pt!==vt[Bt])return nt=!1,!1}),nt};function U(Lt,vt,nt){var pt=null,Bt=nt;return vt<Bt&&(Bt=vt,pt="add"),Lt<Bt&&(Bt=Lt,pt="del"),{type:pt,min:Bt}}var K=function(Lt,vt){var nt=Lt.length,pt=vt.length,Bt,jt,ie=0;if(nt===0||pt===0)return null;for(var le=[],ae=0;ae<=nt;ae++)le[ae]=[],le[ae][0]={min:ae};for(var _e=0;_e<=pt;_e++)le[0][_e]={min:_e};for(var ae=1;ae<=nt;ae++){Bt=Lt[ae-1];for(var _e=1;_e<=pt;_e++){jt=vt[_e-1],J(Bt,jt)?ie=0:ie=1;var Ie=le[ae-1][_e].min+1,Fe=le[ae][_e-1].min+1,nr=le[ae-1][_e-1].min+ie;le[ae][_e]=U(Ie,Fe,nr)}}return le},f=function(Lt,vt){var nt=K(Lt,vt),pt=Lt.length,Bt=vt.length,jt=[],ie=1,le=1;if(nt[pt][Bt].min!==pt){for(var ae=1;ae<=pt;ae++){var _e=nt[ae][ae].min;le=ae;for(var Ie=ie;Ie<=Bt;Ie++)nt[ae][Ie].min<_e&&(_e=nt[ae][Ie].min,le=Ie);ie=le,nt[ae][ie].type&&jt.push({index:ae-1,type:nt[ae][ie].type})}for(var ae=jt.length-1;ae>=0;ae--)ie=jt[ae].index,jt[ae].type==="add"?Lt.splice(ie,0,[].concat(Lt[ie])):Lt.splice(ie,1)}pt=Lt.length;var Fe=Bt-pt;if(pt<Bt)for(var ae=0;ae<Fe;ae++)Lt[pt-1][0]==="z"||Lt[pt-1][0]==="Z"?Lt.splice(pt-2,0,Lt[pt-2]):Lt.push(Lt[pt-1]),pt+=1;return Lt};function mt(Lt,vt,nt){for(var pt=[].concat(Lt),Bt,jt=1/(nt+1),ie=Tt(vt)[0],le=1;le<=nt;le++)jt*=le,Bt=Math.floor(Lt.length*jt),Bt===0?pt.unshift([ie[0]*jt+Lt[Bt][0]*(1-jt),ie[1]*jt+Lt[Bt][1]*(1-jt)]):pt.splice(Bt,0,[ie[0]*jt+Lt[Bt][0]*(1-jt),ie[1]*jt+Lt[Bt][1]*(1-jt)]);return pt}function Tt(Lt){var vt=[];switch(Lt[0]){case"M":vt.push([Lt[1],Lt[2]]);break;case"L":vt.push([Lt[1],Lt[2]]);break;case"A":vt.push([Lt[6],Lt[7]]);break;case"Q":vt.push([Lt[3],Lt[4]]),vt.push([Lt[1],Lt[2]]);break;case"T":vt.push([Lt[1],Lt[2]]);break;case"C":vt.push([Lt[5],Lt[6]]),vt.push([Lt[1],Lt[2]]),vt.push([Lt[3],Lt[4]]);break;case"S":vt.push([Lt[3],Lt[4]]),vt.push([Lt[1],Lt[2]]);break;case"H":vt.push([Lt[1],Lt[1]]);break;case"V":vt.push([Lt[1],Lt[1]]);break;default:}return vt}var at=function(Lt,vt){if(Lt.length<=1)return Lt;for(var nt,pt=0;pt<vt.length;pt++)if(Lt[pt][0]!==vt[pt][0])switch(nt=Tt(Lt[pt]),vt[pt][0]){case"M":Lt[pt]=["M"].concat(nt[0]);break;case"L":Lt[pt]=["L"].concat(nt[0]);break;case"A":Lt[pt]=[].concat(vt[pt]),Lt[pt][6]=nt[0][0],Lt[pt][7]=nt[0][1];break;case"Q":if(nt.length<2)if(pt>0)nt=mt(nt,Lt[pt-1],1);else{Lt[pt]=vt[pt];break}Lt[pt]=["Q"].concat(nt.reduce(function(Bt,jt){return Bt.concat(jt)},[]));break;case"T":Lt[pt]=["T"].concat(nt[0]);break;case"C":if(nt.length<3)if(pt>0)nt=mt(nt,Lt[pt-1],2);else{Lt[pt]=vt[pt];break}Lt[pt]=["C"].concat(nt.reduce(function(Bt,jt){return Bt.concat(jt)},[]));break;case"S":if(nt.length<2)if(pt>0)nt=mt(nt,Lt[pt-1],1);else{Lt[pt]=vt[pt];break}Lt[pt]=["S"].concat(nt.reduce(function(Bt,jt){return Bt.concat(jt)},[]));break;default:Lt[pt]=vt[pt]}return Lt},Pt=function(){function Lt(vt,nt){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=vt,this.name=vt,this.originalEvent=nt,this.timeStamp=nt.timeStamp}return Lt.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},Lt.prototype.stopPropagation=function(){this.propagationStopped=!0},Lt.prototype.toString=function(){var vt=this.type;return"[Event (type="+vt+")]"},Lt.prototype.save=function(){},Lt.prototype.restore=function(){},Lt}(),wt=Pt,Et=d(70655),Rt=d(90494),Nt=d(73890),kt=d(46812),_t=d(21830),ht=d(33643),ft=d(66631),Mt=d(66974),rt=d(27154),et=d(85260);function lt(Lt,vt){var nt=Lt.indexOf(vt);nt!==-1&&Lt.splice(nt,1)}var st=typeof window!="undefined"&&typeof window.document!="undefined";function At(Lt,vt){if(Lt.isCanvas())return!0;for(var nt=vt.getParent(),pt=!1;nt;){if(nt===Lt){pt=!0;break}nt=nt.getParent()}return pt}function Ot(Lt){return Lt.cfg.visible&&Lt.cfg.capture}var Qt=function(Lt){(0,Et.__extends)(vt,Lt);function vt(nt){var pt=Lt.call(this)||this;pt.destroyed=!1;var Bt=pt.getDefaultCfg();return pt.cfg=(0,Mt.default)(Bt,nt),pt}return vt.prototype.getDefaultCfg=function(){return{}},vt.prototype.get=function(nt){return this.cfg[nt]},vt.prototype.set=function(nt,pt){this.cfg[nt]=pt},vt.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},vt}(Rt.default),ve=Qt,fe=d(43631),ce=d(31506);function Ae(Lt,vt){var nt=[],pt=Lt[0],Bt=Lt[1],jt=Lt[2],ie=Lt[3],le=Lt[4],ae=Lt[5],_e=Lt[6],Ie=Lt[7],Fe=Lt[8],nr=vt[0],Ne=vt[1],Be=vt[2],yr=vt[3],mr=vt[4],Nr=vt[5],Gr=vt[6],fr=vt[7],tr=vt[8];return nt[0]=nr*pt+Ne*ie+Be*_e,nt[1]=nr*Bt+Ne*le+Be*Ie,nt[2]=nr*jt+Ne*ae+Be*Fe,nt[3]=yr*pt+mr*ie+Nr*_e,nt[4]=yr*Bt+mr*le+Nr*Ie,nt[5]=yr*jt+mr*ae+Nr*Fe,nt[6]=Gr*pt+fr*ie+tr*_e,nt[7]=Gr*Bt+fr*le+tr*Ie,nt[8]=Gr*jt+fr*ae+tr*Fe,nt}function De(Lt,vt){var nt=[],pt=vt[0],Bt=vt[1];return nt[0]=Lt[0]*pt+Lt[3]*Bt+Lt[6],nt[1]=Lt[1]*pt+Lt[4]*Bt+Lt[7],nt}function rr(Lt){var vt=[],nt=Lt[0],pt=Lt[1],Bt=Lt[2],jt=Lt[3],ie=Lt[4],le=Lt[5],ae=Lt[6],_e=Lt[7],Ie=Lt[8],Fe=Ie*ie-le*_e,nr=-Ie*jt+le*ae,Ne=_e*jt-ie*ae,Be=nt*Fe+pt*nr+Bt*Ne;return Be?(Be=1/Be,vt[0]=Fe*Be,vt[1]=(-Ie*pt+Bt*_e)*Be,vt[2]=(le*pt-Bt*ie)*Be,vt[3]=nr*Be,vt[4]=(Ie*nt-Bt*ae)*Be,vt[5]=(-le*nt+Bt*jt)*Be,vt[6]=Ne*Be,vt[7]=(-_e*nt+pt*ae)*Be,vt[8]=(ie*nt-pt*jt)*Be,vt):null}var Je="matrix",Er=["zIndex","capture","visible","type"],Jr=["repeat"],Ar=":",Qr="*";function Un(Lt){for(var vt=[],nt=0;nt<Lt.length;nt++)(0,O.isArray)(Lt[nt])?vt.push([].concat(Lt[nt])):vt.push(Lt[nt]);return vt}function ii(Lt,vt){var nt={},pt=vt.attrs;for(var Bt in Lt)nt[Bt]=pt[Bt];return nt}function wi(Lt,vt){var nt={},pt=vt.attr();return(0,O.each)(Lt,function(Bt,jt){Jr.indexOf(jt)===-1&&!(0,O.isEqual)(pt[jt],Bt)&&(nt[jt]=Bt)}),nt}function Si(Lt,vt){if(vt.onFrame)return Lt;var nt=vt.startTime,pt=vt.delay,Bt=vt.duration,jt=Object.prototype.hasOwnProperty;return(0,O.each)(Lt,function(ie){nt+pt<ie.startTime+ie.delay+ie.duration&&Bt>ie.delay&&(0,O.each)(vt.toAttrs,function(le,ae){jt.call(ie.toAttrs,ae)&&(delete ie.toAttrs[ae],delete ie.fromAttrs[ae])})}),Lt}var Wt=function(Lt){(0,Et.__extends)(vt,Lt);function vt(nt){var pt=Lt.call(this,nt)||this;pt.attrs={};var Bt=pt.getDefaultAttrs();return(0,O.mix)(Bt,nt.attrs),pt.attrs=Bt,pt.initAttrs(Bt),pt.initAnimate(),pt}return vt.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},vt.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},vt.prototype.onCanvasChange=function(nt){},vt.prototype.initAttrs=function(nt){},vt.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},vt.prototype.isGroup=function(){return!1},vt.prototype.getParent=function(){return this.get("parent")},vt.prototype.getCanvas=function(){return this.get("canvas")},vt.prototype.attr=function(){for(var nt,pt=[],Bt=0;Bt<arguments.length;Bt++)pt[Bt]=arguments[Bt];var jt=pt[0],ie=pt[1];if(!jt)return this.attrs;if((0,O.isObject)(jt)){for(var le in jt)this.setAttr(le,jt[le]);return this.afterAttrsChange(jt),this}return pt.length===2?(this.setAttr(jt,ie),this.afterAttrsChange((nt={},nt[jt]=ie,nt)),this):this.attrs[jt]},vt.prototype.isClipped=function(nt,pt){var Bt=this.getClip();return Bt&&!Bt.isHit(nt,pt)},vt.prototype.setAttr=function(nt,pt){var Bt=this.attrs[nt];Bt!==pt&&(this.attrs[nt]=pt,this.onAttrChange(nt,pt,Bt))},vt.prototype.onAttrChange=function(nt,pt,Bt){nt==="matrix"&&this.set("totalMatrix",null)},vt.prototype.afterAttrsChange=function(nt){this.onCanvasChange("attr")},vt.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},vt.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},vt.prototype.setZIndex=function(nt){this.set("zIndex",nt);var pt=this.getParent();return pt&&pt.sort(),this},vt.prototype.toFront=function(){var nt=this.getParent();if(!!nt){var pt=nt.getChildren(),Bt=this.get("el"),jt=pt.indexOf(this);pt.splice(jt,1),pt.push(this),this.onCanvasChange("zIndex")}},vt.prototype.toBack=function(){var nt=this.getParent();if(!!nt){var pt=nt.getChildren(),Bt=this.get("el"),jt=pt.indexOf(this);pt.splice(jt,1),pt.unshift(this),this.onCanvasChange("zIndex")}},vt.prototype.remove=function(nt){nt===void 0&&(nt=!0);var pt=this.getParent();pt?(lt(pt.getChildren(),this),pt.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),nt&&this.destroy()},vt.prototype.resetMatrix=function(){this.attr(Je,this.getDefaultMatrix()),this.onCanvasChange("matrix")},vt.prototype.getMatrix=function(){return this.attr(Je)},vt.prototype.setMatrix=function(nt){this.attr(Je,nt),this.onCanvasChange("matrix")},vt.prototype.getTotalMatrix=function(){var nt=this.get("totalMatrix");if(!nt){var pt=this.attr("matrix"),Bt=this.get("parentMatrix");Bt&&pt?nt=Ae(Bt,pt):nt=pt||Bt,this.set("totalMatrix",nt)}return nt},vt.prototype.applyMatrix=function(nt){var pt=this.attr("matrix"),Bt=null;nt&&pt?Bt=Ae(nt,pt):Bt=pt||nt,this.set("totalMatrix",Bt),this.set("parentMatrix",nt)},vt.prototype.getDefaultMatrix=function(){return null},vt.prototype.applyToMatrix=function(nt){var pt=this.attr("matrix");return pt?De(pt,nt):nt},vt.prototype.invertFromMatrix=function(nt){var pt=this.attr("matrix");if(pt){var Bt=rr(pt);if(Bt)return De(Bt,nt)}return nt},vt.prototype.setClip=function(nt){var pt=this.getCanvas(),Bt=null;if(nt){var jt=this.getShapeBase(),ie=(0,O.upperFirst)(nt.type),le=jt[ie];le&&(Bt=new le({type:nt.type,isClipShape:!0,attrs:nt.attrs,canvas:pt}))}return this.set("clipShape",Bt),this.onCanvasChange("clip"),Bt},vt.prototype.getClip=function(){var nt=this.cfg.clipShape;return nt||null},vt.prototype.clone=function(){var nt=this,pt=this.attrs,Bt={};(0,O.each)(pt,function(le,ae){(0,O.isArray)(pt[ae])?Bt[ae]=Un(pt[ae]):Bt[ae]=pt[ae]});var jt=this.constructor,ie=new jt({attrs:Bt});return(0,O.each)(Er,function(le){ie.set(le,nt.get(le))}),ie},vt.prototype.destroy=function(){var nt=this.destroyed;nt||(this.attrs={},Lt.prototype.destroy.call(this))},vt.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},vt.prototype.animate=function(){for(var nt=[],pt=0;pt<arguments.length;pt++)nt[pt]=arguments[pt];this.set("animating",!0);var Bt=this.get("timeline");Bt||(Bt=this.get("canvas").get("timeline"),this.set("timeline",Bt));var jt=this.get("animations")||[];Bt.timer||Bt.initTimer();var ie=nt[0],le=nt[1],ae=nt[2],_e=ae===void 0?"easeLinear":ae,Ie=nt[3],Fe=Ie===void 0?O.noop:Ie,nr=nt[4],Ne=nr===void 0?0:nr,Be,yr,mr,Nr,Gr;(0,O.isFunction)(ie)?(Be=ie,ie={}):(0,O.isObject)(ie)&&ie.onFrame&&(Be=ie.onFrame,yr=ie.repeat),(0,O.isObject)(le)?(Gr=le,le=Gr.duration,_e=Gr.easing||"easeLinear",Ne=Gr.delay||0,yr=Gr.repeat||yr||!1,Fe=Gr.callback||O.noop,mr=Gr.pauseCallback||O.noop,Nr=Gr.resumeCallback||O.noop):((0,O.isNumber)(Fe)&&(Ne=Fe,Fe=null),(0,O.isFunction)(_e)?(Fe=_e,_e="easeLinear"):_e=_e||"easeLinear");var fr=wi(ie,this),tr={fromAttrs:ii(fr,this),toAttrs:fr,duration:le,easing:_e,repeat:yr,callback:Fe,pauseCallback:mr,resumeCallback:Nr,delay:Ne,startTime:Bt.getTime(),id:(0,O.uniqueId)(),onFrame:Be,pathFormatted:!1};jt.length>0?jt=Si(jt,tr):Bt.addAnimator(this),jt.push(tr),this.set("animations",jt),this.set("_pause",{isPaused:!1})},vt.prototype.stopAnimate=function(nt){var pt=this;nt===void 0&&(nt=!0);var Bt=this.get("animations");(0,O.each)(Bt,function(jt){nt&&(jt.onFrame?pt.attr(jt.onFrame(1)):pt.attr(jt.toAttrs)),jt.callback&&jt.callback()}),this.set("animating",!1),this.set("animations",[])},vt.prototype.pauseAnimate=function(){var nt=this.get("timeline"),pt=this.get("animations"),Bt=nt.getTime();return(0,O.each)(pt,function(jt){jt._paused=!0,jt._pauseTime=Bt,jt.pauseCallback&&jt.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:Bt}),this},vt.prototype.resumeAnimate=function(){var nt=this.get("timeline"),pt=nt.getTime(),Bt=this.get("animations"),jt=this.get("_pause").pauseTime;return(0,O.each)(Bt,function(ie){ie.startTime=ie.startTime+(pt-jt),ie._paused=!1,ie._pauseTime=null,ie.resumeCallback&&ie.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",Bt),this},vt.prototype.emitDelegation=function(nt,pt){var Bt=this,jt=pt.propagationPath,ie=this.getEvents(),le;nt==="mouseenter"?le=pt.fromShape:nt==="mouseleave"&&(le=pt.toShape);for(var ae=function(nr){var Ne=jt[nr],Be=Ne.get("name");if(Be){if((Ne.isGroup()||Ne.isCanvas&&Ne.isCanvas())&&le&&At(Ne,le))return"break";(0,O.isArray)(Be)?(0,O.each)(Be,function(yr){Bt.emitDelegateEvent(Ne,yr,pt)}):_e.emitDelegateEvent(Ne,Be,pt)}},_e=this,Ie=0;Ie<jt.length;Ie++){var Fe=ae(Ie);if(Fe==="break")break}},vt.prototype.emitDelegateEvent=function(nt,pt,Bt){var jt=this.getEvents(),ie=pt+Ar+Bt.type;(jt[ie]||jt[Qr])&&(Bt.name=ie,Bt.currentTarget=nt,Bt.delegateTarget=this,Bt.delegateObject=nt.get("delegateObject"),this.emit(ie,Bt))},vt.prototype.translate=function(nt,pt){nt===void 0&&(nt=0),pt===void 0&&(pt=0);var Bt=this.getMatrix(),jt=ce.transform(Bt,[["t",nt,pt]]);return this.setMatrix(jt),this},vt.prototype.move=function(nt,pt){var Bt=this.attr("x")||0,jt=this.attr("y")||0;return this.translate(nt-Bt,pt-jt),this},vt.prototype.moveTo=function(nt,pt){return this.move(nt,pt)},vt.prototype.scale=function(nt,pt){var Bt=this.getMatrix(),jt=ce.transform(Bt,[["s",nt,pt||nt]]);return this.setMatrix(jt),this},vt.prototype.rotate=function(nt){var pt=this.getMatrix(),Bt=ce.transform(pt,[["r",nt]]);return this.setMatrix(Bt),this},vt.prototype.rotateAtStart=function(nt){var pt=this.attr(),Bt=pt.x,jt=pt.y,ie=this.getMatrix(),le=ce.transform(ie,[["t",-Bt,-jt],["r",nt],["t",Bt,jt]]);return this.setMatrix(le),this},vt.prototype.rotateAtPoint=function(nt,pt,Bt){var jt=this.getMatrix(),ie=ce.transform(jt,[["t",-nt,-pt],["r",Bt],["t",nt,pt]]);return this.setMatrix(ie),this},vt}(ve),Kt=Wt,re={},oe="_INDEX";function me(Lt){Lt.isGroup()?(Lt.isEntityGroup()||Lt.get("children").length)&&Lt.onCanvasChange("add"):Lt.onCanvasChange("add")}function be(Lt,vt){if(Lt.set("canvas",vt),Lt.isGroup()){var nt=Lt.get("children");nt.length&&nt.forEach(function(pt){be(pt,vt)})}}function we(Lt,vt){if(Lt.set("timeline",vt),Lt.isGroup()){var nt=Lt.get("children");nt.length&&nt.forEach(function(pt){we(pt,vt)})}}function Ee(Lt,vt){var nt=Lt.getChildren();return nt.indexOf(vt)>=0}function de(Lt,vt,nt){nt===void 0&&(nt=!0),nt?vt.destroy():(vt.set("parent",null),vt.set("canvas",null)),lt(Lt.getChildren(),vt)}function Xe(Lt){return function(vt,nt){var pt=Lt(vt,nt);return pt===0?vt[oe]-nt[oe]:pt}}var ke=function(Lt){(0,Et.__extends)(vt,Lt);function vt(){return Lt!==null&&Lt.apply(this,arguments)||this}return vt.prototype.isCanvas=function(){return!1},vt.prototype.getBBox=function(){var nt=Infinity,pt=-Infinity,Bt=Infinity,jt=-Infinity,ie=[],le=[],ae=this.getChildren().filter(function(Ie){return Ie.get("visible")&&(!Ie.isGroup()||Ie.isGroup()&&Ie.getChildren().length>0)});ae.length>0?((0,rt.default)(ae,function(Ie){var Fe=Ie.getBBox();ie.push(Fe.minX,Fe.maxX),le.push(Fe.minY,Fe.maxY)}),nt=Math.min.apply(null,ie),pt=Math.max.apply(null,ie),Bt=Math.min.apply(null,le),jt=Math.max.apply(null,le)):(nt=0,pt=0,Bt=0,jt=0);var _e={x:nt,y:Bt,minX:nt,minY:Bt,maxX:pt,maxY:jt,width:pt-nt,height:jt-Bt};return _e},vt.prototype.getCanvasBBox=function(){var nt=Infinity,pt=-Infinity,Bt=Infinity,jt=-Infinity,ie=[],le=[],ae=this.getChildren().filter(function(Ie){return Ie.get("visible")&&(!Ie.isGroup()||Ie.isGroup()&&Ie.getChildren().length>0)});ae.length>0?((0,rt.default)(ae,function(Ie){var Fe=Ie.getCanvasBBox();ie.push(Fe.minX,Fe.maxX),le.push(Fe.minY,Fe.maxY)}),nt=Math.min.apply(null,ie),pt=Math.max.apply(null,ie),Bt=Math.min.apply(null,le),jt=Math.max.apply(null,le)):(nt=0,pt=0,Bt=0,jt=0);var _e={x:nt,y:Bt,minX:nt,minY:Bt,maxX:pt,maxY:jt,width:pt-nt,height:jt-Bt};return _e},vt.prototype.getDefaultCfg=function(){var nt=Lt.prototype.getDefaultCfg.call(this);return nt.children=[],nt},vt.prototype.onAttrChange=function(nt,pt,Bt){if(Lt.prototype.onAttrChange.call(this,nt,pt,Bt),nt==="matrix"){var jt=this.getTotalMatrix();this._applyChildrenMarix(jt)}},vt.prototype.applyMatrix=function(nt){var pt=this.getTotalMatrix();Lt.prototype.applyMatrix.call(this,nt);var Bt=this.getTotalMatrix();Bt!==pt&&this._applyChildrenMarix(Bt)},vt.prototype._applyChildrenMarix=function(nt){var pt=this.getChildren();(0,rt.default)(pt,function(Bt){Bt.applyMatrix(nt)})},vt.prototype.addShape=function(){for(var nt=[],pt=0;pt<arguments.length;pt++)nt[pt]=arguments[pt];var Bt=nt[0],jt=nt[1];(0,ht.default)(Bt)?jt=Bt:jt.type=Bt;var ie=re[jt.type];ie||(ie=(0,et.default)(jt.type),re[jt.type]=ie);var le=this.getShapeBase(),ae=new le[ie](jt);return this.add(ae),ae},vt.prototype.addGroup=function(){for(var nt=[],pt=0;pt<arguments.length;pt++)nt[pt]=arguments[pt];var Bt=nt[0],jt=nt[1],ie;if((0,kt.default)(Bt))jt?ie=new Bt(jt):ie=new Bt({parent:this});else{var le=Bt||{},ae=this.getGroupBase();ie=new ae(le)}return this.add(ie),ie},vt.prototype.getCanvas=function(){var nt;return this.isCanvas()?nt=this:nt=this.get("canvas"),nt},vt.prototype.getShape=function(nt,pt,Bt){if(!Ot(this))return null;var jt=this.getChildren(),ie;if(this.isCanvas())ie=this._findShape(jt,nt,pt,Bt);else{var le=[nt,pt,1];le=this.invertFromMatrix(le),this.isClipped(le[0],le[1])||(ie=this._findShape(jt,le[0],le[1],Bt))}return ie},vt.prototype._findShape=function(nt,pt,Bt,jt){for(var ie=null,le=nt.length-1;le>=0;le--){var ae=nt[le];if(Ot(ae)&&(ae.isGroup()?ie=ae.getShape(pt,Bt,jt):ae.isHit(pt,Bt)&&(ie=ae)),ie)break}return ie},vt.prototype.add=function(nt){var pt=this.getCanvas(),Bt=this.getChildren(),jt=this.get("timeline"),ie=nt.getParent();ie&&de(ie,nt,!1),nt.set("parent",this),pt&&be(nt,pt),jt&&we(nt,jt),Bt.push(nt),me(nt),this._applyElementMatrix(nt)},vt.prototype._applyElementMatrix=function(nt){var pt=this.getTotalMatrix();pt&&nt.applyMatrix(pt)},vt.prototype.getChildren=function(){return this.get("children")},vt.prototype.sort=function(){var nt=this.getChildren();(0,rt.default)(nt,function(pt,Bt){return pt[oe]=Bt,pt}),nt.sort(Xe(function(pt,Bt){return pt.get("zIndex")-Bt.get("zIndex")})),this.onCanvasChange("sort")},vt.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var nt=this.getChildren(),pt=nt.length-1;pt>=0;pt--)nt[pt].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},vt.prototype.destroy=function(){this.get("destroyed")||(this.clear(),Lt.prototype.destroy.call(this))},vt.prototype.getFirst=function(){return this.getChildByIndex(0)},vt.prototype.getLast=function(){var nt=this.getChildren();return this.getChildByIndex(nt.length-1)},vt.prototype.getChildByIndex=function(nt){var pt=this.getChildren();return pt[nt]},vt.prototype.getCount=function(){var nt=this.getChildren();return nt.length},vt.prototype.contain=function(nt){var pt=this.getChildren();return pt.indexOf(nt)>-1},vt.prototype.removeChild=function(nt,pt){pt===void 0&&(pt=!0),this.contain(nt)&&nt.remove(pt)},vt.prototype.findAll=function(nt){var pt=[],Bt=this.getChildren();return(0,rt.default)(Bt,function(jt){nt(jt)&&pt.push(jt),jt.isGroup()&&(pt=pt.concat(jt.findAll(nt)))}),pt},vt.prototype.find=function(nt){var pt=null,Bt=this.getChildren();return(0,rt.default)(Bt,function(jt){if(nt(jt)?pt=jt:jt.isGroup()&&(pt=jt.find(nt)),pt)return!1}),pt},vt.prototype.findById=function(nt){return this.find(function(pt){return pt.get("id")===nt})},vt.prototype.findByClassName=function(nt){return this.find(function(pt){return pt.get("className")===nt})},vt.prototype.findAllByName=function(nt){return this.findAll(function(pt){return pt.get("name")===nt})},vt}(Kt),qe=ke,ir=0,er=0,or=0,sr=1e3,gr,Qe,wr=0,Ir=0,Pr=0,kr=typeof performance=="object"&&performance.now?performance:Date,Hr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Lt){setTimeout(Lt,17)};function zr(){return Ir||(Hr(Nn),Ir=kr.now()+Pr)}function Nn(){Ir=0}function tn(){this._call=this._time=this._next=null}tn.prototype=zn.prototype={constructor:tn,restart:function(Lt,vt,nt){if(typeof Lt!="function")throw new TypeError("callback is not a function");nt=(nt==null?zr():+nt)+(vt==null?0:+vt),!this._next&&Qe!==this&&(Qe?Qe._next=this:gr=this,Qe=this),this._call=Lt,this._time=nt,Mr()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Mr())}};function zn(Lt,vt,nt){var pt=new tn;return pt.restart(Lt,vt,nt),pt}function ai(){zr(),++ir;for(var Lt=gr,vt;Lt;)(vt=Ir-Lt._time)>=0&&Lt._call.call(null,vt),Lt=Lt._next;--ir}function Qn(){Ir=(wr=kr.now())+Pr,ir=er=0;try{ai()}finally{ir=0,Vi(),Ir=0}}function Ri(){var Lt=kr.now(),vt=Lt-wr;vt>sr&&(Pr-=vt,wr=Lt)}function Vi(){for(var Lt,vt=gr,nt,pt=Infinity;vt;)vt._call?(pt>vt._time&&(pt=vt._time),Lt=vt,vt=vt._next):(nt=vt._next,vt._next=null,vt=Lt?Lt._next=nt:gr=nt);Qe=Lt,Mr(pt)}function Mr(Lt){if(!ir){er&&(er=clearTimeout(er));var vt=Lt-Ir;vt>24?(Lt<Infinity&&(er=setTimeout(Qn,Lt-kr.now()-Pr)),or&&(or=clearInterval(or))):(or||(wr=kr.now(),or=setInterval(Ri,sr)),ir=1,Hr(Qn))}}var ui=d(13681),fi=d(26257),ti=d(88122),Sn=function(Lt){return["fill","stroke","fillStyle","strokeStyle"].includes(Lt)},hi=function(Lt){return/^[r,R,L,l]{1}[\s]*\(/.test(Lt)},Hi=[1,0,0,0,1,0,0,0,1];function _i(Lt,vt,nt){var pt={},Bt=vt.fromAttrs,jt=vt.toAttrs;if(!Lt.destroyed){var ie;for(var le in jt)if(!(0,O.isEqual)(Bt[le],jt[le]))if(le==="path"){var ae=jt[le],_e=Bt[le];ae.length>_e.length?(ae=T(jt[le]),_e=T(Bt[le]),_e=f(_e,ae),_e=at(_e,ae),vt.fromAttrs.path=_e,vt.toAttrs.path=ae):vt.pathFormatted||(ae=T(jt[le]),_e=T(Bt[le]),_e=at(_e,ae),vt.fromAttrs.path=_e,vt.toAttrs.path=ae,vt.pathFormatted=!0),pt[le]=[];for(var Ie=0;Ie<ae.length;Ie++){for(var Fe=ae[Ie],nr=_e[Ie],Ne=[],Be=0;Be<Fe.length;Be++)(0,O.isNumber)(Fe[Be])&&nr&&(0,O.isNumber)(nr[Be])?(ie=(0,fi.Z)(nr[Be],Fe[Be]),Ne.push(ie(nt))):Ne.push(Fe[Be]);pt[le].push(Ne)}}else if(le==="matrix"){var yr=(0,ti.Z)(Bt[le]||Hi,jt[le]||Hi),mr=yr(nt);pt[le]=mr}else Sn(le)&&hi(jt[le])?pt[le]=jt[le]:(0,O.isFunction)(jt[le])||(ie=(0,fi.Z)(Bt[le],jt[le]),pt[le]=ie(nt));Lt.attr(pt)}}function Ni(Lt,vt,nt){var pt=vt.startTime,Bt=vt.delay;if(nt<pt+Bt||vt._paused)return!1;var jt,ie=vt.duration,le=vt.easing;if(nt=nt-pt-vt.delay,vt.repeat)jt=nt%ie/ie,jt=ui[le](jt);else if(jt=nt/ie,jt<1)jt=ui[le](jt);else return vt.onFrame?Lt.attr(vt.onFrame(1)):Lt.attr(vt.toAttrs),!0;if(vt.onFrame){var ae=vt.onFrame(jt);Lt.attr(ae)}else _i(Lt,vt,jt);return!1}var Zn=function(){function Lt(vt){this.animators=[],this.current=0,this.timer=null,this.canvas=vt}return Lt.prototype.initTimer=function(){var vt=this,nt=!1,pt,Bt,jt;this.timer=zn(function(ie){if(vt.current=ie,vt.animators.length>0){for(var le=vt.animators.length-1;le>=0;le--){if(pt=vt.animators[le],pt.destroyed){vt.removeAnimator(le);continue}if(!pt.isAnimatePaused()){Bt=pt.get("animations");for(var ae=Bt.length-1;ae>=0;ae--)jt=Bt[ae],nt=Ni(pt,jt,ie),nt&&(Bt.splice(ae,1),nt=!1,jt.callback&&jt.callback())}Bt.length===0&&vt.removeAnimator(le)}var _e=vt.canvas.get("autoDraw");_e||vt.canvas.draw()}})},Lt.prototype.addAnimator=function(vt){this.animators.push(vt)},Lt.prototype.removeAnimator=function(vt){this.animators.splice(vt,1)},Lt.prototype.isAnimating=function(){return!!this.animators.length},Lt.prototype.stop=function(){this.timer&&this.timer.stop()},Lt.prototype.stopAllAnimations=function(vt){vt===void 0&&(vt=!0),this.animators.forEach(function(nt){nt.stopAnimate(vt)}),this.animators=[],this.canvas.draw()},Lt.prototype.getTime=function(){return this.current},Lt}(),ea=Zn,pa=40,Xn=0,ci=":",Li=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function ia(Lt,vt){for(var nt in Lt)if(Lt.hasOwnProperty(nt)&&nt.indexOf(ci+vt)>=0)return!0;return!1}function Oi(Lt,vt,nt){nt.name=vt,nt.target=Lt,nt.currentTarget=Lt,nt.delegateTarget=Lt,Lt.emit(vt,nt)}function ga(Lt,vt,nt){if(nt.bubbles){var pt=void 0,Bt=!1;if(vt==="mouseenter"?(pt=nt.fromShape,Bt=!0):vt==="mouseleave"&&(Bt=!0,pt=nt.toShape),Lt.isCanvas()&&Bt)return;if(pt&&At(Lt,pt)){nt.bubbles=!1;return}nt.name=vt,nt.currentTarget=Lt,nt.delegateTarget=Lt,Lt.emit(vt,nt)}}var vi=function(){function Lt(vt){var nt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(pt){var Bt=pt.type;nt._triggerEvent(Bt,pt)},this._onDocumentMove=function(pt){var Bt=nt.canvas,jt=Bt.get("el");if(jt!==pt.target&&(nt.dragging||nt.currentShape)){var ie=nt._getPointInfo(pt);nt.dragging&&nt._emitEvent("drag",pt,ie,nt.draggingShape)}},this._onDocumentMouseUp=function(pt){var Bt=nt.canvas,jt=Bt.get("el");if(jt!==pt.target&&nt.dragging){var ie=nt._getPointInfo(pt);nt.draggingShape&&nt._emitEvent("drop",pt,ie,null),nt._emitEvent("dragend",pt,ie,nt.draggingShape),nt._afterDrag(nt.draggingShape,ie,pt)}},this.canvas=vt.canvas}return Lt.prototype.init=function(){this._bindEvents()},Lt.prototype._bindEvents=function(){var vt=this,nt=this.canvas.get("el");(0,rt.default)(Li,function(pt){nt.addEventListener(pt,vt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Lt.prototype._clearEvents=function(){var vt=this,nt=this.canvas.get("el");(0,rt.default)(Li,function(pt){nt.removeEventListener(pt,vt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Lt.prototype._getEventObj=function(vt,nt,pt,Bt,jt,ie){var le=new wt(vt,nt);return le.fromShape=jt,le.toShape=ie,le.x=pt.x,le.y=pt.y,le.clientX=pt.clientX,le.clientY=pt.clientY,le.propagationPath.push(Bt),le},Lt.prototype._getShape=function(vt,nt){return this.canvas.getShape(vt.x,vt.y,nt)},Lt.prototype._getPointInfo=function(vt){var nt=this.canvas,pt=nt.getClientByEvent(vt),Bt=nt.getPointByEvent(vt);return{x:Bt.x,y:Bt.y,clientX:pt.x,clientY:pt.y}},Lt.prototype._triggerEvent=function(vt,nt){var pt=this._getPointInfo(nt),Bt=this._getShape(pt,nt),jt=this["_on"+vt],ie=!1;if(jt)jt.call(this,pt,Bt,nt);else{var le=this.currentShape;vt==="mouseenter"||vt==="dragenter"||vt==="mouseover"?(this._emitEvent(vt,nt,pt,null,null,Bt),Bt&&this._emitEvent(vt,nt,pt,Bt,null,Bt),vt==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",nt,pt,null)):vt==="mouseleave"||vt==="dragleave"||vt==="mouseout"?(ie=!0,le&&this._emitEvent(vt,nt,pt,le,le,null),this._emitEvent(vt,nt,pt,null,le,null),vt==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",nt,pt,null)):this._emitEvent(vt,nt,pt,Bt,null,null)}if(ie||(this.currentShape=Bt),Bt&&!Bt.get("destroyed")){var ae=this.canvas,_e=ae.get("el");_e.style.cursor=Bt.attr("cursor")||ae.get("cursor")}},Lt.prototype._onmousedown=function(vt,nt,pt){pt.button===Xn&&(this.mousedownShape=nt,this.mousedownPoint=vt,this.mousedownTimeStamp=pt.timeStamp),this._emitEvent("mousedown",pt,vt,nt,null,null)},Lt.prototype._emitMouseoverEvents=function(vt,nt,pt,Bt){var jt=this.canvas.get("el");pt!==Bt&&(pt&&(this._emitEvent("mouseout",vt,nt,pt,pt,Bt),this._emitEvent("mouseleave",vt,nt,pt,pt,Bt),(!Bt||Bt.get("destroyed"))&&(jt.style.cursor=this.canvas.get("cursor"))),Bt&&(this._emitEvent("mouseover",vt,nt,Bt,pt,Bt),this._emitEvent("mouseenter",vt,nt,Bt,pt,Bt)))},Lt.prototype._emitDragoverEvents=function(vt,nt,pt,Bt,jt){Bt?(Bt!==pt&&(pt&&this._emitEvent("dragleave",vt,nt,pt,pt,Bt),this._emitEvent("dragenter",vt,nt,Bt,pt,Bt)),jt||this._emitEvent("dragover",vt,nt,Bt)):pt&&this._emitEvent("dragleave",vt,nt,pt,pt,Bt),jt&&this._emitEvent("dragover",vt,nt,Bt)},Lt.prototype._afterDrag=function(vt,nt,pt){vt&&(vt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Bt=this._getShape(nt,pt);Bt!==vt&&this._emitMouseoverEvents(pt,nt,vt,Bt),this.currentShape=Bt},Lt.prototype._onmouseup=function(vt,nt,pt){if(pt.button===Xn){var Bt=this.draggingShape;this.dragging?(Bt&&this._emitEvent("drop",pt,vt,nt),this._emitEvent("dragend",pt,vt,Bt),this._afterDrag(Bt,vt,pt)):(this._emitEvent("mouseup",pt,vt,nt),nt===this.mousedownShape&&this._emitEvent("click",pt,vt,nt),this.mousedownShape=null,this.mousedownPoint=null)}},Lt.prototype._ondragover=function(vt,nt,pt){pt.preventDefault();var Bt=this.currentShape;this._emitDragoverEvents(pt,vt,Bt,nt,!0)},Lt.prototype._onmousemove=function(vt,nt,pt){var Bt=this.canvas,jt=this.currentShape,ie=this.draggingShape;if(this.dragging)ie&&this._emitDragoverEvents(pt,vt,jt,nt,!1),this._emitEvent("drag",pt,vt,ie);else{var le=this.mousedownPoint;if(le){var ae=this.mousedownShape,_e=pt.timeStamp,Ie=_e-this.mousedownTimeStamp,Fe=le.clientX-vt.clientX,nr=le.clientY-vt.clientY,Ne=Fe*Fe+nr*nr;Ie>120||Ne>pa?ae&&ae.get("draggable")?(ie=this.mousedownShape,ie.set("capture",!1),this.draggingShape=ie,this.dragging=!0,this._emitEvent("dragstart",pt,vt,ie),this.mousedownShape=null,this.mousedownPoint=null):!ae&&Bt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",pt,vt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(pt,vt,jt,nt),this._emitEvent("mousemove",pt,vt,nt)):(this._emitMouseoverEvents(pt,vt,jt,nt),this._emitEvent("mousemove",pt,vt,nt))}else this._emitMouseoverEvents(pt,vt,jt,nt),this._emitEvent("mousemove",pt,vt,nt)}},Lt.prototype._emitEvent=function(vt,nt,pt,Bt,jt,ie){var le=this._getEventObj(vt,nt,pt,Bt,jt,ie);if(Bt){le.shape=Bt,Oi(Bt,vt,le);for(var ae=Bt.getParent();ae;)ae.emitDelegation(vt,le),le.propagationStopped||ga(ae,vt,le),le.propagationPath.push(ae),ae=ae.getParent()}else{var _e=this.canvas;Oi(_e,vt,le)}},Lt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Lt}(),La=vi,aa="px",oa=(0,fe.detect)(),Wa=oa&&oa.name==="firefox",Yt=function(Lt){(0,Et.__extends)(vt,Lt);function vt(nt){var pt=Lt.call(this,nt)||this;return pt.initContainer(),pt.initDom(),pt.initEvents(),pt.initTimeline(),pt}return vt.prototype.getDefaultCfg=function(){var nt=Lt.prototype.getDefaultCfg.call(this);return nt.cursor="default",nt.supportCSSTransform=!1,nt},vt.prototype.initContainer=function(){var nt=this.get("container");(0,_t.default)(nt)&&(nt=document.getElementById(nt),this.set("container",nt))},vt.prototype.initDom=function(){var nt=this.createDom();this.set("el",nt);var pt=this.get("container");pt.appendChild(nt),this.setDOMSize(this.get("width"),this.get("height"))},vt.prototype.initEvents=function(){var nt=new La({canvas:this});nt.init(),this.set("eventController",nt)},vt.prototype.initTimeline=function(){var nt=new ea(this);this.set("timeline",nt)},vt.prototype.setDOMSize=function(nt,pt){var Bt=this.get("el");st&&(Bt.style.width=nt+aa,Bt.style.height=pt+aa)},vt.prototype.changeSize=function(nt,pt){this.setDOMSize(nt,pt),this.set("width",nt),this.set("height",pt),this.onCanvasChange("changeSize")},vt.prototype.getRenderer=function(){return this.get("renderer")},vt.prototype.getCursor=function(){return this.get("cursor")},vt.prototype.setCursor=function(nt){this.set("cursor",nt);var pt=this.get("el");st&&pt&&(pt.style.cursor=nt)},vt.prototype.getPointByEvent=function(nt){var pt=this.get("supportCSSTransform");if(pt){if(Wa&&!(0,Nt.default)(nt.layerX)&&nt.layerX!==nt.offsetX)return{x:nt.layerX,y:nt.layerY};if(!(0,Nt.default)(nt.offsetX))return{x:nt.offsetX,y:nt.offsetY}}var Bt=this.getClientByEvent(nt),jt=Bt.x,ie=Bt.y;return this.getPointByClient(jt,ie)},vt.prototype.getClientByEvent=function(nt){var pt=nt;return nt.touches&&(nt.type==="touchend"?pt=nt.changedTouches[0]:pt=nt.touches[0]),{x:pt.clientX,y:pt.clientY}},vt.prototype.getPointByClient=function(nt,pt){var Bt=this.get("el"),jt=Bt.getBoundingClientRect();return{x:nt-jt.left,y:pt-jt.top}},vt.prototype.getClientByPoint=function(nt,pt){var Bt=this.get("el"),jt=Bt.getBoundingClientRect();return{x:nt+jt.left,y:pt+jt.top}},vt.prototype.draw=function(){},vt.prototype.removeDom=function(){var nt=this.get("el");nt.parentNode.removeChild(nt)},vt.prototype.clearEvents=function(){var nt=this.get("eventController");nt.destroy()},vt.prototype.isCanvas=function(){return!0},vt.prototype.getParent=function(){return null},vt.prototype.destroy=function(){var nt=this.get("timeline");this.get("destroyed")||(this.clear(),nt&&nt.stop(),this.clearEvents(),this.removeDom(),Lt.prototype.destroy.call(this))},vt}(qe),Zt=Yt,Jt=function(Lt){(0,Et.__extends)(vt,Lt);function vt(){return Lt!==null&&Lt.apply(this,arguments)||this}return vt.prototype.isGroup=function(){return!0},vt.prototype.isEntityGroup=function(){return!1},vt.prototype.clone=function(){for(var nt=Lt.prototype.clone.call(this),pt=this.getChildren(),Bt=0;Bt<pt.length;Bt++){var jt=pt[Bt];nt.add(jt.clone())}return nt},vt}(qe),ge=Jt,ye=function(Lt){(0,Et.__extends)(vt,Lt);function vt(nt){return Lt.call(this,nt)||this}return vt.prototype._isInBBox=function(nt,pt){var Bt=this.getBBox();return Bt.minX<=nt&&Bt.maxX>=nt&&Bt.minY<=pt&&Bt.maxY>=pt},vt.prototype.afterAttrsChange=function(nt){Lt.prototype.afterAttrsChange.call(this,nt),this.clearCacheBBox()},vt.prototype.getBBox=function(){var nt=this.get("bbox");return nt||(nt=this.calculateBBox(),this.set("bbox",nt)),nt},vt.prototype.getCanvasBBox=function(){var nt=this.get("canvasBox");return nt||(nt=this.calculateCanvasBBox(),this.set("canvasBox",nt)),nt},vt.prototype.applyMatrix=function(nt){Lt.prototype.applyMatrix.call(this,nt),this.set("canvasBox",null)},vt.prototype.calculateCanvasBBox=function(){var nt=this.getBBox(),pt=this.getTotalMatrix(),Bt=nt.minX,jt=nt.minY,ie=nt.maxX,le=nt.maxY;if(pt){var ae=De(pt,[nt.minX,nt.minY]),_e=De(pt,[nt.maxX,nt.minY]),Ie=De(pt,[nt.minX,nt.maxY]),Fe=De(pt,[nt.maxX,nt.maxY]);Bt=Math.min(ae[0],_e[0],Ie[0],Fe[0]),ie=Math.max(ae[0],_e[0],Ie[0],Fe[0]),jt=Math.min(ae[1],_e[1],Ie[1],Fe[1]),le=Math.max(ae[1],_e[1],Ie[1],Fe[1])}var nr=this.attrs;if(nr.shadowColor){var Ne=nr.shadowBlur,Be=Ne===void 0?0:Ne,yr=nr.shadowOffsetX,mr=yr===void 0?0:yr,Nr=nr.shadowOffsetY,Gr=Nr===void 0?0:Nr,fr=Bt-Be+mr,tr=ie+Be+mr,Yr=jt-Be+Gr,hn=le+Be+Gr;Bt=Math.min(Bt,fr),ie=Math.max(ie,tr),jt=Math.min(jt,Yr),le=Math.max(le,hn)}return{x:Bt,y:jt,minX:Bt,minY:jt,maxX:ie,maxY:le,width:ie-Bt,height:le-jt}},vt.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},vt.prototype.isClipShape=function(){return this.get("isClipShape")},vt.prototype.isInShape=function(nt,pt){return!1},vt.prototype.isOnlyHitBox=function(){return!1},vt.prototype.isHit=function(nt,pt){var Bt=this.get("startArrowShape"),jt=this.get("endArrowShape"),ie=[nt,pt,1];ie=this.invertFromMatrix(ie);var le=ie[0],ae=ie[1],_e=this._isInBBox(le,ae);return this.isOnlyHitBox()?_e:!!(_e&&!this.isClipped(le,ae)&&(this.isInShape(le,ae)||Bt&&Bt.isHit(le,ae)||jt&&jt.isHit(le,ae)))},vt}(Kt),Ce=ye,We=d(76062),Ke=We.version},40455:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w){var O=w.attr(),I=O.x,L=O.y,P=O.r;return{x:I-P,y:L-P,width:P*2,height:P*2}}S.default=d},27633:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w){var O=w.attr(),I=O.x,L=O.y,P=O.rx,T=O.ry;return{x:I-P,y:L-T,width:P*2,height:T*2}}S.default=d},41056:function(xt,S,d){"use strict";var w;w={value:!0};var O=d(28648);S.b=O.getMethod;var I=d(3541),L=d(40455),P=d(10687),T=d(19914),M=d(92933),E=d(89372),p=d(74461),b=d(27633);O.register("rect",I.default),O.register("image",I.default),O.register("circle",L.default),O.register("marker",L.default),O.register("polyline",P.default),O.register("polygon",T.default),O.register("text",M.default),O.register("path",E.default),O.register("line",p.default),O.register("ellipse",b.default)},74461:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(3406);function O(I){var L=I.attr(),P=L.x1,T=L.y1,M=L.x2,E=L.y2,p=Math.min(P,M),b=Math.max(P,M),m=Math.min(T,E),x=Math.max(T,E),g={minX:p,maxX:b,minY:m,maxY:x};return g=w.mergeArrowBBox(I,g),{x:g.minX,y:g.minY,width:g.maxX-g.minX,height:g.maxY-g.minY}}S.default=O},89372:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(2879),O=d(15730),I=d(33418),L=d(49274),P=d(39984),T=d(3406);function M(b,m){for(var x=[],g=[],C=[],_=0;_<b.length;_++){var B=b[_],D=B.currentPoint,W=B.params,Z=B.prePoint,X=void 0;switch(B.command){case"Q":X=w.default.box(Z[0],Z[1],W[1],W[2],W[3],W[4]);break;case"C":X=O.default.box(Z[0],Z[1],W[1],W[2],W[3],W[4],W[5],W[6]);break;case"A":var j=B.arcParams;X=I.default.box(j.cx,j.cy,j.rx,j.ry,j.xRotation,j.startAngle,j.endAngle);break;default:x.push(D[0]),g.push(D[1]);break}X&&(B.box=X,x.push(X.x,X.x+X.width),g.push(X.y,X.y+X.height)),m&&(B.command==="L"||B.command==="M")&&B.prePoint&&B.nextPoint&&C.push(B)}x=x.filter(function(F){return!Number.isNaN(F)}),g=g.filter(function(F){return!Number.isNaN(F)});var it=Math.min.apply(null,x),tt=Math.min.apply(null,g),yt=Math.max.apply(null,x),dt=Math.max.apply(null,g);if(C.length===0)return{x:it,y:tt,width:yt-it,height:dt-tt};for(var _=0;_<C.length;_++){var B=C[_],D=B.currentPoint,Ct=void 0;D[0]===it?(Ct=E(B,m),it=it-Ct.xExtra):D[0]===yt&&(Ct=E(B,m),yt=yt+Ct.xExtra),D[1]===tt?(Ct=E(B,m),tt=tt-Ct.yExtra):D[1]===dt&&(Ct=E(B,m),dt=dt+Ct.yExtra)}return{x:it,y:tt,width:yt-it,height:dt-tt}}function E(b,m){var x=b.prePoint,g=b.currentPoint,C=b.nextPoint,_=Math.pow(g[0]-x[0],2)+Math.pow(g[1]-x[1],2),B=Math.pow(g[0]-C[0],2)+Math.pow(g[1]-C[1],2),D=Math.pow(x[0]-C[0],2)+Math.pow(x[1]-C[1],2),W=Math.acos((_+B-D)/(2*Math.sqrt(_)*Math.sqrt(B)));if(!W||Math.sin(W)===0||P.default(W,0))return{xExtra:0,yExtra:0};var Z=Math.abs(Math.atan2(C[1]-g[1],C[0]-g[0])),X=Math.abs(Math.atan2(C[0]-g[0],C[1]-g[1]));Z=Z>Math.PI/2?Math.PI-Z:Z,X=X>Math.PI/2?Math.PI-X:X;var j={xExtra:Math.cos(W/2-Z)*(m/2*(1/Math.sin(W/2)))-m/2||0,yExtra:Math.cos(X-W/2)*(m/2*(1/Math.sin(W/2)))-m/2||0};return j}function p(b){var m=b.attr(),x=m.path,g=m.stroke,C=g?m.lineWidth:0,_=b.get("segments")||L.default(x),B=M(_,C),D=B.x,W=B.y,Z=B.width,X=B.height,j={minX:D,minY:W,maxX:D+Z,maxY:W+X};return j=T.mergeArrowBBox(b,j),{x:j.minX,y:j.minY,width:j.maxX-j.minX,height:j.maxY-j.minY}}S.default=p},19914:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(76256);function O(I){for(var L=I.attr(),P=L.points,T=[],M=[],E=0;E<P.length;E++){var p=P[E];T.push(p[0]),M.push(p[1])}return w.getBBoxByArray(T,M)}S.default=O},10687:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(76256),O=d(3406);function I(L){for(var P=L.attr(),T=P.points,M=[],E=[],p=0;p<T.length;p++){var b=T[p];M.push(b[0]),E.push(b[1])}var m=w.getBBoxByArray(M,E),x=m.x,g=m.y,C=m.width,_=m.height,B={minX:x,minY:g,maxX:x+C,maxY:g+_};return B=O.mergeArrowBBox(L,B),{x:B.minX,y:B.minY,width:B.maxX-B.minX,height:B.maxY-B.minY}}S.default=I},3541:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w){var O=w.attr(),I=O.x,L=O.y,P=O.width,T=O.height;return{x:I,y:L,width:P,height:T}}S.default=d},28648:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=new Map;function w(I,L){d.set(I,L)}S.register=w;function O(I){return d.get(I)}S.getMethod=O},92933:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(8914);function O(I){var L=I.attr(),P=L.x,T=L.y,M=L.text,E=L.fontSize,p=L.lineHeight,b=L.font;b||(b=w.assembleFont(L));var m=w.getTextWidth(M,b),x;if(!m)x={x:P,y:T,width:0,height:0};else{var g=L.textAlign,C=L.textBaseline,_=w.getTextHeight(M,E,p),B={x:P,y:T-_};g&&(g==="end"||g==="right"?B.x-=m:g==="center"&&(B.x-=m/2)),C&&(C==="top"?B.y+=_:C==="middle"&&(B.y+=_/2)),x={x:B.x,y:B.y,width:m,height:_}}return x}S.default=O},3406:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(O,I){return!O||!I?O||I:{minX:Math.min(O.minX,I.minX),minY:Math.min(O.minY,I.minY),maxX:Math.max(O.maxX,I.maxX),maxY:Math.max(O.maxY,I.maxY)}}S.mergeBBox=d;function w(O,I){var L=O.get("startArrowShape"),P=O.get("endArrowShape"),T=null,M=null;return L&&(T=L.getCanvasBBox(),I=d(I,T)),P&&(M=P.getCanvasBBox(),I=d(I,M)),I}S.mergeArrowBBox=w},66192:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function w(O,I){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=O,this.name=O,this.originalEvent=I,this.timeStamp=I.timeStamp}return w.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},w.prototype.stopPropagation=function(){this.propagationStopped=!0},w.prototype.toString=function(){var O=this.type;return"[Event (type="+O+")]"},w.prototype.save=function(){},w.prototype.restore=function(){},w}();S.default=d},85424:function(xt,S){"use strict";var d;d={value:!0}},4555:function(xt,S){"use strict";Object.defineProperty(S,"X",{value:!0})},6052:function(xt,S){"use strict";var d;d={value:!0};function w(L,P){var T=[],M=L[0],E=L[1],p=L[2],b=L[3],m=L[4],x=L[5],g=L[6],C=L[7],_=L[8],B=P[0],D=P[1],W=P[2],Z=P[3],X=P[4],j=P[5],it=P[6],tt=P[7],yt=P[8];return T[0]=B*M+D*b+W*g,T[1]=B*E+D*m+W*C,T[2]=B*p+D*x+W*_,T[3]=Z*M+X*b+j*g,T[4]=Z*E+X*m+j*C,T[5]=Z*p+X*x+j*_,T[6]=it*M+tt*b+yt*g,T[7]=it*E+tt*m+yt*C,T[8]=it*p+tt*x+yt*_,T}d=w;function O(L,P){var T=[],M=P[0],E=P[1];return T[0]=L[0]*M+L[3]*E+L[6],T[1]=L[1]*M+L[4]*E+L[7],T}S.rG=O;function I(L){var P=[],T=L[0],M=L[1],E=L[2],p=L[3],b=L[4],m=L[5],x=L[6],g=L[7],C=L[8],_=C*b-m*g,B=-C*p+m*x,D=g*p-b*x,W=T*_+M*B+E*D;return W?(W=1/W,P[0]=_*W,P[1]=(-C*M+E*g)*W,P[2]=(m*M-E*b)*W,P[3]=B*W,P[4]=(C*T-E*x)*W,P[5]=(-m*T+E*p)*W,P[6]=D*W,P[7]=(-g*T+M*x)*W,P[8]=(b*T-M*p)*W,P):null}S.U_=I},26632:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=null;function w(){if(!d){var O=document.createElement("canvas");O.width=1,O.height=1,d=O.getContext("2d")}return d}S.getOffScreenContext=w},8914:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(22487),O=d(26632);function I(M,E,p){var b=1;if(w.isString(M)&&(b=M.split(`
`).length),b>1){var m=L(E,p);return E*b+m*(b-1)}return E}S.getTextHeight=I;function L(M,E){return E?E-M:M*.14}S.getLineSpaceing=L;function P(M,E){var p=O.getOffScreenContext(),b=0;if(w.isNil(M)||M==="")return b;if(p.save(),p.font=E,w.isString(M)&&M.includes(`
`)){var m=M.split(`
`);w.each(m,function(x){var g=p.measureText(x).width;b<g&&(b=g)})}else b=p.measureText(M).width;return p.restore(),b}S.getTextWidth=P;function T(M){var E=M.fontSize,p=M.fontFamily,b=M.fontWeight,m=M.fontStyle,x=M.fontVariant;return[m,x,b,E+"px",p].join(" ").trim()}S.assembleFont=T},22487:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function w(x,g){var C=x.indexOf(g);C!==-1&&x.splice(C,1)}S.removeFromArray=w,S.isBrowser=typeof window!="undefined"&&typeof window.document!="undefined";var O=d(73890);S.isNil=O.default;var I=d(46812);S.isFunction=I.default;var L=d(21830);S.isString=L.default;var P=d(33643);S.isObject=P.default;var T=d(66631);S.isArray=T.default;var M=d(66974);S.mix=M.default;var E=d(27154);S.each=E.default;var p=d(85260);S.upperFirst=p.default;function b(x,g){if(x.isCanvas())return!0;for(var C=g.getParent(),_=!1;C;){if(C===x){_=!0;break}C=C.getParent()}return _}S.isParent=b;function m(x){return x.cfg.visible&&x.cfg.capture}S.isAllowCapture=m},76062:function(xt){"use strict";xt.exports=JSON.parse('{"name":"@antv/g-base","version":"0.4.7","description":"A common util collection for antv projects","main":"lib/index.js","module":"esm/index.js","types":"lib/index.d.ts","files":["package.json","esm","lib","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","clean":"rm -rf esm lib","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/util/issues"},"devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"homepage":"https://github.com/antvis/util#readme","dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.3","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},84909:function(xt,S,d){"use strict";var w;w={value:!0};var O=d(48465);function I(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])}function L(M,E){return I(M)*I(E)?(M[0]*E[0]+M[1]*E[1])/(I(M)*I(E)):1}function P(M,E){return(M[0]*E[1]<M[1]*E[0]?-1:1)*Math.acos(L(M,E))}function T(M,E){var p=E[1],b=E[2],m=O.mod(O.toRadian(E[3]),Math.PI*2),x=E[4],g=E[5],C=M[0],_=M[1],B=E[6],D=E[7],W=Math.cos(m)*(C-B)/2+Math.sin(m)*(_-D)/2,Z=-1*Math.sin(m)*(C-B)/2+Math.cos(m)*(_-D)/2,X=W*W/(p*p)+Z*Z/(b*b);X>1&&(p*=Math.sqrt(X),b*=Math.sqrt(X));var j=p*p*(Z*Z)+b*b*(W*W),it=j?Math.sqrt((p*p*(b*b)-j)/j):1;x===g&&(it*=-1),isNaN(it)&&(it=0);var tt=b?it*p*Z/b:0,yt=p?it*-b*W/p:0,dt=(C+B)/2+Math.cos(m)*tt-Math.sin(m)*yt,Ct=(_+D)/2+Math.sin(m)*tt+Math.cos(m)*yt,F=[(W-tt)/p,(Z-yt)/b],z=[(-1*W-tt)/p,(-1*Z-yt)/b],G=P([1,0],F),Y=P(F,z);return L(F,z)<=-1&&(Y=Math.PI),L(F,z)>=1&&(Y=0),g===0&&Y>0&&(Y=Y-2*Math.PI),g===1&&Y<0&&(Y=Y+2*Math.PI),{cx:dt,cy:Ct,rx:O.isSamePoint(M,[B,D])?0:p,ry:O.isSamePoint(M,[B,D])?0:b,startAngle:G,endAngle:G+Y,xRotation:m,arcFlag:x,sweepFlag:g}}S.Z=T},48465:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function w(){return window?window.devicePixelRatio:1}S.getPixelRatio=w;function O(D,W,Z,X){var j=D-Z,it=W-X;return Math.sqrt(j*j+it*it)}S.distance=O;function I(D,W,Z,X,j,it){return j>=D&&j<=D+Z&&it>=W&&it<=W+X}S.inBox=I;function L(D,W){return!(W.minX>D.maxX||W.maxX<D.minX||W.minY>D.maxY||W.maxY<D.minY)}S.intersectRect=L;function P(D,W){return!D||!W?D||W:{minX:Math.min(D.minX,W.minX),minY:Math.min(D.minY,W.minY),maxX:Math.max(D.maxX,W.maxX),maxY:Math.max(D.maxY,W.maxY)}}S.mergeRegion=P;function T(D,W){return D[0]===W[0]&&D[1]===W[1]}S.isSamePoint=T;var M=d(73890);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return M.default}});var E=d(21830);Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return E.default}});var p=d(46812);Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return p.default}});var b=d(66631);Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return b.default}});var m=d(27154);Object.defineProperty(S,"each",{enumerable:!0,get:function(){return m.default}});var x=d(9217);Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return x.default}});var g=d(5253);Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return g.default}});var C=d(39984);Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return C.default}});var _=d(98229);Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return _.default}});var B=d(35755);Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return B.default}})},71270:function(xt){"use strict";xt.exports=JSON.parse('{"name":"@antv/g-canvas","version":"0.4.15","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit","dist":"webpack --config webpack.config.js --mode production"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.26.1","webpack-cli":"^3.1.2"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","gl-matrix":"^3.0.0"},"__npminstall_done":false,"gitHead":"9092384bf6b7efd6ec71bbcdec1b801a0079c403"}')},89838:function(xt,S,d){"use strict";d.r(S),d.d(S,{Arc:function(){return mt},Cubic:function(){return dt},Line:function(){return b},Polygon:function(){return kt},Polyline:function(){return Rt},Quad:function(){return Z},Util:function(){return w}});var w={};d.r(w),d.d(w,{distance:function(){return L},getBBoxByArray:function(){return T},getBBoxRange:function(){return M},isNumberEqual:function(){return P},piMod:function(){return E}});function O(_t){return Math.min.apply(null,_t)}function I(_t){return Math.max.apply(null,_t)}function L(_t,ht,ft,Mt){var rt=_t-ft,et=ht-Mt;return Math.sqrt(rt*rt+et*et)}function P(_t,ht){return Math.abs(_t-ht)<.001}function T(_t,ht){var ft=O(_t),Mt=O(ht),rt=I(_t),et=I(ht);return{x:ft,y:Mt,width:rt-ft,height:et-Mt}}function M(_t,ht,ft,Mt){return{minX:O([_t,ft]),maxX:I([_t,ft]),minY:O([ht,Mt]),maxY:I([ht,Mt])}}function E(_t){return(_t+Math.PI*2)%(Math.PI*2)}var p=d(31437),b={box:function(_t,ht,ft,Mt){return T([_t,ft],[ht,Mt])},length:function(_t,ht,ft,Mt){return L(_t,ht,ft,Mt)},pointAt:function(_t,ht,ft,Mt,rt){return{x:(1-rt)*_t+rt*ft,y:(1-rt)*ht+rt*Mt}},pointDistance:function(_t,ht,ft,Mt,rt,et){var lt=(ft-_t)*(rt-_t)+(Mt-ht)*(et-ht);if(lt<0)return L(_t,ht,rt,et);var st=(ft-_t)*(ft-_t)+(Mt-ht)*(Mt-ht);return lt>st?L(ft,Mt,rt,et):this.pointToLine(_t,ht,ft,Mt,rt,et)},pointToLine:function(_t,ht,ft,Mt,rt,et){var lt=[ft-_t,Mt-ht];if(p.exactEquals(lt,[0,0]))return Math.sqrt((rt-_t)*(rt-_t)+(et-ht)*(et-ht));var st=[-lt[1],lt[0]];p.normalize(st,st);var At=[rt-_t,et-ht];return Math.abs(p.dot(At,st))},tangentAngle:function(_t,ht,ft,Mt){return Math.atan2(Mt-ht,ft-_t)}},m=1e-4;function x(_t,ht,ft,Mt,rt,et){var lt,st=Infinity,At=[ft,Mt],Ot=20;et&&et>200&&(Ot=et/10);for(var Qt=1/Ot,ve=Qt/10,fe=0;fe<=Ot;fe++){var ce=fe*Qt,Ae=[rt.apply(null,_t.concat([ce])),rt.apply(null,ht.concat([ce]))],De=L(At[0],At[1],Ae[0],Ae[1]);De<st&&(lt=ce,st=De)}if(lt===0)return{x:_t[0],y:ht[0]};if(lt===1){var rr=_t.length;return{x:_t[rr-1],y:ht[rr-1]}}st=Infinity;for(var fe=0;fe<32&&!(ve<m);fe++){var Je=lt-ve,Er=lt+ve,Ae=[rt.apply(null,_t.concat([Je])),rt.apply(null,ht.concat([Je]))],De=L(At[0],At[1],Ae[0],Ae[1]);if(Je>=0&&De<st)lt=Je,st=De;else{var Jr=[rt.apply(null,_t.concat([Er])),rt.apply(null,ht.concat([Er]))],Ar=L(At[0],At[1],Jr[0],Jr[1]);Er<=1&&Ar<st?(lt=Er,st=Ar):ve*=.5}}return{x:rt.apply(null,_t.concat([lt])),y:rt.apply(null,ht.concat([lt]))}}function g(_t,ht){for(var ft=0,Mt=_t.length,rt=0;rt<Mt;rt++){var et=_t[rt],lt=ht[rt],st=_t[(rt+1)%Mt],At=ht[(rt+1)%Mt];ft+=L(et,lt,st,At)}return ft/2}function C(_t,ht,ft,Mt){var rt=1-Mt;return rt*rt*_t+2*Mt*rt*ht+Mt*Mt*ft}function _(_t,ht,ft){var Mt=_t+ft-2*ht;if(P(Mt,0))return[.5];var rt=(_t-ht)/Mt;return rt<=1&&rt>=0?[rt]:[]}function B(_t,ht,ft,Mt){return 2*(1-Mt)*(ht-_t)+2*Mt*(ft-ht)}function D(_t,ht,ft,Mt,rt,et,lt){var st=C(_t,ft,rt,lt),At=C(ht,Mt,et,lt),Ot=b.pointAt(_t,ht,ft,Mt,lt),Qt=b.pointAt(ft,Mt,rt,et,lt);return[[_t,ht,Ot.x,Ot.y,st,At],[st,At,Qt.x,Qt.y,rt,et]]}function W(_t,ht,ft,Mt,rt,et,lt){if(lt===0)return(L(_t,ht,ft,Mt)+L(ft,Mt,rt,et)+L(_t,ht,rt,et))/2;var st=D(_t,ht,ft,Mt,rt,et,.5),At=st[0],Ot=st[1];return At.push(lt-1),Ot.push(lt-1),W.apply(null,At)+W.apply(null,Ot)}var Z={box:function(_t,ht,ft,Mt,rt,et){var lt=_(_t,ft,rt)[0],st=_(ht,Mt,et)[0],At=[_t,rt],Ot=[ht,et];return lt!==void 0&&At.push(C(_t,ft,rt,lt)),st!==void 0&&Ot.push(C(ht,Mt,et,st)),T(At,Ot)},length:function(_t,ht,ft,Mt,rt,et){return W(_t,ht,ft,Mt,rt,et,3)},nearestPoint:function(_t,ht,ft,Mt,rt,et,lt,st){return x([_t,ft,rt],[ht,Mt,et],lt,st,C)},pointDistance:function(_t,ht,ft,Mt,rt,et,lt,st){var At=this.nearestPoint(_t,ht,ft,Mt,rt,et,lt,st);return L(At.x,At.y,lt,st)},interpolationAt:C,pointAt:function(_t,ht,ft,Mt,rt,et,lt){return{x:C(_t,ft,rt,lt),y:C(ht,Mt,et,lt)}},divide:function(_t,ht,ft,Mt,rt,et,lt){return D(_t,ht,ft,Mt,rt,et,lt)},tangentAngle:function(_t,ht,ft,Mt,rt,et,lt){var st=B(_t,ft,rt,lt),At=B(ht,Mt,et,lt),Ot=Math.atan2(At,st);return E(Ot)}};function X(_t,ht,ft,Mt,rt){var et=1-rt;return et*et*et*_t+3*ht*rt*et*et+3*ft*rt*rt*et+Mt*rt*rt*rt}function j(_t,ht,ft,Mt,rt){var et=1-rt;return 3*(et*et*(ht-_t)+2*et*rt*(ft-ht)+rt*rt*(Mt-ft))}function it(_t,ht,ft,Mt){var rt=-3*_t+9*ht-9*ft+3*Mt,et=6*_t-12*ht+6*ft,lt=3*ht-3*_t,st=[],At,Ot,Qt;if(P(rt,0))P(et,0)||(At=-lt/et,At>=0&&At<=1&&st.push(At));else{var ve=et*et-4*rt*lt;P(ve,0)?st.push(-et/(2*rt)):ve>0&&(Qt=Math.sqrt(ve),At=(-et+Qt)/(2*rt),Ot=(-et-Qt)/(2*rt),At>=0&&At<=1&&st.push(At),Ot>=0&&Ot<=1&&st.push(Ot))}return st}function tt(_t,ht,ft,Mt,rt,et,lt,st,At){var Ot=X(_t,ft,rt,lt,At),Qt=X(ht,Mt,et,st,At),ve=b.pointAt(_t,ht,ft,Mt,At),fe=b.pointAt(ft,Mt,rt,et,At),ce=b.pointAt(rt,et,lt,st,At),Ae=b.pointAt(ve.x,ve.y,fe.x,fe.y,At),De=b.pointAt(fe.x,fe.y,ce.x,ce.y,At);return[[_t,ht,ve.x,ve.y,Ae.x,Ae.y,Ot,Qt],[Ot,Qt,De.x,De.y,ce.x,ce.y,lt,st]]}function yt(_t,ht,ft,Mt,rt,et,lt,st,At){if(At===0)return g([_t,ft,rt,lt],[ht,Mt,et,st]);var Ot=tt(_t,ht,ft,Mt,rt,et,lt,st,.5),Qt=Ot[0],ve=Ot[1];return Qt.push(At-1),ve.push(At-1),yt.apply(null,Qt)+yt.apply(null,ve)}var dt={extrema:it,box:function(_t,ht,ft,Mt,rt,et,lt,st){for(var At=[_t,lt],Ot=[ht,st],Qt=it(_t,ft,rt,lt),ve=it(ht,Mt,et,st),fe=0;fe<Qt.length;fe++)At.push(X(_t,ft,rt,lt,Qt[fe]));for(var fe=0;fe<ve.length;fe++)Ot.push(X(ht,Mt,et,st,ve[fe]));return T(At,Ot)},length:function(_t,ht,ft,Mt,rt,et,lt,st){return yt(_t,ht,ft,Mt,rt,et,lt,st,3)},nearestPoint:function(_t,ht,ft,Mt,rt,et,lt,st,At,Ot,Qt){return x([_t,ft,rt,lt],[ht,Mt,et,st],At,Ot,X,Qt)},pointDistance:function(_t,ht,ft,Mt,rt,et,lt,st,At,Ot,Qt){var ve=this.nearestPoint(_t,ht,ft,Mt,rt,et,lt,st,At,Ot,Qt);return L(ve.x,ve.y,At,Ot)},interpolationAt:X,pointAt:function(_t,ht,ft,Mt,rt,et,lt,st,At){return{x:X(_t,ft,rt,lt,At),y:X(ht,Mt,et,st,At)}},divide:function(_t,ht,ft,Mt,rt,et,lt,st,At){return tt(_t,ht,ft,Mt,rt,et,lt,st,At)},tangentAngle:function(_t,ht,ft,Mt,rt,et,lt,st,At){var Ot=j(_t,ft,rt,lt,At),Qt=j(ht,Mt,et,st,At);return E(Math.atan2(Qt,Ot))}};function Ct(_t,ht){var ft=Math.abs(_t);return ht>0?ft:ft*-1}var F={box:function(_t,ht,ft,Mt){return{x:_t-ft,y:ht-Mt,width:ft*2,height:Mt*2}},length:function(_t,ht,ft,Mt){return Math.PI*(3*(ft+Mt)-Math.sqrt((3*ft+Mt)*(ft+3*Mt)))},nearestPoint:function(_t,ht,ft,Mt,rt,et){var lt=ft,st=Mt;if(lt===0||st===0)return{x:_t,y:ht};for(var At=rt-_t,Ot=et-ht,Qt=Math.abs(At),ve=Math.abs(Ot),fe=lt*lt,ce=st*st,Ae=Math.PI/4,De,rr,Je=0;Je<4;Je++){De=lt*Math.cos(Ae),rr=st*Math.sin(Ae);var Er=(fe-ce)*Math.pow(Math.cos(Ae),3)/lt,Jr=(ce-fe)*Math.pow(Math.sin(Ae),3)/st,Ar=De-Er,Qr=rr-Jr,Un=Qt-Er,ii=ve-Jr,wi=Math.hypot(Qr,Ar),Si=Math.hypot(ii,Un),Wt=wi*Math.asin((Ar*ii-Qr*Un)/(wi*Si)),Kt=Wt/Math.sqrt(fe+ce-De*De-rr*rr);Ae+=Kt,Ae=Math.min(Math.PI/2,Math.max(0,Ae))}return{x:_t+Ct(De,At),y:ht+Ct(rr,Ot)}},pointDistance:function(_t,ht,ft,Mt,rt,et){var lt=this.nearestPoint(_t,ht,ft,Mt,rt,et);return L(lt.x,lt.y,rt,et)},pointAt:function(_t,ht,ft,Mt,rt){var et=2*Math.PI*rt;return{x:_t+ft*Math.cos(et),y:ht+Mt*Math.sin(et)}},tangentAngle:function(_t,ht,ft,Mt,rt){var et=2*Math.PI*rt,lt=Math.atan2(Mt*Math.cos(et),-ft*Math.sin(et));return E(lt)}};function z(_t,ht,ft,Mt,rt,et,lt,st){return-1*ft*Math.cos(rt)*Math.sin(st)-Mt*Math.sin(rt)*Math.cos(st)}function G(_t,ht,ft,Mt,rt,et,lt,st){return-1*ft*Math.sin(rt)*Math.sin(st)+Mt*Math.cos(rt)*Math.cos(st)}function Y(_t,ht,ft){return Math.atan(-ht/_t*Math.tan(ft))}function q(_t,ht,ft){return Math.atan(ht/(_t*Math.tan(ft)))}function $(_t,ht,ft,Mt,rt,et){return ft*Math.cos(rt)*Math.cos(et)-Mt*Math.sin(rt)*Math.sin(et)+_t}function J(_t,ht,ft,Mt,rt,et){return ft*Math.sin(rt)*Math.cos(et)+Mt*Math.cos(rt)*Math.sin(et)+ht}function U(_t,ht,ft,Mt){var rt=Math.atan2(Mt*_t,ft*ht);return(rt+Math.PI*2)%(Math.PI*2)}function K(_t,ht,ft){return{x:_t*Math.cos(ft),y:ht*Math.sin(ft)}}function f(_t,ht,ft){var Mt=Math.cos(ft),rt=Math.sin(ft);return[_t*Mt-ht*rt,_t*rt+ht*Mt]}var mt={box:function(_t,ht,ft,Mt,rt,et,lt){for(var st=Y(ft,Mt,rt),At=Infinity,Ot=-Infinity,Qt=[et,lt],ve=-Math.PI*2;ve<=Math.PI*2;ve+=Math.PI){var fe=st+ve;et<lt?et<fe&&fe<lt&&Qt.push(fe):lt<fe&&fe<et&&Qt.push(fe)}for(var ve=0;ve<Qt.length;ve++){var ce=$(_t,ht,ft,Mt,rt,Qt[ve]);ce<At&&(At=ce),ce>Ot&&(Ot=ce)}for(var Ae=q(ft,Mt,rt),De=Infinity,rr=-Infinity,Je=[et,lt],ve=-Math.PI*2;ve<=Math.PI*2;ve+=Math.PI){var Er=Ae+ve;et<lt?et<Er&&Er<lt&&Je.push(Er):lt<Er&&Er<et&&Je.push(Er)}for(var ve=0;ve<Je.length;ve++){var Jr=J(_t,ht,ft,Mt,rt,Je[ve]);Jr<De&&(De=Jr),Jr>rr&&(rr=Jr)}return{x:At,y:De,width:Ot-At,height:rr-De}},length:function(_t,ht,ft,Mt,rt,et,lt){},nearestPoint:function(_t,ht,ft,Mt,rt,et,lt,st,At){var Ot=f(st-_t,At-ht,-rt),Qt=Ot[0],ve=Ot[1],fe=F.nearestPoint(0,0,ft,Mt,Qt,ve),ce=U(ft,Mt,fe.x,fe.y);ce<et?fe=K(ft,Mt,et):ce>lt&&(fe=K(ft,Mt,lt));var Ae=f(fe.x,fe.y,rt);return{x:Ae[0]+_t,y:Ae[1]+ht}},pointDistance:function(_t,ht,ft,Mt,rt,et,lt,st,At){var Ot=this.nearestPoint(_t,ht,ft,Mt,st,At);return L(Ot.x,Ot.y,st,At)},pointAt:function(_t,ht,ft,Mt,rt,et,lt,st){var At=(lt-et)*st+et;return{x:$(_t,ht,ft,Mt,rt,At),y:J(_t,ht,ft,Mt,rt,At)}},tangentAngle:function(_t,ht,ft,Mt,rt,et,lt,st){var At=(lt-et)*st+et,Ot=z(_t,ht,ft,Mt,rt,et,lt,At),Qt=G(_t,ht,ft,Mt,rt,et,lt,At);return E(Math.atan2(Qt,Ot))}};function Tt(_t){for(var ht=0,ft=[],Mt=0;Mt<_t.length-1;Mt++){var rt=_t[Mt],et=_t[Mt+1],lt=L(rt[0],rt[1],et[0],et[1]),st={from:rt,to:et,length:lt};ft.push(st),ht+=lt}return{segments:ft,totalLength:ht}}function at(_t){if(_t.length<2)return 0;for(var ht=0,ft=0;ft<_t.length-1;ft++){var Mt=_t[ft],rt=_t[ft+1];ht+=L(Mt[0],Mt[1],rt[0],rt[1])}return ht}function Pt(_t,ht){if(ht>1||ht<0||_t.length<2)return null;var ft=Tt(_t),Mt=ft.segments,rt=ft.totalLength;if(rt===0)return{x:_t[0][0],y:_t[0][1]};for(var et=0,lt=null,st=0;st<Mt.length;st++){var At=Mt[st],Ot=At.from,Qt=At.to,ve=At.length/rt;if(ht>=et&&ht<=et+ve){var fe=(ht-et)/ve;lt=b.pointAt(Ot[0],Ot[1],Qt[0],Qt[1],fe);break}et+=ve}return lt}function wt(_t,ht){if(ht>1||ht<0||_t.length<2)return 0;for(var ft=Tt(_t),Mt=ft.segments,rt=ft.totalLength,et=0,lt=0,st=0;st<Mt.length;st++){var At=Mt[st],Ot=At.from,Qt=At.to,ve=At.length/rt;if(ht>=et&&ht<=et+ve){lt=Math.atan2(Qt[1]-Ot[1],Qt[0]-Ot[0]);break}et+=ve}return lt}function Et(_t,ht,ft){for(var Mt=Infinity,rt=0;rt<_t.length-1;rt++){var et=_t[rt],lt=_t[rt+1],st=b.pointDistance(et[0],et[1],lt[0],lt[1],ht,ft);st<Mt&&(Mt=st)}return Mt}var Rt={box:function(_t){for(var ht=[],ft=[],Mt=0;Mt<_t.length;Mt++){var rt=_t[Mt];ht.push(rt[0]),ft.push(rt[1])}return T(ht,ft)},length:function(_t){return at(_t)},pointAt:function(_t,ht){return Pt(_t,ht)},pointDistance:function(_t,ht,ft){return Et(_t,ht,ft)},tangentAngle:function(_t,ht){return wt(_t,ht)}};function Nt(_t){var ht=_t.slice(0);return _t.length&&ht.push(_t[0]),ht}var kt={box:function(_t){return Rt.box(_t)},length:function(_t){return at(Nt(_t))},pointAt:function(_t,ht){return Pt(Nt(_t),ht)},pointDistance:function(_t,ht,ft){return Et(Nt(_t),ht,ft)},tangentAngle:function(_t,ht){return wt(Nt(_t),ht)}}},33418:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(76256),O=d(55397);function I(x,g,C,_,B,D,W,Z){return-1*C*Math.cos(B)*Math.sin(Z)-_*Math.sin(B)*Math.cos(Z)}function L(x,g,C,_,B,D,W,Z){return-1*C*Math.sin(B)*Math.sin(Z)+_*Math.cos(B)*Math.cos(Z)}function P(x,g,C){return Math.atan(-g/x*Math.tan(C))}function T(x,g,C){return Math.atan(g/(x*Math.tan(C)))}function M(x,g,C,_,B,D){return C*Math.cos(B)*Math.cos(D)-_*Math.sin(B)*Math.sin(D)+x}function E(x,g,C,_,B,D){return C*Math.sin(B)*Math.cos(D)+_*Math.cos(B)*Math.sin(D)+g}function p(x,g,C,_){var B=Math.atan2(_*x,C*g);return(B+Math.PI*2)%(Math.PI*2)}function b(x,g,C){return{x:x*Math.cos(C),y:g*Math.sin(C)}}function m(x,g,C){var _=Math.cos(C),B=Math.sin(C);return[x*_-g*B,x*B+g*_]}S.default={box:function(x,g,C,_,B,D,W){for(var Z=P(C,_,B),X=Infinity,j=-Infinity,it=[D,W],tt=-Math.PI*2;tt<=Math.PI*2;tt+=Math.PI){var yt=Z+tt;D<W?D<yt&&yt<W&&it.push(yt):W<yt&&yt<D&&it.push(yt)}for(var tt=0;tt<it.length;tt++){var dt=M(x,g,C,_,B,it[tt]);dt<X&&(X=dt),dt>j&&(j=dt)}for(var Ct=T(C,_,B),F=Infinity,z=-Infinity,G=[D,W],tt=-Math.PI*2;tt<=Math.PI*2;tt+=Math.PI){var Y=Ct+tt;D<W?D<Y&&Y<W&&G.push(Y):W<Y&&Y<D&&G.push(Y)}for(var tt=0;tt<G.length;tt++){var q=E(x,g,C,_,B,G[tt]);q<F&&(F=q),q>z&&(z=q)}return{x:X,y:F,width:j-X,height:z-F}},length:function(x,g,C,_,B,D,W){},nearestPoint:function(x,g,C,_,B,D,W,Z,X){var j=m(Z-x,X-g,-B),it=j[0],tt=j[1],yt=O.default.nearestPoint(0,0,C,_,it,tt),dt=p(C,_,yt.x,yt.y);dt<D?yt=b(C,_,D):dt>W&&(yt=b(C,_,W));var Ct=m(yt.x,yt.y,B);return{x:Ct[0]+x,y:Ct[1]+g}},pointDistance:function(x,g,C,_,B,D,W,Z,X){var j=this.nearestPoint(x,g,C,_,Z,X);return w.distance(j.x,j.y,Z,X)},pointAt:function(x,g,C,_,B,D,W,Z){var X=(W-D)*Z+D;return{x:M(x,g,C,_,B,X),y:E(x,g,C,_,B,X)}},tangentAngle:function(x,g,C,_,B,D,W,Z){var X=(W-D)*Z+D,j=I(x,g,C,_,B,D,W,X),it=L(x,g,C,_,B,D,W,X);return w.piMod(Math.atan2(it,j))}}},87335:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.snapLength=S.nearestPoint=void 0;var w=d(76256),O=1e-4;function I(P,T,M,E,p,b){var m,x=Infinity,g=[M,E],C=20;b&&b>200&&(C=b/10);for(var _=1/C,B=_/10,D=0;D<=C;D++){var W=D*_,Z=[p.apply(null,P.concat([W])),p.apply(null,T.concat([W]))],X=w.distance(g[0],g[1],Z[0],Z[1]);X<x&&(m=W,x=X)}if(m===0)return{x:P[0],y:T[0]};if(m===1){var j=P.length;return{x:P[j-1],y:T[j-1]}}x=Infinity;for(var D=0;D<32&&!(B<O);D++){var it=m-B,tt=m+B,Z=[p.apply(null,P.concat([it])),p.apply(null,T.concat([it]))],X=w.distance(g[0],g[1],Z[0],Z[1]);if(it>=0&&X<x)m=it,x=X;else{var yt=[p.apply(null,P.concat([tt])),p.apply(null,T.concat([tt]))],dt=w.distance(g[0],g[1],yt[0],yt[1]);tt<=1&&dt<x?(m=tt,x=dt):B*=.5}}return{x:p.apply(null,P.concat([m])),y:p.apply(null,T.concat([m]))}}S.nearestPoint=I;function L(P,T){for(var M=0,E=P.length,p=0;p<E;p++){var b=P[p],m=T[p],x=P[(p+1)%E],g=T[(p+1)%E];M+=w.distance(b,m,x,g)}return M/2}S.snapLength=L},15730:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(76256),O=d(23646),I=d(87335);function L(p,b,m,x,g){var C=1-g;return C*C*C*p+3*b*g*C*C+3*m*g*g*C+x*g*g*g}function P(p,b,m,x,g){var C=1-g;return 3*(C*C*(b-p)+2*C*g*(m-b)+g*g*(x-m))}function T(p,b,m,x){var g=-3*p+9*b-9*m+3*x,C=6*p-12*b+6*m,_=3*b-3*p,B=[],D,W,Z;if(w.isNumberEqual(g,0))w.isNumberEqual(C,0)||(D=-_/C,D>=0&&D<=1&&B.push(D));else{var X=C*C-4*g*_;w.isNumberEqual(X,0)?B.push(-C/(2*g)):X>0&&(Z=Math.sqrt(X),D=(-C+Z)/(2*g),W=(-C-Z)/(2*g),D>=0&&D<=1&&B.push(D),W>=0&&W<=1&&B.push(W))}return B}function M(p,b,m,x,g,C,_,B,D){var W=L(p,m,g,_,D),Z=L(b,x,C,B,D),X=O.default.pointAt(p,b,m,x,D),j=O.default.pointAt(m,x,g,C,D),it=O.default.pointAt(g,C,_,B,D),tt=O.default.pointAt(X.x,X.y,j.x,j.y,D),yt=O.default.pointAt(j.x,j.y,it.x,it.y,D);return[[p,b,X.x,X.y,tt.x,tt.y,W,Z],[W,Z,yt.x,yt.y,it.x,it.y,_,B]]}function E(p,b,m,x,g,C,_,B,D){if(D===0)return I.snapLength([p,m,g,_],[b,x,C,B]);var W=M(p,b,m,x,g,C,_,B,.5),Z=W[0],X=W[1];return Z.push(D-1),X.push(D-1),E.apply(null,Z)+E.apply(null,X)}S.default={extrema:T,box:function(p,b,m,x,g,C,_,B){for(var D=[p,_],W=[b,B],Z=T(p,m,g,_),X=T(b,x,C,B),j=0;j<Z.length;j++)D.push(L(p,m,g,_,Z[j]));for(var j=0;j<X.length;j++)W.push(L(b,x,C,B,X[j]));return w.getBBoxByArray(D,W)},length:function(p,b,m,x,g,C,_,B){return E(p,b,m,x,g,C,_,B,3)},nearestPoint:function(p,b,m,x,g,C,_,B,D,W,Z){return I.nearestPoint([p,m,g,_],[b,x,C,B],D,W,L,Z)},pointDistance:function(p,b,m,x,g,C,_,B,D,W,Z){var X=this.nearestPoint(p,b,m,x,g,C,_,B,D,W,Z);return w.distance(X.x,X.y,D,W)},interpolationAt:L,pointAt:function(p,b,m,x,g,C,_,B,D){return{x:L(p,m,g,_,D),y:L(b,x,C,B,D)}},divide:function(p,b,m,x,g,C,_,B,D){return M(p,b,m,x,g,C,_,B,D)},tangentAngle:function(p,b,m,x,g,C,_,B,D){var W=P(p,m,g,_,D),Z=P(b,x,C,B,D);return w.piMod(Math.atan2(Z,W))}}},55397:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(76256);function O(I,L){var P=Math.abs(I);return L>0?P:P*-1}S.default={box:function(I,L,P,T){return{x:I-P,y:L-T,width:P*2,height:T*2}},length:function(I,L,P,T){return Math.PI*(3*(P+T)-Math.sqrt((3*P+T)*(P+3*T)))},nearestPoint:function(I,L,P,T,M,E){var p=P,b=T;if(p===0||b===0)return{x:I,y:L};for(var m=M-I,x=E-L,g=Math.abs(m),C=Math.abs(x),_=p*p,B=b*b,D=Math.PI/4,W,Z,X=0;X<4;X++){W=p*Math.cos(D),Z=b*Math.sin(D);var j=(_-B)*Math.pow(Math.cos(D),3)/p,it=(B-_)*Math.pow(Math.sin(D),3)/b,tt=W-j,yt=Z-it,dt=g-j,Ct=C-it,F=Math.hypot(yt,tt),z=Math.hypot(Ct,dt),G=F*Math.asin((tt*Ct-yt*dt)/(F*z)),Y=G/Math.sqrt(_+B-W*W-Z*Z);D+=Y,D=Math.min(Math.PI/2,Math.max(0,D))}return{x:I+O(W,m),y:L+O(Z,x)}},pointDistance:function(I,L,P,T,M,E){var p=this.nearestPoint(I,L,P,T,M,E);return w.distance(p.x,p.y,M,E)},pointAt:function(I,L,P,T,M){var E=2*Math.PI*M;return{x:I+P*Math.cos(E),y:L+T*Math.sin(E)}},tangentAngle:function(I,L,P,T,M){var E=2*Math.PI*M,p=Math.atan2(T*Math.cos(E),-P*Math.sin(E));return w.piMod(p)}}},23646:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(76256),O=d(31437);S.default={box:function(I,L,P,T){return w.getBBoxByArray([I,P],[L,T])},length:function(I,L,P,T){return w.distance(I,L,P,T)},pointAt:function(I,L,P,T,M){return{x:(1-M)*I+M*P,y:(1-M)*L+M*T}},pointDistance:function(I,L,P,T,M,E){var p=(P-I)*(M-I)+(T-L)*(E-L);if(p<0)return w.distance(I,L,M,E);var b=(P-I)*(P-I)+(T-L)*(T-L);return p>b?w.distance(P,T,M,E):this.pointToLine(I,L,P,T,M,E)},pointToLine:function(I,L,P,T,M,E){var p=[P-I,T-L];if(O.exactEquals(p,[0,0]))return Math.sqrt((M-I)*(M-I)+(E-L)*(E-L));var b=[-p[1],p[0]];O.normalize(b,b);var m=[M-I,E-L];return Math.abs(O.dot(m,b))},tangentAngle:function(I,L,P,T){return Math.atan2(T-L,P-I)}}},65386:function(xt,S,d){"use strict";var w;w={value:!0};var O=d(28171),I=d(76256);S.Z={box:function(L){for(var P=[],T=[],M=0;M<L.length;M++){var E=L[M];P.push(E[0]),T.push(E[1])}return I.getBBoxByArray(P,T)},length:function(L){return O.lengthOfSegment(L)},pointAt:function(L,P){return O.pointAtSegments(L,P)},pointDistance:function(L,P,T){return O.distanceAtSegment(L,P,T)},tangentAngle:function(L,P){return O.angleAtSegments(L,P)}}},2879:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(23646),O=d(76256),I=d(87335);function L(p,b,m,x){var g=1-x;return g*g*p+2*x*g*b+x*x*m}function P(p,b,m){var x=p+m-2*b;if(O.isNumberEqual(x,0))return[.5];var g=(p-b)/x;return g<=1&&g>=0?[g]:[]}function T(p,b,m,x){return 2*(1-x)*(b-p)+2*x*(m-b)}function M(p,b,m,x,g,C,_){var B=L(p,m,g,_),D=L(b,x,C,_),W=w.default.pointAt(p,b,m,x,_),Z=w.default.pointAt(m,x,g,C,_);return[[p,b,W.x,W.y,B,D],[B,D,Z.x,Z.y,g,C]]}function E(p,b,m,x,g,C,_){if(_===0)return(O.distance(p,b,m,x)+O.distance(m,x,g,C)+O.distance(p,b,g,C))/2;var B=M(p,b,m,x,g,C,.5),D=B[0],W=B[1];return D.push(_-1),W.push(_-1),E.apply(null,D)+E.apply(null,W)}S.default={box:function(p,b,m,x,g,C){var _=P(p,m,g)[0],B=P(b,x,C)[0],D=[p,g],W=[b,C];return _!==void 0&&D.push(L(p,m,g,_)),B!==void 0&&W.push(L(b,x,C,B)),O.getBBoxByArray(D,W)},length:function(p,b,m,x,g,C){return E(p,b,m,x,g,C,3)},nearestPoint:function(p,b,m,x,g,C,_,B){return I.nearestPoint([p,m,g],[b,x,C],_,B,L)},pointDistance:function(p,b,m,x,g,C,_,B){var D=this.nearestPoint(p,b,m,x,g,C,_,B);return O.distance(D.x,D.y,_,B)},interpolationAt:L,pointAt:function(p,b,m,x,g,C,_){return{x:L(p,m,g,_),y:L(b,x,C,_)}},divide:function(p,b,m,x,g,C,_){return M(p,b,m,x,g,C,_)},tangentAngle:function(p,b,m,x,g,C,_){var B=T(p,m,g,_),D=T(b,x,C,_),W=Math.atan2(D,B);return O.piMod(W)}}},28171:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.distanceAtSegment=S.angleAtSegments=S.pointAtSegments=S.lengthOfSegment=void 0;var w=d(23646),O=d(76256);function I(E){for(var p=0,b=[],m=0;m<E.length-1;m++){var x=E[m],g=E[m+1],C=O.distance(x[0],x[1],g[0],g[1]),_={from:x,to:g,length:C};b.push(_),p+=C}return{segments:b,totalLength:p}}function L(E){if(E.length<2)return 0;for(var p=0,b=0;b<E.length-1;b++){var m=E[b],x=E[b+1];p+=O.distance(m[0],m[1],x[0],x[1])}return p}S.lengthOfSegment=L;function P(E,p){if(p>1||p<0||E.length<2)return null;var b=I(E),m=b.segments,x=b.totalLength;if(x===0)return{x:E[0][0],y:E[0][1]};for(var g=0,C=null,_=0;_<m.length;_++){var B=m[_],D=B.from,W=B.to,Z=B.length/x;if(p>=g&&p<=g+Z){var X=(p-g)/Z;C=w.default.pointAt(D[0],D[1],W[0],W[1],X);break}g+=Z}return C}S.pointAtSegments=P;function T(E,p){if(p>1||p<0||E.length<2)return 0;for(var b=I(E),m=b.segments,x=b.totalLength,g=0,C=0,_=0;_<m.length;_++){var B=m[_],D=B.from,W=B.to,Z=B.length/x;if(p>=g&&p<=g+Z){C=Math.atan2(W[1]-D[1],W[0]-D[0]);break}g+=Z}return C}S.angleAtSegments=T;function M(E,p,b){for(var m=Infinity,x=0;x<E.length-1;x++){var g=E[x],C=E[x+1],_=w.default.pointDistance(g[0],g[1],C[0],C[1],p,b);_<m&&(m=_)}return m}S.distanceAtSegment=M},76256:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.piMod=S.getBBoxRange=S.getBBoxByArray=S.isNumberEqual=S.distance=void 0;function d(M){return Math.min.apply(null,M)}function w(M){return Math.max.apply(null,M)}function O(M,E,p,b){var m=M-p,x=E-b;return Math.sqrt(m*m+x*x)}S.distance=O;function I(M,E){return Math.abs(M-E)<.001}S.isNumberEqual=I;function L(M,E){var p=d(M),b=d(E),m=w(M),x=w(E);return{x:p,y:b,width:m-p,height:x-b}}S.getBBoxByArray=L;function P(M,E,p,b){return{minX:d([M,p]),maxX:w([M,p]),minY:d([E,b]),maxY:w([E,b])}}S.getBBoxRange=P;function T(M){return(M+Math.PI*2)%(Math.PI*2)}S.piMod=T},56463:function(xt,S,d){"use strict";var w=d(34155),O=this&&this.__spreadArrays||function(){for(var B=0,D=0,W=arguments.length;D<W;D++)B+=arguments[D].length;for(var Z=Array(B),X=0,D=0;D<W;D++)for(var j=arguments[D],it=0,tt=j.length;it<tt;it++,X++)Z[X]=j[it];return Z};Object.defineProperty(S,"__esModule",{value:!0});var I=function(){function B(D,W,Z){this.name=D,this.version=W,this.os=Z}return B}();S.BrowserInfo=I;var L=function(){function B(D){this.version=D,this.name="node",this.os=w.platform}return B}();S.NodeInfo=L;var P=function(){function B(){this.bot=!0,this.name="bot",this.version=null,this.os=null}return B}();S.BotInfo=P;var T=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,M=/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/,E=3,p=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",T]],b=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",M]];function m(B){return B?x(B):typeof navigator!="undefined"?x(navigator.userAgent):C()}S.detect=m;function x(B){var D=B!==""&&p.reduce(function(j,it){var tt=it[0],yt=it[1];if(j)return j;var dt=yt.exec(B);return!!dt&&[tt,dt]},!1);if(!D)return null;var W=D[0],Z=D[1];if(W==="searchbot")return new P;var X=Z[1]&&Z[1].split(/[._]/).slice(0,3);return X?X.length<E&&(X=O(X,_(E-X.length))):X=[],new I(W,X.join("."),g(B))}S.parseUserAgent=x;function g(B){for(var D=0,W=b.length;D<W;D++){var Z=b[D],X=Z[0],j=Z[1],it=j.test(B);if(it)return X}return null}S.detectOS=g;function C(){var B=typeof w!="undefined"&&w.version;return B?new L(w.version.slice(1)):null}S.getNodeVersion=C;function _(B){for(var D=[],W=0;W<B;W++)D.push("0");return D}},23231:function(xt){"use strict";xt.exports=JSON.parse('{"name":"@antv/g-svg","version":"0.4.7","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},52351:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),O=d(2810),I=function(){function L(P){var T=P.xField,M=P.yField,E=P.adjustNames,p=E===void 0?["x","y"]:E,b=P.dimValuesMap;this.adjustNames=p,this.xField=T,this.yField=M,this.dimValuesMap=b}return L.prototype.isAdjust=function(P){return this.adjustNames.indexOf(P)>=0},L.prototype.getAdjustRange=function(P,T,M){var E=this.yField,p=M.indexOf(T),b=M.length,m,x;return!E&&this.isAdjust("y")?(m=0,x=1):b>1?(m=M[p===0?0:p-1],x=M[p===b-1?b-1:p+1],p!==0?m+=(T-m)/2:m-=(x-T)/2,p!==b-1?x-=(x-T)/2:x+=(T-M[b-2])/2):(m=T===0?0:T-.5,x=T===0?1:T+.5),{pre:m,next:x}},L.prototype.adjustData=function(P,T){var M=this,E=this.getDimValues(T);w.each(P,function(p,b){w.each(E,function(m,x){M.adjustDim(x,m,p,b)})})},L.prototype.groupData=function(P,T){return w.each(P,function(M){M[T]===void 0&&(M[T]=O.DEFAULT_Y)}),w.groupBy(P,T)},L.prototype.adjustDim=function(P,T,M,E){},L.prototype.getDimValues=function(P){var T=this,M=T.xField,E=T.yField,p=w.assign({},this.dimValuesMap),b=[];if(M&&this.isAdjust("x")&&b.push(M),E&&this.isAdjust("y")&&b.push(E),b.forEach(function(x){p&&p[x]||(p[x]=w.valuesOfKey(P,x).sort(function(g,C){return g-C}))}),!E&&this.isAdjust("y")){var m="y";p[m]=[O.DEFAULT_Y,1]}return p},L}();S.default=I},2810:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.GAP=S.DODGE_RATIO=S.MARGIN_RATIO=S.DEFAULT_Y=void 0,S.DEFAULT_Y=0,S.MARGIN_RATIO=1/2,S.DODGE_RATIO=1/2,S.GAP=.05},68060:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Adjust=S.registerAdjust=S.getAdjust=void 0;var w=d(8108),O=d(52351);S.Adjust=O.default;var I={},L=function(T){return I[T.toLowerCase()]};S.getAdjust=L;var P=function(T,M){if(L(T))throw new Error("Adjust type '"+T+"' existed.");I[T.toLowerCase()]=M};S.registerAdjust=P,w.__exportStar(d(62056),S)},62056:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0})},58368:function(xt,S,d){"use strict";d.r(S),d.d(S,{Attribute:function(){return L},Color:function(){return E},Opacity:function(){return b},Position:function(){return x},Scale:function(){return D.Scale},Shape:function(){return C},Size:function(){return B},getAttribute:function(){return Z},registerAttribute:function(){return X}});var w=d(49242),O=function(j,it){return(0,w.isString)(it)?it:j.invert(j.scale(it))},I=function(){function j(it){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(it)}return j.prototype.mapping=function(){for(var it=this,tt=[],yt=0;yt<arguments.length;yt++)tt[yt]=arguments[yt];var dt=tt.map(function(Ct,F){return it._toOriginParam(Ct,it.scales[F])});return this.callback.apply(this,dt)},j.prototype.getLinearValue=function(it){var tt=this.values.length-1,yt=Math.floor(tt*it),dt=tt*it-yt,Ct=this.values[yt],F=yt===tt?Ct:this.values[yt+1];return Ct+(F-Ct)*dt},j.prototype.getNames=function(){for(var it=this.scales,tt=this.names,yt=Math.min(it.length,tt.length),dt=[],Ct=0;Ct<yt;Ct+=1)dt.push(tt[Ct]);return dt},j.prototype.getFields=function(){return this.scales.map(function(it){return it.field})},j.prototype.getScale=function(it){return this.scales[this.names.indexOf(it)]},j.prototype.defaultCallback=function(){for(var it=this,tt=[],yt=0;yt<arguments.length;yt++)tt[yt]=arguments[yt];return tt.length===0?this.values:tt.map(function(dt,Ct){var F=it.scales[Ct];return F.type==="identity"?F.values[0]:it._getAttributeValue(F,dt)})},j.prototype._parseCfg=function(it){var tt=this,yt=it.type,dt=yt===void 0?"base":yt,Ct=it.names,F=Ct===void 0?[]:Ct,z=it.scales,G=z===void 0?[]:z,Y=it.values,q=Y===void 0?[]:Y,$=it.callback;this.type=dt,this.scales=G,this.values=q,this.names=F,this.callback=function(){for(var J=[],U=0;U<arguments.length;U++)J[U]=arguments[U];if($){var K=$.apply(void 0,J);if(!(0,w.isNil)(K))return[K]}return tt.defaultCallback.apply(tt,J)}},j.prototype._getAttributeValue=function(it,tt){if(it.isCategory&&!this.linear){var yt=it.translate(tt);return this.values[yt%this.values.length]}var dt=it.scale(tt);return this.getLinearValue(dt)},j.prototype._toOriginParam=function(it,tt){return tt.isLinear?it:(0,w.isArray)(it)?it.map(function(yt){return O(tt,yt)}):O(tt,it)},j}(),L=I,P=d(8108),T=d(55223),M=function(j){(0,P.__extends)(it,j);function it(tt){var yt=j.call(this,tt)||this;return yt.type="color",yt.names=["color"],(0,w.isString)(yt.values)&&(yt.linear=!0),yt.gradient=T.default.gradient(yt.values),yt}return it.prototype.getLinearValue=function(tt){return this.gradient(tt)},it}(L),E=M,p=function(j){(0,P.__extends)(it,j);function it(tt){var yt=j.call(this,tt)||this;return yt.type="opacity",yt.names=["opacity"],yt}return it}(L),b=p,m=function(j){(0,P.__extends)(it,j);function it(tt){var yt=j.call(this,tt)||this;return yt.names=["x","y"],yt.type="position",yt}return it.prototype.mapping=function(tt,yt){var dt=this.scales,Ct=dt[0],F=dt[1];return(0,w.isNil)(tt)||(0,w.isNil)(yt)?[]:[(0,w.isArray)(tt)?tt.map(function(z){return Ct.scale(z)}):Ct.scale(tt),(0,w.isArray)(yt)?yt.map(function(z){return F.scale(z)}):F.scale(yt)]},it}(L),x=m,g=function(j){(0,P.__extends)(it,j);function it(tt){var yt=j.call(this,tt)||this;return yt.type="shape",yt.names=["shape"],yt}return it.prototype.getLinearValue=function(tt){var yt=Math.round((this.values.length-1)*tt);return this.values[yt]},it}(L),C=g,_=function(j){(0,P.__extends)(it,j);function it(tt){var yt=j.call(this,tt)||this;return yt.type="size",yt.names=["size"],yt}return it}(L),B=_,D=d(72469),W={},Z=function(j){return W[j.toLowerCase()]},X=function(j,it){if(Z(j))throw new Error("Attribute type '"+j+"' existed.");W[j.toLowerCase()]=it};X("Color",E),X("Opacity",b),X("Position",x),X("Shape",C),X("Size",B)},27210:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),O=function(L,P){return w.isString(P)?P:L.invert(L.scale(P))},I=function(){function L(P){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(P)}return L.prototype.mapping=function(){for(var P=this,T=[],M=0;M<arguments.length;M++)T[M]=arguments[M];var E=T.map(function(p,b){return P._toOriginParam(p,P.scales[b])});return this.callback.apply(this,E)},L.prototype.getLinearValue=function(P){var T=this.values.length-1,M=Math.floor(T*P),E=T*P-M,p=this.values[M],b=M===T?p:this.values[M+1];return p+(b-p)*E},L.prototype.getNames=function(){for(var P=this.scales,T=this.names,M=Math.min(P.length,T.length),E=[],p=0;p<M;p+=1)E.push(T[p]);return E},L.prototype.getFields=function(){return this.scales.map(function(P){return P.field})},L.prototype.getScale=function(P){return this.scales[this.names.indexOf(P)]},L.prototype.defaultCallback=function(){for(var P=this,T=[],M=0;M<arguments.length;M++)T[M]=arguments[M];return T.length===0?this.values:T.map(function(E,p){var b=P.scales[p];return b.type==="identity"?b.values[0]:P._getAttributeValue(b,E)})},L.prototype._parseCfg=function(P){var T=this,M=P.type,E=M===void 0?"base":M,p=P.names,b=p===void 0?[]:p,m=P.scales,x=m===void 0?[]:m,g=P.values,C=g===void 0?[]:g,_=P.callback;this.type=E,this.scales=x,this.values=C,this.names=b,this.callback=function(){for(var B=[],D=0;D<arguments.length;D++)B[D]=arguments[D];if(_){var W=_.apply(void 0,B);if(!w.isNil(W))return[W]}return T.defaultCallback.apply(T,B)}},L.prototype._getAttributeValue=function(P,T){if(P.isCategory&&!this.linear){var M=P.translate(T);return this.values[M%this.values.length]}var E=P.scale(T);return this.getLinearValue(E)},L.prototype._toOriginParam=function(P,T){return T.isLinear?P:w.isArray(P)?P.map(function(M){return O(T,M)}):O(T,P)},L}();S.default=I},25228:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(8108),O=d(27210);S.Attribute=O.default;var I={},L=function(T){return I[T.toLowerCase()]};S.getAttribute=L;var P=function(T,M){if(L(T))throw new Error("Attribute type '"+T+"' existed.");I[T.toLowerCase()]=M};S.registerAttribute=P,w.__exportStar(d(5925),S)},5925:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(72469);S.Scale=w.Scale},61102:function(){},50817:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.registerAnimation=S.getAnimation=void 0;var d={};function w(I){return d[I.toLowerCase()]}S.getAnimation=w;function O(I,L){d[I.toLowerCase()]=L}S.registerAnimation=O},97488:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.doGroupAppearAnimate=S.doAnimate=S.getDefaultAnimateCfg=S.DEFAULT_ANIMATE_CFG=void 0;var w=d(80123),O=d(49242),I=d(78646),L=d(50817);S.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var P={interval:function(m){return{enter:{animation:m.isRect?m.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:m.isPolar&&m.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},T={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(m){var x;return m.isRect?x=m.isTransposed?"grow-in-x":"grow-in-y":(x="grow-in-xy",m.isPolar&&m.isTransposed&&(x="wave-in")),{animation:x}},schema:function(m){var x;return m.isRect?x=m.isTransposed?"grow-in-x":"grow-in-y":x="grow-in-xy",{animation:x}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function M(m,x){return{delay:O.isFunction(m.delay)?m.delay(x):m.delay,easing:O.isFunction(m.easing)?m.easing(x):m.easing,duration:O.isFunction(m.duration)?m.duration(x):m.duration,callback:m.callback}}function E(m,x,g){var C=P[m];return C&&(O.isFunction(C)&&(C=C(x)),C=O.deepMix({},S.DEFAULT_ANIMATE_CFG,C),g)?C[g]:C}S.getDefaultAnimateCfg=E;function p(m,x,g){var C=O.get(m.get("origin"),"data",I.FIELD_ORIGIN),_=x.animation,B=M(x,C);if(_){var D=L.getAnimation(_);D&&D(m,B,g)}else m.animate(g.toAttrs,B)}S.doAnimate=p;function b(m,x,g,C,_){if(T[g]){var B=T[g](C),D=L.getAnimation(O.get(B,"animation",""));if(D){var W=w.__assign(w.__assign(w.__assign({},S.DEFAULT_ANIMATE_CFG.appear),B),x);m.stopAnimate(),D(m,W,{coordinate:C,minYPoint:_,toAttrs:null})}}}S.doGroupAppearAnimate=b},51315:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(80123),O=w.__importDefault(d(90494)),I=function(L){w.__extends(P,L);function P(T){var M=L.call(this)||this;M.destroyed=!1;var E=T.visible,p=E===void 0?!0:E;return M.visible=p,M}return P.prototype.show=function(){var T=this.visible;T||this.changeVisible(!0)},P.prototype.hide=function(){var T=this.visible;T&&this.changeVisible(!1)},P.prototype.destroy=function(){this.off(),this.destroyed=!0},P.prototype.changeVisible=function(T){this.visible!==T&&(this.visible=T)},P}(O.default);S.default=I},72282:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Controller=void 0;var w=d(49242),O=function(){function I(L){this.visible=!0,this.components=[],this.view=L}return I.prototype.clear=function(){w.each(this.components,function(L){L.component.destroy()}),this.components=[]},I.prototype.destroy=function(){this.clear()},I.prototype.getComponents=function(){return this.components},I.prototype.changeVisible=function(L){this.visible!==L&&(this.components.forEach(function(P){L?P.component.show():P.component.hide()}),this.visible=L)},I}();S.Controller=O},67984:function(xt,S,d){"use strict";var w;w={value:!0};var O=d(80123),I=d(72282),L=250,P=function(b,m){var x=m.x-b.x,g=m.y-b.y;return Math.abs(x)>Math.abs(g)?x>0?"right":"left":g>0?"down":"up"},T=function(b,m){var x=Math.abs(m.x-b.x),g=Math.abs(m.y-b.y);return Math.sqrt(x*x+g*g)},M=function(b,m){var x=(b.x+m.x)/2,g=(b.y+m.y)/2;return{x,y:g}},E=function(b,m){if(!!b){for(var x=[],g=b.length,C=0;C<g;C++){var _=b[C],B=_.clientX,D=_.clientY,W=m.getPointByClient(B,D);x.push(W)}return x}},p=function(b){O.__extends(m,b);function m(x){var g=b.call(this,x)||this;return g.processEvent={},g.touchStart=function(C){var _=E(C.originalEvent.touches,g.canvas);!_||(C.points=_,g.reset(),g.startTime=Date.now(),g.startPoints=_,_.length>1?(g.startDistance=T(_[0],_[1]),g.center=M(_[0],_[1])):g.pressTimeout=setTimeout(function(){var B="press";C.direction="none",g.emitStart(B,C),g.emitEvent(B,C),g.eventType=B},L))},g.touchMove=function(C){var _=E(C.originalEvent.touches,g.canvas);if(!!_){g.clearPressTimeout(),C.points=_;var B=g.startPoints;if(!!B)if(_.length>1){var D=g.startDistance,W=T(_[0],_[1]);C.zoom=W/D,C.center=g.center,g.emitStart("pinch",C),g.emitEvent("pinch",C)}else{var Z=_[0].x-B[0].x,X=_[0].y-B[0].y,j=g.direction||P(B[0],_[0]);g.direction=j;var it=g.getEventType(_);C.direction=j,C.deltaX=Z,C.deltaY=X,g.emitStart(it,C),g.emitEvent(it,C);var tt=g.lastMoveTime,yt=Date.now();yt-tt>0&&(g.prevMoveTime=tt,g.prevMovePoints=g.lastMovePoints,g.lastMoveTime=yt,g.lastMovePoints=_)}}},g.touchEnd=function(C){g.emitEnd(C);var _=g.lastMoveTime,B=Date.now();if(B-_<100){var D=g.prevMoveTime||g.startTime,W=_-D;if(W>0){var Z=g.prevMovePoints||g.startPoints,X=g.lastMovePoints,j=T(Z[0],X[0])/W;j>.3&&(C.velocity=j,C.direction=P(Z[0],X[0]),g.emitEvent("swipe",C))}}g.reset();var it=C.touches;it&&it.length>0&&g.touchStart(C)},g.canvas=x.getCanvas(),g.delegateEvent(),g.processEvent={},g}return Object.defineProperty(m.prototype,"name",{get:function(){return"gesture"},enumerable:!1,configurable:!0}),m.prototype.init=function(){},m.prototype.render=function(){},m.prototype.layout=function(){},m.prototype.update=function(){},m.prototype.destroy=function(){this.reset(),this.offEvent(),this.processEvent=null},m.prototype.delegateEvent=function(){this.canvas.on("touchstart",this.touchStart),this.canvas.on("touchmove",this.touchMove),this.canvas.on("touchend",this.touchEnd)},m.prototype.offEvent=function(){this.canvas.off("touchstart",this.touchStart),this.canvas.off("touchmove",this.touchMove),this.canvas.off("touchend",this.touchEnd)},m.prototype.emitEvent=function(x,g){var C=this.view;C.emit(x,g)},m.prototype.emitStart=function(x,g){this.isProcess(x)||(this.enable(x),this.emitEvent(x+"start",g))},m.prototype.emitEnd=function(x){var g=this,C=this.processEvent;Object.keys(C).forEach(function(_){g.emitEvent(_+"end",x),delete C[_]})},m.prototype.enable=function(x){this.processEvent[x]=!0},m.prototype.isProcess=function(x){return this.processEvent[x]},m.prototype.reset=function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null},m.prototype.clearPressTimeout=function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=0)},m.prototype.getEventType=function(x){var g=this,C=g.eventType,_=g.view,B=g.startTime,D=g.startPoints;if(C)return C;var W,Z=_.getEvents().pan;if(!Z||!Z.length)W="press";else{var X=Date.now();X-B>L&&T(D[0],x[0])<10?W="press":W="pan"}return this.eventType=W,W},m}(I.Controller);S.Z=p},13733:function(xt,S,d){"use strict";var w;w={value:!0};var O=d(80123),I=d(49242),L=d(96397),P=d(83714),T=d(38674),M=d(97127),E=d(72282);function p(m){for(var x=[],g=function(_){var B=m[_],D=I.find(x,function(W){return W.color===B.color&&W.name===B.name&&W.value===B.value&&W.title===B.title});D||x.push(B)},C=0;C<m.length;C++)g(C);return x}var b=function(m){O.__extends(x,m);function x(){var g=m!==null&&m.apply(this,arguments)||this;return g.isLocked=!1,g}return Object.defineProperty(x.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),x.prototype.init=function(){},x.prototype.isVisible=function(){var g=this.view.getOptions().tooltip;return g!==!1},x.prototype.render=function(){},x.prototype.showTooltip=function(g){if(this.point=g,!!this.isVisible()){var C=this.view,_=this.getTooltipItems(g);if(!_.length){this.hideTooltip();return}var B=this.getTitle(_),D={x:_[0].x,y:_[0].y};C.emit("tooltip:show",O.__assign({items:_,title:B},g));var W=this.getTooltipCfg(),Z=W.follow,X=W.showMarkers,j=W.showCrosshairs,it=W.showContent,tt=W.marker,yt=this.items,dt=this.title;if(!I.isEqual(dt,B)||!I.isEqual(yt,_)?(C.emit("tooltip:change",O.__assign({items:_,title:B},g)),it&&(this.tooltip||this.renderTooltip(),this.tooltip.update(I.mix({},W,{items:_,title:B},Z?g:{})),this.tooltip.show()),X&&this.renderTooltipMarkers(_,tt)):(this.tooltip&&Z&&(this.tooltip.update(g),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=_,this.title=B,j){var Ct=I.get(W,["crosshairs","follow"],!1);this.renderCrosshairs(Ct?g:D,W)}}},x.prototype.hideTooltip=function(){var g=this.getTooltipCfg().follow;if(!g){this.point=null;return}var C=this.tooltipMarkersGroup;C&&C.hide();var _=this.xCrosshair,B=this.yCrosshair;_&&_.hide(),B&&B.hide();var D=this.tooltip;D&&D.hide(),this.view.emit("tooltip:hide",{}),this.point=null},x.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},x.prototype.unlockTooltip=function(){this.isLocked=!1;var g=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(g.capture)},x.prototype.isTooltipLocked=function(){return this.isLocked},x.prototype.clear=function(){var g=this,C=g.tooltip,_=g.xCrosshair,B=g.yCrosshair,D=g.tooltipMarkersGroup;C&&(C.hide(),C.clear()),_&&_.clear(),B&&B.clear(),D&&D.clear()},x.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},x.prototype.changeVisible=function(g){if(this.visible!==g){var C=this,_=C.tooltip,B=C.tooltipMarkersGroup,D=C.xCrosshair,W=C.yCrosshair;g?(_&&_.show(),B&&B.show(),D&&D.show(),W&&W.show()):(_&&_.hide(),B&&B.hide(),D&&D.hide(),W&&W.hide()),this.visible=g}},x.prototype.getTooltipItems=function(g){var C=this.findItemsFromView(this.view,g);if(C.length){C=I.flatten(C);for(var _=0,B=C;_<B.length;_++)for(var D=B[_],W=0,Z=D;W<Z.length;W++){var X=Z[W],j=X.mappingData,it=j.x,tt=j.y;X.x=I.isArray(it)?it[it.length-1]:it,X.y=I.isArray(tt)?tt[tt.length-1]:tt}var yt=this.getTooltipCfg().shared;if(yt===!1&&C.length>1){for(var dt=C[0],Ct=Math.abs(g.y-dt[0].y),F=0,z=C;F<z.length;F++){var G=z[F],Y=Math.abs(g.y-G[0].y);Y<=Ct&&(dt=G,Ct=Y)}C=[dt]}return p(I.flatten(C))}return[]},x.prototype.layout=function(){},x.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var g=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:g.get("width"),y:g.get("height")}})}},x.prototype.getTooltipCfg=function(){var g=this.view,C=g.getOptions().tooltip,_=g.getTheme(),B=I.get(_,["components","tooltip"],{}),D=I.isUndefined(I.get(C,"enterable"))?B.enterable:I.get(C,"enterable");return I.deepMix({},B,C,{capture:!!(D||this.isLocked)})},x.prototype.getTitle=function(g){var C=g[0].title||g[0].name;return this.title=C,C},x.prototype.renderTooltip=function(){var g=this.view.getCanvas(),C={start:{x:0,y:0},end:{x:g.get("width"),y:g.get("height")}},_=this.getTooltipCfg(),B=new L.HtmlTooltip(O.__assign(O.__assign({parent:g.get("el").parentNode,region:C},_),{visible:!1,crosshairs:null}));B.init(),this.tooltip=B},x.prototype.renderTooltipMarkers=function(g,C){for(var _=this.getTooltipMarkersGroup(),B=0,D=g;B<D.length;B++){var W=D[B],Z=W.x,X=W.y,j=O.__assign(O.__assign({fill:W.color,symbol:"circle",shadowColor:W.color},C),{x:Z,y:X});_.addShape("marker",{attrs:j})}},x.prototype.renderCrosshairs=function(g,C){var _=I.get(C,["crosshairs","type"],"x");_==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(g,C)):_==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(g,C)):_==="xy"&&(this.renderXCrosshairs(g,C),this.renderYCrosshairs(g,C))},x.prototype.renderXCrosshairs=function(g,C){var _=this.getViewWithGeometry(this.view).getCoordinate();if(!!P.isPointInCoordinate(_,g)){var B,D;if(_.isRect)_.isTransposed?(B={x:_.start.x,y:g.y},D={x:_.end.x,y:g.y}):(B={x:g.x,y:_.end.y},D={x:g.x,y:_.start.y});else{var W=P.getAngleByPoint(_,g),Z=_.getCenter(),X=_.getRadius();D=T.polarToCartesian(Z.x,Z.y,X,W),B=Z}var j=I.deepMix({start:B,end:D,container:this.getTooltipCrosshairsGroup()},I.get(C,"crosshairs",{}),this.getCrosshairsText("x",g,C));delete j.type;var it=this.xCrosshair;it?it.update(j):(it=new L.Crosshair.Line(j),it.init()),it.render(),it.show(),this.xCrosshair=it}},x.prototype.renderYCrosshairs=function(g,C){var _=this.getViewWithGeometry(this.view).getCoordinate();if(!!P.isPointInCoordinate(_,g)){var B,D;if(_.isRect){var W=void 0,Z=void 0;_.isTransposed?(W={x:g.x,y:_.end.y},Z={x:g.x,y:_.start.y}):(W={x:_.start.x,y:g.y},Z={x:_.end.x,y:g.y}),B={start:W,end:Z},D="Line"}else B={center:_.getCenter(),radius:P.getDistanceToCenter(_,g),startAngle:_.startAngle,endAngle:_.endAngle},D="Circle";B=I.deepMix({container:this.getTooltipCrosshairsGroup()},B,I.get(C,"crosshairs",{}),this.getCrosshairsText("y",g,C)),delete B.type;var X=this.yCrosshair;X?_.isRect&&X.get("type")==="circle"||!_.isRect&&X.get("type")==="line"?(X=new L.Crosshair[D](B),X.init()):X.update(B):(X=new L.Crosshair[D](B),X.init()),X.render(),X.show(),this.yCrosshair=X}},x.prototype.getCrosshairsText=function(g,C,_){var B=I.get(_,["crosshairs","text"]),D=I.get(_,["crosshairs","follow"]),W=this.items;if(B){var Z=this.getViewWithGeometry(this.view),X=W[0],j=Z.getXScale(),it=Z.getYScales()[0],tt=void 0,yt=void 0;if(D){var dt=this.view.getCoordinate().invert(C);tt=j.invert(dt.x),yt=it.invert(dt.y)}else tt=X.data[j.field],yt=X.data[it.field];var Ct=g==="x"?tt:yt;return I.isFunction(B)?B=B(g,Ct,W,C):B.content=Ct,{text:B}}},x.prototype.getGuideGroup=function(){if(!this.guideGroup){var g=this.view.foregroundGroup;this.guideGroup=g.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},x.prototype.getTooltipMarkersGroup=function(){var g=this.tooltipMarkersGroup;return g&&!g.destroyed?(g.clear(),g.show()):(g=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),g.toFront(),this.tooltipMarkersGroup=g),g},x.prototype.getTooltipCrosshairsGroup=function(){var g=this.tooltipCrosshairsGroup;return g||(g=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),g.toBack(),this.tooltipCrosshairsGroup=g),g},x.prototype.getTooltipItemsByHitShape=function(g,C,_){var B=[],D=g.container,W=D.getShape(C.x,C.y);if(W&&W.get("visible")&&W.get("origin")){var Z=W.get("origin").mappingData,X=M.getTooltipItems(Z,g,_);X.length&&B.push(X)}return B},x.prototype.getTooltipItemsByFindData=function(g,C,_){var B=[],D=g.dataArray;g.sort(D);for(var W=0,Z=D;W<Z.length;W++){var X=Z[W],j=M.findDataByPoint(C,X,g);if(j){var it=g.getElementId(j),tt=g.elementsMap[it];if(g.type==="heatmap"||tt.visible){var yt=M.getTooltipItems(j,g,_);yt.length&&B.push(yt)}}}return B},x.prototype.findItemsFromView=function(g,C){if(g.getOptions().tooltip===!1)return[];for(var _=[],B=g.geometries,D=this.getTooltipCfg(),W=D.shared,Z=D.title,X=0,j=B;X<j.length;X++){var it=j[X];if(it.visible&&it.tooltipOption!==!1){var tt=it.type,yt=void 0;["point","edge","polygon"].includes(tt)?yt=this.getTooltipItemsByHitShape(it,C,Z):["area","line","path","heatmap"].includes(tt)?yt=this.getTooltipItemsByFindData(it,C,Z):W!==!1?yt=this.getTooltipItemsByFindData(it,C,Z):yt=this.getTooltipItemsByHitShape(it,C,Z),yt.length&&_.push(yt)}}for(var dt=0,Ct=g.views;dt<Ct.length;dt++){var F=Ct[dt];_=_.concat(this.findItemsFromView(F,C))}return _},x.prototype.getViewWithGeometry=function(g){var C=this;return g.geometries.length?g:I.find(g.views,function(_){return C.getViewWithGeometry(_)})},x}(E.Controller);S.Z=b},78646:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.COMPONENT_MAX_VIEW_PERCENTAGE=S.MIN_CHART_HEIGHT=S.MIN_CHART_WIDTH=S.FIELD_ORIGIN=S.GROUP_ATTRS=S.ELEMENT_STATE=S.PLOT_EVENTS=S.VIEW_LIFE_CIRCLE=S.GROUP_Z_INDEX=S.COMPONENT_TYPE=S.DIRECTION=S.LAYER=void 0;var d;(function(T){T.FORE="fore",T.MID="mid",T.BG="bg"})(d=S.LAYER||(S.LAYER={}));var w;(function(T){T.TOP="top",T.TOP_LEFT="top-left",T.TOP_RIGHT="top-right",T.RIGHT="right",T.RIGHT_TOP="right-top",T.RIGHT_BOTTOM="right-bottom",T.LEFT="left",T.LEFT_TOP="left-top",T.LEFT_BOTTOM="left-bottom",T.BOTTOM="bottom",T.BOTTOM_LEFT="bottom-left",T.BOTTOM_RIGHT="bottom-right",T.RADIUS="radius",T.CIRCLE="circle",T.NONE="none"})(w=S.DIRECTION||(S.DIRECTION={}));var O;(function(T){T.AXIS="axis",T.GRID="grid",T.LEGEND="legend",T.TOOLTIP="tooltip",T.ANNOTATION="annotation",T.OTHER="other"})(O=S.COMPONENT_TYPE||(S.COMPONENT_TYPE={})),S.GROUP_Z_INDEX={FORE:3,MID:2,BG:1};var I;(function(T){T.BEFORE_RENDER="beforerender",T.AFTER_RENDER="afterrender",T.BEFORE_PAINT="beforepaint",T.AFTER_PAINT="afterpaint",T.BEFORE_CHANGE_DATA="beforechangedata",T.AFTER_CHANGE_DATA="afterchangedata",T.BEFORE_CLEAR="beforeclear",T.AFTER_CLEAR="afterclear",T.BEFORE_DESTROY="beforedestroy"})(I=S.VIEW_LIFE_CIRCLE||(S.VIEW_LIFE_CIRCLE={}));var L;(function(T){T.MOUSE_ENTER="plot:mouseenter",T.MOUSE_DOWN="plot:mousedown",T.MOUSE_MOVE="plot:mousemove",T.MOUSE_UP="plot:mouseup",T.MOUSE_LEAVE="plot:mouseleave",T.TOUCH_START="plot:touchstart",T.TOUCH_MOVE="plot:touchmove",T.TOUCH_END="plot:touchend",T.TOUCH_CANCEL="plot:touchcancel",T.CLICK="plot:click",T.DBLCLICK="plot:dblclick",T.CONTEXTMENU="plot:contextmenu",T.LEAVE="plot:leave",T.ENTER="plot:enter"})(L=S.PLOT_EVENTS||(S.PLOT_EVENTS={}));var P;(function(T){T.ACTIVE="active",T.INACTIVE="inactive",T.SELECTED="selected",T.DEFAULT="default"})(P=S.ELEMENT_STATE||(S.ELEMENT_STATE={})),S.GROUP_ATTRS=["color","shape","size"],S.FIELD_ORIGIN="_origin",S.MIN_CHART_WIDTH=1,S.MIN_CHART_HEIGHT=1,S.COMPONENT_MAX_VIEW_PERCENTAGE=.25},96397:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Slider=S.HtmlTooltip=S.ContinuousLegend=S.CategoryLegend=S.CircleGrid=S.LineGrid=S.CircleAxis=S.LineAxis=S.Annotation=S.Crosshair=S.Component=S.GroupComponent=S.HtmlComponent=void 0;var w=d(65722);Object.defineProperty(S,"Event",{enumerable:!0,get:function(){return w.Event}}),Object.defineProperty(S,"AbstractGroup",{enumerable:!0,get:function(){return w.AbstractGroup}}),Object.defineProperty(S,"AbstractShape",{enumerable:!0,get:function(){return w.AbstractShape}});var O=d(68060);Object.defineProperty(S,"registerAdjust",{enumerable:!0,get:function(){return O.registerAdjust}}),Object.defineProperty(S,"getAdjust",{enumerable:!0,get:function(){return O.getAdjust}}),Object.defineProperty(S,"Adjust",{enumerable:!0,get:function(){return O.Adjust}});var I=d(25228);Object.defineProperty(S,"getAttribute",{enumerable:!0,get:function(){return I.getAttribute}}),Object.defineProperty(S,"Attribute",{enumerable:!0,get:function(){return I.Attribute}});var L=d(58368);Object.defineProperty(S,"Color",{enumerable:!0,get:function(){return L.Color}});var P=d(13541);Object.defineProperty(S,"getCoordinate",{enumerable:!0,get:function(){return P.getCoordinate}}),Object.defineProperty(S,"registerCoordinate",{enumerable:!0,get:function(){return P.registerCoordinate}}),Object.defineProperty(S,"Coordinate",{enumerable:!0,get:function(){return P.Coordinate}});var T=d(72469);Object.defineProperty(S,"getScale",{enumerable:!0,get:function(){return T.getScale}}),Object.defineProperty(S,"registerScale",{enumerable:!0,get:function(){return T.registerScale}}),Object.defineProperty(S,"Scale",{enumerable:!0,get:function(){return T.Scale}});var M=d(51441);Object.defineProperty(S,"Annotation",{enumerable:!0,get:function(){return M.Annotation}}),Object.defineProperty(S,"Component",{enumerable:!0,get:function(){return M.Component}}),Object.defineProperty(S,"Crosshair",{enumerable:!0,get:function(){return M.Crosshair}}),Object.defineProperty(S,"GroupComponent",{enumerable:!0,get:function(){return M.GroupComponent}}),Object.defineProperty(S,"HtmlComponent",{enumerable:!0,get:function(){return M.HtmlComponent}}),Object.defineProperty(S,"Slider",{enumerable:!0,get:function(){return M.Slider}});var E=M.Axis.Line,p=M.Axis.Circle;S.LineAxis=E,S.CircleAxis=p;var b=M.Grid.Line,m=M.Grid.Circle;S.LineGrid=b,S.CircleGrid=m;var x=M.Legend.Category,g=M.Legend.Continuous;S.CategoryLegend=x,S.ContinuousLegend=g;var C=M.Tooltip.Html;S.HtmlTooltip=C},98880:function(xt,S,d){"use strict";var w;w={value:!0};var O=d(80123),I=d(49242),L=d(97488),P=O.__importDefault(d(51315)),T=d(38674),M=d(31207),E=function(p){O.__extends(b,p);function b(m){var x=p.call(this,m)||this;x.states=[];var g=m.shapeFactory,C=m.container,_=m.offscreenGroup,B=m.visible,D=B===void 0?!0:B;return x.shapeFactory=g,x.container=C,x.offscreenGroup=_,x.visible=D,x}return b.prototype.draw=function(m,x){x===void 0&&(x=!1),this.model=m,this.data=m.data,this.shapeType=this.getShapeType(m),this.drawShape(m,x),this.visible===!1&&this.changeVisible(!1)},b.prototype.update=function(m){var x=this,g=x.shapeFactory,C=x.shape;if(!!C){this.model=m,this.data=m.data,this.shapeType=this.getShapeType(m),this.setShapeInfo(C,m);var _=this.getOffscreenGroup(),B=g.drawShape(this.shapeType,m,_);B.cfg.data=this.data,B.cfg.origin=m,this.syncShapeStyle(C,B,"",this.getAnimateCfg("update"))}},b.prototype.destroy=function(){var m=this,x=m.shapeFactory,g=m.shape;if(g){var C=this.getAnimateCfg("leave");C?L.doAnimate(g,C,{coordinate:x.coordinate,toAttrs:O.__assign({},g.attr())}):g.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,p.prototype.destroy.call(this)},b.prototype.changeVisible=function(m){p.prototype.changeVisible.call(this,m),m?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(x){x.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(x){x.hide()}))},b.prototype.setState=function(m,x){var g=this,C=this,_=C.states,B=C.shapeFactory,D=C.model,W=C.shape,Z=C.shapeType,X=_.indexOf(m);if(x){if(X>-1)return;_.push(m),(m==="active"||m==="selected")&&W.toFront()}else{if(X===-1)return;_.splice(X,1),(m==="active"||m==="selected")&&W.toBack()}var j=B.drawShape(Z,D,this.getOffscreenGroup());_.length?_.forEach(function(tt){g.syncShapeStyle(W,j,tt,null)}):this.syncShapeStyle(W,j,"reset",null),j.remove(!0);var it={state:m,stateStatus:x,element:this,target:this.container};this.container.emit("statechange",it),M.propagationDelegate(this.shape,"statechange",it)},b.prototype.clearStates=function(){var m=this,x=this.states;I.each(x,function(g){m.setState(g,!1)}),this.states=[]},b.prototype.hasState=function(m){return this.states.includes(m)},b.prototype.getStates=function(){return this.states},b.prototype.getData=function(){return this.data},b.prototype.getModel=function(){return this.model},b.prototype.getBBox=function(){var m=this,x=m.shape,g=m.labelShape,C={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return x&&(C=x.getCanvasBBox()),g&&g.forEach(function(_){var B=_.getCanvasBBox();C.x=Math.min(B.x,C.x),C.y=Math.min(B.y,C.y),C.minX=Math.min(B.minX,C.minX),C.minY=Math.min(B.minY,C.minY),C.maxX=Math.max(B.maxX,C.maxX),C.maxY=Math.max(B.maxY,C.maxY)}),C.width=C.maxX-C.minX,C.height=C.maxY-C.minY,C},b.prototype.getStatesStyle=function(){if(!this.statesStyle){var m=this,x=m.shapeType,g=m.geometry,C=m.shapeFactory,_=g.stateOption,B=C.defaultShapeType,D=C.theme[x]||C.theme[B];this.statesStyle=I.deepMix({},D,_)}return this.statesStyle},b.prototype.getStateStyle=function(m,x){var g=this.getStatesStyle(),C=I.get(g,[m,"style"],{}),_=C[x]||C;return I.isFunction(_)?_(this):_},b.prototype.getAnimateCfg=function(m){var x=this.animate;return x?x[m]:null},b.prototype.drawShape=function(m,x){x===void 0&&(x=!1);var g=this,C=g.shapeFactory,_=g.container,B=g.shapeType;if(this.shape=C.drawShape(B,m,_),this.shape){this.setShapeInfo(this.shape,m);var D=this.shape.cfg.name;D?I.isString(D)&&(this.shape.cfg.name=["element",D]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var W=x?"enter":"appear",Z=this.getAnimateCfg(W);Z&&L.doAnimate(this.shape,Z,{coordinate:C.coordinate,toAttrs:O.__assign({},this.shape.attr())})}},b.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var m=this.container.getGroupBase();this.offscreenGroup=new m({})}return this.offscreenGroup},b.prototype.setShapeInfo=function(m,x){var g=this;if(m.cfg.origin=x,m.cfg.element=this,m.isGroup()){var C=m.get("children");C.forEach(function(_){g.setShapeInfo(_,x)})}},b.prototype.syncShapeStyle=function(m,x,g,C,_){if(g===void 0&&(g=""),_===void 0&&(_=0),m.isGroup())for(var B=m.get("children"),D=x.get("children"),W=0;W<B.length;W++)this.syncShapeStyle(B[W],D[W],g,C,_+W);else{if(g&&g!=="reset"){var Z=m.get("name");I.isArray(Z)&&(Z=Z[1]);var X=this.getStateStyle(g,Z||_);x.attr(X)}var j=T.getReplaceAttrs(m,x);this.animate?C?L.doAnimate(m,C,{coordinate:this.shapeFactory.coordinate,toAttrs:j,shapeModel:this.model}):g?(m.stopAnimate(),m.animate(j,{duration:300})):m.attr(j):m.attr(j)}},b.prototype.getShapeType=function(m){var x=I.get(m,"shape");return I.isArray(x)?x[0]:x},b}(P.default);w=E},78685:function(xt,S,d){"use strict";var w;w={value:!0},S.iV=w=w=void 0;var O=d(80123),I=d(90835),L=d(95280);w=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],w=["cross","tick","plus","hyphen","line"];function P(T,M,E,p,b){var m=L.getStyle(M,b,!b,"r"),x=T.parsePoints(M.points),g=x[0];if(M.isStack)g=x[1];else if(x.length>1){for(var C=E.addGroup(),_=0,B=x;_<B.length;_++){var D=B[_];C.addShape({type:"marker",attrs:O.__assign(O.__assign(O.__assign({},m),{symbol:I.MarkerSymbols[p]||p}),D)})}return C}return E.addShape({type:"marker",attrs:O.__assign(O.__assign(O.__assign({},m),{symbol:I.MarkerSymbols[p]||p}),g)})}S.iV=P},95280:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getStyle=void 0;var w=d(80123),O=d(49242);function I(L,P,T,M){M===void 0&&(M="");var E=L.style,p=E===void 0?{}:E,b=L.defaultStyle,m=L.color,x=L.size,g=w.__assign(w.__assign({},b),p);return m&&(P&&(p.stroke||(g.stroke=m)),T&&(p.fill||(g.fill=m))),M&&O.isNil(p[M])&&!O.isNil(x)&&(g[M]=x),g}S.getStyle=I},89921:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.convertPolarPath=S.convertNormalPath=S.getSplinePath=S.getLinePath=S.catmullRom2bezier=S.smoothBezier=void 0;var w=d(43567),O=d(49242),I=d(83714);function L(g,C){var _=[];if(g.length){_.push(["M",g[0].x,g[0].y]);for(var B=1,D=g.length;B<D;B+=1){var W=g[B];_.push(["L",W.x,W.y])}C&&_.push(["Z"])}return _}function P(g,C){for(var _=[g[0]],B=1,D=g.length;B<D;B=B+2){var W=C.convert({x:g[B],y:g[B+1]});_.push(W.x,W.y)}return _}function T(g,C,_){var B=_.isTransposed,D=_.startAngle,W=_.endAngle,Z={x:g[1],y:g[2]},X={x:C[1],y:C[2]},j=[],it=B?"y":"x",tt=Math.abs(X[it]-Z[it])*(W-D),yt=X[it]>=Z[it]?1:0,dt=tt>Math.PI?1:0,Ct=_.convert(X),F=I.getDistanceToCenter(_,Ct);if(F>=.5)if(tt===Math.PI*2){var z={x:(X.x+Z.x)/2,y:(X.y+Z.y)/2},G=_.convert(z);j.push(["A",F,F,0,dt,yt,G.x,G.y]),j.push(["A",F,F,0,dt,yt,Ct.x,Ct.y])}else j.push(["A",F,F,0,dt,yt,Ct.x,Ct.y]);return j}function M(g){O.each(g,function(C,_){var B=C;if(B[0].toLowerCase()==="a"){var D=g[_-1],W=g[_+1];W&&W[0].toLowerCase()==="a"?D&&D[0].toLowerCase()==="l"&&(D[0]="M"):D&&D[0].toLowerCase()==="a"&&W&&W[0].toLowerCase()==="l"&&(W[0]="M")}})}S.smoothBezier=function(g,C,_,B){var D=[],W,Z,X=!!B,j,it;if(X){j=[Infinity,Infinity],it=[-Infinity,-Infinity];for(var tt=0,yt=g.length;tt<yt;tt++){var dt=g[tt];j=w.vec2.min([0,0],j,dt),it=w.vec2.max([0,0],it,dt)}j=w.vec2.min([0,0],j,B[0]),it=w.vec2.max([0,0],it,B[1])}for(var tt=0,Ct=g.length;tt<Ct;tt++){var dt=g[tt];if(_)W=g[tt?tt-1:Ct-1],Z=g[(tt+1)%Ct];else if(tt===0||tt===Ct-1){D.push(dt);continue}else W=g[tt-1],Z=g[tt+1];var F=[0,0];F=w.vec2.sub(F,Z,W),F=w.vec2.scale(F,F,C);var z=w.vec2.distance(dt,W),G=w.vec2.distance(dt,Z),Y=z+G;Y!==0&&(z/=Y,G/=Y);var q=w.vec2.scale([0,0],F,-z),$=w.vec2.scale([0,0],F,G),J=w.vec2.add([0,0],dt,q),U=w.vec2.add([0,0],dt,$);X&&(J=w.vec2.max([0,0],J,j),J=w.vec2.min([0,0],J,it),U=w.vec2.max([0,0],U,j),U=w.vec2.min([0,0],U,it)),D.push(J),D.push(U)}return _&&D.push(D.shift()),D};function E(g,C,_){for(var B=!!C,D=[],W=0,Z=g.length;W<Z;W+=2)D.push([g[W],g[W+1]]);for(var X=S.smoothBezier(D,.4,B,_),j=D.length,it=[],tt,yt,dt,W=0;W<j-1;W++)tt=X[W*2],yt=X[W*2+1],dt=D[W+1],it.push(["C",tt[0],tt[1],yt[0],yt[1],dt[0],dt[1]]);return B&&(tt=X[j],yt=X[j+1],dt=D[0],it.push(["C",tt[0],tt[1],yt[0],yt[1],dt[0],dt[1]])),it}S.catmullRom2bezier=E;function p(g,C){return L(g,C)}S.getLinePath=p;function b(g,C,_){var B=[],D=g[0],W=null;if(g.length<=2)return p(g,C);for(var Z=0,X=g.length;Z<X;Z++){var j=g[Z];(!W||!(W.x===j.x&&W.y===j.y))&&(B.push(j.x),B.push(j.y),W=j)}var it=_||[[0,0],[1,1]],tt=E(B,C,it);return tt.unshift(["M",D.x,D.y]),tt}S.getSplinePath=b;function m(g,C){var _=[];return O.each(C,function(B){var D=B[0];switch(D.toLowerCase()){case"m":case"l":case"c":_.push(P(B,g));break;case"z":default:_.push(B);break}}),_}S.convertNormalPath=m;function x(g,C){var _=[],B,D,W,Z;return O.each(C,function(X,j){var it=X[0];switch(it.toLowerCase()){case"m":case"c":case"q":_.push(P(X,g));break;case"l":B=C[j-1],D=X,W=g.isTransposed,Z=W?B[B.length-2]===D[1]:B[B.length-1]===D[2],Z?_=_.concat(T(B,D,g)):_.push(P(X,g));break;case"z":default:_.push(X);break}}),M(_),_}S.convertPolarPath=x},54244:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),O=function(){function I(L,P){this.context=L,this.cfg=P,L.addAction(this)}return I.prototype.applyCfg=function(L){w.assign(this,L)},I.prototype.init=function(){this.applyCfg(this.cfg)},I.prototype.destroy=function(){this.context.removeAction(this),this.context=null},I}();S.default=O},32479:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(80123),O=w.__importDefault(d(54244)),I=function(L){w.__extends(P,L);function P(){return L!==null&&L.apply(this,arguments)||this}return P.prototype.execute=function(){this.callback&&this.callback(this.context)},P.prototype.destroy=function(){L.prototype.destroy.call(this),this.callback=null},P}(O.default);S.default=I},9154:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.createCallbackAction=S.unregisterAction=S.registerAction=S.getActionClass=S.createAction=void 0;var w=d(80123),O=w.__importDefault(d(32479)),I=d(49242),L={};function P(b,m){var x=L[b],g=null;if(x){var C=x.ActionClass,_=x.cfg;g=new C(m,_),g.name=b,g.init()}return g}S.createAction=P;function T(b){var m=L[b];return I.get(m,"ActionClass")}S.getActionClass=T;function M(b,m,x){L[b]={ActionClass:m,cfg:x}}S.registerAction=M;function E(b){delete L[b]}S.unregisterAction=E;function p(b,m){var x=new O.default(m);return x.callback=b,x.name="callback",x}S.createCallbackAction=p},85506:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getScaleByField=S.isInRecords=S.getSiblingPoint=S.getSilbings=S.isInBox=S.getSpline=S.distance=S.getComponents=S.getElementsByPath=S.getIntersectElements=S.intersectRect=S.getElementValue=S.getElementsByState=S.getElementsByField=S.getElements=S.getSiblingMaskElements=S.getMaskedElements=S.isMask=S.isSlider=S.isList=S.isElementChange=S.getDelegationObject=S.getCurrentElement=void 0;var w=d(80123),O=d(49242),I=d(89921),L=d(62810),P=w.__importDefault(d(70146));function T(J,U){var K=J.event,f=K.target,mt=f.getCanvasBBox();return mt.width>=U||mt.height>=U?mt:null}function M(J,U){var K=J.event,f=K.target,mt=f.getCanvasBBox();return mt.width>=U||mt.height>=U?f.attr("path"):null}function E(J){var U=J.event,K,f=U.target;return f&&(K=f.get("element")),K}S.getCurrentElement=E;function p(J){var U=J.event,K=U.target,f;return K&&(f=K.get("delegateObject")),f}S.getDelegationObject=p;function b(J){var U=J.event.gEvent;return!(U&&U.fromShape&&U.toShape&&U.fromShape.get("element")===U.toShape.get("element"))}S.isElementChange=b;function m(J){return J&&J.component&&J.component.isList()}S.isList=m;function x(J){return J&&J.component&&J.component.isSlider()}S.isSlider=x;function g(J){var U=J.event,K=U.target;return K&&K.get("name")==="mask"}S.isMask=g;function C(J,U){var K=J.event.target;if(K.get("type")==="path"){var f=M(J,U);return f?tt(J.view,f):void 0}var mt=T(J,U);return mt?j(J.view,mt):null}S.getMaskedElements=C;function _(J,U,K){var f=T(J,K);if(!f)return null;var mt=J.view,Tt=Y(mt,U,{x:f.x,y:f.y}),at=Y(mt,U,{x:f.maxX,y:f.maxY}),Pt={minX:Tt.x,minY:Tt.y,maxX:at.x,maxY:at.y};return j(U,Pt)}S.getSiblingMaskElements=_;function B(J){var U=J.geometries,K=[];return O.each(U,function(f){var mt=f.elements;K=K.concat(mt)}),J.views&&J.views.length&&O.each(J.views,function(f){K=K.concat(B(f))}),K}S.getElements=B;function D(J,U,K){var f=B(J);return f.filter(function(mt){return Z(mt,U)===K})}S.getElementsByField=D;function W(J,U){var K=J.geometries,f=[];return O.each(K,function(mt){var Tt=mt.getElementsBy(function(at){return at.hasState(U)});f=f.concat(Tt)}),f}S.getElementsByState=W;function Z(J,U){var K=J.getModel(),f=K.data,mt;return O.isArray(f)?mt=f[0][U]:mt=f[U],mt}S.getElementValue=Z;function X(J,U){return!(U.minX>J.maxX||U.maxX<J.minX||U.minY>J.maxY||U.maxY<J.minY)}S.intersectRect=X;function j(J,U){var K=B(J),f=[];return O.each(K,function(mt){var Tt=mt.shape,at=Tt.getCanvasBBox();X(U,at)&&f.push(mt)}),f}S.getIntersectElements=j;function it(J){var U=[];return O.each(J,function(K){var f=K[0];if(f!=="A")for(var mt=1;mt<K.length;mt=mt+2)U.push([K[mt],K[mt+1]]);else{var Tt=K.length;U.push([K[Tt-2],K[Tt-1]])}}),U}function tt(J,U){var K=B(J),f=it(U),mt=K.filter(function(Tt){var at=Tt.shape,Pt;if(at.get("type")==="path")Pt=it(at.attr("path"));else{var wt=at.getCanvasBBox();Pt=L.toPoints(wt)}return P.default(f,Pt)});return mt}S.getElementsByPath=tt;function yt(J){return J.getComponents().map(function(U){return U.component})}S.getComponents=yt;function dt(J,U){var K=U.x-J.x,f=U.y-J.y;return Math.sqrt(K*K+f*f)}S.distance=dt;function Ct(J,U){if(J.length<=2)return I.getLinePath(J,!1);var K=J[0],f=[];O.each(J,function(Tt){f.push(Tt.x),f.push(Tt.y)});var mt=I.catmullRom2bezier(f,U,null);return mt.unshift(["M",K.x,K.y]),mt}S.getSpline=Ct;function F(J,U){return J.x<=U.x&&J.maxX>=U.x&&J.y<=U.y&&J.maxY>U.y}S.isInBox=F;function z(J){var U=J.parent,K=null;return U&&(K=U.views.filter(function(f){return f!==J})),K}S.getSilbings=z;function G(J,U){var K=J.getCoordinate();return K.invert(U)}function Y(J,U,K){var f=G(J,K);return U.getCoordinate().convert(f)}S.getSiblingPoint=Y;function q(J,U,K,f){var mt=!1;return O.each(J,function(Tt){if(Tt[K]===U[K]&&Tt[f]===U[f])return mt=!0,!1}),mt}S.isInRecords=q;function $(J,U){var K=J.getScaleByField(U);return!K&&J.views&&O.each(J.views,function(f){if(K=$(f,U),K)return!1}),K}S.getScaleByField=$},94194:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),O=d(85506),I=function(){function L(P){this.actions=[],this.event=null,this.cacheMap={},this.view=P}return L.prototype.cache=function(){for(var P=[],T=0;T<arguments.length;T++)P[T]=arguments[T];if(P.length===1)return this.cacheMap[P[0]];P.length===2&&(this.cacheMap[P[0]]=P[1])},L.prototype.getAction=function(P){return this.actions.find(function(T){return T.name===P})},L.prototype.addAction=function(P){this.actions.push(P)},L.prototype.removeAction=function(P){var T=this.actions,M=this.actions.indexOf(P);M>=0&&T.splice(M,1)},L.prototype.getCurrentPoint=function(){var P=this.event;if(P)if(P.target instanceof HTMLElement){var T=this.view.getCanvas(),M=T.getPointByClient(P.clientX,P.clientY);return M}else return{x:P.x,y:P.y};return null},L.prototype.getCurrentShape=function(){return w.get(this.event,["gEvent","shape"])},L.prototype.isInPlot=function(){var P=this.getCurrentPoint();return P?this.view.isPointInPlot(P):!1},L.prototype.isInShape=function(P){var T=this.getCurrentShape();return T?T.get("name")===P:!1},L.prototype.isInComponent=function(P){var T=O.getComponents(this.view),M=this.getCurrentPoint();return M?!!T.find(function(E){var p=E.getBBox();return P?E.get("name")===P&&O.isInBox(p,M):O.isInBox(p,M)}):!1},L.prototype.destroy=function(){this.view=null,this.event=null,w.each(this.actions.slice(),function(P){P.destroy()}),this.actions=null,this.cacheMap=null},L}();S.default=I},86050:function(xt,S,d){"use strict";var w;w={value:!0};var O=d(80123),I=d(49242),L=d(9154),P=O.__importDefault(d(94194)),T=O.__importDefault(d(38144));function M(m,x){var g=m.split(":"),C=g[0],_=x.getAction(C)||L.createAction(C,x);if(!_)throw new Error("There is no action named "+C);var B=g[1];return{action:_,methodName:B}}function E(m){var x=m.action,g=m.methodName;if(x[g])x[g]();else throw new Error("Action("+x.name+") doesn't have a method called "+g)}var p={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},b=function(m){O.__extends(x,m);function x(g,C){var _=m.call(this,g,C)||this;return _.callbackCaches={},_.emitCaches={},_.steps=C,_}return x.prototype.init=function(){this.initContext(),m.prototype.init.call(this)},x.prototype.destroy=function(){m.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},x.prototype.initEvents=function(){var g=this;I.each(this.steps,function(C,_){I.each(C,function(B){var D=g.getActionCallback(_,B);D&&g.bindEvent(B.trigger,D)})})},x.prototype.clearEvents=function(){var g=this;I.each(this.steps,function(C,_){I.each(C,function(B){var D=g.getActionCallback(_,B);D&&g.offEvent(B.trigger,D)})})},x.prototype.initContext=function(){var g=this.view,C=new P.default(g);this.context=C;var _=this.steps;I.each(_,function(B){I.each(B,function(D){if(I.isFunction(D.action))D.actionObject={action:L.createCallbackAction(D.action,C),methodName:"execute"};else if(I.isString(D.action))D.actionObject=M(D.action,C);else if(I.isArray(D.action)){var W=D.action;D.actionObject=[],I.each(W,function(Z){D.actionObject.push(M(Z,C))})}})})},x.prototype.isAllowStep=function(g){var C=this.currentStepName,_=this.steps;if(C===g||g===p.SHOW_ENABLE)return!0;if(g===p.PROCESSING)return C===p.START;if(g===p.START)return C!==p.PROCESSING;if(g===p.END)return C===p.PROCESSING||C===p.START;if(g===p.ROLLBACK){if(_[p.END])return C===p.END;if(C===p.START)return!0}return!1},x.prototype.isAllowExcute=function(g,C){if(this.isAllowStep(g)){var _=this.getKey(g,C);return C.once&&this.emitCaches[_]?!1:C.isEnable?C.isEnable(this.context):!0}return!1},x.prototype.enterStep=function(g){this.currentStepName=g,this.emitCaches={}},x.prototype.afterExecute=function(g,C){g!==p.SHOW_ENABLE&&this.currentStepName!==g&&this.enterStep(g);var _=this.getKey(g,C);this.emitCaches[_]=!0},x.prototype.getKey=function(g,C){return g+C.trigger+C.action},x.prototype.getActionCallback=function(g,C){var _=this,B=this.context,D=this.callbackCaches,W=C.actionObject;if(C.action&&W){var Z=this.getKey(g,C);if(!D[Z]){var X=function(j){B.event=j,_.isAllowExcute(g,C)?(I.isArray(W)?I.each(W,function(it){B.event=j,E(it)}):(B.event=j,E(W)),_.afterExecute(g,C),C.callback&&(B.event=j,C.callback(B))):B.event=null};C.debounce?D[Z]=I.debounce(X,C.debounce.wait,C.debounce.immediate):C.throttle?D[Z]=I.throttle(X,C.throttle.wait,{leading:C.throttle.leading,trailing:C.throttle.trailing}):D[Z]=X}return D[Z]}return null},x.prototype.bindEvent=function(g,C){var _=g.split(":");_[0]==="window"?window.addEventListener(_[1],C):_[0]==="document"?document.addEventListener(_[1],C):this.view.on(g,C)},x.prototype.offEvent=function(g,C){var _=g.split(":");_[0]==="window"?window.removeEventListener(_[1],C):_[0]==="document"?document.removeEventListener(_[1],C):this.view.off(g,C)},x}(T.default);w=b},38144:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function w(O,I){this.view=O,this.cfg=I}return w.prototype.init=function(){this.initEvents()},w.prototype.initEvents=function(){},w.prototype.clearEvents=function(){},w.prototype.destroy=function(){this.clearEvents()},w}();S.default=d},62810:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.toPoints=S.getRegionBBox=S.BBox=void 0;var w=d(49242),O=d(78646),I=function(){function P(T,M,E,p){T===void 0&&(T=0),M===void 0&&(M=0),E===void 0&&(E=0),p===void 0&&(p=0),this.x=T,this.y=M,this.height=p,this.width=E}return P.fromRange=function(T,M,E,p){return new P(T,M,E-T,p-M)},Object.defineProperty(P.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),P.prototype.isEqual=function(T){return this.x===T.x&&this.y===T.y&&this.width===T.width&&this.height===T.height},P.prototype.clone=function(){return new P(this.x,this.y,this.width,this.height)},P.prototype.add=function(){for(var T=[],M=0;M<arguments.length;M++)T[M]=arguments[M];var E=this.clone();return w.each(T,function(p){E.x=Math.min(p.x,E.x),E.y=Math.min(p.y,E.y),E.width=Math.max(p.maxX,E.maxX)-E.x,E.height=Math.max(p.maxY,E.maxY)-E.y}),E},P.prototype.merge=function(){for(var T=[],M=0;M<arguments.length;M++)T[M]=arguments[M];var E=this.clone();return w.each(T,function(p){E.x=Math.max(p.x,E.x),E.y=Math.max(p.y,E.y),E.width=Math.min(p.maxX,E.maxX)-E.x,E.height=Math.min(p.maxY,E.maxY)-E.y}),E},P.prototype.cut=function(T,M){var E=T.width,p=T.height;switch(M){case O.DIRECTION.TOP:case O.DIRECTION.TOP_LEFT:case O.DIRECTION.TOP_RIGHT:return P.fromRange(this.minX,this.minY+p,this.maxX,this.maxY);case O.DIRECTION.RIGHT:case O.DIRECTION.RIGHT_TOP:case O.DIRECTION.RIGHT_BOTTOM:return P.fromRange(this.minX,this.minY,this.maxX-E,this.maxY);case O.DIRECTION.BOTTOM:case O.DIRECTION.BOTTOM_LEFT:case O.DIRECTION.BOTTOM_RIGHT:return P.fromRange(this.minX,this.minY,this.maxX,this.maxY-p);case O.DIRECTION.LEFT:case O.DIRECTION.LEFT_TOP:case O.DIRECTION.LEFT_BOTTOM:return P.fromRange(this.minX+E,this.minY,this.maxX,this.maxY);default:return this}},P.prototype.shrink=function(T){var M=T[0],E=T[1],p=T[2],b=T[3];return new P(this.x+b,this.y+M,this.width-b-E,this.height-M-p)},P.prototype.exceed=function(T){return[Math.max(-this.minY+T.minY,0),Math.max(this.maxX-T.maxX,0),Math.max(this.maxY-T.maxY,0),Math.max(-this.minX+T.minX,0)]},P.prototype.size=function(){return this.width*this.height},P}();S.BBox=I,S.getRegionBBox=function(P,T){var M=T.start,E=T.end;return new I(P.x+P.width*M.x,P.y+P.height*M.y,P.width*Math.abs(E.x-M.x),P.height*Math.abs(E.y-M.y))};function L(P){return[[P.minX,P.minY],[P.maxX,P.minY],[P.maxX,P.maxY],[P.minX,P.maxY]]}S.toPoints=L},83714:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getCoordinateClipCfg=S.getAngleByPoint=S.isPointInCoordinate=S.getDistanceToCenter=S.isFullCircle=S.getXDimensionLength=void 0;var w=d(38674),O=d(10521);function I(p){if(p.isPolar&&!p.isTransposed)return(p.endAngle-p.startAngle)*p.getRadius();var b=p.convert({x:0,y:0}),m=p.convert({x:1,y:0});return Math.sqrt(Math.pow(m.x-b.x,2)+Math.pow(m.y-b.y,2))}S.getXDimensionLength=I;function L(p){if(p.isPolar){var b=p.startAngle,m=p.endAngle;return m-b==Math.PI*2}return!1}S.isFullCircle=L;function P(p,b){var m=p.getCenter();return Math.sqrt(Math.pow(b.x-m.x,2)+Math.pow(b.y-m.y,2))}S.getDistanceToCenter=P;function T(p,b){var m=!1;if(p)if(p.type==="theta"){var x=p.start,g=p.end;m=O.isBetween(b.x,x.x,g.x)&&O.isBetween(b.y,x.y,g.y)}else{var C=p.invert(b);m=O.isBetween(C.x,0,1)&&O.isBetween(C.y,0,1)}return m}S.isPointInCoordinate=T;function M(p,b){var m=p.getCenter();return Math.atan2(b.y-m.y,b.x-m.x)}S.getAngleByPoint=M;function E(p,b){b===void 0&&(b=0);var m=p.start,x=p.end,g=p.getWidth(),C=p.getHeight();if(p.isPolar){var _=p.startAngle,B=p.endAngle,D=p.getCenter(),W=p.getRadius();return{type:"path",startState:{path:w.getSectorPath(D.x,D.y,W+b,_,_)},endState:function(X){var j=(B-_)*X+_,it=w.getSectorPath(D.x,D.y,W+b,_,j);return{path:it}},attrs:{path:w.getSectorPath(D.x,D.y,W+b,_,B)}}}var Z;return p.isTransposed?Z={height:C+b*2}:Z={width:g+b*2},{type:"rect",startState:{x:m.x-b,y:x.y-b,width:p.isTransposed?g+b*2:0,height:p.isTransposed?0:C+b*2},endState:Z,attrs:{x:m.x-b,y:x.y-b,width:g+b*2,height:C+b*2}}}S.getCoordinateClipCfg=E},38674:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getReplaceAttrs=S.getPolygonCentroid=S.getAngle=S.getArcPath=S.getSectorPath=S.polarToCartesian=void 0;var w=d(49242);function O(p){if(w.isEmpty(p))return null;var b=p[0].x,m=p[0].x,x=p[0].y,g=p[0].y;return w.each(p,function(C){b=b>C.x?C.x:b,m=m<C.x?C.x:m,x=x>C.y?C.y:x,g=g<C.y?C.y:g}),{minX:b,maxX:m,minY:x,maxY:g,centerX:(b+m)/2,centerY:(x+g)/2}}function I(p,b,m,x){return{x:p+m*Math.cos(x),y:b+m*Math.sin(x)}}S.polarToCartesian=I;function L(p,b,m,x,g,C){C===void 0&&(C=0);var _=I(p,b,m,x),B=I(p,b,m,g),D=I(p,b,C,x),W=I(p,b,C,g);if(g-x==Math.PI*2){var Z=I(p,b,m,x+Math.PI),X=I(p,b,C,x+Math.PI),j=[["M",_.x,_.y],["A",m,m,0,1,1,Z.x,Z.y],["A",m,m,0,1,1,B.x,B.y],["M",D.x,D.y]];return C&&(j.push(["A",C,C,0,1,0,X.x,X.y]),j.push(["A",C,C,0,1,0,W.x,W.y])),j.push(["M",_.x,_.y]),j.push(["Z"]),j}var it=g-x<=Math.PI?0:1,tt=[["M",_.x,_.y],["A",m,m,0,it,1,B.x,B.y],["L",W.x,W.y]];return C&&tt.push(["A",C,C,0,it,0,D.x,D.y]),tt.push(["L",_.x,_.y]),tt.push(["Z"]),tt}S.getSectorPath=L;function P(p,b,m,x,g){var C=I(p,b,m,x),_=I(p,b,m,g);if(w.isNumberEqual(g-x,Math.PI*2)){var B=I(p,b,m,x+Math.PI);return[["M",C.x,C.y],["A",m,m,0,1,1,B.x,B.y],["A",m,m,0,1,1,C.x,C.y],["A",m,m,0,1,0,B.x,B.y],["A",m,m,0,1,0,C.x,C.y],["Z"]]}var D=g-x<=Math.PI?0:1;return[["M",C.x,C.y],["A",m,m,0,D,1,_.x,_.y]]}S.getArcPath=P;function T(p,b){var m=p.points,x=O(m),g,C,_=b.startAngle,B=b.endAngle,D=B-_;return b.isTransposed?(g=x.maxY*D,C=x.minY*D):(g=x.maxX*D,C=x.minX*D),g+=_,C+=_,{startAngle:C,endAngle:g}}S.getAngle=T;function M(p,b){if(w.isNumber(p)&&w.isNumber(b))return[p,b];for(var m=-1,x=0,g=0,C,_=p.length-1,B,D=0;++m<p.length;)C=_,_=m,D+=B=p[C]*b[_]-p[_]*b[C],x+=(p[C]+p[_])*B,g+=(b[C]+b[_])*B;return D*=3,[x/D,g/D]}S.getPolygonCentroid=M;function E(p,b){var m=p.attr(),x=b.attr();return w.each(m,function(g,C){x[C]===void 0&&(x[C]=void 0)}),x}S.getReplaceAttrs=E},10521:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.uniq=S.omit=S.padEnd=S.isBetween=void 0;var w=d(49242);function O(T,M,E){var p=Math.min(M,E),b=Math.max(M,E);return T>=p&&T<=b}S.isBetween=O;function I(T,M,E){if(w.isString(T))return T.padEnd(M,E);if(w.isArray(T)){var p=T.length;if(p<M)for(var b=M-p,m=0;m<b;m++)T.push(E)}return T}S.padEnd=I;function L(T,M){return M.forEach(function(E){delete T[E]}),T}S.omit=L;function P(T,M,E){M===void 0&&(M=[]),E===void 0&&(E={});for(var p=0,b=T;p<b.length;p++){var m=b[p];E[m]||(M.push(m),E[m]=!0)}return M}S.uniq=P},90835:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MarkerSymbols=void 0,S.MarkerSymbols={hexagon:function(d,w,O){var I=O/2*Math.sqrt(3);return[["M",d,w-O],["L",d+I,w-O/2],["L",d+I,w+O/2],["L",d,w+O],["L",d-I,w+O/2],["L",d-I,w-O/2],["Z"]]},bowtie:function(d,w,O){var I=O-1.5;return[["M",d-O,w-I],["L",d+O,w+I],["L",d+O,w-I],["L",d-O,w+I],["Z"]]},cross:function(d,w,O){return[["M",d-O,w-O],["L",d+O,w+O],["M",d+O,w-O],["L",d-O,w+O]]},tick:function(d,w,O){return[["M",d-O/2,w-O],["L",d+O/2,w-O],["M",d,w-O],["L",d,w+O],["M",d-O/2,w+O],["L",d+O/2,w+O]]},plus:function(d,w,O){return[["M",d-O,w],["L",d+O,w],["M",d,w-O],["L",d,w+O]]},hyphen:function(d,w,O){return[["M",d-O,w],["L",d+O,w]]},line:function(d,w,O){return[["M",d,w-O],["L",d,w+O]]}}},95152:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getName=S.syncScale=S.createScaleByField=void 0;var w=d(80123),O=d(49242),I=d(96397),L=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function P(p){var b="linear";return L.test(p)?b="time":O.isString(p)&&(b="cat"),b}function T(p,b,m){var x=b||[];if(O.isNumber(p)||O.isNil(O.firstValue(x,p))&&O.isEmpty(m)){var g=I.getScale("identity");return new g({field:p.toString(),values:[p]})}var C=O.valuesOfKey(x,p),_=O.get(m,"type",P(C[0])),B=I.getScale(_);return new B(w.__assign({field:p,values:C},m))}S.createScaleByField=T;function M(p,b){if(p.type!=="identity"&&b.type!=="identity"){var m={};for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(m[x]=b[x]);p.change(m)}}S.syncScale=M;function E(p){return p.alias||p.field}S.getName=E},97127:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTooltipItems=S.findDataByPoint=void 0;var w=d(80123),O=d(49242),I=d(78646),L=d(95152);function P(B,D,W){var Z=W.translate(B),X=W.translate(D);return O.isNumberEqual(Z,X)}function T(B,D){var W=D.coordinate,Z=D.getXScale(),X=Z.range,j=X[X.length-1],it=X[0],tt=W.invert(B),yt=tt.x;return W.isPolar&&yt>(1+j)/2&&(yt=it),Z.translate(Z.invert(yt))}function M(B,D,W){var Z=W.coordinate,X=W.getYScale(),j=X.field,it=Z.invert(D),tt=X.invert(it.y),yt=O.find(B,function(dt){var Ct=dt[I.FIELD_ORIGIN];return Ct[j][0]<=tt&&Ct[j][1]>=tt});return yt||B[B.length-1]}var E=O.memoize(function(B){if(B.isCategory)return 1;for(var D=B.values,W=D.length,Z=B.translate(D[0]),X=Z,j=0;j<W;j++){var it=D[j],tt=B.translate(it);tt<Z&&(Z=tt),tt>X&&(X=tt)}return(X-Z)/(W-1)});function p(B,D,W){var Z=W;if(!W){var X=D.getAttribute("position"),j=X.getFields();Z=j[0]}var it=D.scales;return it[Z]?it[Z].getText(B[Z]):O.hasKey(B,Z)?B[Z]:Z}function b(B){var D=O.values(B.attributes);return O.filter(D,function(W){return O.contains(I.GROUP_ATTRS,W.type)})}function m(B){for(var D=b(B),W,Z=0,X=D;Z<X.length;Z++){var j=X[Z],it=j.getScale(j.type);if(it&&it.isLinear){W=it;break}}var tt=B.getXScale(),yt=B.getYScale();return W||yt||tt}function x(B,D){var W=D.field,Z=B[W];if(O.isArray(Z)){var X=Z.map(function(j){return D.getText(j)});return X.join("-")}return D.getText(Z)}function g(B,D){var W,Z=D.getGroupScales();if(Z.length&&(W=Z[0]),W){var X=W.field;return W.getText(B[X])}var j=m(D);return L.getName(j)}function C(B,D,W){if(D.length===0)return null;var Z=W.type,X=W.getXScale(),j=W.getYScale(),it=X.field,tt=j.field,yt=null;if(Z==="heatmap"||Z==="point"){for(var dt=W.coordinate,Ct=dt.invert(B),F=X.invert(Ct.x),z=j.invert(Ct.y),G=Infinity,Y=0;Y<D.length;Y++){var q=D[Y],$=q[I.FIELD_ORIGIN],J=Math.pow($[it]-F,2)+Math.pow($[tt]-z,2);J<G&&(G=J,yt=q)}return yt}var U=D[0],K=D[D.length-1],f=T(B,W),mt=U[I.FIELD_ORIGIN][it],Tt=U[I.FIELD_ORIGIN][tt],at=K[I.FIELD_ORIGIN][it],Pt=j.isLinear&&O.isArray(Tt);if(O.isArray(mt)){for(var Y=0;Y<D.length;Y++){var wt=D[Y],$=wt[I.FIELD_ORIGIN];if(X.translate($[it][0])<=f&&X.translate($[it][1])>=f)if(Pt)O.isArray(yt)||(yt=[]),yt.push(wt);else{yt=wt;break}}O.isArray(yt)&&(yt=M(yt,B,W))}else{var Et=void 0;if(!X.isLinear&&X.type!=="timeCat"){for(var Y=0;Y<D.length;Y++){var wt=D[Y],$=wt[I.FIELD_ORIGIN];if(P($[it],f,X))if(Pt)O.isArray(yt)||(yt=[]),yt.push(wt);else{yt=wt;break}else X.translate($[it])<=f&&(K=wt,Et=D[Y+1])}O.isArray(yt)&&(yt=M(yt,B,W))}else{if((f>X.translate(at)||f<X.translate(mt))&&(f>X.max||f<X.min))return null;for(var Rt=0,Nt=D.length-1,kt=void 0;Rt<=Nt;){kt=Math.floor((Rt+Nt)/2);var _t=D[kt][I.FIELD_ORIGIN][it];if(P(_t,f,X))return D[kt];X.translate(_t)<=X.translate(f)?(Rt=kt+1,K=D[kt],Et=D[kt+1]):(Nt===0&&(K=D[0]),Nt=kt-1)}}K&&Et&&Math.abs(X.translate(K[I.FIELD_ORIGIN][it])-f)>Math.abs(X.translate(Et[I.FIELD_ORIGIN][it])-f)&&(K=Et)}var ht=E(W.getXScale());return!yt&&Math.abs(X.translate(K[I.FIELD_ORIGIN][it])-f)<=ht/2&&(yt=K),yt}S.findDataByPoint=C;function _(B,D,W){W===void 0&&(W="");var Z=B[I.FIELD_ORIGIN],X=p(Z,D,W),j=D.tooltipOption,it=D.theme.defaultColor,tt=[],yt,dt;function Ct(Tt,at){if(!O.isNil(at)&&at!==""){var Pt={title:X,data:Z,mappingData:B,name:Tt,value:at,color:B.color||it,marker:!0};tt.push(Pt)}}if(O.isObject(j)){var F=j.fields,z=j.callback;if(z){var G=F.map(function(Tt){return B[I.FIELD_ORIGIN][Tt]}),Y=z.apply(void 0,G),q=w.__assign({data:B[I.FIELD_ORIGIN],mappingData:B,title:X,color:B.color||it,marker:!0},Y);tt.push(q)}else for(var $=D.scales,J=0,U=F;J<U.length;J++){var K=U[J];if(!O.isNil(Z[K])){var f=$[K];yt=L.getName(f),dt=f.getText(Z[K]),Ct(yt,dt)}}}else{var mt=m(D);O.isNil(Z[mt.field])||(dt=x(Z,mt),yt=g(Z,D),Ct(yt,dt))}return tt}S.getTooltipItems=_},80123:function(xt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return L},__decorate:function(){return P},__param:function(){return T},__metadata:function(){return M},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return m},__values:function(){return x},__read:function(){return g},__spread:function(){return C},__spreadArrays:function(){return _},__spreadArray:function(){return B},__await:function(){return D},__asyncGenerator:function(){return W},__asyncDelegator:function(){return Z},__asyncValues:function(){return X},__makeTemplateObject:function(){return j},__importStar:function(){return tt},__importDefault:function(){return yt},__classPrivateFieldGet:function(){return dt},__classPrivateFieldSet:function(){return Ct}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w=function(F,z){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,Y){G.__proto__=Y}||function(G,Y){for(var q in Y)Object.prototype.hasOwnProperty.call(Y,q)&&(G[q]=Y[q])},w(F,z)};function O(F,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");w(F,z);function G(){this.constructor=F}F.prototype=z===null?Object.create(z):(G.prototype=z.prototype,new G)}var I=function(){return I=Object.assign||function(z){for(var G,Y=1,q=arguments.length;Y<q;Y++){G=arguments[Y];for(var $ in G)Object.prototype.hasOwnProperty.call(G,$)&&(z[$]=G[$])}return z},I.apply(this,arguments)};function L(F,z){var G={};for(var Y in F)Object.prototype.hasOwnProperty.call(F,Y)&&z.indexOf(Y)<0&&(G[Y]=F[Y]);if(F!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,Y=Object.getOwnPropertySymbols(F);q<Y.length;q++)z.indexOf(Y[q])<0&&Object.prototype.propertyIsEnumerable.call(F,Y[q])&&(G[Y[q]]=F[Y[q]]);return G}function P(F,z,G,Y){var q=arguments.length,$=q<3?z:Y===null?Y=Object.getOwnPropertyDescriptor(z,G):Y,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(F,z,G,Y);else for(var U=F.length-1;U>=0;U--)(J=F[U])&&($=(q<3?J($):q>3?J(z,G,$):J(z,G))||$);return q>3&&$&&Object.defineProperty(z,G,$),$}function T(F,z){return function(G,Y){z(G,Y,F)}}function M(F,z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(F,z)}function E(F,z,G,Y){function q($){return $ instanceof G?$:new G(function(J){J($)})}return new(G||(G=Promise))(function($,J){function U(mt){try{f(Y.next(mt))}catch(Tt){J(Tt)}}function K(mt){try{f(Y.throw(mt))}catch(Tt){J(Tt)}}function f(mt){mt.done?$(mt.value):q(mt.value).then(U,K)}f((Y=Y.apply(F,z||[])).next())})}function p(F,z){var G={label:0,sent:function(){if($[0]&1)throw $[1];return $[1]},trys:[],ops:[]},Y,q,$,J;return J={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(J[Symbol.iterator]=function(){return this}),J;function U(f){return function(mt){return K([f,mt])}}function K(f){if(Y)throw new TypeError("Generator is already executing.");for(;G;)try{if(Y=1,q&&($=f[0]&2?q.return:f[0]?q.throw||(($=q.return)&&$.call(q),0):q.next)&&!($=$.call(q,f[1])).done)return $;switch(q=0,$&&(f=[f[0]&2,$.value]),f[0]){case 0:case 1:$=f;break;case 4:return G.label++,{value:f[1],done:!1};case 5:G.label++,q=f[1],f=[0];continue;case 7:f=G.ops.pop(),G.trys.pop();continue;default:if($=G.trys,!($=$.length>0&&$[$.length-1])&&(f[0]===6||f[0]===2)){G=0;continue}if(f[0]===3&&(!$||f[1]>$[0]&&f[1]<$[3])){G.label=f[1];break}if(f[0]===6&&G.label<$[1]){G.label=$[1],$=f;break}if($&&G.label<$[2]){G.label=$[2],G.ops.push(f);break}$[2]&&G.ops.pop(),G.trys.pop();continue}f=z.call(F,G)}catch(mt){f=[6,mt],q=0}finally{Y=$=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var b=Object.create?function(F,z,G,Y){Y===void 0&&(Y=G),Object.defineProperty(F,Y,{enumerable:!0,get:function(){return z[G]}})}:function(F,z,G,Y){Y===void 0&&(Y=G),F[Y]=z[G]};function m(F,z){for(var G in F)G!=="default"&&!Object.prototype.hasOwnProperty.call(z,G)&&b(z,F,G)}function x(F){var z=typeof Symbol=="function"&&Symbol.iterator,G=z&&F[z],Y=0;if(G)return G.call(F);if(F&&typeof F.length=="number")return{next:function(){return F&&Y>=F.length&&(F=void 0),{value:F&&F[Y++],done:!F}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(F,z){var G=typeof Symbol=="function"&&F[Symbol.iterator];if(!G)return F;var Y=G.call(F),q,$=[],J;try{for(;(z===void 0||z-- >0)&&!(q=Y.next()).done;)$.push(q.value)}catch(U){J={error:U}}finally{try{q&&!q.done&&(G=Y.return)&&G.call(Y)}finally{if(J)throw J.error}}return $}function C(){for(var F=[],z=0;z<arguments.length;z++)F=F.concat(g(arguments[z]));return F}function _(){for(var F=0,z=0,G=arguments.length;z<G;z++)F+=arguments[z].length;for(var Y=Array(F),q=0,z=0;z<G;z++)for(var $=arguments[z],J=0,U=$.length;J<U;J++,q++)Y[q]=$[J];return Y}function B(F,z,G){if(G||arguments.length===2)for(var Y=0,q=z.length,$;Y<q;Y++)($||!(Y in z))&&($||($=Array.prototype.slice.call(z,0,Y)),$[Y]=z[Y]);return F.concat($||Array.prototype.slice.call(z))}function D(F){return this instanceof D?(this.v=F,this):new D(F)}function W(F,z,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=G.apply(F,z||[]),q,$=[];return q={},J("next"),J("throw"),J("return"),q[Symbol.asyncIterator]=function(){return this},q;function J(at){Y[at]&&(q[at]=function(Pt){return new Promise(function(wt,Et){$.push([at,Pt,wt,Et])>1||U(at,Pt)})})}function U(at,Pt){try{K(Y[at](Pt))}catch(wt){Tt($[0][3],wt)}}function K(at){at.value instanceof D?Promise.resolve(at.value.v).then(f,mt):Tt($[0][2],at)}function f(at){U("next",at)}function mt(at){U("throw",at)}function Tt(at,Pt){at(Pt),$.shift(),$.length&&U($[0][0],$[0][1])}}function Z(F){var z,G;return z={},Y("next"),Y("throw",function(q){throw q}),Y("return"),z[Symbol.iterator]=function(){return this},z;function Y(q,$){z[q]=F[q]?function(J){return(G=!G)?{value:D(F[q](J)),done:q==="return"}:$?$(J):J}:$}}function X(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z=F[Symbol.asyncIterator],G;return z?z.call(F):(F=typeof x=="function"?x(F):F[Symbol.iterator](),G={},Y("next"),Y("throw"),Y("return"),G[Symbol.asyncIterator]=function(){return this},G);function Y($){G[$]=F[$]&&function(J){return new Promise(function(U,K){J=F[$](J),q(U,K,J.done,J.value)})}}function q($,J,U,K){Promise.resolve(K).then(function(f){$({value:f,done:U})},J)}}function j(F,z){return Object.defineProperty?Object.defineProperty(F,"raw",{value:z}):F.raw=z,F}var it=Object.create?function(F,z){Object.defineProperty(F,"default",{enumerable:!0,value:z})}:function(F,z){F.default=z};function tt(F){if(F&&F.__esModule)return F;var z={};if(F!=null)for(var G in F)G!=="default"&&Object.prototype.hasOwnProperty.call(F,G)&&b(z,F,G);return it(z,F),z}function yt(F){return F&&F.__esModule?F:{default:F}}function dt(F,z,G,Y){if(G==="a"&&!Y)throw new TypeError("Private accessor was defined without a getter");if(typeof z=="function"?F!==z||!Y:!z.has(F))throw new TypeError("Cannot read private member from an object whose class did not declare it");return G==="m"?Y:G==="a"?Y.call(F):Y?Y.value:z.get(F)}function Ct(F,z,G,Y,q){if(Y==="m")throw new TypeError("Private method is not writable");if(Y==="a"&&!q)throw new TypeError("Private accessor was defined without a setter");if(typeof z=="function"?F!==z||!q:!z.has(F))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Y==="a"?q.call(F,G):q?q.value=G:z.set(F,G),G}},25155:function(xt){"use strict";var S=!1,d=function(){};if(S){var w=function(I,L){var P=arguments.length;L=new Array(P>1?P-1:0);for(var T=1;T<P;T++)L[T-1]=arguments[T];var M=0,E="Warning: "+I.replace(/%s/g,function(){return L[M++]});typeof console!="undefined"&&console.error(E);try{throw new Error(E)}catch(p){}};d=function(O,I,L){var P=arguments.length;L=new Array(P>2?P-2:0);for(var T=2;T<P;T++)L[T-2]=arguments[T];if(I===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");O||w.apply(null,[I].concat(L))}}xt.exports=d},74988:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setMatrixArrayType=I,S.toRadian=P,S.equals=T;var d=S.EPSILON=1e-6,w=S.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,O=S.RANDOM=Math.random;function I(M){S.ARRAY_TYPE=w=M}var L=Math.PI/180;function P(M){return M*L}function T(M,E){return Math.abs(M-E)<=d*Math.max(1,Math.abs(M),Math.abs(E))}},31502:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.sub=S.mul=void 0,S.create=L,S.fromMat4=P,S.clone=T,S.copy=M,S.fromValues=E,S.set=p,S.identity=b,S.transpose=m,S.invert=x,S.adjoint=g,S.determinant=C,S.multiply=_,S.translate=B,S.rotate=D,S.scale=W,S.fromTranslation=Z,S.fromRotation=X,S.fromScaling=j,S.fromMat2d=it,S.fromQuat=tt,S.normalFromMat4=yt,S.projection=dt,S.str=Ct,S.frob=F,S.add=z,S.subtract=G,S.multiplyScalar=Y,S.multiplyScalarAndAdd=q,S.exactEquals=$,S.equals=J;var w=d(74988),O=I(w);function I(f){if(f&&f.__esModule)return f;var mt={};if(f!=null)for(var Tt in f)Object.prototype.hasOwnProperty.call(f,Tt)&&(mt[Tt]=f[Tt]);return mt.default=f,mt}function L(){var f=new O.ARRAY_TYPE(9);return O.ARRAY_TYPE!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0),f[0]=1,f[4]=1,f[8]=1,f}function P(f,mt){return f[0]=mt[0],f[1]=mt[1],f[2]=mt[2],f[3]=mt[4],f[4]=mt[5],f[5]=mt[6],f[6]=mt[8],f[7]=mt[9],f[8]=mt[10],f}function T(f){var mt=new O.ARRAY_TYPE(9);return mt[0]=f[0],mt[1]=f[1],mt[2]=f[2],mt[3]=f[3],mt[4]=f[4],mt[5]=f[5],mt[6]=f[6],mt[7]=f[7],mt[8]=f[8],mt}function M(f,mt){return f[0]=mt[0],f[1]=mt[1],f[2]=mt[2],f[3]=mt[3],f[4]=mt[4],f[5]=mt[5],f[6]=mt[6],f[7]=mt[7],f[8]=mt[8],f}function E(f,mt,Tt,at,Pt,wt,Et,Rt,Nt){var kt=new O.ARRAY_TYPE(9);return kt[0]=f,kt[1]=mt,kt[2]=Tt,kt[3]=at,kt[4]=Pt,kt[5]=wt,kt[6]=Et,kt[7]=Rt,kt[8]=Nt,kt}function p(f,mt,Tt,at,Pt,wt,Et,Rt,Nt,kt){return f[0]=mt,f[1]=Tt,f[2]=at,f[3]=Pt,f[4]=wt,f[5]=Et,f[6]=Rt,f[7]=Nt,f[8]=kt,f}function b(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function m(f,mt){if(f===mt){var Tt=mt[1],at=mt[2],Pt=mt[5];f[1]=mt[3],f[2]=mt[6],f[3]=Tt,f[5]=mt[7],f[6]=at,f[7]=Pt}else f[0]=mt[0],f[1]=mt[3],f[2]=mt[6],f[3]=mt[1],f[4]=mt[4],f[5]=mt[7],f[6]=mt[2],f[7]=mt[5],f[8]=mt[8];return f}function x(f,mt){var Tt=mt[0],at=mt[1],Pt=mt[2],wt=mt[3],Et=mt[4],Rt=mt[5],Nt=mt[6],kt=mt[7],_t=mt[8],ht=_t*Et-Rt*kt,ft=-_t*wt+Rt*Nt,Mt=kt*wt-Et*Nt,rt=Tt*ht+at*ft+Pt*Mt;return rt?(rt=1/rt,f[0]=ht*rt,f[1]=(-_t*at+Pt*kt)*rt,f[2]=(Rt*at-Pt*Et)*rt,f[3]=ft*rt,f[4]=(_t*Tt-Pt*Nt)*rt,f[5]=(-Rt*Tt+Pt*wt)*rt,f[6]=Mt*rt,f[7]=(-kt*Tt+at*Nt)*rt,f[8]=(Et*Tt-at*wt)*rt,f):null}function g(f,mt){var Tt=mt[0],at=mt[1],Pt=mt[2],wt=mt[3],Et=mt[4],Rt=mt[5],Nt=mt[6],kt=mt[7],_t=mt[8];return f[0]=Et*_t-Rt*kt,f[1]=Pt*kt-at*_t,f[2]=at*Rt-Pt*Et,f[3]=Rt*Nt-wt*_t,f[4]=Tt*_t-Pt*Nt,f[5]=Pt*wt-Tt*Rt,f[6]=wt*kt-Et*Nt,f[7]=at*Nt-Tt*kt,f[8]=Tt*Et-at*wt,f}function C(f){var mt=f[0],Tt=f[1],at=f[2],Pt=f[3],wt=f[4],Et=f[5],Rt=f[6],Nt=f[7],kt=f[8];return mt*(kt*wt-Et*Nt)+Tt*(-kt*Pt+Et*Rt)+at*(Nt*Pt-wt*Rt)}function _(f,mt,Tt){var at=mt[0],Pt=mt[1],wt=mt[2],Et=mt[3],Rt=mt[4],Nt=mt[5],kt=mt[6],_t=mt[7],ht=mt[8],ft=Tt[0],Mt=Tt[1],rt=Tt[2],et=Tt[3],lt=Tt[4],st=Tt[5],At=Tt[6],Ot=Tt[7],Qt=Tt[8];return f[0]=ft*at+Mt*Et+rt*kt,f[1]=ft*Pt+Mt*Rt+rt*_t,f[2]=ft*wt+Mt*Nt+rt*ht,f[3]=et*at+lt*Et+st*kt,f[4]=et*Pt+lt*Rt+st*_t,f[5]=et*wt+lt*Nt+st*ht,f[6]=At*at+Ot*Et+Qt*kt,f[7]=At*Pt+Ot*Rt+Qt*_t,f[8]=At*wt+Ot*Nt+Qt*ht,f}function B(f,mt,Tt){var at=mt[0],Pt=mt[1],wt=mt[2],Et=mt[3],Rt=mt[4],Nt=mt[5],kt=mt[6],_t=mt[7],ht=mt[8],ft=Tt[0],Mt=Tt[1];return f[0]=at,f[1]=Pt,f[2]=wt,f[3]=Et,f[4]=Rt,f[5]=Nt,f[6]=ft*at+Mt*Et+kt,f[7]=ft*Pt+Mt*Rt+_t,f[8]=ft*wt+Mt*Nt+ht,f}function D(f,mt,Tt){var at=mt[0],Pt=mt[1],wt=mt[2],Et=mt[3],Rt=mt[4],Nt=mt[5],kt=mt[6],_t=mt[7],ht=mt[8],ft=Math.sin(Tt),Mt=Math.cos(Tt);return f[0]=Mt*at+ft*Et,f[1]=Mt*Pt+ft*Rt,f[2]=Mt*wt+ft*Nt,f[3]=Mt*Et-ft*at,f[4]=Mt*Rt-ft*Pt,f[5]=Mt*Nt-ft*wt,f[6]=kt,f[7]=_t,f[8]=ht,f}function W(f,mt,Tt){var at=Tt[0],Pt=Tt[1];return f[0]=at*mt[0],f[1]=at*mt[1],f[2]=at*mt[2],f[3]=Pt*mt[3],f[4]=Pt*mt[4],f[5]=Pt*mt[5],f[6]=mt[6],f[7]=mt[7],f[8]=mt[8],f}function Z(f,mt){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=mt[0],f[7]=mt[1],f[8]=1,f}function X(f,mt){var Tt=Math.sin(mt),at=Math.cos(mt);return f[0]=at,f[1]=Tt,f[2]=0,f[3]=-Tt,f[4]=at,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function j(f,mt){return f[0]=mt[0],f[1]=0,f[2]=0,f[3]=0,f[4]=mt[1],f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function it(f,mt){return f[0]=mt[0],f[1]=mt[1],f[2]=0,f[3]=mt[2],f[4]=mt[3],f[5]=0,f[6]=mt[4],f[7]=mt[5],f[8]=1,f}function tt(f,mt){var Tt=mt[0],at=mt[1],Pt=mt[2],wt=mt[3],Et=Tt+Tt,Rt=at+at,Nt=Pt+Pt,kt=Tt*Et,_t=at*Et,ht=at*Rt,ft=Pt*Et,Mt=Pt*Rt,rt=Pt*Nt,et=wt*Et,lt=wt*Rt,st=wt*Nt;return f[0]=1-ht-rt,f[3]=_t-st,f[6]=ft+lt,f[1]=_t+st,f[4]=1-kt-rt,f[7]=Mt-et,f[2]=ft-lt,f[5]=Mt+et,f[8]=1-kt-ht,f}function yt(f,mt){var Tt=mt[0],at=mt[1],Pt=mt[2],wt=mt[3],Et=mt[4],Rt=mt[5],Nt=mt[6],kt=mt[7],_t=mt[8],ht=mt[9],ft=mt[10],Mt=mt[11],rt=mt[12],et=mt[13],lt=mt[14],st=mt[15],At=Tt*Rt-at*Et,Ot=Tt*Nt-Pt*Et,Qt=Tt*kt-wt*Et,ve=at*Nt-Pt*Rt,fe=at*kt-wt*Rt,ce=Pt*kt-wt*Nt,Ae=_t*et-ht*rt,De=_t*lt-ft*rt,rr=_t*st-Mt*rt,Je=ht*lt-ft*et,Er=ht*st-Mt*et,Jr=ft*st-Mt*lt,Ar=At*Jr-Ot*Er+Qt*Je+ve*rr-fe*De+ce*Ae;return Ar?(Ar=1/Ar,f[0]=(Rt*Jr-Nt*Er+kt*Je)*Ar,f[1]=(Nt*rr-Et*Jr-kt*De)*Ar,f[2]=(Et*Er-Rt*rr+kt*Ae)*Ar,f[3]=(Pt*Er-at*Jr-wt*Je)*Ar,f[4]=(Tt*Jr-Pt*rr+wt*De)*Ar,f[5]=(at*rr-Tt*Er-wt*Ae)*Ar,f[6]=(et*ce-lt*fe+st*ve)*Ar,f[7]=(lt*Qt-rt*ce-st*Ot)*Ar,f[8]=(rt*fe-et*Qt+st*At)*Ar,f):null}function dt(f,mt,Tt){return f[0]=2/mt,f[1]=0,f[2]=0,f[3]=0,f[4]=-2/Tt,f[5]=0,f[6]=-1,f[7]=1,f[8]=1,f}function Ct(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"}function F(f){return Math.sqrt(Math.pow(f[0],2)+Math.pow(f[1],2)+Math.pow(f[2],2)+Math.pow(f[3],2)+Math.pow(f[4],2)+Math.pow(f[5],2)+Math.pow(f[6],2)+Math.pow(f[7],2)+Math.pow(f[8],2))}function z(f,mt,Tt){return f[0]=mt[0]+Tt[0],f[1]=mt[1]+Tt[1],f[2]=mt[2]+Tt[2],f[3]=mt[3]+Tt[3],f[4]=mt[4]+Tt[4],f[5]=mt[5]+Tt[5],f[6]=mt[6]+Tt[6],f[7]=mt[7]+Tt[7],f[8]=mt[8]+Tt[8],f}function G(f,mt,Tt){return f[0]=mt[0]-Tt[0],f[1]=mt[1]-Tt[1],f[2]=mt[2]-Tt[2],f[3]=mt[3]-Tt[3],f[4]=mt[4]-Tt[4],f[5]=mt[5]-Tt[5],f[6]=mt[6]-Tt[6],f[7]=mt[7]-Tt[7],f[8]=mt[8]-Tt[8],f}function Y(f,mt,Tt){return f[0]=mt[0]*Tt,f[1]=mt[1]*Tt,f[2]=mt[2]*Tt,f[3]=mt[3]*Tt,f[4]=mt[4]*Tt,f[5]=mt[5]*Tt,f[6]=mt[6]*Tt,f[7]=mt[7]*Tt,f[8]=mt[8]*Tt,f}function q(f,mt,Tt,at){return f[0]=mt[0]+Tt[0]*at,f[1]=mt[1]+Tt[1]*at,f[2]=mt[2]+Tt[2]*at,f[3]=mt[3]+Tt[3]*at,f[4]=mt[4]+Tt[4]*at,f[5]=mt[5]+Tt[5]*at,f[6]=mt[6]+Tt[6]*at,f[7]=mt[7]+Tt[7]*at,f[8]=mt[8]+Tt[8]*at,f}function $(f,mt){return f[0]===mt[0]&&f[1]===mt[1]&&f[2]===mt[2]&&f[3]===mt[3]&&f[4]===mt[4]&&f[5]===mt[5]&&f[6]===mt[6]&&f[7]===mt[7]&&f[8]===mt[8]}function J(f,mt){var Tt=f[0],at=f[1],Pt=f[2],wt=f[3],Et=f[4],Rt=f[5],Nt=f[6],kt=f[7],_t=f[8],ht=mt[0],ft=mt[1],Mt=mt[2],rt=mt[3],et=mt[4],lt=mt[5],st=mt[6],At=mt[7],Ot=mt[8];return Math.abs(Tt-ht)<=O.EPSILON*Math.max(1,Math.abs(Tt),Math.abs(ht))&&Math.abs(at-ft)<=O.EPSILON*Math.max(1,Math.abs(at),Math.abs(ft))&&Math.abs(Pt-Mt)<=O.EPSILON*Math.max(1,Math.abs(Pt),Math.abs(Mt))&&Math.abs(wt-rt)<=O.EPSILON*Math.max(1,Math.abs(wt),Math.abs(rt))&&Math.abs(Et-et)<=O.EPSILON*Math.max(1,Math.abs(Et),Math.abs(et))&&Math.abs(Rt-lt)<=O.EPSILON*Math.max(1,Math.abs(Rt),Math.abs(lt))&&Math.abs(Nt-st)<=O.EPSILON*Math.max(1,Math.abs(Nt),Math.abs(st))&&Math.abs(kt-At)<=O.EPSILON*Math.max(1,Math.abs(kt),Math.abs(At))&&Math.abs(_t-Ot)<=O.EPSILON*Math.max(1,Math.abs(_t),Math.abs(Ot))}var U=S.mul=_,K=S.sub=G},76172:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.sqrDist=S.dist=S.div=S.mul=S.sub=S.len=void 0,S.create=L,S.clone=P,S.fromValues=T,S.copy=M,S.set=E,S.add=p,S.subtract=b,S.multiply=m,S.divide=x,S.ceil=g,S.floor=C,S.min=_,S.max=B,S.round=D,S.scale=W,S.scaleAndAdd=Z,S.distance=X,S.squaredDistance=j,S.length=it,S.squaredLength=tt,S.negate=yt,S.inverse=dt,S.normalize=Ct,S.dot=F,S.cross=z,S.lerp=G,S.random=Y,S.transformMat2=q,S.transformMat2d=$,S.transformMat3=J,S.transformMat4=U,S.rotate=K,S.angle=f,S.str=mt,S.exactEquals=Tt,S.equals=at;var w=d(74988),O=I(w);function I(ft){if(ft&&ft.__esModule)return ft;var Mt={};if(ft!=null)for(var rt in ft)Object.prototype.hasOwnProperty.call(ft,rt)&&(Mt[rt]=ft[rt]);return Mt.default=ft,Mt}function L(){var ft=new O.ARRAY_TYPE(2);return O.ARRAY_TYPE!=Float32Array&&(ft[0]=0,ft[1]=0),ft}function P(ft){var Mt=new O.ARRAY_TYPE(2);return Mt[0]=ft[0],Mt[1]=ft[1],Mt}function T(ft,Mt){var rt=new O.ARRAY_TYPE(2);return rt[0]=ft,rt[1]=Mt,rt}function M(ft,Mt){return ft[0]=Mt[0],ft[1]=Mt[1],ft}function E(ft,Mt,rt){return ft[0]=Mt,ft[1]=rt,ft}function p(ft,Mt,rt){return ft[0]=Mt[0]+rt[0],ft[1]=Mt[1]+rt[1],ft}function b(ft,Mt,rt){return ft[0]=Mt[0]-rt[0],ft[1]=Mt[1]-rt[1],ft}function m(ft,Mt,rt){return ft[0]=Mt[0]*rt[0],ft[1]=Mt[1]*rt[1],ft}function x(ft,Mt,rt){return ft[0]=Mt[0]/rt[0],ft[1]=Mt[1]/rt[1],ft}function g(ft,Mt){return ft[0]=Math.ceil(Mt[0]),ft[1]=Math.ceil(Mt[1]),ft}function C(ft,Mt){return ft[0]=Math.floor(Mt[0]),ft[1]=Math.floor(Mt[1]),ft}function _(ft,Mt,rt){return ft[0]=Math.min(Mt[0],rt[0]),ft[1]=Math.min(Mt[1],rt[1]),ft}function B(ft,Mt,rt){return ft[0]=Math.max(Mt[0],rt[0]),ft[1]=Math.max(Mt[1],rt[1]),ft}function D(ft,Mt){return ft[0]=Math.round(Mt[0]),ft[1]=Math.round(Mt[1]),ft}function W(ft,Mt,rt){return ft[0]=Mt[0]*rt,ft[1]=Mt[1]*rt,ft}function Z(ft,Mt,rt,et){return ft[0]=Mt[0]+rt[0]*et,ft[1]=Mt[1]+rt[1]*et,ft}function X(ft,Mt){var rt=Mt[0]-ft[0],et=Mt[1]-ft[1];return Math.sqrt(rt*rt+et*et)}function j(ft,Mt){var rt=Mt[0]-ft[0],et=Mt[1]-ft[1];return rt*rt+et*et}function it(ft){var Mt=ft[0],rt=ft[1];return Math.sqrt(Mt*Mt+rt*rt)}function tt(ft){var Mt=ft[0],rt=ft[1];return Mt*Mt+rt*rt}function yt(ft,Mt){return ft[0]=-Mt[0],ft[1]=-Mt[1],ft}function dt(ft,Mt){return ft[0]=1/Mt[0],ft[1]=1/Mt[1],ft}function Ct(ft,Mt){var rt=Mt[0],et=Mt[1],lt=rt*rt+et*et;return lt>0&&(lt=1/Math.sqrt(lt),ft[0]=Mt[0]*lt,ft[1]=Mt[1]*lt),ft}function F(ft,Mt){return ft[0]*Mt[0]+ft[1]*Mt[1]}function z(ft,Mt,rt){var et=Mt[0]*rt[1]-Mt[1]*rt[0];return ft[0]=ft[1]=0,ft[2]=et,ft}function G(ft,Mt,rt,et){var lt=Mt[0],st=Mt[1];return ft[0]=lt+et*(rt[0]-lt),ft[1]=st+et*(rt[1]-st),ft}function Y(ft,Mt){Mt=Mt||1;var rt=O.RANDOM()*2*Math.PI;return ft[0]=Math.cos(rt)*Mt,ft[1]=Math.sin(rt)*Mt,ft}function q(ft,Mt,rt){var et=Mt[0],lt=Mt[1];return ft[0]=rt[0]*et+rt[2]*lt,ft[1]=rt[1]*et+rt[3]*lt,ft}function $(ft,Mt,rt){var et=Mt[0],lt=Mt[1];return ft[0]=rt[0]*et+rt[2]*lt+rt[4],ft[1]=rt[1]*et+rt[3]*lt+rt[5],ft}function J(ft,Mt,rt){var et=Mt[0],lt=Mt[1];return ft[0]=rt[0]*et+rt[3]*lt+rt[6],ft[1]=rt[1]*et+rt[4]*lt+rt[7],ft}function U(ft,Mt,rt){var et=Mt[0],lt=Mt[1];return ft[0]=rt[0]*et+rt[4]*lt+rt[12],ft[1]=rt[1]*et+rt[5]*lt+rt[13],ft}function K(ft,Mt,rt,et){var lt=Mt[0]-rt[0],st=Mt[1]-rt[1],At=Math.sin(et),Ot=Math.cos(et);return ft[0]=lt*Ot-st*At+rt[0],ft[1]=lt*At+st*Ot+rt[1],ft}function f(ft,Mt){var rt=ft[0],et=ft[1],lt=Mt[0],st=Mt[1],At=rt*rt+et*et;At>0&&(At=1/Math.sqrt(At));var Ot=lt*lt+st*st;Ot>0&&(Ot=1/Math.sqrt(Ot));var Qt=(rt*lt+et*st)*At*Ot;return Qt>1?0:Qt<-1?Math.PI:Math.acos(Qt)}function mt(ft){return"vec2("+ft[0]+", "+ft[1]+")"}function Tt(ft,Mt){return ft[0]===Mt[0]&&ft[1]===Mt[1]}function at(ft,Mt){var rt=ft[0],et=ft[1],lt=Mt[0],st=Mt[1];return Math.abs(rt-lt)<=O.EPSILON*Math.max(1,Math.abs(rt),Math.abs(lt))&&Math.abs(et-st)<=O.EPSILON*Math.max(1,Math.abs(et),Math.abs(st))}var Pt=S.len=it,wt=S.sub=b,Et=S.mul=m,Rt=S.div=x,Nt=S.dist=X,kt=S.sqrDist=j,_t=S.sqrLen=tt,ht=S.forEach=function(){var ft=L();return function(Mt,rt,et,lt,st,At){var Ot=void 0,Qt=void 0;for(rt||(rt=2),et||(et=0),lt?Qt=Math.min(lt*rt+et,Mt.length):Qt=Mt.length,Ot=et;Ot<Qt;Ot+=rt)ft[0]=Mt[Ot],ft[1]=Mt[Ot+1],st(ft,ft,At),Mt[Ot]=ft[0],Mt[Ot+1]=ft[1];return Mt}}()},88395:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.len=S.sqrDist=S.dist=S.div=S.mul=S.sub=void 0,S.create=L,S.clone=P,S.length=T,S.fromValues=M,S.copy=E,S.set=p,S.add=b,S.subtract=m,S.multiply=x,S.divide=g,S.ceil=C,S.floor=_,S.min=B,S.max=D,S.round=W,S.scale=Z,S.scaleAndAdd=X,S.distance=j,S.squaredDistance=it,S.squaredLength=tt,S.negate=yt,S.inverse=dt,S.normalize=Ct,S.dot=F,S.cross=z,S.lerp=G,S.hermite=Y,S.bezier=q,S.random=$,S.transformMat4=J,S.transformMat3=U,S.transformQuat=K,S.rotateX=f,S.rotateY=mt,S.rotateZ=Tt,S.angle=at,S.str=Pt,S.exactEquals=wt,S.equals=Et;var w=d(74988),O=I(w);function I(et){if(et&&et.__esModule)return et;var lt={};if(et!=null)for(var st in et)Object.prototype.hasOwnProperty.call(et,st)&&(lt[st]=et[st]);return lt.default=et,lt}function L(){var et=new O.ARRAY_TYPE(3);return O.ARRAY_TYPE!=Float32Array&&(et[0]=0,et[1]=0,et[2]=0),et}function P(et){var lt=new O.ARRAY_TYPE(3);return lt[0]=et[0],lt[1]=et[1],lt[2]=et[2],lt}function T(et){var lt=et[0],st=et[1],At=et[2];return Math.sqrt(lt*lt+st*st+At*At)}function M(et,lt,st){var At=new O.ARRAY_TYPE(3);return At[0]=et,At[1]=lt,At[2]=st,At}function E(et,lt){return et[0]=lt[0],et[1]=lt[1],et[2]=lt[2],et}function p(et,lt,st,At){return et[0]=lt,et[1]=st,et[2]=At,et}function b(et,lt,st){return et[0]=lt[0]+st[0],et[1]=lt[1]+st[1],et[2]=lt[2]+st[2],et}function m(et,lt,st){return et[0]=lt[0]-st[0],et[1]=lt[1]-st[1],et[2]=lt[2]-st[2],et}function x(et,lt,st){return et[0]=lt[0]*st[0],et[1]=lt[1]*st[1],et[2]=lt[2]*st[2],et}function g(et,lt,st){return et[0]=lt[0]/st[0],et[1]=lt[1]/st[1],et[2]=lt[2]/st[2],et}function C(et,lt){return et[0]=Math.ceil(lt[0]),et[1]=Math.ceil(lt[1]),et[2]=Math.ceil(lt[2]),et}function _(et,lt){return et[0]=Math.floor(lt[0]),et[1]=Math.floor(lt[1]),et[2]=Math.floor(lt[2]),et}function B(et,lt,st){return et[0]=Math.min(lt[0],st[0]),et[1]=Math.min(lt[1],st[1]),et[2]=Math.min(lt[2],st[2]),et}function D(et,lt,st){return et[0]=Math.max(lt[0],st[0]),et[1]=Math.max(lt[1],st[1]),et[2]=Math.max(lt[2],st[2]),et}function W(et,lt){return et[0]=Math.round(lt[0]),et[1]=Math.round(lt[1]),et[2]=Math.round(lt[2]),et}function Z(et,lt,st){return et[0]=lt[0]*st,et[1]=lt[1]*st,et[2]=lt[2]*st,et}function X(et,lt,st,At){return et[0]=lt[0]+st[0]*At,et[1]=lt[1]+st[1]*At,et[2]=lt[2]+st[2]*At,et}function j(et,lt){var st=lt[0]-et[0],At=lt[1]-et[1],Ot=lt[2]-et[2];return Math.sqrt(st*st+At*At+Ot*Ot)}function it(et,lt){var st=lt[0]-et[0],At=lt[1]-et[1],Ot=lt[2]-et[2];return st*st+At*At+Ot*Ot}function tt(et){var lt=et[0],st=et[1],At=et[2];return lt*lt+st*st+At*At}function yt(et,lt){return et[0]=-lt[0],et[1]=-lt[1],et[2]=-lt[2],et}function dt(et,lt){return et[0]=1/lt[0],et[1]=1/lt[1],et[2]=1/lt[2],et}function Ct(et,lt){var st=lt[0],At=lt[1],Ot=lt[2],Qt=st*st+At*At+Ot*Ot;return Qt>0&&(Qt=1/Math.sqrt(Qt),et[0]=lt[0]*Qt,et[1]=lt[1]*Qt,et[2]=lt[2]*Qt),et}function F(et,lt){return et[0]*lt[0]+et[1]*lt[1]+et[2]*lt[2]}function z(et,lt,st){var At=lt[0],Ot=lt[1],Qt=lt[2],ve=st[0],fe=st[1],ce=st[2];return et[0]=Ot*ce-Qt*fe,et[1]=Qt*ve-At*ce,et[2]=At*fe-Ot*ve,et}function G(et,lt,st,At){var Ot=lt[0],Qt=lt[1],ve=lt[2];return et[0]=Ot+At*(st[0]-Ot),et[1]=Qt+At*(st[1]-Qt),et[2]=ve+At*(st[2]-ve),et}function Y(et,lt,st,At,Ot,Qt){var ve=Qt*Qt,fe=ve*(2*Qt-3)+1,ce=ve*(Qt-2)+Qt,Ae=ve*(Qt-1),De=ve*(3-2*Qt);return et[0]=lt[0]*fe+st[0]*ce+At[0]*Ae+Ot[0]*De,et[1]=lt[1]*fe+st[1]*ce+At[1]*Ae+Ot[1]*De,et[2]=lt[2]*fe+st[2]*ce+At[2]*Ae+Ot[2]*De,et}function q(et,lt,st,At,Ot,Qt){var ve=1-Qt,fe=ve*ve,ce=Qt*Qt,Ae=fe*ve,De=3*Qt*fe,rr=3*ce*ve,Je=ce*Qt;return et[0]=lt[0]*Ae+st[0]*De+At[0]*rr+Ot[0]*Je,et[1]=lt[1]*Ae+st[1]*De+At[1]*rr+Ot[1]*Je,et[2]=lt[2]*Ae+st[2]*De+At[2]*rr+Ot[2]*Je,et}function $(et,lt){lt=lt||1;var st=O.RANDOM()*2*Math.PI,At=O.RANDOM()*2-1,Ot=Math.sqrt(1-At*At)*lt;return et[0]=Math.cos(st)*Ot,et[1]=Math.sin(st)*Ot,et[2]=At*lt,et}function J(et,lt,st){var At=lt[0],Ot=lt[1],Qt=lt[2],ve=st[3]*At+st[7]*Ot+st[11]*Qt+st[15];return ve=ve||1,et[0]=(st[0]*At+st[4]*Ot+st[8]*Qt+st[12])/ve,et[1]=(st[1]*At+st[5]*Ot+st[9]*Qt+st[13])/ve,et[2]=(st[2]*At+st[6]*Ot+st[10]*Qt+st[14])/ve,et}function U(et,lt,st){var At=lt[0],Ot=lt[1],Qt=lt[2];return et[0]=At*st[0]+Ot*st[3]+Qt*st[6],et[1]=At*st[1]+Ot*st[4]+Qt*st[7],et[2]=At*st[2]+Ot*st[5]+Qt*st[8],et}function K(et,lt,st){var At=st[0],Ot=st[1],Qt=st[2],ve=st[3],fe=lt[0],ce=lt[1],Ae=lt[2],De=Ot*Ae-Qt*ce,rr=Qt*fe-At*Ae,Je=At*ce-Ot*fe,Er=Ot*Je-Qt*rr,Jr=Qt*De-At*Je,Ar=At*rr-Ot*De,Qr=ve*2;return De*=Qr,rr*=Qr,Je*=Qr,Er*=2,Jr*=2,Ar*=2,et[0]=fe+De+Er,et[1]=ce+rr+Jr,et[2]=Ae+Je+Ar,et}function f(et,lt,st,At){var Ot=[],Qt=[];return Ot[0]=lt[0]-st[0],Ot[1]=lt[1]-st[1],Ot[2]=lt[2]-st[2],Qt[0]=Ot[0],Qt[1]=Ot[1]*Math.cos(At)-Ot[2]*Math.sin(At),Qt[2]=Ot[1]*Math.sin(At)+Ot[2]*Math.cos(At),et[0]=Qt[0]+st[0],et[1]=Qt[1]+st[1],et[2]=Qt[2]+st[2],et}function mt(et,lt,st,At){var Ot=[],Qt=[];return Ot[0]=lt[0]-st[0],Ot[1]=lt[1]-st[1],Ot[2]=lt[2]-st[2],Qt[0]=Ot[2]*Math.sin(At)+Ot[0]*Math.cos(At),Qt[1]=Ot[1],Qt[2]=Ot[2]*Math.cos(At)-Ot[0]*Math.sin(At),et[0]=Qt[0]+st[0],et[1]=Qt[1]+st[1],et[2]=Qt[2]+st[2],et}function Tt(et,lt,st,At){var Ot=[],Qt=[];return Ot[0]=lt[0]-st[0],Ot[1]=lt[1]-st[1],Ot[2]=lt[2]-st[2],Qt[0]=Ot[0]*Math.cos(At)-Ot[1]*Math.sin(At),Qt[1]=Ot[0]*Math.sin(At)+Ot[1]*Math.cos(At),Qt[2]=Ot[2],et[0]=Qt[0]+st[0],et[1]=Qt[1]+st[1],et[2]=Qt[2]+st[2],et}function at(et,lt){var st=M(et[0],et[1],et[2]),At=M(lt[0],lt[1],lt[2]);Ct(st,st),Ct(At,At);var Ot=F(st,At);return Ot>1?0:Ot<-1?Math.PI:Math.acos(Ot)}function Pt(et){return"vec3("+et[0]+", "+et[1]+", "+et[2]+")"}function wt(et,lt){return et[0]===lt[0]&&et[1]===lt[1]&&et[2]===lt[2]}function Et(et,lt){var st=et[0],At=et[1],Ot=et[2],Qt=lt[0],ve=lt[1],fe=lt[2];return Math.abs(st-Qt)<=O.EPSILON*Math.max(1,Math.abs(st),Math.abs(Qt))&&Math.abs(At-ve)<=O.EPSILON*Math.max(1,Math.abs(At),Math.abs(ve))&&Math.abs(Ot-fe)<=O.EPSILON*Math.max(1,Math.abs(Ot),Math.abs(fe))}var Rt=S.sub=m,Nt=S.mul=x,kt=S.div=g,_t=S.dist=j,ht=S.sqrDist=it,ft=S.len=T,Mt=S.sqrLen=tt,rt=S.forEach=function(){var et=L();return function(lt,st,At,Ot,Qt,ve){var fe=void 0,ce=void 0;for(st||(st=3),At||(At=0),Ot?ce=Math.min(Ot*st+At,lt.length):ce=lt.length,fe=At;fe<ce;fe+=st)et[0]=lt[fe],et[1]=lt[fe+1],et[2]=lt[fe+2],Qt(et,et,ve),lt[fe]=et[0],lt[fe+1]=et[1],lt[fe+2]=et[2];return lt}}()},92640:function(xt,S,d){function w(p,b){p.prototype=Object.create(b.prototype),p.prototype.constructor=p,p.__proto__=b}var O=d(4905),I=d(90390),L=d(30130),P=d(22965),T=function(p){w(b,p);function b(){return p.apply(this,arguments)||this}var m=b.prototype;return m.execute=function(){var g=this;return L(g.rootNode,g.options,I)},b}(O),M={};function E(p,b){return b=P.assign({},M,b),new T(p,b).execute()}xt.exports=E},34542:function(xt,S,d){function w(p,b){p.prototype=Object.create(b.prototype),p.prototype.constructor=p,p.__proto__=b}var O=d(4905),I=d(37133),L=d(30130),P=d(22965),T=function(p){w(b,p);function b(){return p.apply(this,arguments)||this}var m=b.prototype;return m.execute=function(){var g=this;return g.rootNode.width=0,L(g.rootNode,g.options,I)},b}(O),M={};function E(p,b){return b=P.assign({},M,b),new T(p,b).execute()}xt.exports=E},57088:function(xt,S,d){function w(m,x){m.prototype=Object.create(x.prototype),m.prototype.constructor=m,m.__proto__=x}var O=d(4905),I=d(10568),L=d(59286),P=d(22965),T=["LR","RL","H"],M=T[0],E=function(m){w(x,m);function x(){return m.apply(this,arguments)||this}var g=x.prototype;return g.execute=function(){var _=this,B=_.options,D=_.rootNode;B.isHorizontal=!0;var W=B.indent,Z=W===void 0?20:W,X=B.dropCap,j=X===void 0?!0:X,it=B.direction||M;if(it&&T.indexOf(it)===-1)throw new TypeError("Invalid direction: "+it);if(it===T[0])I(D,Z,j);else if(it===T[1])I(D,Z,j),D.right2left();else if(it===T[2]){var tt=L(D,B),yt=tt.left,dt=tt.right;I(yt,Z,j),yt.right2left(),I(dt,Z,j);var Ct=yt.getBoundingBox();dt.translate(Ct.width,0),D.x=dt.x-D.width/2}return D},x}(O),p={};function b(m,x){return x=P.assign({},p,x),new E(m,x).execute()}xt.exports=b},77201:function(xt,S,d){var w={compactBox:d(92640),dendrogram:d(34542),indented:d(57088),mindmap:d(1355)};xt.exports=w},4905:function(xt,S,d){var w=d(27249),O=function(){function I(P,T){T===void 0&&(T={});var M=this;M.options=T,M.rootNode=w(P,T)}var L=I.prototype;return L.execute=function(){throw new Error("please override this method")},I}();xt.exports=O},37133:function(xt,S,d){var w=d(22965);function O(P,T){P===void 0&&(P=0),T===void 0&&(T=[]);var M=this;M.x=M.y=0,M.leftChild=M.rightChild=null,M.height=0,M.children=T}var I={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function L(P,T,M){M?(T.x=P.x,T.y=P.y):(T.x=P.y,T.y=P.x),P.children.forEach(function(E,p){L(E,T.children[p],M)})}xt.exports=function(P,T){T===void 0&&(T={}),T=w.assign({},I,T);var M=0;function E(g){if(!g)return null;g.width=0,g.depth&&g.depth>M&&(M=g.depth);var C=g.children,_=C.length,B=new O(g.height,[]);return C.forEach(function(D,W){var Z=E(D);B.children.push(Z),W===0&&(B.leftChild=Z),W===_-1&&(B.rightChild=Z)}),B.originNode=g,B.isLeaf=g.isLeaf(),B}function p(g){if(g.isLeaf||g.children.length===0)g.drawingDepth=M;else{var C=g.children.map(function(B){return p(B)}),_=Math.min.apply(null,C);g.drawingDepth=_-1}return g.drawingDepth}var b;function m(g){g.x=g.drawingDepth*T.rankSep,g.isLeaf?(g.y=0,b&&(g.y=b.y+b.height+T.nodeSep,g.originNode.parent!==b.originNode.parent&&(g.y+=T.subTreeSep)),b=g):(g.children.forEach(function(C){m(C)}),g.y=(g.leftChild.y+g.rightChild.y)/2)}var x=E(P);return p(x),m(x),L(x,P,T.isHorizontal),P}},30130:function(xt,S,d){var w=d(59286),O=["LR","RL","TB","BT","H","V"],I=["LR","RL","H"],L=function(M){return I.indexOf(M)>-1},P=O[0];xt.exports=function(T,M,E){var p=M.direction||P;if(M.isHorizontal=L(p),p&&O.indexOf(p)===-1)throw new TypeError("Invalid direction: "+p);if(p===O[0])E(T,M);else if(p===O[1])E(T,M),T.right2left();else if(p===O[2])E(T,M);else if(p===O[3])E(T,M),T.bottom2top();else if(p===O[4]||p===O[5]){var b=w(T,M),m=b.left,x=b.right;E(m,M),E(x,M),M.isHorizontal?m.right2left():m.bottom2top(),x.translate(m.x-x.x,m.y-x.y),T.x=m.x,T.y=x.y;var g=T.getBoundingBox();M.isHorizontal?g.top<0&&T.translate(0,-g.top):g.left<0&&T.translate(-g.left,0)}var C=M.fixedRoot;return C===void 0&&(C=!0),C&&T.translate(-(T.x+T.width/2+T.hgap),-(T.y+T.height/2+T.vgap)),T}},27249:function(xt,S,d){var w=d(22965),O=18,I=O*2,L=O,P={getId:function(p){return p.id||p.name},getPreH:function(p){return p.preH||0},getPreV:function(p){return p.preV||0},getHGap:function(p){return p.hgap||L},getVGap:function(p){return p.vgap||L},getChildren:function(p){return p.children},getHeight:function(p){return p.height||I},getWidth:function(p){var b=p.label||" ";return p.width||b.split("").length*O}};function T(E,p){var b=this;if(b.vgap=b.hgap=0,E instanceof T)return E;b.data=E;var m=p.getHGap(E),x=p.getVGap(E);return b.preH=p.getPreH(E),b.preV=p.getPreV(E),b.width=p.getWidth(E),b.height=p.getHeight(E),b.width+=b.preH,b.height+=b.preV,b.id=p.getId(E),b.x=b.y=0,b.depth=0,b.children||(b.children=[]),b.addGap(m,x),b}w.assign(T.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(p,b){var m=this;m.hgap+=p,m.vgap+=b,m.width+=2*p,m.height+=2*b},eachNode:function(p){for(var b=this,m=[b],x;x=m.shift();)p(x),m=x.children.concat(m)},DFTraverse:function(p){this.eachNode(p)},BFTraverse:function(p){for(var b=this,m=[b],x;x=m.shift();)p(x),m=m.concat(x.children)},getBoundingBox:function(){var p={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(b){p.left=Math.min(p.left,b.x),p.top=Math.min(p.top,b.y),p.width=Math.max(p.width,b.x+b.width),p.height=Math.max(p.height,b.y+b.height)}),p},translate:function(p,b){p===void 0&&(p=0),b===void 0&&(b=0),this.eachNode(function(m){m.x+=p,m.y+=b,m.x+=m.preH,m.y+=m.preV})},right2left:function(){var p=this,b=p.getBoundingBox();p.eachNode(function(m){m.x=m.x-(m.x-b.left)*2-m.width}),p.translate(b.width,0)},bottom2top:function(){var p=this,b=p.getBoundingBox();p.eachNode(function(m){m.y=m.y-(m.y-b.top)*2-m.height}),p.translate(0,b.height)}});function M(E,p,b){p===void 0&&(p={}),p=w.assign({},P,p);var m=new T(E,p),x=[m],g;if(!b&&!E.collapsed){for(;g=x.shift();)if(!g.data.collapsed){var C=p.getChildren(g.data),_=C?C.length:0;if(g.children=new Array(_),C&&_)for(var B=0;B<_;B++){var D=new T(C[B],p);g.children[B]=D,x.push(D),D.parent=g,D.depth=g.depth+1}}}return m}xt.exports=M},10568:function(xt){function S(d,w,O,I){var L=typeof O=="function"?O(d):O*d.depth;if(!I)try{if(d.id===d.parent.children[0].id){d.x+=L,d.y=w?w.y:0;return}}catch(P){}d.x+=L,d.y=w?w.y+w.height:0}xt.exports=function(d,w,O){var I=null;d.eachNode(function(L){S(L,I,w,O),I=L})}},24461:function(xt,S,d){var w=d(22965);function O(P,T){var M=0;return P.children.length?P.children.forEach(function(E){M+=O(E,T)}):M=P.height,P._subTreeSep=T.getSubTreeSep(P.data),P.totalHeight=Math.max(P.height,M)+2*P._subTreeSep,P.totalHeight}function I(P){var T=P.children,M=T.length;if(M){T.forEach(function(g){I(g)});var E=T[0],p=T[M-1],b=p.y-E.y+p.height,m=0;if(T.forEach(function(g){m+=g.totalHeight}),b>P.height)P.y=E.y+b/2-P.height/2;else if(T.length!==1||P.height>m){var x=P.y+(P.height-b)/2-E.y;T.forEach(function(g){g.translate(0,x)})}else P.y=(E.y+E.height/2+p.y+p.height/2)/2-P.height/2}}var L={getSubTreeSep:function(){return 0}};xt.exports=function(P,T){T===void 0&&(T={}),T=w.assign({},L,T),P.parent={x:0,width:0,height:0,y:0},P.BFTraverse(function(M){M.x=M.parent.x+M.parent.width}),P.parent=null,O(P,T),P.startY=0,P.y=P.totalHeight/2-P.height/2,P.eachNode(function(M){var E=M.children,p=E.length;if(p){var b=E[0];if(b.startY=M.startY+M._subTreeSep,p===1)b.y=M.y+M.height/2-b.height/2;else{b.y=b.startY+b.totalHeight/2-b.height/2;for(var m=1;m<p;m++){var x=E[m];x.startY=E[m-1].startY+E[m-1].totalHeight,x.y=x.startY+x.totalHeight/2-x.height/2}}}}),I(P)}},90390:function(xt){function S(P,T,M,E){E===void 0&&(E=[]);var p=this;p.w=P||0,p.h=T||0,p.y=M||0,p.x=0,p.c=E||[],p.cs=E.length,p.prelim=0,p.mod=0,p.shift=0,p.change=0,p.tl=null,p.tr=null,p.el=null,p.er=null,p.msel=0,p.mser=0}S.fromNode=function(P,T){if(!P)return null;var M=[];return P.children.forEach(function(E){M.push(S.fromNode(E,T))}),T?new S(P.height,P.width,P.x,M):new S(P.width,P.height,P.y,M)};function d(P,T,M){M?P.y+=T:P.x+=T,P.children.forEach(function(E){d(E,T,M)})}function w(P,T){var M=T?P.y:P.x;return P.children.forEach(function(E){M=Math.min(w(E,T),M)}),M}function O(P,T){var M=w(P,T);d(P,-M,T)}function I(P,T,M){M?T.y=P.x:T.x=P.x,P.c.forEach(function(E,p){I(E,T.children[p],M)})}function L(P,T,M){M===void 0&&(M=0),T?(P.x=M,M+=P.width):(P.y=M,M+=P.height),P.children.forEach(function(E){L(E,T,M)})}xt.exports=function(P,T){T===void 0&&(T={});var M=T.isHorizontal;function E(tt){if(tt.cs===0){p(tt);return}E(tt.c[0]);for(var yt=j(C(tt.c[0].el),0,null),dt=1;dt<tt.cs;++dt){E(tt.c[dt]);var Ct=C(tt.c[dt].er);b(tt,dt,yt),yt=j(Ct,dt,yt)}D(tt),p(tt)}function p(tt){tt.cs===0?(tt.el=tt,tt.er=tt,tt.msel=tt.mser=0):(tt.el=tt.c[0].el,tt.msel=tt.c[0].msel,tt.er=tt.c[tt.cs-1].er,tt.mser=tt.c[tt.cs-1].mser)}function b(tt,yt,dt){for(var Ct=tt.c[yt-1],F=Ct.mod,z=tt.c[yt],G=z.mod;Ct!==null&&z!==null;){C(Ct)>dt.low&&(dt=dt.nxt);var Y=F+Ct.prelim+Ct.w-(G+z.prelim);Y>0&&(G+=Y,m(tt,yt,dt.index,Y));var q=C(Ct),$=C(z);q<=$&&(Ct=g(Ct),Ct!==null&&(F+=Ct.mod)),q>=$&&(z=x(z),z!==null&&(G+=z.mod))}!Ct&&!!z?_(tt,yt,z,G):!!Ct&&!z&&B(tt,yt,Ct,F)}function m(tt,yt,dt,Ct){tt.c[yt].mod+=Ct,tt.c[yt].msel+=Ct,tt.c[yt].mser+=Ct,Z(tt,yt,dt,Ct)}function x(tt){return tt.cs===0?tt.tl:tt.c[0]}function g(tt){return tt.cs===0?tt.tr:tt.c[tt.cs-1]}function C(tt){return tt.y+tt.h}function _(tt,yt,dt,Ct){var F=tt.c[0].el;F.tl=dt;var z=Ct-dt.mod-tt.c[0].msel;F.mod+=z,F.prelim-=z,tt.c[0].el=tt.c[yt].el,tt.c[0].msel=tt.c[yt].msel}function B(tt,yt,dt,Ct){var F=tt.c[yt].er;F.tr=dt;var z=Ct-dt.mod-tt.c[yt].mser;F.mod+=z,F.prelim-=z,tt.c[yt].er=tt.c[yt-1].er,tt.c[yt].mser=tt.c[yt-1].mser}function D(tt){tt.prelim=(tt.c[0].prelim+tt.c[0].mod+tt.c[tt.cs-1].mod+tt.c[tt.cs-1].prelim+tt.c[tt.cs-1].w)/2-tt.w/2}function W(tt,yt){yt+=tt.mod,tt.x=tt.prelim+yt,X(tt);for(var dt=0;dt<tt.cs;dt++)W(tt.c[dt],yt)}function Z(tt,yt,dt,Ct){if(dt!==yt-1){var F=yt-dt;tt.c[dt+1].shift+=Ct/F,tt.c[yt].shift-=Ct/F,tt.c[yt].change-=Ct-Ct/F}}function X(tt){for(var yt=0,dt=0,Ct=0;Ct<tt.cs;Ct++)yt+=tt.c[Ct].shift,dt+=yt+tt.c[Ct].change,tt.c[Ct].mod+=dt}function j(tt,yt,dt){for(;dt!==null&&tt>=dt.low;)dt=dt.nxt;return{low:tt,index:yt,nxt:dt}}L(P,M);var it=S.fromNode(P,M);return E(it),W(it,0),I(it,P,M),O(P,M),P}},59286:function(xt,S,d){var w=d(27249);xt.exports=function(O,I){for(var L=w(O.data,I,!0),P=w(O.data,I,!0),T=O.children.length,M=Math.round(T/2),E=I.getSide||function(x,g){return g<M?"right":"left"},p=0;p<T;p++){var b=O.children[p],m=E(b,p);m==="right"?P.children.push(b):L.children.push(b)}return L.eachNode(function(x){x.isRoot()||(x.side="left")}),P.eachNode(function(x){x.isRoot()||(x.side="right")}),{left:L,right:P}}},1355:function(xt,S,d){function w(p,b){p.prototype=Object.create(b.prototype),p.prototype.constructor=p,p.__proto__=b}var O=d(4905),I=d(24461),L=d(30130),P=d(22965),T=function(p){w(b,p);function b(){return p.apply(this,arguments)||this}var m=b.prototype;return m.execute=function(){var g=this;return L(g.rootNode,g.options,I)},b}(O),M={};function E(p,b){return b=P.assign({},M,b),new T(p,b).execute()}xt.exports=E},22965:function(xt,S,d){var w=d(49242),O=w.mix;xt.exports={assign:O}},31506:function(xt,S,d){"use strict";d.r(S),d.d(S,{leftTranslate:function(){return I},leftRotate:function(){return L},leftScale:function(){return P},transform:function(){return M},direction:function(){return E},angleTo:function(){return p},vertical:function(){return b}});var w=d(35600),O=d(31437);function I(m,x,g){var C=[0,0,0,0,0,0,0,0,0];return w.fromTranslation(C,g),w.multiply(m,C,x)}function L(m,x,g){var C=[0,0,0,0,0,0,0,0,0];return w.fromRotation(C,g),w.multiply(m,C,x)}function P(m,x,g){var C=[0,0,0,0,0,0,0,0,0];return w.fromScaling(C,g),w.multiply(m,C,x)}function T(m,x,g){return w.multiply(m,g,x)}function M(m,x){for(var g=m?[].concat(m):[1,0,0,0,1,0,0,0,1],C=0,_=x.length;C<_;C++){var B=x[C];switch(B[0]){case"t":I(g,g,[B[1],B[2]]);break;case"s":P(g,g,[B[1],B[2]]);break;case"r":L(g,g,B[1]);break;case"m":T(g,g,B[1]);break;default:break}}return g}function E(m,x){return m[0]*x[1]-x[0]*m[1]}function p(m,x,g){var C=O.angle(m,x),_=E(m,x)>=0;return g?_?Math.PI*2-C:C:_?C:Math.PI*2-C}function b(m,x,g){return g?(m[0]=x[1],m[1]=-1*x[0]):(m[0]=-1*x[1],m[1]=x[0]),m}},43567:function(xt,S,d){"use strict";d.r(S),d.d(S,{mat3:function(){return w},vec2:function(){return O},vec3:function(){return I},ext:function(){return L}});var w=d(35600),O=d(31437),I=d(77160),L=d(31506)},57350:function(xt,S,d){"use strict";d.r(S),d.d(S,{catmullRom2Bezier:function(){return p},fillPath:function(){return g},fillPathByDiff:function(){return B},formatPath:function(){return Z},getArcParams:function(){return fe},getLineIntersect:function(){return rr},isPointInPolygon:function(){return Ar},isPolygonsIntersect:function(){return Si},parsePath:function(){return P},parsePathArray:function(){return st},parsePathString:function(){return yt},path2Absolute:function(){return F},path2Curve:function(){return Tt},path2Segments:function(){return Ae},pathIntersection:function(){return et},reactPath:function(){return X}});var w=d(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,I=/[^\s\,]+/ig;function L(Wt){var Kt=Wt||[];if((0,w.isArray)(Kt))return Kt;if((0,w.isString)(Kt))return Kt=Kt.match(O),(0,w.each)(Kt,function(re,oe){if(re=re.match(I),re[0].length>1){var me=re[0].charAt(0);re.splice(1,0,re[0].substr(1)),re[0]=me}(0,w.each)(re,function(be,we){isNaN(be)||(re[we]=+be)}),Kt[oe]=re}),Kt}var P=L,T=d(31437);function M(Wt,Kt,re,oe){var me=[],be=!!oe,we,Ee,de,Xe,ke,qe,ir;if(be){de=oe[0],Xe=oe[1];for(var er=0,or=Wt.length;er<or;er+=1){var sr=Wt[er];de=T.min([0,0],de,sr),Xe=T.max([0,0],Xe,sr)}}for(var er=0,gr=Wt.length;er<gr;er+=1){var sr=Wt[er];if(er===0&&!re)ir=sr;else if(er===gr-1&&!re)qe=sr,me.push(ir),me.push(qe);else{var Qe=[er?er-1:gr-1,er-1][re?0:1];we=Wt[Qe],Ee=Wt[re?(er+1)%gr:er+1];var wr=[0,0];wr=T.sub(wr,Ee,we),wr=T.scale(wr,wr,Kt);var Ir=T.distance(sr,we),Pr=T.distance(sr,Ee),kr=Ir+Pr;kr!==0&&(Ir/=kr,Pr/=kr);var Hr=T.scale([0,0],wr,-Ir),zr=T.scale([0,0],wr,Pr);qe=T.add([0,0],sr,Hr),ke=T.add([0,0],sr,zr),ke=T.min([0,0],ke,T.max([0,0],Ee,sr)),ke=T.max([0,0],ke,T.min([0,0],Ee,sr)),Hr=T.sub([0,0],ke,sr),Hr=T.scale([0,0],Hr,-Ir/Pr),qe=T.add([0,0],sr,Hr),qe=T.min([0,0],qe,T.max([0,0],we,sr)),qe=T.max([0,0],qe,T.min([0,0],we,sr)),zr=T.sub([0,0],sr,qe),zr=T.scale([0,0],zr,Pr/Ir),ke=T.add([0,0],sr,zr),be&&(qe=T.max([0,0],qe,de),qe=T.min([0,0],qe,Xe),ke=T.max([0,0],ke,de),ke=T.min([0,0],ke,Xe)),me.push(ir),me.push(qe),ir=ke}}return re&&me.push(me.shift()),me}function E(Wt,Kt,re){Kt===void 0&&(Kt=!1),re===void 0&&(re=[[0,0],[1,1]]);for(var oe=!!Kt,me=[],be=0,we=Wt.length;be<we;be+=2)me.push([Wt[be],Wt[be+1]]);for(var Ee=M(me,.4,oe,re),de=me.length,Xe=[],ke,qe,ir,be=0;be<de-1;be+=1)ke=Ee[be*2],qe=Ee[be*2+1],ir=me[be+1],Xe.push(["C",ke[0],ke[1],qe[0],qe[1],ir[0],ir[1]]);return oe&&(ke=Ee[de],qe=Ee[de+1],ir=me[0],Xe.push(["C",ke[0],ke[1],qe[0],qe[1],ir[0],ir[1]])),Xe}var p=E;function b(Wt,Kt){var re=[],oe=[];function me(be,we){if(be.length===1)re.push(be[0]),oe.push(be[0]);else{for(var Ee=[],de=0;de<be.length-1;de++)de===0&&re.push(be[0]),de===be.length-2&&oe.push(be[de+1]),Ee[de]=[(1-we)*be[de][0]+we*be[de+1][0],(1-we)*be[de][1]+we*be[de+1][1]];me(Ee,we)}}return Wt.length&&me(Wt,Kt),{left:re,right:oe.reverse()}}function m(Wt,Kt,re){var oe=[[Wt[1],Wt[2]]];re=re||2;var me=[];Kt[0]==="A"?(oe.push(Kt[6]),oe.push(Kt[7])):Kt[0]==="C"?(oe.push([Kt[1],Kt[2]]),oe.push([Kt[3],Kt[4]]),oe.push([Kt[5],Kt[6]])):Kt[0]==="S"||Kt[0]==="Q"?(oe.push([Kt[1],Kt[2]]),oe.push([Kt[3],Kt[4]])):oe.push([Kt[1],Kt[2]]);for(var be=oe,we=1/re,Ee=0;Ee<re-1;Ee++){var de=we/(1-we*Ee),Xe=b(be,de);me.push(Xe.left),be=Xe.right}me.push(be);var ke=me.map(function(qe){var ir=[];return qe.length===4&&(ir.push("C"),ir=ir.concat(qe[2])),qe.length>=3&&(qe.length===3&&ir.push("Q"),ir=ir.concat(qe[1])),qe.length===2&&ir.push("L"),ir=ir.concat(qe[qe.length-1]),ir});return ke}function x(Wt,Kt,re){if(re===1)return[[].concat(Wt)];var oe=[];if(Kt[0]==="L"||Kt[0]==="C"||Kt[0]==="Q")oe=oe.concat(m(Wt,Kt,re));else{var me=[].concat(Wt);me[0]==="M"&&(me[0]="L");for(var be=0;be<=re-1;be++)oe.push(me)}return oe}function g(Wt,Kt){if(Wt.length===1)return Wt;var re=Wt.length-1,oe=Kt.length-1,me=re/oe,be=[];if(Wt.length===1&&Wt[0][0]==="M"){for(var we=0;we<oe-re;we++)Wt.push(Wt[0]);return Wt}for(var we=0;we<oe;we++){var Ee=Math.floor(me*we);be[Ee]=(be[Ee]||0)+1}var de=be.reduce(function(Xe,ke,qe){return qe===re?Xe.concat(Wt[re]):Xe.concat(x(Wt[qe],Wt[qe+1],ke))},[]);return de.unshift(Wt[0]),(Kt[oe]==="Z"||Kt[oe]==="z")&&de.push("Z"),de}function C(Wt,Kt,re){var oe=null,me=re;return Kt<me&&(me=Kt,oe="add"),Wt<me&&(me=Wt,oe="del"),{type:oe,min:me}}var _=function(Wt,Kt){var re=Wt.length,oe=Kt.length,me,be,we=0;if(re===0||oe===0)return null;for(var Ee=[],de=0;de<=re;de++)Ee[de]=[],Ee[de][0]={min:de};for(var Xe=0;Xe<=oe;Xe++)Ee[0][Xe]={min:Xe};for(var de=1;de<=re;de++){me=Wt[de-1];for(var Xe=1;Xe<=oe;Xe++){be=Kt[Xe-1],(0,w.isEqual)(me,be)?we=0:we=1;var ke=Ee[de-1][Xe].min+1,qe=Ee[de][Xe-1].min+1,ir=Ee[de-1][Xe-1].min+we;Ee[de][Xe]=C(ke,qe,ir)}}return Ee};function B(Wt,Kt){var re=_(Wt,Kt),oe=Wt.length,me=Kt.length,be=[],we=1,Ee=1;if(re[oe][me]!==oe){for(var de=1;de<=oe;de++){var Xe=re[de][de].min;Ee=de;for(var ke=we;ke<=me;ke++)re[de][ke].min<Xe&&(Xe=re[de][ke].min,Ee=ke);we=Ee,re[de][we].type&&be.push({index:de-1,type:re[de][we].type})}for(var de=be.length-1;de>=0;de--)we=be[de].index,be[de].type==="add"?Wt.splice(we,0,[].concat(Wt[we])):Wt.splice(we,1)}if(oe=Wt.length,oe<me)for(var de=0;de<me-oe;de++)Wt[oe-1][0]==="z"||Wt[oe-1][0]==="Z"?Wt.splice(oe-2,0,Wt[oe-2]):Wt.push(Wt[oe-1]);return Wt}function D(Wt){var Kt=[];switch(Wt[0]){case"M":Kt.push([Wt[1],Wt[2]]);break;case"L":Kt.push([Wt[1],Wt[2]]);break;case"A":Kt.push([Wt[6],Wt[7]]);break;case"Q":Kt.push([Wt[3],Wt[4]]),Kt.push([Wt[1],Wt[2]]);break;case"T":Kt.push([Wt[1],Wt[2]]);break;case"C":Kt.push([Wt[5],Wt[6]]),Kt.push([Wt[1],Wt[2]]),Kt.push([Wt[3],Wt[4]]);break;case"S":Kt.push([Wt[3],Wt[4]]),Kt.push([Wt[1],Wt[2]]);break;case"H":Kt.push([Wt[1],Wt[1]]);break;case"V":Kt.push([Wt[1],Wt[1]]);break;default:}return Kt}function W(Wt,Kt,re){for(var oe=[].concat(Wt),me,be=1/(re+1),we=D(Kt)[0],Ee=1;Ee<=re;Ee++)be*=Ee,me=Math.floor(Wt.length*be),me===0?oe.unshift([we[0]*be+Wt[me][0]*(1-be),we[1]*be+Wt[me][1]*(1-be)]):oe.splice(me,0,[we[0]*be+Wt[me][0]*(1-be),we[1]*be+Wt[me][1]*(1-be)]);return oe}function Z(Wt,Kt){if(Wt.length<=1)return Wt;for(var re,oe=0;oe<Kt.length;oe++)if(Wt[oe][0]!==Kt[oe][0])switch(re=D(Wt[oe]),Kt[oe][0]){case"M":Wt[oe]=["M"].concat(re[0]);break;case"L":Wt[oe]=["L"].concat(re[0]);break;case"A":Wt[oe]=[].concat(Kt[oe]),Wt[oe][6]=re[0][0],Wt[oe][7]=re[0][1];break;case"Q":if(re.length<2)if(oe>0)re=W(re,Wt[oe-1],1);else{Wt[oe]=Kt[oe];break}Wt[oe]=["Q"].concat(re.reduce(function(me,be){return me.concat(be)},[]));break;case"T":Wt[oe]=["T"].concat(re[0]);break;case"C":if(re.length<3)if(oe>0)re=W(re,Wt[oe-1],2);else{Wt[oe]=Kt[oe];break}Wt[oe]=["C"].concat(re.reduce(function(me,be){return me.concat(be)},[]));break;case"S":if(re.length<2)if(oe>0)re=W(re,Wt[oe-1],1);else{Wt[oe]=Kt[oe];break}Wt[oe]=["S"].concat(re.reduce(function(me,be){return me.concat(be)},[]));break;default:Wt[oe]=Kt[oe]}return Wt}function X(Wt,Kt,re,oe,me){return me?[["M",+Wt+ +me,Kt],["l",re-me*2,0],["a",me,me,0,0,1,me,me],["l",0,oe-me*2],["a",me,me,0,0,1,-me,me],["l",me*2-re,0],["a",me,me,0,0,1,-me,-me],["l",0,me*2-oe],["a",me,me,0,0,1,me,-me],["z"]]:[["M",Wt,Kt],["l",re,0],["l",0,oe],["l",-re,0],["z"]]}var j=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,it=new RegExp("([a-z])["+j+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+j+"]*,?["+j+"]*)+)","ig"),tt=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+j+"]*,?["+j+"]*","ig");function yt(Wt){if(!Wt)return null;if((0,w.isArray)(Wt))return Wt;var Kt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},re=[];return String(Wt).replace(it,function(oe,me,be){var we=[],Ee=me.toLowerCase();if(be.replace(tt,function(de,Xe){Xe&&we.push(+Xe)}),Ee==="m"&&we.length>2&&(re.push([me].concat(we.splice(0,2))),Ee="l",me=me==="m"?"l":"L"),Ee==="o"&&we.length===1&&re.push([me,we[0]]),Ee==="r")re.push([me].concat(we));else for(;we.length>=Kt[Ee]&&(re.push([me].concat(we.splice(0,Kt[Ee]))),!!Kt[Ee]););return""}),re}var dt=/[a-z]/;function Ct(Wt,Kt){return[Kt[0]+(Kt[0]-Wt[0]),Kt[1]+(Kt[1]-Wt[1])]}function F(Wt){var Kt=yt(Wt);if(!Kt||!Kt.length)return[["M",0,0]];for(var re=!1,oe=0;oe<Kt.length;oe++){var me=Kt[oe][0];if(dt.test(me)||["V","H","T","S"].indexOf(me)>=0){re=!0;break}}if(!re)return Kt;var be=[],we=0,Ee=0,de=0,Xe=0,ke=0,qe,ir,er=Kt[0];(er[0]==="M"||er[0]==="m")&&(we=+er[1],Ee=+er[2],de=we,Xe=Ee,ke++,be[0]=["M",we,Ee]);for(var oe=ke,or=Kt.length;oe<or;oe++){var sr=Kt[oe],gr=be[oe-1],Qe=[],me=sr[0],wr=me.toUpperCase();if(me!==wr)switch(Qe[0]=wr,wr){case"A":Qe[1]=sr[1],Qe[2]=sr[2],Qe[3]=sr[3],Qe[4]=sr[4],Qe[5]=sr[5],Qe[6]=+sr[6]+we,Qe[7]=+sr[7]+Ee;break;case"V":Qe[1]=+sr[1]+Ee;break;case"H":Qe[1]=+sr[1]+we;break;case"M":de=+sr[1]+we,Xe=+sr[2]+Ee,Qe[1]=de,Qe[2]=Xe;break;default:for(var Ir=1,Pr=sr.length;Ir<Pr;Ir++)Qe[Ir]=+sr[Ir]+(Ir%2?we:Ee)}else Qe=Kt[oe];switch(wr){case"Z":we=+de,Ee=+Xe;break;case"H":we=Qe[1],Qe=["L",we,Ee];break;case"V":Ee=Qe[1],Qe=["L",we,Ee];break;case"T":we=Qe[1],Ee=Qe[2];var kr=Ct([gr[1],gr[2]],[gr[3],gr[4]]);Qe=["Q",kr[0],kr[1],we,Ee];break;case"S":we=Qe[Qe.length-2],Ee=Qe[Qe.length-1];var Hr=gr.length,zr=Ct([gr[Hr-4],gr[Hr-3]],[gr[Hr-2],gr[Hr-1]]);Qe=["C",zr[0],zr[1],Qe[1],Qe[2],we,Ee];break;case"M":de=Qe[Qe.length-2],Xe=Qe[Qe.length-1];break;default:we=Qe[Qe.length-2],Ee=Qe[Qe.length-1]}be.push(Qe)}return be}var z=Math.PI*2,G=function(Wt,Kt,re,oe,me,be,we){var Ee=Wt.x,de=Wt.y;Ee*=Kt,de*=re;var Xe=oe*Ee-me*de,ke=me*Ee+oe*de;return{x:Xe+be,y:ke+we}},Y=function(Wt,Kt){var re=Kt===1.5707963267948966?.551915024494:Kt===-1.5707963267948966?-.551915024494:4/3*Math.tan(Kt/4),oe=Math.cos(Wt),me=Math.sin(Wt),be=Math.cos(Wt+Kt),we=Math.sin(Wt+Kt);return[{x:oe-me*re,y:me+oe*re},{x:be+we*re,y:we-be*re},{x:be,y:we}]},q=function(Wt,Kt,re,oe){var me=Wt*oe-Kt*re<0?-1:1,be=Wt*re+Kt*oe;return be>1&&(be=1),be<-1&&(be=-1),me*Math.acos(be)},$=function(Wt,Kt,re,oe,me,be,we,Ee,de,Xe,ke,qe){var ir=Math.pow(me,2),er=Math.pow(be,2),or=Math.pow(ke,2),sr=Math.pow(qe,2),gr=ir*er-ir*sr-er*or;gr<0&&(gr=0),gr/=ir*sr+er*or,gr=Math.sqrt(gr)*(we===Ee?-1:1);var Qe=gr*me/be*qe,wr=gr*-be/me*ke,Ir=Xe*Qe-de*wr+(Wt+re)/2,Pr=de*Qe+Xe*wr+(Kt+oe)/2,kr=(ke-Qe)/me,Hr=(qe-wr)/be,zr=(-ke-Qe)/me,Nn=(-qe-wr)/be,tn=q(1,0,kr,Hr),zn=q(kr,Hr,zr,Nn);return Ee===0&&zn>0&&(zn-=z),Ee===1&&zn<0&&(zn+=z),[Ir,Pr,tn,zn]},J=function(Wt){var Kt=Wt.px,re=Wt.py,oe=Wt.cx,me=Wt.cy,be=Wt.rx,we=Wt.ry,Ee=Wt.xAxisRotation,de=Ee===void 0?0:Ee,Xe=Wt.largeArcFlag,ke=Xe===void 0?0:Xe,qe=Wt.sweepFlag,ir=qe===void 0?0:qe,er=[];if(be===0||we===0)return[{x1:0,y1:0,x2:0,y2:0,x:oe,y:me}];var or=Math.sin(de*z/360),sr=Math.cos(de*z/360),gr=sr*(Kt-oe)/2+or*(re-me)/2,Qe=-or*(Kt-oe)/2+sr*(re-me)/2;if(gr===0&&Qe===0)return[{x1:0,y1:0,x2:0,y2:0,x:oe,y:me}];be=Math.abs(be),we=Math.abs(we);var wr=Math.pow(gr,2)/Math.pow(be,2)+Math.pow(Qe,2)/Math.pow(we,2);wr>1&&(be*=Math.sqrt(wr),we*=Math.sqrt(wr));var Ir=$(Kt,re,oe,me,be,we,ke,ir,or,sr,gr,Qe),Pr=Ir[0],kr=Ir[1],Hr=Ir[2],zr=Ir[3],Nn=Math.abs(zr)/(z/4);Math.abs(1-Nn)<1e-7&&(Nn=1);var tn=Math.max(Math.ceil(Nn),1);zr/=tn;for(var zn=0;zn<tn;zn++)er.push(Y(Hr,zr)),Hr+=zr;return er.map(function(ai){var Qn=G(ai[0],be,we,sr,or,Pr,kr),Ri=Qn.x,Vi=Qn.y,Mr=G(ai[1],be,we,sr,or,Pr,kr),ui=Mr.x,fi=Mr.y,ti=G(ai[2],be,we,sr,or,Pr,kr),Sn=ti.x,hi=ti.y;return{x1:Ri,y1:Vi,x2:ui,y2:fi,x:Sn,y:hi}})};function U(Wt,Kt,re,oe,me,be,we,Ee,de){var Xe=J({px:Wt,py:Kt,cx:Ee,cy:de,rx:re,ry:oe,xAxisRotation:me,largeArcFlag:be,sweepFlag:we});return Xe.reduce(function(ke,qe){var ir=qe.x1,er=qe.y1,or=qe.x2,sr=qe.y2,gr=qe.x,Qe=qe.y;return ke.push(ir,er,or,sr,gr,Qe),ke},[])}function K(Wt,Kt,re,oe,me,be){var we=1/3,Ee=2/3;return[we*Wt+Ee*re,we*Kt+Ee*oe,we*me+Ee*re,we*be+Ee*oe,me,be]}function f(Wt,Kt,re,oe){return[Wt,Kt,re,oe,re,oe]}function mt(Wt,Kt){"TQ".indexOf(Wt[0])<0&&(Kt.qx=null,Kt.qy=null);var re=Wt.slice(1),oe=re[0],me=re[1];switch(Wt[0]){case"M":return Kt.x=oe,Kt.y=me,Wt;case"A":return["C"].concat(U.apply(0,[Kt.x1,Kt.y1].concat(Wt.slice(1))));case"Q":return Kt.qx=oe,Kt.qy=me,["C"].concat(K.apply(0,[Kt.x1,Kt.y1].concat(Wt.slice(1))));case"L":return["C"].concat(f(Kt.x1,Kt.y1,Wt[1],Wt[2]));case"H":return["C"].concat(f(Kt.x1,Kt.y1,Wt[1],Kt.y1));case"V":return["C"].concat(f(Kt.x1,Kt.y1,Kt.x1,Wt[1]));case"Z":return["C"].concat(f(Kt.x1,Kt.y1,Kt.x,Kt.y));default:}return Wt}function Tt(Wt,Kt){Kt===void 0&&(Kt=!1);for(var re=F(Wt),oe={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},me=[],be="",we=re.length,Ee,de,Xe=[],ke=0;ke<we;ke+=1)re[ke]&&(be=re[ke][0]),me[ke]=be,re[ke]=mt(re[ke],oe),at(re,me,ke),we=re.length,be==="Z"&&Xe.push(ke),Ee=re[ke],de=Ee.length,oe.x1=+Ee[de-2],oe.y1=+Ee[de-1],oe.x2=+Ee[de-4]||oe.x1,oe.y2=+Ee[de-3]||oe.y1;return Kt?[re,Xe]:re}function at(Wt,Kt,re){if(Wt[re].length>7){Wt[re].shift();for(var oe=Wt[re],me=re;oe.length;)Kt[re]="A",Wt.splice(me+=1,0,["C"].concat(oe.splice(0,6)));Wt.splice(re,1)}}var Pt=function(Wt,Kt,re,oe,me){var be=-3*Kt+9*re-9*oe+3*me,we=Wt*be+6*Kt-12*re+6*oe;return Wt*we-3*Kt+3*re},wt=function(Wt,Kt,re,oe,me,be,we,Ee,de){de===null&&(de=1),de=de>1?1:de<0?0:de;for(var Xe=de/2,ke=12,qe=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],ir=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],er=0,or=0;or<ke;or++){var sr=Xe*qe[or]+Xe,gr=Pt(sr,Wt,re,me,we),Qe=Pt(sr,Kt,oe,be,Ee),wr=gr*gr+Qe*Qe;er+=ir[or]*Math.sqrt(wr)}return Xe*er},Et=function(Wt,Kt,re,oe,me,be,we,Ee){for(var de=[],Xe=[[],[]],ke,qe,ir,er,or=0;or<2;++or){if(or===0?(qe=6*Wt-12*re+6*me,ke=-3*Wt+9*re-9*me+3*we,ir=3*re-3*Wt):(qe=6*Kt-12*oe+6*be,ke=-3*Kt+9*oe-9*be+3*Ee,ir=3*oe-3*Kt),Math.abs(ke)<1e-12){if(Math.abs(qe)<1e-12)continue;er=-ir/qe,er>0&&er<1&&de.push(er);continue}var sr=qe*qe-4*ir*ke,gr=Math.sqrt(sr);if(!(sr<0)){var Qe=(-qe+gr)/(2*ke);Qe>0&&Qe<1&&de.push(Qe);var wr=(-qe-gr)/(2*ke);wr>0&&wr<1&&de.push(wr)}}for(var Ir=de.length,Pr=Ir,kr;Ir--;)er=de[Ir],kr=1-er,Xe[0][Ir]=kr*kr*kr*Wt+3*kr*kr*er*re+3*kr*er*er*me+er*er*er*we,Xe[1][Ir]=kr*kr*kr*Kt+3*kr*kr*er*oe+3*kr*er*er*be+er*er*er*Ee;return Xe[0][Pr]=Wt,Xe[1][Pr]=Kt,Xe[0][Pr+1]=we,Xe[1][Pr+1]=Ee,Xe[0].length=Xe[1].length=Pr+2,{min:{x:Math.min.apply(0,Xe[0]),y:Math.min.apply(0,Xe[1])},max:{x:Math.max.apply(0,Xe[0]),y:Math.max.apply(0,Xe[1])}}},Rt=function(Wt,Kt,re,oe,me,be,we,Ee){if(!(Math.max(Wt,re)<Math.min(me,we)||Math.min(Wt,re)>Math.max(me,we)||Math.max(Kt,oe)<Math.min(be,Ee)||Math.min(Kt,oe)>Math.max(be,Ee))){var de=(Wt*oe-Kt*re)*(me-we)-(Wt-re)*(me*Ee-be*we),Xe=(Wt*oe-Kt*re)*(be-Ee)-(Kt-oe)*(me*Ee-be*we),ke=(Wt-re)*(be-Ee)-(Kt-oe)*(me-we);if(!!ke){var qe=de/ke,ir=Xe/ke,er=+qe.toFixed(2),or=+ir.toFixed(2);if(!(er<+Math.min(Wt,re).toFixed(2)||er>+Math.max(Wt,re).toFixed(2)||er<+Math.min(me,we).toFixed(2)||er>+Math.max(me,we).toFixed(2)||or<+Math.min(Kt,oe).toFixed(2)||or>+Math.max(Kt,oe).toFixed(2)||or<+Math.min(be,Ee).toFixed(2)||or>+Math.max(be,Ee).toFixed(2)))return{x:qe,y:ir}}}},Nt=function(Wt,Kt,re){return Kt>=Wt.x&&Kt<=Wt.x+Wt.width&&re>=Wt.y&&re<=Wt.y+Wt.height},kt=function(Wt,Kt,re,oe){return Wt===null&&(Wt=Kt=re=oe=0),Kt===null&&(Kt=Wt.y,re=Wt.width,oe=Wt.height,Wt=Wt.x),{x:Wt,y:Kt,width:re,w:re,height:oe,h:oe,x2:Wt+re,y2:Kt+oe,cx:Wt+re/2,cy:Kt+oe/2,r1:Math.min(re,oe)/2,r2:Math.max(re,oe)/2,r0:Math.sqrt(re*re+oe*oe)/2,path:X(Wt,Kt,re,oe),vb:[Wt,Kt,re,oe].join(" ")}},_t=function(Wt,Kt){return Wt=kt(Wt),Kt=kt(Kt),Nt(Kt,Wt.x,Wt.y)||Nt(Kt,Wt.x2,Wt.y)||Nt(Kt,Wt.x,Wt.y2)||Nt(Kt,Wt.x2,Wt.y2)||Nt(Wt,Kt.x,Kt.y)||Nt(Wt,Kt.x2,Kt.y)||Nt(Wt,Kt.x,Kt.y2)||Nt(Wt,Kt.x2,Kt.y2)||(Wt.x<Kt.x2&&Wt.x>Kt.x||Kt.x<Wt.x2&&Kt.x>Wt.x)&&(Wt.y<Kt.y2&&Wt.y>Kt.y||Kt.y<Wt.y2&&Kt.y>Wt.y)},ht=function(Wt,Kt,re,oe,me,be,we,Ee){(0,w.isArray)(Wt)||(Wt=[Wt,Kt,re,oe,me,be,we,Ee]);var de=Et.apply(null,Wt);return kt(de.min.x,de.min.y,de.max.x-de.min.x,de.max.y-de.min.y)},ft=function(Wt,Kt,re,oe,me,be,we,Ee,de){var Xe=1-de,ke=Math.pow(Xe,3),qe=Math.pow(Xe,2),ir=de*de,er=ir*de,or=ke*Wt+qe*3*de*re+Xe*3*de*de*me+er*we,sr=ke*Kt+qe*3*de*oe+Xe*3*de*de*be+er*Ee,gr=Wt+2*de*(re-Wt)+ir*(me-2*re+Wt),Qe=Kt+2*de*(oe-Kt)+ir*(be-2*oe+Kt),wr=re+2*de*(me-re)+ir*(we-2*me+re),Ir=oe+2*de*(be-oe)+ir*(Ee-2*be+oe),Pr=Xe*Wt+de*re,kr=Xe*Kt+de*oe,Hr=Xe*me+de*we,zr=Xe*be+de*Ee,Nn=90-Math.atan2(gr-wr,Qe-Ir)*180/Math.PI;return{x:or,y:sr,m:{x:gr,y:Qe},n:{x:wr,y:Ir},start:{x:Pr,y:kr},end:{x:Hr,y:zr},alpha:Nn}},Mt=function(Wt,Kt,re){var oe=ht(Wt),me=ht(Kt);if(!_t(oe,me))return re?0:[];for(var be=wt.apply(0,Wt),we=wt.apply(0,Kt),Ee=~~(be/8),de=~~(we/8),Xe=[],ke=[],qe={},ir=re?0:[],er=0;er<Ee+1;er++){var or=ft.apply(0,Wt.concat(er/Ee));Xe.push({x:or.x,y:or.y,t:er/Ee})}for(var er=0;er<de+1;er++){var or=ft.apply(0,Kt.concat(er/de));ke.push({x:or.x,y:or.y,t:er/de})}for(var er=0;er<Ee;er++)for(var sr=0;sr<de;sr++){var gr=Xe[er],Qe=Xe[er+1],wr=ke[sr],Ir=ke[sr+1],Pr=Math.abs(Qe.x-gr.x)<.001?"y":"x",kr=Math.abs(Ir.x-wr.x)<.001?"y":"x",Hr=Rt(gr.x,gr.y,Qe.x,Qe.y,wr.x,wr.y,Ir.x,Ir.y);if(Hr){if(qe[Hr.x.toFixed(4)]===Hr.y.toFixed(4))continue;qe[Hr.x.toFixed(4)]=Hr.y.toFixed(4);var zr=gr.t+Math.abs((Hr[Pr]-gr[Pr])/(Qe[Pr]-gr[Pr]))*(Qe.t-gr.t),Nn=wr.t+Math.abs((Hr[kr]-wr[kr])/(Ir[kr]-wr[kr]))*(Ir.t-wr.t);zr>=0&&zr<=1&&Nn>=0&&Nn<=1&&(re?ir++:ir.push({x:Hr.x,y:Hr.y,t1:zr,t2:Nn}))}}return ir},rt=function(Wt,Kt,re){Wt=Tt(Wt),Kt=Tt(Kt);for(var oe,me,be,we,Ee,de,Xe,ke,qe,ir,er=re?0:[],or=0,sr=Wt.length;or<sr;or++){var gr=Wt[or];if(gr[0]==="M")oe=Ee=gr[1],me=de=gr[2];else{gr[0]==="C"?(qe=[oe,me].concat(gr.slice(1)),oe=qe[6],me=qe[7]):(qe=[oe,me,oe,me,Ee,de,Ee,de],oe=Ee,me=de);for(var Qe=0,wr=Kt.length;Qe<wr;Qe++){var Ir=Kt[Qe];if(Ir[0]==="M")be=Xe=Ir[1],we=ke=Ir[2];else{Ir[0]==="C"?(ir=[be,we].concat(Ir.slice(1)),be=ir[6],we=ir[7]):(ir=[be,we,be,we,Xe,ke,Xe,ke],be=Xe,we=ke);var Pr=Mt(qe,ir,re);if(re)er+=Pr;else{for(var kr=0,Hr=Pr.length;kr<Hr;kr++)Pr[kr].segment1=or,Pr[kr].segment2=Qe,Pr[kr].bez1=qe,Pr[kr].bez2=ir;er=er.concat(Pr)}}}}}return er};function et(Wt,Kt){return rt(Wt,Kt)}var lt=/,?([a-z]),?/gi;function st(Wt){return Wt.join(",").replace(lt,"$1")}function At(Wt){return Math.sqrt(Wt[0]*Wt[0]+Wt[1]*Wt[1])}function Ot(Wt,Kt){return At(Wt)*At(Kt)?(Wt[0]*Kt[0]+Wt[1]*Kt[1])/(At(Wt)*At(Kt)):1}function Qt(Wt,Kt){return(Wt[0]*Kt[1]<Wt[1]*Kt[0]?-1:1)*Math.acos(Ot(Wt,Kt))}function ve(Wt,Kt){return Wt[0]===Kt[0]&&Wt[1]===Kt[1]}function fe(Wt,Kt){var re=Kt[1],oe=Kt[2],me=(0,w.mod)((0,w.toRadian)(Kt[3]),Math.PI*2),be=Kt[4],we=Kt[5],Ee=Wt[0],de=Wt[1],Xe=Kt[6],ke=Kt[7],qe=Math.cos(me)*(Ee-Xe)/2+Math.sin(me)*(de-ke)/2,ir=-1*Math.sin(me)*(Ee-Xe)/2+Math.cos(me)*(de-ke)/2,er=qe*qe/(re*re)+ir*ir/(oe*oe);er>1&&(re*=Math.sqrt(er),oe*=Math.sqrt(er));var or=re*re*(ir*ir)+oe*oe*(qe*qe),sr=or?Math.sqrt((re*re*(oe*oe)-or)/or):1;be===we&&(sr*=-1),isNaN(sr)&&(sr=0);var gr=oe?sr*re*ir/oe:0,Qe=re?sr*-oe*qe/re:0,wr=(Ee+Xe)/2+Math.cos(me)*gr-Math.sin(me)*Qe,Ir=(de+ke)/2+Math.sin(me)*gr+Math.cos(me)*Qe,Pr=[(qe-gr)/re,(ir-Qe)/oe],kr=[(-1*qe-gr)/re,(-1*ir-Qe)/oe],Hr=Qt([1,0],Pr),zr=Qt(Pr,kr);return Ot(Pr,kr)<=-1&&(zr=Math.PI),Ot(Pr,kr)>=1&&(zr=0),we===0&&zr>0&&(zr=zr-2*Math.PI),we===1&&zr<0&&(zr=zr+2*Math.PI),{cx:wr,cy:Ir,rx:ve(Wt,[Xe,ke])?0:re,ry:ve(Wt,[Xe,ke])?0:oe,startAngle:Hr,endAngle:Hr+zr,xRotation:me,arcFlag:be,sweepFlag:we}}function ce(Wt,Kt){return[Kt[0]+(Kt[0]-Wt[0]),Kt[1]+(Kt[1]-Wt[1])]}function Ae(Wt){Wt=P(Wt);for(var Kt=[],re=null,oe=null,me=null,be=0,we=Wt.length,Ee=0;Ee<we;Ee++){var de=Wt[Ee];oe=Wt[Ee+1];var Xe=de[0],ke={command:Xe,prePoint:re,params:de,startTangent:null,endTangent:null};switch(Xe){case"M":me=[de[1],de[2]],be=Ee;break;case"A":var qe=fe(re,de);ke.arcParams=qe;break;default:break}if(Xe==="Z")re=me,oe=Wt[be+1];else{var ir=de.length;re=[de[ir-2],de[ir-1]]}oe&&oe[0]==="Z"&&(oe=Wt[be],Kt[be]&&(Kt[be].prePoint=re)),ke.currentPoint=re,Kt[be]&&ve(re,Kt[be].currentPoint)&&(Kt[be].prePoint=ke.prePoint);var er=oe?[oe[oe.length-2],oe[oe.length-1]]:null;ke.nextPoint=er;var or=ke.prePoint;if(["L","H","V"].includes(Xe))ke.startTangent=[or[0]-re[0],or[1]-re[1]],ke.endTangent=[re[0]-or[0],re[1]-or[1]];else if(Xe==="Q"){var sr=[de[1],de[2]];ke.startTangent=[or[0]-sr[0],or[1]-sr[1]],ke.endTangent=[re[0]-sr[0],re[1]-sr[1]]}else if(Xe==="T"){var gr=Kt[Ee-1],sr=ce(gr.currentPoint,or);gr.command==="Q"?(ke.command="Q",ke.startTangent=[or[0]-sr[0],or[1]-sr[1]],ke.endTangent=[re[0]-sr[0],re[1]-sr[1]]):(ke.command="TL",ke.startTangent=[or[0]-re[0],or[1]-re[1]],ke.endTangent=[re[0]-or[0],re[1]-or[1]])}else if(Xe==="C"){var Qe=[de[1],de[2]],wr=[de[3],de[4]];ke.startTangent=[or[0]-Qe[0],or[1]-Qe[1]],ke.endTangent=[re[0]-wr[0],re[1]-wr[1]],ke.startTangent[0]===0&&ke.startTangent[1]===0&&(ke.startTangent=[Qe[0]-wr[0],Qe[1]-wr[1]]),ke.endTangent[0]===0&&ke.endTangent[1]===0&&(ke.endTangent=[wr[0]-Qe[0],wr[1]-Qe[1]])}else if(Xe==="S"){var gr=Kt[Ee-1],Qe=ce(gr.currentPoint,or),wr=[de[1],de[2]];gr.command==="C"?(ke.command="C",ke.startTangent=[or[0]-Qe[0],or[1]-Qe[1]],ke.endTangent=[re[0]-wr[0],re[1]-wr[1]]):(ke.command="SQ",ke.startTangent=[or[0]-wr[0],or[1]-wr[1]],ke.endTangent=[re[0]-wr[0],re[1]-wr[1]])}else if(Xe==="A"){var Ir=.001,Pr=ke.arcParams||{},kr=Pr.cx,Hr=kr===void 0?0:kr,zr=Pr.cy,Nn=zr===void 0?0:zr,tn=Pr.rx,zn=tn===void 0?0:tn,ai=Pr.ry,Qn=ai===void 0?0:ai,Ri=Pr.sweepFlag,Vi=Ri===void 0?0:Ri,Mr=Pr.startAngle,ui=Mr===void 0?0:Mr,fi=Pr.endAngle,ti=fi===void 0?0:fi;Vi===0&&(Ir*=-1);var Sn=zn*Math.cos(ui-Ir)+Hr,hi=Qn*Math.sin(ui-Ir)+Nn;ke.startTangent=[Sn-me[0],hi-me[1]];var Hi=zn*Math.cos(ui+ti+Ir)+Hr,_i=Qn*Math.sin(ui+ti-Ir)+Nn;ke.endTangent=[or[0]-Hi,or[1]-_i]}Kt.push(ke)}return Kt}var De=function(Wt,Kt,re){return Wt>=Kt&&Wt<=re};function rr(Wt,Kt,re,oe){var me=.001,be={x:re.x-Wt.x,y:re.y-Wt.y},we={x:Kt.x-Wt.x,y:Kt.y-Wt.y},Ee={x:oe.x-re.x,y:oe.y-re.y},de=we.x*Ee.y-we.y*Ee.x,Xe=de*de,ke=we.x*we.x+we.y*we.y,qe=Ee.x*Ee.x+Ee.y*Ee.y,ir=null;if(Xe>me*ke*qe){var er=(be.x*Ee.y-be.y*Ee.x)/de,or=(be.x*we.y-be.y*we.x)/de;De(er,0,1)&&De(or,0,1)&&(ir={x:Wt.x+er*we.x,y:Wt.y+er*we.y})}return ir}var Je=1e-6;function Er(Wt){return Math.abs(Wt)<Je?0:Wt<0?-1:1}function Jr(Wt,Kt,re){return(re[0]-Wt[0])*(Kt[1]-Wt[1])==(Kt[0]-Wt[0])*(re[1]-Wt[1])&&Math.min(Wt[0],Kt[0])<=re[0]&&re[0]<=Math.max(Wt[0],Kt[0])&&Math.min(Wt[1],Kt[1])<=re[1]&&re[1]<=Math.max(Wt[1],Kt[1])}function Ar(Wt,Kt,re){var oe=!1,me=Wt.length;if(me<=2)return!1;for(var be=0;be<me;be++){var we=Wt[be],Ee=Wt[(be+1)%me];if(Jr(we,Ee,[Kt,re]))return!0;Er(we[1]-re)>0!=Er(Ee[1]-re)>0&&Er(Kt-(re-we[1])*(we[0]-Ee[0])/(we[1]-Ee[1])-we[0])<0&&(oe=!oe)}return oe}function Qr(Wt){for(var Kt=[],re=Wt.length,oe=0;oe<re-1;oe++){var me=Wt[oe],be=Wt[oe+1];Kt.push({from:{x:me[0],y:me[1]},to:{x:be[0],y:be[1]}})}if(Kt.length>1){var we=Wt[0],Ee=Wt[re-1];Kt.push({from:{x:Ee[0],y:Ee[1]},to:{x:we[0],y:we[1]}})}return Kt}function Un(Wt,Kt){var re=!1;return(0,w.each)(Wt,function(oe){if(rr(oe.from,oe.to,Kt.from,Kt.to))return re=!0,!1}),re}function ii(Wt){var Kt=Wt.map(function(oe){return oe[0]}),re=Wt.map(function(oe){return oe[1]});return{minX:Math.min.apply(null,Kt),maxX:Math.max.apply(null,Kt),minY:Math.min.apply(null,re),maxY:Math.max.apply(null,re)}}function wi(Wt,Kt){return!(Kt.minX>Wt.maxX||Kt.maxX<Wt.minX||Kt.minY>Wt.maxY||Kt.maxY<Wt.minY)}function Si(Wt,Kt){if(Wt.length<2||Kt.length<2)return!1;var re=ii(Wt),oe=ii(Kt);if(!wi(re,oe))return!1;var me=!1;if((0,w.each)(Kt,function(de){if(Ar(Wt,de[0],de[1]))return me=!0,!1}),me||((0,w.each)(Wt,function(de){if(Ar(Kt,de[0],de[1]))return me=!0,!1}),me))return!0;var be=Qr(Wt),we=Qr(Kt),Ee=!1;return(0,w.each)(we,function(de){if(Un(be,de))return Ee=!0,!1}),Ee}},84023:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=void 0;var w=d(49242);function O(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])}function I(M,E){return O(M)*O(E)?(M[0]*E[0]+M[1]*E[1])/(O(M)*O(E)):1}function L(M,E){return(M[0]*E[1]<M[1]*E[0]?-1:1)*Math.acos(I(M,E))}function P(M,E){return M[0]===E[0]&&M[1]===E[1]}S.isSamePoint=P;function T(M,E){var p=E[1],b=E[2],m=(0,w.mod)((0,w.toRadian)(E[3]),Math.PI*2),x=E[4],g=E[5],C=M[0],_=M[1],B=E[6],D=E[7],W=Math.cos(m)*(C-B)/2+Math.sin(m)*(_-D)/2,Z=-1*Math.sin(m)*(C-B)/2+Math.cos(m)*(_-D)/2,X=W*W/(p*p)+Z*Z/(b*b);X>1&&(p*=Math.sqrt(X),b*=Math.sqrt(X));var j=p*p*(Z*Z)+b*b*(W*W),it=j?Math.sqrt((p*p*(b*b)-j)/j):1;x===g&&(it*=-1),isNaN(it)&&(it=0);var tt=b?it*p*Z/b:0,yt=p?it*-b*W/p:0,dt=(C+B)/2+Math.cos(m)*tt-Math.sin(m)*yt,Ct=(_+D)/2+Math.sin(m)*tt+Math.cos(m)*yt,F=[(W-tt)/p,(Z-yt)/b],z=[(-1*W-tt)/p,(-1*Z-yt)/b],G=L([1,0],F),Y=L(F,z);return I(F,z)<=-1&&(Y=Math.PI),I(F,z)>=1&&(Y=0),g===0&&Y>0&&(Y=Y-2*Math.PI),g===1&&Y<0&&(Y=Y+2*Math.PI),{cx:dt,cy:Ct,rx:P(M,[B,D])?0:p,ry:P(M,[B,D])?0:b,startAngle:G,endAngle:G+Y,xRotation:m,arcFlag:x,sweepFlag:g}}S.default=T},21528:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(O,I,L){return O>=I&&O<=L};function w(O,I,L,P){var T=.001,M={x:L.x-O.x,y:L.y-O.y},E={x:I.x-O.x,y:I.y-O.y},p={x:P.x-L.x,y:P.y-L.y},b=E.x*p.y-E.y*p.x,m=b*b,x=E.x*E.x+E.y*E.y,g=p.x*p.x+p.y*p.y,C=null;if(m>T*x*g){var _=(M.x*p.y-M.y*p.x)/b,B=(M.x*E.y-M.y*E.x)/b;d(_,0,1)&&d(B,0,1)&&(C={x:O.x+_*E.x,y:O.y+_*E.y})}return C}S.default=w},70146:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66957),O=d(21528),I=d(49242);function L(p){for(var b=[],m=p.length,x=0;x<m-1;x++){var g=p[x],C=p[x+1];b.push({from:{x:g[0],y:g[1]},to:{x:C[0],y:C[1]}})}if(b.length>1){var _=p[0],B=p[m-1];b.push({from:{x:B[0],y:B[1]},to:{x:_[0],y:_[1]}})}return b}function P(p,b){var m=!1;return(0,I.each)(p,function(x){if((0,O.default)(x.from,x.to,b.from,b.to))return m=!0,!1}),m}function T(p){var b=p.map(function(x){return x[0]}),m=p.map(function(x){return x[1]});return{minX:Math.min.apply(null,b),maxX:Math.max.apply(null,b),minY:Math.min.apply(null,m),maxY:Math.max.apply(null,m)}}function M(p,b){return!(b.minX>p.maxX||b.maxX<p.minX||b.minY>p.maxY||b.maxY<p.minY)}function E(p,b){if(p.length<2||b.length<2)return!1;var m=T(p),x=T(b);if(!M(m,x))return!1;var g=!1;if((0,I.each)(b,function(D){if((0,w.default)(p,D[0],D[1]))return g=!0,!1}),g||((0,I.each)(p,function(D){if((0,w.default)(b,D[0],D[1]))return g=!0,!1}),g))return!0;var C=L(p),_=L(b),B=!1;return(0,I.each)(_,function(D){if(P(C,D))return B=!0,!1}),B}S.default=E},28498:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),O=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,I=new RegExp("([a-z])["+O+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+O+"]*,?["+O+"]*)+)","ig"),L=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+O+"]*,?["+O+"]*","ig");function P(T){if(!T)return null;if((0,w.isArray)(T))return T;var M={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},E=[];return String(T).replace(I,function(p,b,m){var x=[],g=b.toLowerCase();if(m.replace(L,function(C,_){_&&x.push(+_)}),g==="m"&&x.length>2&&(E.push([b].concat(x.splice(0,2))),g="l",b=b==="m"?"l":"L"),g==="o"&&x.length===1&&E.push([b,x[0]]),g==="r")E.push([b].concat(x));else for(;x.length>=M[g]&&(E.push([b].concat(x.splice(0,M[g]))),!!M[g]););return""}),E}S.default=P},80315:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,I=/[^\s\,]+/ig;function L(P){var T=P||[];if((0,w.isArray)(T))return T;if((0,w.isString)(T))return T=T.match(O),(0,w.each)(T,function(M,E){if(M=M.match(I),M[0].length>1){var p=M[0].charAt(0);M.splice(1,0,M[0].substr(1)),M[0]=p}(0,w.each)(M,function(b,m){isNaN(b)||(M[m]=+b)}),T[E]=M}),T}S.default=L},74479:function(xt,S,d){"use strict";var w;w={value:!0};var O=d(28498),I=/[a-z]/;function L(T,M){return[M[0]+(M[0]-T[0]),M[1]+(M[1]-T[1])]}function P(T){var M=(0,O.default)(T);if(!M||!M.length)return[["M",0,0]];for(var E=!1,p=0;p<M.length;p++){var b=M[p][0];if(I.test(b)||["V","H","T","S"].indexOf(b)>=0){E=!0;break}}if(!E)return M;var m=[],x=0,g=0,C=0,_=0,B=0,D,W,Z=M[0];(Z[0]==="M"||Z[0]==="m")&&(x=+Z[1],g=+Z[2],C=x,_=g,B++,m[0]=["M",x,g]);for(var p=B,X=M.length;p<X;p++){var j=M[p],it=m[p-1],tt=[],b=j[0],yt=b.toUpperCase();if(b!==yt)switch(tt[0]=yt,yt){case"A":tt[1]=j[1],tt[2]=j[2],tt[3]=j[3],tt[4]=j[4],tt[5]=j[5],tt[6]=+j[6]+x,tt[7]=+j[7]+g;break;case"V":tt[1]=+j[1]+g;break;case"H":tt[1]=+j[1]+x;break;case"M":C=+j[1]+x,_=+j[2]+g,tt[1]=C,tt[2]=_;break;default:for(var dt=1,Ct=j.length;dt<Ct;dt++)tt[dt]=+j[dt]+(dt%2?x:g)}else tt=M[p];switch(yt){case"Z":x=+C,g=+_;break;case"H":x=tt[1],tt=["L",x,g];break;case"V":g=tt[1],tt=["L",x,g];break;case"T":x=tt[1],g=tt[2];var F=L([it[1],it[2]],[it[3],it[4]]);tt=["Q",F[0],F[1],x,g];break;case"S":x=tt[tt.length-2],g=tt[tt.length-1];var z=it.length,G=L([it[z-4],it[z-3]],[it[z-2],it[z-1]]);tt=["C",G[0],G[1],tt[1],tt[2],x,g];break;case"M":C=tt[tt.length-2],_=tt[tt.length-1];break;default:x=tt[tt.length-2],g=tt[tt.length-1]}m.push(tt)}return m}S.Z=P},49274:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(84023),O=d(84023),I=d(80315);function L(T,M){return[M[0]+(M[0]-T[0]),M[1]+(M[1]-T[1])]}function P(T){T=(0,I.default)(T);for(var M=[],E=null,p=null,b=null,m=0,x=T.length,g=0;g<x;g++){var C=T[g];p=T[g+1];var _=C[0],B={command:_,prePoint:E,params:C,startTangent:null,endTangent:null};switch(_){case"M":b=[C[1],C[2]],m=g;break;case"A":var D=(0,w.default)(E,C);B.arcParams=D;break;default:break}if(_==="Z")E=b,p=T[m+1];else{var W=C.length;E=[C[W-2],C[W-1]]}p&&p[0]==="Z"&&(p=T[m],M[m]&&(M[m].prePoint=E)),B.currentPoint=E,M[m]&&(0,O.isSamePoint)(E,M[m].currentPoint)&&(M[m].prePoint=B.prePoint);var Z=p?[p[p.length-2],p[p.length-1]]:null;B.nextPoint=Z;var X=B.prePoint;if(["L","H","V"].includes(_))B.startTangent=[X[0]-E[0],X[1]-E[1]],B.endTangent=[E[0]-X[0],E[1]-X[1]];else if(_==="Q"){var j=[C[1],C[2]];B.startTangent=[X[0]-j[0],X[1]-j[1]],B.endTangent=[E[0]-j[0],E[1]-j[1]]}else if(_==="T"){var it=M[g-1],j=L(it.currentPoint,X);it.command==="Q"?(B.command="Q",B.startTangent=[X[0]-j[0],X[1]-j[1]],B.endTangent=[E[0]-j[0],E[1]-j[1]]):(B.command="TL",B.startTangent=[X[0]-E[0],X[1]-E[1]],B.endTangent=[E[0]-X[0],E[1]-X[1]])}else if(_==="C"){var tt=[C[1],C[2]],yt=[C[3],C[4]];B.startTangent=[X[0]-tt[0],X[1]-tt[1]],B.endTangent=[E[0]-yt[0],E[1]-yt[1]],B.startTangent[0]===0&&B.startTangent[1]===0&&(B.startTangent=[tt[0]-yt[0],tt[1]-yt[1]]),B.endTangent[0]===0&&B.endTangent[1]===0&&(B.endTangent=[yt[0]-tt[0],yt[1]-tt[1]])}else if(_==="S"){var it=M[g-1],tt=L(it.currentPoint,X),yt=[C[1],C[2]];it.command==="C"?(B.command="C",B.startTangent=[X[0]-tt[0],X[1]-tt[1]],B.endTangent=[E[0]-yt[0],E[1]-yt[1]]):(B.command="SQ",B.startTangent=[X[0]-yt[0],X[1]-yt[1]],B.endTangent=[E[0]-yt[0],E[1]-yt[1]])}else if(_==="A"){var dt=.001,Ct=B.arcParams||{},F=Ct.cx,z=F===void 0?0:F,G=Ct.cy,Y=G===void 0?0:G,q=Ct.rx,$=q===void 0?0:q,J=Ct.ry,U=J===void 0?0:J,K=Ct.sweepFlag,f=K===void 0?0:K,mt=Ct.startAngle,Tt=mt===void 0?0:mt,at=Ct.endAngle,Pt=at===void 0?0:at;f===0&&(dt*=-1);var wt=$*Math.cos(Tt-dt)+z,Et=U*Math.sin(Tt-dt)+Y;B.startTangent=[wt-b[0],Et-b[1]];var Rt=$*Math.cos(Tt+Pt+dt)+z,Nt=U*Math.sin(Tt+Pt-dt)+Y;B.endTangent=[X[0]-Rt,X[1]-Nt]}M.push(B)}return M}S.default=P},66957:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-6;function w(L){return Math.abs(L)<d?0:L<0?-1:1}function O(L,P,T){return(T[0]-L[0])*(P[1]-L[1])==(P[0]-L[0])*(T[1]-L[1])&&Math.min(L[0],P[0])<=T[0]&&T[0]<=Math.max(L[0],P[0])&&Math.min(L[1],P[1])<=T[1]&&T[1]<=Math.max(L[1],P[1])}function I(L,P,T){var M=!1,E=L.length;if(E<=2)return!1;for(var p=0;p<E;p++){var b=L[p],m=L[(p+1)%E];if(O(b,m,[P,T]))return!0;w(b[1]-T)>0!=w(m[1]-T)>0&&w(P-(T-b[1])*(b[0]-m[0])/(b[1]-m[1])-b[0])<0&&(M=!M)}return M}S.default=I},72469:function(xt,S,d){"use strict";d.r(S),d.d(S,{Category:function(){return b},Identity:function(){return de},Linear:function(){return Ae},Log:function(){return Qr},Pow:function(){return ii},Quantile:function(){return oe},Quantize:function(){return Kt},Scale:function(){return M},Time:function(){return Si},TimeCat:function(){return Qt},getScale:function(){return be},getTickMethod:function(){return L},registerScale:function(){return we},registerTickMethod:function(){return P}});var w={};d.r(w),d.d(w,{assign:function(){return X},default:function(){return Et},defaultI18n:function(){return dt},format:function(){return at},parse:function(){return Pt},setGlobalDateI18n:function(){return F},setGlobalDateMasks:function(){return Tt}});var O=d(49242),I={};function L(Yt){return I[Yt]}function P(Yt,Zt){I[Yt]=Zt}var T=function(){function Yt(Zt){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=Zt,this.initCfg(),this.init()}return Yt.prototype.translate=function(Zt){return Zt},Yt.prototype.change=function(Zt){(0,O.assign)(this.__cfg__,Zt),this.init()},Yt.prototype.clone=function(){return this.constructor(this.__cfg__)},Yt.prototype.getTicks=function(){var Zt=this;return(0,O.map)(this.ticks,function(Jt,ge){return(0,O.isObject)(Jt)?Jt:{text:Zt.getText(Jt,ge),tickValue:Jt,value:Zt.scale(Jt)}})},Yt.prototype.getText=function(Zt,Jt){var ge=this.formatter,ye=ge?ge(Zt,Jt):Zt;return(0,O.isNil)(ye)||!(0,O.isFunction)(ye.toString)?"":ye.toString()},Yt.prototype.getConfig=function(Zt){return this.__cfg__[Zt]},Yt.prototype.init=function(){(0,O.assign)(this,this.__cfg__),this.setDomain(),(0,O.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},Yt.prototype.initCfg=function(){},Yt.prototype.setDomain=function(){},Yt.prototype.calculateTicks=function(){var Zt=this.tickMethod,Jt=[];if((0,O.isString)(Zt)){var ge=L(Zt);if(!ge)throw new Error("There is no method to to calculate ticks!");Jt=ge(this)}else(0,O.isFunction)(Zt)&&(Jt=Zt(this));return Jt},Yt.prototype.rangeMin=function(){return this.range[0]},Yt.prototype.rangeMax=function(){return this.range[1]},Yt.prototype.calcPercent=function(Zt,Jt,ge){return(0,O.isNumber)(Zt)?(Zt-Jt)/(ge-Jt):NaN},Yt.prototype.calcValue=function(Zt,Jt,ge){return Jt+Zt*(ge-Jt)},Yt}(),M=T,E=d(70655),p=function(Yt){(0,E.__extends)(Zt,Yt);function Zt(){var Jt=Yt!==null&&Yt.apply(this,arguments)||this;return Jt.type="cat",Jt.isCategory=!0,Jt}return Zt.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var Jt=0;Jt<this.values.length;Jt++)this.translateIndexMap.set(this.values[Jt],Jt)}},Zt.prototype.translate=function(Jt){this.buildIndexMap();var ge=this.translateIndexMap.get(Jt);return ge===void 0&&(ge=(0,O.isNumber)(Jt)?Jt:NaN),ge},Zt.prototype.scale=function(Jt){var ge=this.translate(Jt),ye=this.calcPercent(ge,this.min,this.max);return this.calcValue(ye,this.rangeMin(),this.rangeMax())},Zt.prototype.invert=function(Jt){var ge=this.max-this.min,ye=this.calcPercent(Jt,this.rangeMin(),this.rangeMax()),Ce=Math.round(ge*ye)+this.min;return Ce<this.min||Ce>this.max?NaN:this.values[Ce]},Zt.prototype.getText=function(Jt){for(var ge=[],ye=1;ye<arguments.length;ye++)ge[ye-1]=arguments[ye];var Ce=Jt;return(0,O.isNumber)(Jt)&&!this.values.includes(Jt)&&(Ce=this.values[Ce]),Yt.prototype.getText.apply(this,(0,E.__spreadArray)([Ce],ge,!1))},Zt.prototype.initCfg=function(){this.tickMethod="cat"},Zt.prototype.setDomain=function(){if((0,O.isNil)(this.getConfig("min"))&&(this.min=0),(0,O.isNil)(this.getConfig("max"))){var Jt=this.values.length;this.max=Jt>1?Jt-1:Jt}this.translateIndexMap&&(this.translateIndexMap=void 0)},Zt}(M),b=p,m=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,x="[1-9]\\d?",g="\\d\\d",C="\\d{3}",_="\\d{4}",B="[^\\s]+",D=/\[([^]*?)\]/gm;function W(Yt,Zt){for(var Jt=[],ge=0,ye=Yt.length;ge<ye;ge++)Jt.push(Yt[ge].substr(0,Zt));return Jt}var Z=function(Yt){return function(Zt,Jt){var ge=Jt[Yt].map(function(Ce){return Ce.toLowerCase()}),ye=ge.indexOf(Zt.toLowerCase());return ye>-1?ye:null}};function X(Yt){for(var Zt=[],Jt=1;Jt<arguments.length;Jt++)Zt[Jt-1]=arguments[Jt];for(var ge=0,ye=Zt;ge<ye.length;ge++){var Ce=ye[ge];for(var We in Ce)Yt[We]=Ce[We]}return Yt}var j=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],it=["January","February","March","April","May","June","July","August","September","October","November","December"],tt=W(it,3),yt=W(j,3),dt={dayNamesShort:yt,dayNames:j,monthNamesShort:tt,monthNames:it,amPm:["am","pm"],DoFn:function(Yt){return Yt+["th","st","nd","rd"][Yt%10>3?0:(Yt-Yt%10!=10?1:0)*Yt%10]}},Ct=X({},dt),F=function(Yt){return Ct=X(Ct,Yt)},z=function(Yt){return Yt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},G=function(Yt,Zt){for(Zt===void 0&&(Zt=2),Yt=String(Yt);Yt.length<Zt;)Yt="0"+Yt;return Yt},Y={D:function(Yt){return String(Yt.getDate())},DD:function(Yt){return G(Yt.getDate())},Do:function(Yt,Zt){return Zt.DoFn(Yt.getDate())},d:function(Yt){return String(Yt.getDay())},dd:function(Yt){return G(Yt.getDay())},ddd:function(Yt,Zt){return Zt.dayNamesShort[Yt.getDay()]},dddd:function(Yt,Zt){return Zt.dayNames[Yt.getDay()]},M:function(Yt){return String(Yt.getMonth()+1)},MM:function(Yt){return G(Yt.getMonth()+1)},MMM:function(Yt,Zt){return Zt.monthNamesShort[Yt.getMonth()]},MMMM:function(Yt,Zt){return Zt.monthNames[Yt.getMonth()]},YY:function(Yt){return G(String(Yt.getFullYear()),4).substr(2)},YYYY:function(Yt){return G(Yt.getFullYear(),4)},h:function(Yt){return String(Yt.getHours()%12||12)},hh:function(Yt){return G(Yt.getHours()%12||12)},H:function(Yt){return String(Yt.getHours())},HH:function(Yt){return G(Yt.getHours())},m:function(Yt){return String(Yt.getMinutes())},mm:function(Yt){return G(Yt.getMinutes())},s:function(Yt){return String(Yt.getSeconds())},ss:function(Yt){return G(Yt.getSeconds())},S:function(Yt){return String(Math.round(Yt.getMilliseconds()/100))},SS:function(Yt){return G(Math.round(Yt.getMilliseconds()/10),2)},SSS:function(Yt){return G(Yt.getMilliseconds(),3)},a:function(Yt,Zt){return Yt.getHours()<12?Zt.amPm[0]:Zt.amPm[1]},A:function(Yt,Zt){return Yt.getHours()<12?Zt.amPm[0].toUpperCase():Zt.amPm[1].toUpperCase()},ZZ:function(Yt){var Zt=Yt.getTimezoneOffset();return(Zt>0?"-":"+")+G(Math.floor(Math.abs(Zt)/60)*100+Math.abs(Zt)%60,4)},Z:function(Yt){var Zt=Yt.getTimezoneOffset();return(Zt>0?"-":"+")+G(Math.floor(Math.abs(Zt)/60),2)+":"+G(Math.abs(Zt)%60,2)}},q=function(Yt){return+Yt-1},$=[null,x],J=[null,B],U=["isPm",B,function(Yt,Zt){var Jt=Yt.toLowerCase();return Jt===Zt.amPm[0]?0:Jt===Zt.amPm[1]?1:null}],K=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(Yt){var Zt=(Yt+"").match(/([+-]|\d\d)/gi);if(Zt){var Jt=+Zt[1]*60+parseInt(Zt[2],10);return Zt[0]==="+"?Jt:-Jt}return 0}],f={D:["day",x],DD:["day",g],Do:["day",x+B,function(Yt){return parseInt(Yt,10)}],M:["month",x,q],MM:["month",g,q],YY:["year",g,function(Yt){var Zt=new Date,Jt=+(""+Zt.getFullYear()).substr(0,2);return+(""+(+Yt>68?Jt-1:Jt)+Yt)}],h:["hour",x,void 0,"isPm"],hh:["hour",g,void 0,"isPm"],H:["hour",x],HH:["hour",g],m:["minute",x],mm:["minute",g],s:["second",x],ss:["second",g],YYYY:["year",_],S:["millisecond","\\d",function(Yt){return+Yt*100}],SS:["millisecond",g,function(Yt){return+Yt*10}],SSS:["millisecond",C],d:$,dd:$,ddd:J,dddd:J,MMM:["month",B,Z("monthNamesShort")],MMMM:["month",B,Z("monthNames")],a:U,A:U,ZZ:K,Z:K},mt={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Tt=function(Yt){return X(mt,Yt)},at=function(Yt,Zt,Jt){if(Zt===void 0&&(Zt=mt.default),Jt===void 0&&(Jt={}),typeof Yt=="number"&&(Yt=new Date(Yt)),Object.prototype.toString.call(Yt)!=="[object Date]"||isNaN(Yt.getTime()))throw new Error("Invalid Date pass to format");Zt=mt[Zt]||Zt;var ge=[];Zt=Zt.replace(D,function(Ce,We){return ge.push(We),"@@@"});var ye=X(X({},Ct),Jt);return Zt=Zt.replace(m,function(Ce){return Y[Ce](Yt,ye)}),Zt.replace(/@@@/g,function(){return ge.shift()})};function Pt(Yt,Zt,Jt){if(Jt===void 0&&(Jt={}),typeof Zt!="string")throw new Error("Invalid format in fecha parse");if(Zt=mt[Zt]||Zt,Yt.length>1e3)return null;var ge=new Date,ye={year:ge.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},Ce=[],We=[],Ke=Zt.replace(D,function(nr,Ne){return We.push(z(Ne)),"@@@"}),Lt={},vt={};Ke=z(Ke).replace(m,function(nr){var Ne=f[nr],Be=Ne[0],yr=Ne[1],mr=Ne[3];if(Lt[Be])throw new Error("Invalid format. "+Be+" specified twice in format");return Lt[Be]=!0,mr&&(vt[mr]=!0),Ce.push(Ne),"("+yr+")"}),Object.keys(vt).forEach(function(nr){if(!Lt[nr])throw new Error("Invalid format. "+nr+" is required in specified format")}),Ke=Ke.replace(/@@@/g,function(){return We.shift()});var nt=Yt.match(new RegExp(Ke,"i"));if(!nt)return null;for(var pt=X(X({},Ct),Jt),Bt=1;Bt<nt.length;Bt++){var jt=Ce[Bt-1],ie=jt[0],le=jt[2],ae=le?le(nt[Bt],pt):+nt[Bt];if(ae==null)return null;ye[ie]=ae}ye.isPm===1&&ye.hour!=null&&+ye.hour!=12?ye.hour=+ye.hour+12:ye.isPm===0&&+ye.hour==12&&(ye.hour=0);for(var _e=new Date(ye.year,ye.month,ye.day,ye.hour,ye.minute,ye.second,ye.millisecond),Ie=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Bt=0,Fe=Ie.length;Bt<Fe;Bt++)if(Lt[Ie[Bt][0]]&&ye[Ie[Bt][0]]!==_e[Ie[Bt][1]]())return null;return ye.timezoneOffset==null?_e:new Date(Date.UTC(ye.year,ye.month,ye.day,ye.hour,ye.minute-ye.timezoneOffset,ye.second,ye.millisecond))}var wt={format:at,parse:Pt,defaultI18n:dt,setGlobalDateI18n:F,setGlobalDateMasks:Tt},Et=wt;function Rt(Yt){return function(Zt,Jt,ge,ye){for(var Ce=(0,O.isNil)(ge)?0:ge,We=(0,O.isNil)(ye)?Zt.length:ye;Ce<We;){var Ke=Ce+We>>>1;Yt(Zt[Ke])>Jt?We=Ke:Ce=Ke+1}return Ce}}var Nt="format";function kt(Yt,Zt){var Jt=w[Nt]||Et[Nt];return Jt(Yt,Zt)}function _t(Yt){return(0,O.isString)(Yt)&&(Yt.indexOf("T")>0?Yt=new Date(Yt).getTime():Yt=new Date(Yt.replace(/-/gi,"/")).getTime()),(0,O.isDate)(Yt)&&(Yt=Yt.getTime()),Yt}var ht=1e3,ft=60*ht,Mt=60*ft,rt=24*Mt,et=rt*31,lt=rt*365,st=[["HH:mm:ss",ht],["HH:mm:ss",ht*10],["HH:mm:ss",ht*30],["HH:mm",ft],["HH:mm",ft*10],["HH:mm",ft*30],["HH",Mt],["HH",Mt*6],["HH",Mt*12],["YYYY-MM-DD",rt],["YYYY-MM-DD",rt*4],["YYYY-WW",rt*7],["YYYY-MM",et],["YYYY-MM",et*4],["YYYY-MM",et*6],["YYYY",rt*380]];function At(Yt,Zt,Jt){var ge=(Zt-Yt)/Jt,ye=Rt(function(We){return We[1]})(st,ge)-1,Ce=st[ye];return ye<0?Ce=st[0]:ye>=st.length&&(Ce=(0,O.last)(st)),Ce}var Ot=function(Yt){(0,E.__extends)(Zt,Yt);function Zt(){var Jt=Yt!==null&&Yt.apply(this,arguments)||this;return Jt.type="timeCat",Jt}return Zt.prototype.translate=function(Jt){Jt=_t(Jt);var ge=this.values.indexOf(Jt);return ge===-1&&((0,O.isNumber)(Jt)&&Jt<this.values.length?ge=Jt:ge=NaN),ge},Zt.prototype.getText=function(Jt,ge){var ye=this.translate(Jt);if(ye>-1){var Ce=this.values[ye],We=this.formatter;return Ce=We?We(Ce,ge):kt(Ce,this.mask),Ce}return Jt},Zt.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},Zt.prototype.setDomain=function(){var Jt=this.values;(0,O.each)(Jt,function(ge,ye){Jt[ye]=_t(ge)}),Jt.sort(function(ge,ye){return ge-ye}),Yt.prototype.setDomain.call(this)},Zt}(b),Qt=Ot,ve=function(Yt){(0,E.__extends)(Zt,Yt);function Zt(){var Jt=Yt!==null&&Yt.apply(this,arguments)||this;return Jt.isContinuous=!0,Jt}return Zt.prototype.scale=function(Jt){if((0,O.isNil)(Jt))return NaN;var ge=this.rangeMin(),ye=this.rangeMax(),Ce=this.max,We=this.min;if(Ce===We)return ge;var Ke=this.getScalePercent(Jt);return ge+Ke*(ye-ge)},Zt.prototype.init=function(){Yt.prototype.init.call(this);var Jt=this.ticks,ge=(0,O.head)(Jt),ye=(0,O.last)(Jt);ge<this.min&&(this.min=ge),ye>this.max&&(this.max=ye),(0,O.isNil)(this.minLimit)||(this.min=ge),(0,O.isNil)(this.maxLimit)||(this.max=ye)},Zt.prototype.setDomain=function(){var Jt=(0,O.getRange)(this.values),ge=Jt.min,ye=Jt.max;(0,O.isNil)(this.min)&&(this.min=ge),(0,O.isNil)(this.max)&&(this.max=ye),this.min>this.max&&(this.min=ge,this.max=ye)},Zt.prototype.calculateTicks=function(){var Jt=this,ge=Yt.prototype.calculateTicks.call(this);return this.nice||(ge=(0,O.filter)(ge,function(ye){return ye>=Jt.min&&ye<=Jt.max})),ge},Zt.prototype.getScalePercent=function(Jt){var ge=this.max,ye=this.min;return(Jt-ye)/(ge-ye)},Zt.prototype.getInvertPercent=function(Jt){return(Jt-this.rangeMin())/(this.rangeMax()-this.rangeMin())},Zt}(M),fe=ve,ce=function(Yt){(0,E.__extends)(Zt,Yt);function Zt(){var Jt=Yt!==null&&Yt.apply(this,arguments)||this;return Jt.type="linear",Jt.isLinear=!0,Jt}return Zt.prototype.invert=function(Jt){var ge=this.getInvertPercent(Jt);return this.min+ge*(this.max-this.min)},Zt.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},Zt}(fe),Ae=ce;function De(Yt,Zt){var Jt=Math.E,ge;return Zt>=0?ge=Math.pow(Jt,Math.log(Zt)/Yt):ge=Math.pow(Jt,Math.log(-Zt)/Yt)*-1,ge}function rr(Yt,Zt){return Yt===1?1:Math.log(Zt)/Math.log(Yt)}function Je(Yt,Zt,Jt){(0,O.isNil)(Jt)&&(Jt=Math.max.apply(null,Yt));var ge=Jt;return(0,O.each)(Yt,function(ye){ye>0&&ye<ge&&(ge=ye)}),ge===Jt&&(ge=Jt/Zt),ge>1&&(ge=1),ge}function Er(Yt){var Zt=Yt.toString().split(/[eE]/),Jt=(Zt[0].split(".")[1]||"").length-+(Zt[1]||0);return Jt>0?Jt:0}function Jr(Yt,Zt){var Jt=Er(Yt),ge=Er(Zt),ye=Math.pow(10,Math.max(Jt,ge));return(Yt*ye+Zt*ye)/ye}var Ar=function(Yt){(0,E.__extends)(Zt,Yt);function Zt(){var Jt=Yt!==null&&Yt.apply(this,arguments)||this;return Jt.type="log",Jt}return Zt.prototype.invert=function(Jt){var ge=this.base,ye=rr(ge,this.max),Ce=this.rangeMin(),We=this.rangeMax()-Ce,Ke,Lt=this.positiveMin;if(Lt){if(Jt===0)return 0;Ke=rr(ge,Lt/ge);var vt=1/(ye-Ke)*We;if(Jt<vt)return Jt/vt*Lt}else Ke=rr(ge,this.min);var nt=(Jt-Ce)/We,pt=nt*(ye-Ke)+Ke;return Math.pow(ge,pt)},Zt.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},Zt.prototype.setDomain=function(){Yt.prototype.setDomain.call(this);var Jt=this.min;if(Jt<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");Jt===0&&(this.positiveMin=Je(this.values,this.base,this.max))},Zt.prototype.getScalePercent=function(Jt){var ge=this.max,ye=this.min;if(ge===ye||Jt<=0)return 0;var Ce=this.base,We=this.positiveMin;We&&(ye=We*1/Ce);var Ke;return Jt<We?Ke=Jt/We/(rr(Ce,ge)-rr(Ce,ye)):Ke=(rr(Ce,Jt)-rr(Ce,ye))/(rr(Ce,ge)-rr(Ce,ye)),Ke},Zt}(fe),Qr=Ar,Un=function(Yt){(0,E.__extends)(Zt,Yt);function Zt(){var Jt=Yt!==null&&Yt.apply(this,arguments)||this;return Jt.type="pow",Jt}return Zt.prototype.invert=function(Jt){var ge=this.getInvertPercent(Jt),ye=this.exponent,Ce=De(ye,this.max),We=De(ye,this.min),Ke=ge*(Ce-We)+We,Lt=Ke>=0?1:-1;return Math.pow(Ke,ye)*Lt},Zt.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},Zt.prototype.getScalePercent=function(Jt){var ge=this.max,ye=this.min;if(ge===ye)return 0;var Ce=this.exponent,We=(De(Ce,Jt)-De(Ce,ye))/(De(Ce,ge)-De(Ce,ye));return We},Zt}(fe),ii=Un,wi=function(Yt){(0,E.__extends)(Zt,Yt);function Zt(){var Jt=Yt!==null&&Yt.apply(this,arguments)||this;return Jt.type="time",Jt}return Zt.prototype.getText=function(Jt,ge){var ye=this.translate(Jt),Ce=this.formatter;return Ce?Ce(ye,ge):kt(ye,this.mask)},Zt.prototype.scale=function(Jt){var ge=Jt;return((0,O.isString)(ge)||(0,O.isDate)(ge))&&(ge=this.translate(ge)),Yt.prototype.scale.call(this,ge)},Zt.prototype.translate=function(Jt){return _t(Jt)},Zt.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},Zt.prototype.setDomain=function(){var Jt=this.values,ge=this.getConfig("min"),ye=this.getConfig("max");if((!(0,O.isNil)(ge)||!(0,O.isNumber)(ge))&&(this.min=this.translate(this.min)),(!(0,O.isNil)(ye)||!(0,O.isNumber)(ye))&&(this.max=this.translate(this.max)),Jt&&Jt.length){var Ce=[],We=Infinity,Ke=We,Lt=0;(0,O.each)(Jt,function(vt){var nt=_t(vt);if(isNaN(nt))throw new TypeError("Invalid Time: "+vt+" in time scale!");We>nt?(Ke=We,We=nt):Ke>nt&&(Ke=nt),Lt<nt&&(Lt=nt),Ce.push(nt)}),Jt.length>1&&(this.minTickInterval=Ke-We),(0,O.isNil)(ge)&&(this.min=We),(0,O.isNil)(ye)&&(this.max=Lt)}},Zt}(Ae),Si=wi,Wt=function(Yt){(0,E.__extends)(Zt,Yt);function Zt(){var Jt=Yt!==null&&Yt.apply(this,arguments)||this;return Jt.type="quantize",Jt}return Zt.prototype.invert=function(Jt){var ge=this.ticks,ye=ge.length,Ce=this.getInvertPercent(Jt),We=Math.floor(Ce*(ye-1));if(We>=ye-1)return(0,O.last)(ge);if(We<0)return(0,O.head)(ge);var Ke=ge[We],Lt=ge[We+1],vt=We/(ye-1),nt=(We+1)/(ye-1);return Ke+(Ce-vt)/(nt-vt)*(Lt-Ke)},Zt.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},Zt.prototype.calculateTicks=function(){var Jt=Yt.prototype.calculateTicks.call(this);return this.nice||((0,O.last)(Jt)!==this.max&&Jt.push(this.max),(0,O.head)(Jt)!==this.min&&Jt.unshift(this.min)),Jt},Zt.prototype.getScalePercent=function(Jt){var ge=this.ticks;if(Jt<(0,O.head)(ge))return 0;if(Jt>(0,O.last)(ge))return 1;var ye=0;return(0,O.each)(ge,function(Ce,We){if(Jt>=Ce)ye=We;else return!1}),ye/(ge.length-1)},Zt}(fe),Kt=Wt,re=function(Yt){(0,E.__extends)(Zt,Yt);function Zt(){var Jt=Yt!==null&&Yt.apply(this,arguments)||this;return Jt.type="quantile",Jt}return Zt.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},Zt}(Kt),oe=re,me={};function be(Yt){return me[Yt]}function we(Yt,Zt){if(be(Yt))throw new Error("type '"+Yt+"' existed.");me[Yt]=Zt}var Ee=function(Yt){(0,E.__extends)(Zt,Yt);function Zt(){var Jt=Yt!==null&&Yt.apply(this,arguments)||this;return Jt.type="identity",Jt.isIdentity=!0,Jt}return Zt.prototype.calculateTicks=function(){return this.values},Zt.prototype.scale=function(Jt){return this.values[0]!==Jt&&(0,O.isNumber)(Jt)?Jt:this.range[0]},Zt.prototype.invert=function(Jt){var ge=this.range;return Jt<ge[0]||Jt>ge[1]?NaN:this.values[0]},Zt}(M),de=Ee;function Xe(Yt){return Math.abs(Yt)<1e-15?Yt:parseFloat(Yt.toFixed(15))}var ke=[1,5,2,2.5,4,3],qe=null,ir=Number.EPSILON*100;function er(Yt,Zt){return(Yt%Zt+Zt)%Zt}function or(Yt){return Math.round(Yt*1e12)/1e12}function sr(Yt,Zt,Jt,ge,ye,Ce){var We=(0,O.size)(Zt),Ke=(0,O.indexOf)(Zt,Yt),Lt=0,vt=er(ge,Ce);return(vt<ir||Ce-vt<ir)&&ge<=0&&ye>=0&&(Lt=1),1-Ke/(We-1)-Jt+Lt}function gr(Yt,Zt,Jt){var ge=(0,O.size)(Zt),ye=(0,O.indexOf)(Zt,Yt),Ce=1;return 1-ye/(ge-1)-Jt+Ce}function Qe(Yt,Zt,Jt,ge,ye,Ce){var We=(Yt-1)/(Ce-ye),Ke=(Zt-1)/(Math.max(Ce,ge)-Math.min(Jt,ye));return 2-Math.max(We/Ke,Ke/We)}function wr(Yt,Zt){return Yt>=Zt?2-(Yt-1)/(Zt-1):1}function Ir(Yt,Zt,Jt,ge){var ye=Zt-Yt;return 1-.5*(Math.pow(Zt-ge,2)+Math.pow(Yt-Jt,2))/Math.pow(.1*ye,2)}function Pr(Yt,Zt,Jt){var ge=Zt-Yt;if(Jt>ge){var ye=(Jt-ge)/2;return 1-Math.pow(ye,2)/Math.pow(.1*ge,2)}return 1}function kr(){return 1}function Hr(Yt,Zt,Jt,ge,ye,Ce){Jt===void 0&&(Jt=5),ge===void 0&&(ge=!0),ye===void 0&&(ye=ke),Ce===void 0&&(Ce=[.25,.2,.5,.05]);var We=Jt<0?0:Math.round(Jt);if(Number.isNaN(Yt)||Number.isNaN(Zt)||typeof Yt!="number"||typeof Zt!="number"||!We)return{min:0,max:0,ticks:[]};if(Zt-Yt<1e-15||We===1)return{min:Yt,max:Zt,ticks:[Yt]};for(var Ke={score:-2,lmin:0,lmax:0,lstep:0},Lt=1;Lt<Infinity;){for(var vt=0;vt<ye.length;vt+=1){var nt=ye[vt],pt=gr(nt,ye,Lt);if(Ce[0]*pt+Ce[1]+Ce[2]+Ce[3]<Ke.score){Lt=Infinity;break}for(var Bt=2;Bt<Infinity;){var jt=wr(Bt,We);if(Ce[0]*pt+Ce[1]+Ce[2]*jt+Ce[3]<Ke.score)break;for(var ie=(Zt-Yt)/(Bt+1)/Lt/nt,le=Math.ceil(Math.log10(ie));le<Infinity;){var ae=Lt*nt*Math.pow(10,le),_e=Pr(Yt,Zt,ae*(Bt-1));if(Ce[0]*pt+Ce[1]*_e+Ce[2]*jt+Ce[3]<Ke.score)break;var Ie=Math.floor(Zt/ae)*Lt-(Bt-1)*Lt,Fe=Math.ceil(Yt/ae)*Lt;if(Ie<=Fe)for(var nr=Fe-Ie,Ne=0;Ne<=nr;Ne+=1){var Be=Ie+Ne,yr=Be*(ae/Lt),mr=yr+ae*(Bt-1),Nr=ae,Gr=sr(nt,ye,Lt,yr,mr,Nr),fr=Ir(Yt,Zt,yr,mr),tr=Qe(Bt,We,Yt,Zt,yr,mr),Yr=kr(),hn=Ce[0]*Gr+Ce[1]*fr+Ce[2]*tr+Ce[3]*Yr;hn>Ke.score&&(!ge||yr<=Yt&&mr>=Zt)&&(Ke.lmin=yr,Ke.lmax=mr,Ke.lstep=Nr,Ke.score=hn)}le+=1}Bt+=1}}Lt+=1}var Tn=Xe(Ke.lmax),Kn=Xe(Ke.lmin),Jn=Xe(Ke.lstep),Oa=Math.floor(or((Tn-Kn)/Jn))+1,di=new Array(Oa);di[0]=Xe(Kn);for(var vt=1;vt<Oa;vt++)di[vt]=Xe(di[vt-1]+Jn);return{min:Math.min(Yt,(0,O.head)(di)),max:Math.max(Zt,(0,O.last)(di)),ticks:di}}function zr(Yt){var Zt=Yt.values,Jt=Yt.tickInterval,ge=Yt.tickCount,ye=Zt;if((0,O.isNumber)(Jt))return(0,O.filter)(ye,function(vt,nt){return nt%Jt==0});var Ce=Yt.min,We=Yt.max;if((0,O.isNil)(Ce)&&(Ce=0),(0,O.isNil)(We)&&(We=Zt.length-1),(0,O.isNumber)(ge)&&ge<We-Ce){var Ke=Hr(Ce,We,ge,!1,[1,2,5,3,4,7,6,8,9]).ticks,Lt=(0,O.filter)(Ke,function(vt){return vt>=Ce&&vt<=We});return Lt.map(function(vt){return Zt[vt]})}return Zt.slice(Ce,We+1)}function Nn(Yt){var Zt=Yt.min,Jt=Yt.max,ge=Yt.nice,ye=Yt.tickCount,Ce=new Ri;return Ce.domain([Zt,Jt]),ge&&Ce.nice(ye),Ce.ticks(ye)}var tn=5,zn=Math.sqrt(50),ai=Math.sqrt(10),Qn=Math.sqrt(2),Ri=function(){function Yt(){this._domain=[0,1]}return Yt.prototype.domain=function(Zt){return Zt?(this._domain=Array.from(Zt,Number),this):this._domain.slice()},Yt.prototype.nice=function(Zt){var Jt,ge;Zt===void 0&&(Zt=tn);var ye=this._domain.slice(),Ce=0,We=this._domain.length-1,Ke=this._domain[Ce],Lt=this._domain[We],vt;return Lt<Ke&&(Jt=[Lt,Ke],Ke=Jt[0],Lt=Jt[1],ge=[We,Ce],Ce=ge[0],We=ge[1]),vt=Mr(Ke,Lt,Zt),vt>0?(Ke=Math.floor(Ke/vt)*vt,Lt=Math.ceil(Lt/vt)*vt,vt=Mr(Ke,Lt,Zt)):vt<0&&(Ke=Math.ceil(Ke*vt)/vt,Lt=Math.floor(Lt*vt)/vt,vt=Mr(Ke,Lt,Zt)),vt>0?(ye[Ce]=Math.floor(Ke/vt)*vt,ye[We]=Math.ceil(Lt/vt)*vt,this.domain(ye)):vt<0&&(ye[Ce]=Math.ceil(Ke*vt)/vt,ye[We]=Math.floor(Lt*vt)/vt,this.domain(ye)),this},Yt.prototype.ticks=function(Zt){return Zt===void 0&&(Zt=tn),Vi(this._domain[0],this._domain[this._domain.length-1],Zt||tn)},Yt}();function Vi(Yt,Zt,Jt){var ge,ye=-1,Ce,We,Ke;if(Zt=+Zt,Yt=+Yt,Jt=+Jt,Yt===Zt&&Jt>0)return[Yt];if((ge=Zt<Yt)&&(Ce=Yt,Yt=Zt,Zt=Ce),(Ke=Mr(Yt,Zt,Jt))===0||!isFinite(Ke))return[];if(Ke>0)for(Yt=Math.ceil(Yt/Ke),Zt=Math.floor(Zt/Ke),We=new Array(Ce=Math.ceil(Zt-Yt+1));++ye<Ce;)We[ye]=(Yt+ye)*Ke;else for(Yt=Math.floor(Yt*Ke),Zt=Math.ceil(Zt*Ke),We=new Array(Ce=Math.ceil(Yt-Zt+1));++ye<Ce;)We[ye]=(Yt-ye)/Ke;return ge&&We.reverse(),We}function Mr(Yt,Zt,Jt){var ge=(Zt-Yt)/Math.max(0,Jt),ye=Math.floor(Math.log(ge)/Math.LN10),Ce=ge/Math.pow(10,ye);return ye>=0?(Ce>=zn?10:Ce>=ai?5:Ce>=Qn?2:1)*Math.pow(10,ye):-Math.pow(10,-ye)/(Ce>=zn?10:Ce>=ai?5:Ce>=Qn?2:1)}function ui(Yt,Zt,Jt){var ge;return Jt==="ceil"?ge=Math.ceil(Yt/Zt):Jt==="floor"?ge=Math.floor(Yt/Zt):ge=Math.round(Yt/Zt),ge*Zt}function fi(Yt,Zt,Jt){var ge=ui(Yt,Jt,"floor"),ye=ui(Zt,Jt,"ceil");ge=(0,O.fixedBase)(ge,Jt),ye=(0,O.fixedBase)(ye,Jt);for(var Ce=[],We=ge;We<=ye;We=We+Jt){var Ke=(0,O.fixedBase)(We,Jt);Ce.push(Ke)}return{min:ge,max:ye,ticks:Ce}}function ti(Yt,Zt,Jt){var ge,ye=Yt.minLimit,Ce=Yt.maxLimit,We=Yt.min,Ke=Yt.max,Lt=Yt.tickCount,vt=Lt===void 0?5:Lt,nt=(0,O.isNil)(ye)?(0,O.isNil)(Zt)?We:Zt:ye,pt=(0,O.isNil)(Ce)?(0,O.isNil)(Jt)?Ke:Jt:Ce;if(nt>pt&&(ge=[nt,pt],pt=ge[0],nt=ge[1]),vt<=2)return[nt,pt];for(var Bt=(pt-nt)/(vt-1),jt=[],ie=0;ie<vt;ie++)jt.push(nt+Bt*ie);return jt}function Sn(Yt){var Zt=Yt.min,Jt=Yt.max,ge=Yt.tickInterval,ye=Yt.minLimit,Ce=Yt.maxLimit,We=Nn(Yt);return!(0,O.isNil)(ye)||!(0,O.isNil)(Ce)?ti(Yt,(0,O.head)(We),(0,O.last)(We)):ge?fi(Zt,Jt,ge).ticks:We}function hi(Yt){var Zt=Yt.min,Jt=Yt.max,ge=Yt.tickCount,ye=Yt.nice,Ce=Yt.tickInterval,We=Yt.minLimit,Ke=Yt.maxLimit,Lt=Hr(Zt,Jt,ge,ye).ticks;return!(0,O.isNil)(We)||!(0,O.isNil)(Ke)?ti(Yt,(0,O.head)(Lt),(0,O.last)(Lt)):Ce?fi(Zt,Jt,Ce).ticks:Lt}function Hi(Yt){var Zt=Yt.base,Jt=Yt.tickCount,ge=Yt.min,ye=Yt.max,Ce=Yt.values,We,Ke=rr(Zt,ye);if(ge>0)We=Math.floor(rr(Zt,ge));else{var Lt=Je(Ce,Zt,ye);We=Math.floor(rr(Zt,Lt))}for(var vt=Ke-We,nt=Math.ceil(vt/Jt),pt=[],Bt=We;Bt<Ke+nt;Bt=Bt+nt)pt.push(Math.pow(Zt,Bt));return ge<=0&&pt.unshift(0),pt}function _i(Yt,Zt,Jt){if(Jt===void 0&&(Jt=5),Yt===Zt)return{max:Zt,min:Yt,ticks:[Yt]};var ge=Jt<0?0:Math.round(Jt);if(ge===0)return{max:Zt,min:Yt,ticks:[]};var ye=1.5,Ce=.5+1.5*ye,We=Zt-Yt,Ke=We/ge,Lt=Math.pow(10,Math.floor(Math.log10(Ke))),vt=Lt;2*Lt-Ke<ye*(Ke-vt)&&(vt=2*Lt,5*Lt-Ke<Ce*(Ke-vt)&&(vt=5*Lt,10*Lt-Ke<ye*(Ke-vt)&&(vt=10*Lt)));for(var nt=Math.ceil(Zt/vt),pt=Math.floor(Yt/vt),Bt=Math.max(nt*vt,Zt),jt=Math.min(pt*vt,Yt),ie=Math.floor((Bt-jt)/vt)+1,le=new Array(ie),ae=0;ae<ie;ae++)le[ae]=Xe(jt+ae*vt);return{min:jt,max:Bt,ticks:le}}function Ni(Yt){var Zt=Yt.exponent,Jt=Yt.tickCount,ge=Math.ceil(De(Zt,Yt.max)),ye=Math.floor(De(Zt,Yt.min)),Ce=_i(ye,ge,Jt).ticks;return Ce.map(function(We){var Ke=We>=0?1:-1;return Math.pow(We,Zt)*Ke})}function Zn(Yt,Zt){var Jt=Yt.length*Zt;return Zt===1?Yt[Yt.length-1]:Zt===0?Yt[0]:Jt%1!=0?Yt[Math.ceil(Jt)-1]:Yt.length%2==0?(Yt[Jt-1]+Yt[Jt])/2:Yt[Jt]}function ea(Yt){var Zt=Yt.tickCount,Jt=Yt.values;if(!Jt||!Jt.length)return[];for(var ge=Jt.slice().sort(function(Ke,Lt){return Ke-Lt}),ye=[],Ce=0;Ce<Zt;Ce++){var We=Ce/(Zt-1);ye.push(Zn(ge,We))}return ye}function pa(Yt){var Zt=Yt.min,Jt=Yt.max,ge=Yt.tickCount,ye=Yt.tickInterval,Ce=Yt.minLimit,We=Yt.maxLimit,Ke=_i(Zt,Jt,ge).ticks;return!(0,O.isNil)(Ce)||!(0,O.isNil)(We)?ti(Yt,(0,O.head)(Ke),(0,O.last)(Ke)):ye?fi(Zt,Jt,ye).ticks:Ke}function Xn(Yt){var Zt=Yt.min,Jt=Yt.max,ge=Yt.minTickInterval,ye=Yt.tickInterval,Ce=Yt.tickCount;if(ye)Ce=Math.ceil((Jt-Zt)/ye);else{ye=At(Zt,Jt,Ce)[1];var We=(Jt-Zt)/ye,Ke=We/Ce;Ke>1&&(ye=ye*Math.ceil(Ke)),ge&&ye<ge&&(ye=ge)}for(var Lt=[],vt=Zt;vt<Jt+ye;vt+=ye)Lt.push(vt);return Lt}function ci(Yt){var Zt=zr(Yt),Jt=(0,O.last)(Yt.values);return Jt!==(0,O.last)(Zt)&&Zt.push(Jt),Zt}function Li(Yt){return new Date(Yt).getFullYear()}function ia(Yt){return new Date(Yt,0,1).getTime()}function Oi(Yt){return new Date(Yt).getMonth()}function ga(Yt,Zt){var Jt=Li(Yt),ge=Li(Zt),ye=Oi(Yt),Ce=Oi(Zt);return(ge-Jt)*12+(Ce-ye)%12}function vi(Yt,Zt){return new Date(Yt,Zt,1).getTime()}function La(Yt,Zt){return Math.ceil((Zt-Yt)/rt)}function aa(Yt,Zt){return Math.ceil((Zt-Yt)/Mt)}function oa(Yt,Zt){return Math.ceil((Zt-Yt)/(60*1e3))}function Wa(Yt){var Zt=Yt.min,Jt=Yt.max,ge=Yt.minTickInterval,ye=Yt.tickCount,Ce=Yt.tickInterval,We=[];Ce||(Ce=(Jt-Zt)/ye,ge&&Ce<ge&&(Ce=ge));var Ke=Li(Zt);if(Ce>lt)for(var Lt=Li(Jt),vt=Math.ceil(Ce/lt),nt=Ke;nt<=Lt+vt;nt=nt+vt)We.push(ia(nt));else if(Ce>et)for(var pt=Math.ceil(Ce/et),Bt=Oi(Zt),jt=ga(Zt,Jt),nt=0;nt<=jt+pt;nt=nt+pt)We.push(vi(Ke,nt+Bt));else if(Ce>rt)for(var ie=new Date(Zt),le=ie.getFullYear(),ae=ie.getMonth(),_e=ie.getDate(),Ie=Math.ceil(Ce/rt),Fe=La(Zt,Jt),nt=0;nt<Fe+Ie;nt=nt+Ie)We.push(new Date(le,ae,_e+nt).getTime());else if(Ce>Mt)for(var ie=new Date(Zt),le=ie.getFullYear(),ae=ie.getMonth(),Ie=ie.getDate(),nr=ie.getHours(),Ne=Math.ceil(Ce/Mt),Be=aa(Zt,Jt),nt=0;nt<=Be+Ne;nt=nt+Ne)We.push(new Date(le,ae,Ie,nr+nt).getTime());else if(Ce>ft)for(var yr=oa(Zt,Jt),mr=Math.ceil(Ce/ft),nt=0;nt<=yr+mr;nt=nt+mr)We.push(Zt+nt*ft);else{var Nr=Ce;Nr<ht&&(Nr=ht);for(var Gr=Math.floor(Zt/ht)*ht,fr=Math.ceil((Jt-Zt)/ht),tr=Math.ceil(Nr/ht),nt=0;nt<fr+tr;nt=nt+tr)We.push(Gr+nt*ht)}return We.length>=512&&console.warn("Notice: current ticks length("+We.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+Ce+") is too small, increase the value to solve the problem!"),We}P("cat",zr),P("time-cat",ci),P("wilkinson-extended",hi),P("r-pretty",pa),P("time",Xn),P("time-pretty",Wa),P("log",Hi),P("pow",Ni),P("quantile",ea),P("d3-linear",Sn),we("cat",b),we("category",b),we("identity",de),we("linear",Ae),we("log",Qr),we("pow",ii),we("time",Si),we("timeCat",Qt),we("quantize",Kt),we("quantile",oe)},49242:function(xt,S,d){"use strict";d.r(S),d.d(S,{Cache:function(){return nn},assign:function(){return Kn},augment:function(){return Oa},clamp:function(){return er},clearAnimationFrame:function(){return hn},clone:function(){return ao},contains:function(){return L},debounce:function(){return Mo},deepMix:function(){return ya},difference:function(){return E},each:function(){return W},endsWith:function(){return Jr},every:function(){return Qr},extend:function(){return la},filter:function(){return T},find:function(){return z},findIndex:function(){return Y},firstValue:function(){return $},fixedBase:function(){return sr},flatten:function(){return U},flattenDeep:function(){return f},forIn:function(){return Xn},get:function(){return N},getEllipsisText:function(){return rn},getRange:function(){return Pt},getType:function(){return Lt},getWrapBehavior:function(){return me},group:function(){return re},groupBy:function(){return Wt},groupToMap:function(){return Kt},has:function(){return ci},hasKey:function(){return Li},hasValue:function(){return ga},head:function(){return Ae},identity:function(){return Re},includes:function(){return L},indexOf:function(){return Ua},isArguments:function(){return nt},isArray:function(){return _},isArrayLike:function(){return O},isBoolean:function(){return Bt},isDate:function(){return ie},isDecimal:function(){return Ir},isElement:function(){return tr},isEmpty:function(){return Co},isEqual:function(){return yn},isEqualWith:function(){return ma},isError:function(){return ae},isEven:function(){return kr},isFinite:function(){return _e},isFunction:function(){return x},isInteger:function(){return zr},isMatch:function(){return it},isNegative:function(){return tn},isNil:function(){return C},isNull:function(){return Fe},isNumber:function(){return Qe},isNumberEqual:function(){return ai},isObject:function(){return B},isObjectLike:function(){return yt},isOdd:function(){return Ri},isPlainObject:function(){return Ct},isPositive:function(){return Mr},isPrototype:function(){return Be},isRegExp:function(){return mr},isString:function(){return st},isType:function(){return m},isUndefined:function(){return Gr},keys:function(){return X},last:function(){return De},lowerCase:function(){return aa},lowerFirst:function(){return Wa},map:function(){return xa},mapValues:function(){return gt},max:function(){return mt},maxBy:function(){return ui},measureTextWidth:function(){return Cr},memoize:function(){return oo},min:function(){return Tt},minBy:function(){return fi},mix:function(){return Kn},mod:function(){return Sn},noop:function(){return Se},number2color:function(){return Xe},omit:function(){return Dt},parseRadius:function(){return qe},pick:function(){return St},pull:function(){return kt},pullAt:function(){return ft},reduce:function(){return rt},remove:function(){return lt},requestAnimationFrame:function(){return Yr},set:function(){return Q},size:function(){return He},some:function(){return ii},sortBy:function(){return Ot},startsWith:function(){return Je},substitute:function(){return Zt},throttle:function(){return Vt},toArray:function(){return ee},toDegree:function(){return _i},toInteger:function(){return Ni},toRadian:function(){return pa},toString:function(){return vi},union:function(){return fe},uniq:function(){return Qt},uniqueId:function(){return pe},upperCase:function(){return ge},upperFirst:function(){return Ce},values:function(){return Oi},valuesOfKey:function(){return ce},wrapBehavior:function(){return we}});var w=function(It){return It!==null&&typeof It!="function"&&isFinite(It.length)},O=w,I=function(It,qt){return O(It)?It.indexOf(qt)>-1:!1},L=I,P=function(It,qt){if(!O(It))return It;for(var he=[],xe=0;xe<It.length;xe++){var Oe=It[xe];qt(Oe,xe)&&he.push(Oe)}return he},T=P,M=function(It,qt){return qt===void 0&&(qt=[]),T(It,function(he){return!L(qt,he)})},E=M,p={}.toString,b=function(It,qt){return p.call(It)==="[object "+qt+"]"},m=b,x=function(It){return m(It,"Function")},g=function(It){return It==null},C=g,_=function(It){return Array.isArray?Array.isArray(It):m(It,"Array")},B=function(It){var qt=typeof It;return It!==null&&qt==="object"||qt==="function"};function D(It,qt){if(!!It){var he;if(_(It))for(var xe=0,Oe=It.length;xe<Oe&&(he=qt(It[xe],xe),he!==!1);xe++);else if(B(It)){for(var ar in It)if(It.hasOwnProperty(ar)&&(he=qt(It[ar],ar),he===!1))break}}}var W=D,Z=Object.keys?function(It){return Object.keys(It)}:function(It){var qt=[];return W(It,function(he,xe){x(It)&&xe==="prototype"||qt.push(xe)}),qt},X=Z;function j(It,qt){var he=X(qt),xe=he.length;if(C(It))return!xe;for(var Oe=0;Oe<xe;Oe+=1){var ar=he[Oe];if(qt[ar]!==It[ar]||!(ar in It))return!1}return!0}var it=j,tt=function(It){return typeof It=="object"&&It!==null},yt=tt,dt=function(It){if(!yt(It)||!m(It,"Object"))return!1;if(Object.getPrototypeOf(It)===null)return!0;for(var qt=It;Object.getPrototypeOf(qt)!==null;)qt=Object.getPrototypeOf(qt);return Object.getPrototypeOf(It)===qt},Ct=dt;function F(It,qt){if(!_(It))return null;var he;if(x(qt)&&(he=qt),Ct(qt)&&(he=function(Oe){return it(Oe,qt)}),he){for(var xe=0;xe<It.length;xe+=1)if(he(It[xe]))return It[xe]}return null}var z=F;function G(It,qt,he){he===void 0&&(he=0);for(var xe=he;xe<It.length;xe++)if(qt(It[xe],xe))return xe;return-1}var Y=G,q=function(It,qt){for(var he=null,xe=0;xe<It.length;xe++){var Oe=It[xe],ar=Oe[qt];if(!C(ar)){_(ar)?he=ar[0]:he=ar;break}}return he},$=q,J=function(It){if(!_(It))return[];for(var qt=[],he=0;he<It.length;he++)qt=qt.concat(It[he]);return qt},U=J,K=function(It,qt){if(qt===void 0&&(qt=[]),!_(It))qt.push(It);else for(var he=0;he<It.length;he+=1)K(It[he],qt);return qt},f=K,mt=function(It){if(!!_(It))return It.reduce(function(qt,he){return Math.max(qt,he)},It[0])},Tt=function(It){if(!!_(It))return It.reduce(function(qt,he){return Math.min(qt,he)},It[0])},at=function(It){var qt=It.filter(function(Fr){return!isNaN(Fr)});if(!qt.length)return{min:0,max:0};if(_(It[0])){for(var he=[],xe=0;xe<It.length;xe++)he=he.concat(It[xe]);qt=he}var Oe=mt(qt),ar=Tt(qt);return{min:ar,max:Oe}},Pt=at,wt=Array.prototype,Et=wt.splice,Rt=wt.indexOf,Nt=function(It){for(var qt=[],he=1;he<arguments.length;he++)qt[he-1]=arguments[he];for(var xe=0;xe<qt.length;xe++)for(var Oe=qt[xe],ar=-1;(ar=Rt.call(It,Oe))>-1;)Et.call(It,ar,1);return It},kt=Nt,_t=Array.prototype.splice,ht=function(qt,he){if(!O(qt))return[];for(var xe=qt?he.length:0,Oe=xe-1;xe--;){var ar=void 0,Fr=he[xe];(xe===Oe||Fr!==ar)&&(ar=Fr,_t.call(qt,Fr,1))}return qt},ft=ht,Mt=function(It,qt,he){if(!_(It)&&!Ct(It))return It;var xe=he;return W(It,function(Oe,ar){xe=qt(xe,Oe,ar)}),xe},rt=Mt,et=function(It,qt){var he=[];if(!O(It))return he;for(var xe=-1,Oe=[],ar=It.length;++xe<ar;){var Fr=It[xe];qt(Fr,xe,It)&&(he.push(Fr),Oe.push(xe))}return ft(It,Oe),he},lt=et,st=function(It){return m(It,"String")};function At(It,qt){var he;if(x(qt))he=function(Oe,ar){return qt(Oe)-qt(ar)};else{var xe=[];st(qt)?xe.push(qt):_(qt)&&(xe=qt),he=function(Oe,ar){for(var Fr=0;Fr<xe.length;Fr+=1){var mn=xe[Fr];if(Oe[mn]>ar[mn])return 1;if(Oe[mn]<ar[mn])return-1}return 0}}return It.sort(he),It}var Ot=At;function Qt(It,qt){qt===void 0&&(qt=new Map);var he=[];if(Array.isArray(It))for(var xe=0,Oe=It.length;xe<Oe;xe++){var ar=It[xe];qt.has(ar)||(he.push(ar),qt.set(ar,!0))}return he}var ve=function(){for(var It=[],qt=0;qt<arguments.length;qt++)It[qt]=arguments[qt];return Qt([].concat.apply([],It))},fe=ve,ce=function(It,qt){for(var he=[],xe={},Oe=0;Oe<It.length;Oe++){var ar=It[Oe],Fr=ar[qt];if(!C(Fr)){_(Fr)||(Fr=[Fr]);for(var mn=0;mn<Fr.length;mn++){var pi=Fr[mn];xe[pi]||(he.push(pi),xe[pi]=!0)}}}return he};function Ae(It){if(O(It))return It[0]}function De(It){if(O(It)){var qt=It;return qt[qt.length-1]}}function rr(It,qt){return _(It)||st(It)?It[0]===qt:!1}var Je=rr;function Er(It,qt){return _(It)||st(It)?It[It.length-1]===qt:!1}var Jr=Er,Ar=function(It,qt){for(var he=0;he<It.length;he++)if(!qt(It[he],he))return!1;return!0},Qr=Ar,Un=function(It,qt){for(var he=0;he<It.length;he++)if(qt(It[he],he))return!0;return!1},ii=Un,wi=Object.prototype.hasOwnProperty;function Si(It,qt){if(!qt||!_(It))return{};for(var he={},xe=x(qt)?qt:function(mn){return mn[qt]},Oe,ar=0;ar<It.length;ar++){var Fr=It[ar];Oe=xe(Fr),wi.call(he,Oe)?he[Oe].push(Fr):he[Oe]=[Fr]}return he}var Wt=Si;function Kt(It,qt){if(!qt)return{0:It};if(!x(qt)){var he=_(qt)?qt:qt.replace(/\s+/g,"").split("*");qt=function(xe){for(var Oe="_",ar=0,Fr=he.length;ar<Fr;ar++)Oe+=xe[he[ar]]&&xe[he[ar]].toString();return Oe}}return Wt(It,qt)}var re=function(It,qt){if(!qt)return[It];var he=Kt(It,qt),xe=[];for(var Oe in he)xe.push(he[Oe]);return xe};function oe(It,qt){return It["_wrap_"+qt]}var me=oe;function be(It,qt){if(It["_wrap_"+qt])return It["_wrap_"+qt];var he=function(xe){It[qt](xe)};return It["_wrap_"+qt]=he,he}var we=be,Ee={};function de(It){var qt=Ee[It];if(!qt){for(var he=It.toString(16),xe=he.length;xe<6;xe++)he="0"+he;qt="#"+he,Ee[It]=qt}return qt}var Xe=de;function ke(It){var qt=0,he=0,xe=0,Oe=0;return _(It)?It.length===1?qt=he=xe=Oe=It[0]:It.length===2?(qt=xe=It[0],he=Oe=It[1]):It.length===3?(qt=It[0],he=Oe=It[1],xe=It[2]):(qt=It[0],he=It[1],xe=It[2],Oe=It[3]):qt=he=xe=Oe=It,{r1:qt,r2:he,r3:xe,r4:Oe}}var qe=ke,ir=function(It,qt,he){return It<qt?qt:It>he?he:It},er=ir,or=function(It,qt){var he=qt.toString(),xe=he.indexOf(".");if(xe===-1)return Math.round(It);var Oe=he.substr(xe+1).length;return Oe>20&&(Oe=20),parseFloat(It.toFixed(Oe))},sr=or,gr=function(It){return m(It,"Number")},Qe=gr,wr=function(It){return Qe(It)&&It%1!=0},Ir=wr,Pr=function(It){return Qe(It)&&It%2==0},kr=Pr,Hr=Number.isInteger?Number.isInteger:function(It){return Qe(It)&&It%1==0},zr=Hr,Nn=function(It){return Qe(It)&&It<0},tn=Nn,zn=1e-5;function ai(It,qt,he){return he===void 0&&(he=zn),Math.abs(It-qt)<he}var Qn=function(It){return Qe(It)&&It%2!=0},Ri=Qn,Vi=function(It){return Qe(It)&&It>0},Mr=Vi,ui=function(It,qt){if(!!_(It)){for(var he,xe=-Infinity,Oe=0;Oe<It.length;Oe++){var ar=It[Oe],Fr=x(qt)?qt(ar):ar[qt];Fr>xe&&(he=ar,xe=Fr)}return he}},fi=function(It,qt){if(!!_(It)){for(var he,xe=Infinity,Oe=0;Oe<It.length;Oe++){var ar=It[Oe],Fr=x(qt)?qt(ar):ar[qt];Fr<xe&&(he=ar,xe=Fr)}return he}},ti=function(It,qt){return(It%qt+qt)%qt},Sn=ti,hi=180/Math.PI,Hi=function(It){return hi*It},_i=Hi,Ni=parseInt,Zn=Math.PI/180,ea=function(It){return Zn*It},pa=ea,Xn=W,ci=function(It,qt){return It.hasOwnProperty(qt)},Li=ci,ia=Object.values?function(It){return Object.values(It)}:function(It){var qt=[];return W(It,function(he,xe){x(It)&&xe==="prototype"||qt.push(he)}),qt},Oi=ia,ga=function(It,qt){return L(Oi(It),qt)},vi=function(It){return C(It)?"":It.toString()},La=function(It){return vi(It).toLowerCase()},aa=La,oa=function(It){var qt=vi(It);return qt.charAt(0).toLowerCase()+qt.substring(1)},Wa=oa;function Yt(It,qt){return!It||!qt?It:It.replace(/\\?\{([^{}]+)\}/g,function(he,xe){return he.charAt(0)==="\\"?he.slice(1):qt[xe]===void 0?"":qt[xe]})}var Zt=Yt,Jt=function(It){return vi(It).toUpperCase()},ge=Jt,ye=function(It){var qt=vi(It);return qt.charAt(0).toUpperCase()+qt.substring(1)},Ce=ye,We={}.toString,Ke=function(It){return We.call(It).replace(/^\[object /,"").replace(/]$/,"")},Lt=Ke,vt=function(It){return m(It,"Arguments")},nt=vt,pt=function(It){return m(It,"Boolean")},Bt=pt,jt=function(It){return m(It,"Date")},ie=jt,le=function(It){return m(It,"Error")},ae=le;function _e(It){return Qe(It)&&isFinite(It)}var Ie=function(It){return It===null},Fe=Ie,nr=Object.prototype,Ne=function(It){var qt=It&&It.constructor,he=typeof qt=="function"&&qt.prototype||nr;return It===he},Be=Ne,yr=function(It){return m(It,"RegExp")},mr=yr,Nr=function(It){return It===void 0},Gr=Nr,fr=function(It){return It instanceof Element||It instanceof HTMLDocument},tr=fr;function Yr(It){var qt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(he){return setTimeout(he,16)};return qt(It)}function hn(It){var qt=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;qt(It)}function Tn(It,qt){for(var he in qt)qt.hasOwnProperty(he)&&he!=="constructor"&&qt[he]!==void 0&&(It[he]=qt[he])}function Kn(It,qt,he,xe){return qt&&Tn(It,qt),he&&Tn(It,he),xe&&Tn(It,xe),It}var Jn=function(){for(var It=[],qt=0;qt<arguments.length;qt++)It[qt]=arguments[qt];for(var he=It[0],xe=1;xe<It.length;xe++){var Oe=It[xe];x(Oe)&&(Oe=Oe.prototype),Kn(he.prototype,Oe)}},Oa=Jn,di=function(It){if(typeof It!="object"||It===null)return It;var qt;if(_(It)){qt=[];for(var he=0,xe=It.length;he<xe;he++)typeof It[he]=="object"&&It[he]!=null?qt[he]=di(It[he]):qt[he]=It[he]}else{qt={};for(var Oe in It)typeof It[Oe]=="object"&&It[Oe]!=null?qt[Oe]=di(It[Oe]):qt[Oe]=It[Oe]}return qt},ao=di;function sa(It,qt,he){var xe;return function(){var Oe=this,ar=arguments,Fr=function(){xe=null,he||It.apply(Oe,ar)},mn=he&&!xe;clearTimeout(xe),xe=setTimeout(Fr,qt),mn&&It.apply(Oe,ar)}}var Mo=sa,oo=function(It,qt){if(!x(It))throw new TypeError("Expected a function");var he=function(){for(var xe=[],Oe=0;Oe<arguments.length;Oe++)xe[Oe]=arguments[Oe];var ar=qt?qt.apply(this,xe):xe[0],Fr=he.cache;if(Fr.has(ar))return Fr.get(ar);var mn=It.apply(this,xe);return Fr.set(ar,mn),mn};return he.cache=new Map,he},Vo=5;function Ia(It,qt,he,xe){he=he||0,xe=xe||Vo;for(var Oe in qt)if(qt.hasOwnProperty(Oe)){var ar=qt[Oe];ar!==null&&Ct(ar)?(Ct(It[Oe])||(It[Oe]={}),he<xe?Ia(It[Oe],ar,he+1,xe):It[Oe]=qt[Oe]):_(ar)?(It[Oe]=[],It[Oe]=It[Oe].concat(ar)):ar!==void 0&&(It[Oe]=ar)}}var ja=function(It){for(var qt=[],he=1;he<arguments.length;he++)qt[he-1]=arguments[he];for(var xe=0;xe<qt.length;xe+=1)Ia(It,qt[xe]);return It},ya=ja,oi=function(It,qt,he,xe){x(qt)||(he=qt,qt=It,It=function(){});var Oe=Object.create?function(Fr,mn){return Object.create(Fr,{constructor:{value:mn}})}:function(Fr,mn){function pi(){}pi.prototype=Fr;var Qi=new pi;return Qi.constructor=mn,Qi},ar=Oe(qt.prototype,It);return It.prototype=Kn(ar,It.prototype),It.superclass=Oe(qt.prototype,qt),Kn(ar,he),Kn(It,xe),It},la=oi,so=function(It,qt){if(!O(It))return-1;var he=Array.prototype.indexOf;if(he)return he.call(It,qt);for(var xe=-1,Oe=0;Oe<It.length;Oe++)if(It[Oe]===qt){xe=Oe;break}return xe},Ua=so,ka=Object.prototype.hasOwnProperty;function ln(It){if(C(It))return!0;if(O(It))return!It.length;var qt=Lt(It);if(qt==="Map"||qt==="Set")return!It.size;if(Be(It))return!Object.keys(It).length;for(var he in It)if(ka.call(It,he))return!1;return!0}var Co=ln,ei=function(It,qt){if(It===qt)return!0;if(!It||!qt||st(It)||st(qt))return!1;if(O(It)||O(qt)){if(It.length!==qt.length)return!1;for(var he=!0,xe=0;xe<It.length&&(he=ei(It[xe],qt[xe]),!!he);xe++);return he}if(yt(It)||yt(qt)){var Oe=Object.keys(It),ar=Object.keys(qt);if(Oe.length!==ar.length)return!1;for(var he=!0,xe=0;xe<Oe.length&&(he=ei(It[Oe[xe]],qt[Oe[xe]]),!!he);xe++);return he}return!1},yn=ei,ma=function(It,qt,he){return x(he)?!!he(It,qt):yn(It,qt)},pn=function(It,qt){if(!O(It))return It;for(var he=[],xe=0;xe<It.length;xe++){var Oe=It[xe];he.push(qt(Oe,xe))}return he},xa=pn,Ht=function(It){return It},gt=function(It,qt){qt===void 0&&(qt=Ht);var he={};return B(It)&&!C(It)&&Object.keys(It).forEach(function(xe){he[xe]=qt(It[xe],xe)}),he},N=function(It,qt,he){for(var xe=0,Oe=st(qt)?qt.split("."):qt;It&&xe<Oe.length;)It=It[Oe[xe++]];return It===void 0||xe<Oe.length?he:It},Q=function(It,qt,he){var xe=It,Oe=st(qt)?qt.split("."):qt;return Oe.forEach(function(ar,Fr){Fr<Oe.length-1?(B(xe[ar])||(xe[ar]=Qe(Oe[Fr+1])?[]:{}),xe=xe[ar]):xe[ar]=he}),It},ct=Object.prototype.hasOwnProperty,St=function(It,qt){if(It===null||!Ct(It))return{};var he={};return W(qt,function(xe){ct.call(It,xe)&&(he[xe]=It[xe])}),he},Dt=function(It,qt){return rt(It,function(he,xe,Oe){return qt.includes(Oe)||(he[Oe]=xe),he},{})},Vt=function(It,qt,he){var xe,Oe,ar,Fr,mn=0;he||(he={});var pi=function(){mn=he.leading===!1?0:Date.now(),xe=null,Fr=It.apply(Oe,ar),xe||(Oe=ar=null)},Qi=function(){var ra=Date.now();!mn&&he.leading===!1&&(mn=ra);var gs=qt-(ra-mn);return Oe=this,ar=arguments,gs<=0||gs>qt?(xe&&(clearTimeout(xe),xe=null),mn=ra,Fr=It.apply(Oe,ar),xe||(Oe=ar=null)):!xe&&he.trailing!==!1&&(xe=setTimeout(pi,gs)),Fr};return Qi.cancel=function(){clearTimeout(xe),mn=0,xe=Oe=ar=null},Qi},ee=function(It){return O(It)?Array.prototype.slice.call(It):[]},ne={},pe=function(It){return It=It||"g",ne[It]?ne[It]+=1:ne[It]=1,It+ne[It]},Se=function(){},Re=function(It){return It};function He(It){return C(It)?0:O(It)?It.length:Object.keys(It).length}var hr=d(70655),Br,Cr=oo(function(It,qt){qt===void 0&&(qt={});var he=qt.fontSize,xe=qt.fontFamily,Oe=qt.fontWeight,ar=qt.fontStyle,Fr=qt.fontVariant;return Br||(Br=document.createElement("canvas").getContext("2d")),Br.font=[ar,Fr,Oe,he+"px",xe].join(" "),Br.measureText(st(It)?It:"").width},function(It,qt){return qt===void 0&&(qt={}),(0,hr.__spreadArrays)([It],Oi(qt)).join("")}),rn=function(It,qt,he,xe){xe===void 0&&(xe="...");var Oe=16,ar=Cr(xe,he),Fr=st(It)?It:vi(It),mn=qt,pi=[],Qi,ra;if(Cr(It,he)<=qt)return It;for(;Qi=Fr.substr(0,Oe),ra=Cr(Qi,he),!(ra+ar>mn&&ra>mn);)if(pi.push(Qi),mn-=ra,Fr=Fr.substr(Oe),!Fr)return pi.join("");for(;Qi=Fr.substr(0,1),ra=Cr(Qi,he),!(ra+ar>mn);)if(pi.push(Qi),mn-=ra,Fr=Fr.substr(1),!Fr)return pi.join("");return""+pi.join("")+xe},an=function(){function It(){this.map={}}return It.prototype.has=function(qt){return this.map[qt]!==void 0},It.prototype.get=function(qt,he){var xe=this.map[qt];return xe===void 0?he:xe},It.prototype.set=function(qt,he){this.map[qt]=he},It.prototype.clear=function(){this.map={}},It.prototype.delete=function(qt){delete this.map[qt]},It.prototype.size=function(){return Object.keys(this.map).length},It}(),nn=an},99581:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66974),O=d(46812),I=function(){for(var L=[],P=0;P<arguments.length;P++)L[P]=arguments[P];for(var T=L[0],M=1;M<L.length;M++){var E=L[M];O.default(E)&&(E=E.prototype),w.default(T.prototype,E)}};S.default=I},68039:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function w(){this.map={}}return w.prototype.has=function(O){return this.map[O]!==void 0},w.prototype.get=function(O,I){var L=this.map[O];return L===void 0?I:L},w.prototype.set=function(O,I){this.map[O]=I},w.prototype.clear=function(){this.map={}},w.prototype.delete=function(O){delete this.map[O]},w.prototype.size=function(){return Object.keys(this.map).length},w}();S.default=d},37339:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w,O,I){return w<O?O:w>I?I:w};S.default=d},35755:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w){var O=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;O(w)}S.default=d},8289:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),O=function(I){if(typeof I!="object"||I===null)return I;var L;if(w.default(I)){L=[];for(var P=0,T=I.length;P<T;P++)typeof I[P]=="object"&&I[P]!=null?L[P]=O(I[P]):L[P]=I[P]}else{L={};for(var M in I)typeof I[M]=="object"&&I[M]!=null?L[M]=O(I[M]):L[M]=I[M]}return L};S.default=O},75349:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(48102),O=function(I,L){return w.default(I)?I.indexOf(L)>-1:!1};S.default=O},79663:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w,O,I){var L;return function(){var P=this,T=arguments,M=function(){L=null,I||w.apply(P,T)},E=I&&!L;clearTimeout(L),L=setTimeout(M,O),E&&w.apply(P,T)}}S.default=d},90497:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),O=d(15907),I=5;function L(T,M,E,p){E=E||0,p=p||I;for(var b in M)if(M.hasOwnProperty(b)){var m=M[b];m!==null&&O.default(m)?(O.default(T[b])||(T[b]={}),E<p?L(T[b],m,E+1,p):T[b]=M[b]):w.default(m)?(T[b]=[],T[b]=T[b].concat(m)):m!==void 0&&(T[b]=m)}}var P=function(T){for(var M=[],E=1;E<arguments.length;E++)M[E-1]=arguments[E];for(var p=0;p<M.length;p+=1)L(T,M[p]);return T};S.default=P},25430:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(40007),O=d(75349),I=function(L,P){return P===void 0&&(P=[]),w.default(L,function(T){return!O.default(P,T)})};S.default=I},27154:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),O=d(33643);function I(L,P){if(!!L){var T;if(w.default(L))for(var M=0,E=L.length;M<E&&(T=P(L[M],M),T!==!1);M++);else if(O.default(L)){for(var p in L)if(L.hasOwnProperty(p)&&(T=P(L[p],p),T===!1))break}}}S.default=I},61846:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),O=d(21830);function I(L,P){return w.default(L)||O.default(L)?L[L.length-1]===P:!1}S.default=I},8153:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w,O){for(var I=0;I<w.length;I++)if(!O(w[I],I))return!1;return!0};S.default=d},13829:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66974),O=d(46812),I=function(L,P,T,M){O.default(P)||(T=P,P=L,L=function(){});var E=Object.create?function(b,m){return Object.create(b,{constructor:{value:m}})}:function(b,m){function x(){}x.prototype=b;var g=new x;return g.constructor=m,g},p=E(P.prototype,L);return L.prototype=w.default(p,L.prototype),L.superclass=E(P.prototype,P),w.default(p,T),w.default(L,M),L};S.default=I},40007:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(48102),O=function(I,L){if(!w.default(I))return I;for(var P=[],T=0;T<I.length;T++){var M=I[T];L(M,T)&&P.push(M)}return P};S.default=O},90871:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w,O,I){I===void 0&&(I=0);for(var L=I;L<w.length;L++)if(O(w[L],L))return L;return-1}S.default=d},32114:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(46812),O=d(20253),I=d(66631),L=d(15907);function P(T,M){if(!I.default(T))return null;var E;if(w.default(M)&&(E=M),L.default(M)&&(E=function(b){return O.default(b,M)}),E){for(var p=0;p<T.length;p+=1)if(E(T[p]))return T[p]}return null}S.default=P},84521:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(73890),O=d(66631),I=function(L,P){for(var T=null,M=0;M<L.length;M++){var E=L[M],p=E[P];if(!w.default(p)){O.default(p)?T=p[0]:T=p;break}}return T};S.default=I},14266:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w,O){var I=O.toString(),L=I.indexOf(".");if(L===-1)return Math.round(w);var P=I.substr(L+1).length;return P>20&&(P=20),parseFloat(w.toFixed(P))};S.default=d},61917:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),O=function(I,L){if(L===void 0&&(L=[]),!w.default(I))L.push(I);else for(var P=0;P<I.length;P+=1)O(I[P],L);return L};S.default=O},30267:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),O=function(I){if(!w.default(I))return[];for(var L=[],P=0;P<I.length;P++)L=L.concat(I[P]);return L};S.default=O},8361:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(27154);S.default=w.default},65616:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(21830),O=d(78127),I=d(13754);S.default=function(L,P,T,M){M===void 0&&(M="...");var E=16,p=I.default(M,T),b=w.default(L)?L:O.default(L),m=P,x=[],g,C;if(I.default(L,T)<=P)return L;for(;g=b.substr(0,E),C=I.default(g,T),!(C+p>m&&C>m);)if(x.push(g),m-=C,b=b.substr(E),!b)return x.join("");for(;g=b.substr(0,1),C=I.default(g,T),!(C+p>m);)if(x.push(g),m-=C,b=b.substr(1),!b)return x.join("");return""+x.join("")+M}},83236:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),O=d(14705),I=d(45356),L=function(P){var T=P.filter(function(m){return!isNaN(m)});if(!T.length)return{min:0,max:0};if(w.default(P[0])){for(var M=[],E=0;E<P.length;E++)M=M.concat(P[E]);T=M}var p=O.default(T),b=I.default(T);return{min:b,max:p}};S.default=L},89175:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={}.toString,w=function(O){return d.call(O).replace(/^\[object /,"").replace(/]$/,"")};S.default=w},71668:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w,O){return w["_wrap_"+O]}S.default=d},58070:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(21830);S.default=function(O,I,L){for(var P=0,T=w.default(I)?I.split("."):I;O&&P<T.length;)O=O[T[P++]];return O===void 0||P<T.length?L:O}},54544:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),O=d(46812),I=Object.prototype.hasOwnProperty;function L(P,T){if(!T||!w.default(P))return{};for(var M={},E=O.default(T)?T:function(x){return x[T]},p,b=0;b<P.length;b++){var m=P[b];p=E(m),I.call(M,p)?M[p].push(m):M[p]=[m]}return M}S.default=L},64725:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),O=d(46812),I=d(54544);function L(P,T){if(!T)return{0:P};if(!O.default(T)){var M=w.default(T)?T:T.replace(/\s+/g,"").split("*");T=function(E){for(var p="_",b=0,m=M.length;b<m;b++)p+=E[M[b]]&&E[M[b]].toString();return p}}return I.default(P,T)}S.default=L},93597:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(64725);S.default=function(O,I){if(!I)return[O];var L=w.default(O,I),P=[];for(var T in L)P.push(L[T]);return P}},97507:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(57921);S.default=w.default},99969:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(75349),O=d(91161);S.default=function(I,L){return w.default(O.default(I),L)}},57921:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d,w){return d.hasOwnProperty(w)}},41169:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(48102);function O(I){if(w.default(I))return I[0]}S.default=O},80870:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d){return d}},40035:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(48102),O=function(I,L){if(!w.default(I))return-1;var P=Array.prototype.indexOf;if(P)return P.call(I,L);for(var T=-1,M=0;M<I.length;M++)if(I[M]===L){T=M;break}return T};S.default=O},50229:function(xt,S,d){"use strict";var w;w={value:!0};var O=d(75349);w={enumerable:!0,get:function(){return O.default}},w={enumerable:!0,get:function(){return O.default}};var I=d(25430);w={enumerable:!0,get:function(){return I.default}};var L=d(32114);w={enumerable:!0,get:function(){return L.default}};var P=d(90871);w={enumerable:!0,get:function(){return P.default}};var T=d(84521);w={enumerable:!0,get:function(){return T.default}};var M=d(30267);w={enumerable:!0,get:function(){return M.default}};var E=d(61917);w={enumerable:!0,get:function(){return E.default}};var p=d(83236);w={enumerable:!0,get:function(){return p.default}};var b=d(5220);w={enumerable:!0,get:function(){return b.default}};var m=d(50779);w={enumerable:!0,get:function(){return m.default}};var x=d(13847);w={enumerable:!0,get:function(){return x.default}};var g=d(89757);w={enumerable:!0,get:function(){return g.default}};var C=d(27599);w={enumerable:!0,get:function(){return C.default}};var _=d(58632);w={enumerable:!0,get:function(){return _.default}};var B=d(12619);w={enumerable:!0,get:function(){return B.default}};var D=d(29208);w={enumerable:!0,get:function(){return D.default}};var W=d(41169);w={enumerable:!0,get:function(){return W.default}};var Z=d(95145);w={enumerable:!0,get:function(){return Z.default}};var X=d(680);w={enumerable:!0,get:function(){return X.default}};var j=d(61846);w={enumerable:!0,get:function(){return j.default}};var it=d(40007);w={enumerable:!0,get:function(){return it.default}};var tt=d(8153);w={enumerable:!0,get:function(){return tt.default}};var yt=d(58175);w={enumerable:!0,get:function(){return yt.default}};var dt=d(93597);w={enumerable:!0,get:function(){return dt.default}};var Ct=d(54544);w={enumerable:!0,get:function(){return Ct.default}};var F=d(64725);w={enumerable:!0,get:function(){return F.default}};var z=d(71668);w={enumerable:!0,get:function(){return z.default}};var G=d(61262);Object.defineProperty(S,"Ko",{enumerable:!0,get:function(){return G.default}});var Y=d(45145);w={enumerable:!0,get:function(){return Y.default}};var q=d(85418);w={enumerable:!0,get:function(){return q.default}};var $=d(37339);w={enumerable:!0,get:function(){return $.default}};var J=d(14266);w={enumerable:!0,get:function(){return J.default}};var U=d(51008);w={enumerable:!0,get:function(){return U.default}};var K=d(45420);w={enumerable:!0,get:function(){return K.default}};var f=d(68221);w={enumerable:!0,get:function(){return f.default}};var mt=d(58706);w={enumerable:!0,get:function(){return mt.default}};var Tt=d(39984);w={enumerable:!0,get:function(){return Tt.default}};var at=d(32705);w={enumerable:!0,get:function(){return at.default}};var Pt=d(75732);w={enumerable:!0,get:function(){return Pt.default}};var wt=d(14705);w={enumerable:!0,get:function(){return wt.default}};var Et=d(38935);w={enumerable:!0,get:function(){return Et.default}};var Rt=d(45356);w={enumerable:!0,get:function(){return Rt.default}};var Nt=d(89857);w={enumerable:!0,get:function(){return Nt.default}};var kt=d(5253);w={enumerable:!0,get:function(){return kt.default}};var _t=d(2119);w={enumerable:!0,get:function(){return _t.default}};var ht=d(23196);w={enumerable:!0,get:function(){return ht.default}};var ft=d(9217);w={enumerable:!0,get:function(){return ft.default}};var Mt=d(8361);w={enumerable:!0,get:function(){return Mt.default}};var rt=d(57921);w={enumerable:!0,get:function(){return rt.default}};var et=d(97507);w={enumerable:!0,get:function(){return et.default}};var lt=d(99969);w={enumerable:!0,get:function(){return lt.default}};var st=d(85050);w={enumerable:!0,get:function(){return st.default}};var At=d(20253);w={enumerable:!0,get:function(){return At.default}};var Ot=d(91161);w={enumerable:!0,get:function(){return Ot.default}};var Qt=d(88362);w={enumerable:!0,get:function(){return Qt.default}};var ve=d(56095);w={enumerable:!0,get:function(){return ve.default}};var fe=d(35541);w={enumerable:!0,get:function(){return fe.default}};var ce=d(72660);w={enumerable:!0,get:function(){return ce.default}};var Ae=d(85260);w={enumerable:!0,get:function(){return Ae.default}};var De=d(89175);w={enumerable:!0,get:function(){return De.default}};var rr=d(55039);w={enumerable:!0,get:function(){return rr.default}};var Je=d(66631);w={enumerable:!0,get:function(){return Je.default}};var Er=d(48102);w={enumerable:!0,get:function(){return Er.default}};var Jr=d(25873);w={enumerable:!0,get:function(){return Jr.default}};var Ar=d(79396);w={enumerable:!0,get:function(){return Ar.default}};var Qr=d(14230);w={enumerable:!0,get:function(){return Qr.default}};var Un=d(46812);w={enumerable:!0,get:function(){return Un.default}};var ii=d(73420);w={enumerable:!0,get:function(){return ii.default}};var wi=d(73890);w={enumerable:!0,get:function(){return wi.default}};var Si=d(85497);w={enumerable:!0,get:function(){return Si.default}};var Wt=d(16185);w={enumerable:!0,get:function(){return Wt.default}};var Kt=d(33643);w={enumerable:!0,get:function(){return Kt.default}};var re=d(70441);w={enumerable:!0,get:function(){return re.default}};var oe=d(15907);w={enumerable:!0,get:function(){return oe.default}};var me=d(26296);w={enumerable:!0,get:function(){return me.default}};var be=d(7877);w={enumerable:!0,get:function(){return be.default}};var we=d(21830);Object.defineProperty(S,"HD",{enumerable:!0,get:function(){return we.default}});var Ee=d(44235);w={enumerable:!0,get:function(){return Ee.default}};var de=d(25523);w={enumerable:!0,get:function(){return de.default}};var Xe=d(58417);w={enumerable:!0,get:function(){return Xe.default}};var ke=d(98229);w={enumerable:!0,get:function(){return ke.default}};var qe=d(35755);w={enumerable:!0,get:function(){return qe.default}};var ir=d(99581);w={enumerable:!0,get:function(){return ir.default}};var er=d(8289);Object.defineProperty(S,"d9",{enumerable:!0,get:function(){return er.default}});var or=d(79663);w={enumerable:!0,get:function(){return or.default}};var sr=d(99834);w={enumerable:!0,get:function(){return sr.default}};var gr=d(90497);Object.defineProperty(S,"b$",{enumerable:!0,get:function(){return gr.default}});var Qe=d(27154);Object.defineProperty(S,"S6",{enumerable:!0,get:function(){return Qe.default}});var wr=d(13829);w={enumerable:!0,get:function(){return wr.default}};var Ir=d(40035);w={enumerable:!0,get:function(){return Ir.default}};var Pr=d(64029);w={enumerable:!0,get:function(){return Pr.default}};var kr=d(212);w={enumerable:!0,get:function(){return kr.default}};var Hr=d(18112);w={enumerable:!0,get:function(){return Hr.default}};var zr=d(92693);w={enumerable:!0,get:function(){return zr.default}};var Nn=d(53497);w={enumerable:!0,get:function(){return Nn.default}};var tn=d(66974);w={enumerable:!0,get:function(){return tn.default}},w={enumerable:!0,get:function(){return tn.default}};var zn=d(58070);w={enumerable:!0,get:function(){return zn.default}};var ai=d(64119);w={enumerable:!0,get:function(){return ai.default}};var Qn=d(24263);w={enumerable:!0,get:function(){return Qn.default}};var Ri=d(14179);w={enumerable:!0,get:function(){return Ri.default}};var Vi=d(60979);w={enumerable:!0,get:function(){return Vi.default}};var Mr=d(66668);w={enumerable:!0,get:function(){return Mr.default}};var ui=d(78127);w={enumerable:!0,get:function(){return ui.default}};var fi=d(67250);w={enumerable:!0,get:function(){return fi.default}};var ti=d(26851);w={enumerable:!0,get:function(){return ti.default}};var Sn=d(80870);w={enumerable:!0,get:function(){return Sn.default}};var hi=d(30597);w={enumerable:!0,get:function(){return hi.default}};var Hi=d(13754);w={enumerable:!0,get:function(){return Hi.default}};var _i=d(65616);w={enumerable:!0,get:function(){return _i.default}};var Ni=d(68039);w={enumerable:!0,get:function(){return Ni.default}}},55039:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(44235),O=function(I){return w.default(I,"Arguments")};S.default=O},48102:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w){return w!==null&&typeof w!="function"&&isFinite(w.length)};S.default=d},66631:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(44235);S.default=function(O){return Array.isArray?Array.isArray(O):w.default(O,"Array")}},25873:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(44235),O=function(I){return w.default(I,"Boolean")};S.default=O},79396:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(44235),O=function(I){return w.default(I,"Date")};S.default=O},51008:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(16185),O=function(I){return w.default(I)&&I%1!=0};S.default=O},58417:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w){return w instanceof Element||w instanceof HTMLDocument};S.default=d},64029:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(73890),O=d(48102),I=d(89175),L=d(26296),P=Object.prototype.hasOwnProperty;function T(M){if(w.default(M))return!0;if(O.default(M))return!M.length;var E=I.default(M);if(E==="Map"||E==="Set")return!M.size;if(L.default(M))return!Object.keys(M).length;for(var p in M)if(P.call(M,p))return!1;return!0}S.default=T},18112:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(46812),O=d(212);S.default=function(I,L,P){return w.default(P)?!!P(I,L):O.default(I,L)}},212:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(70441),O=d(48102),I=d(21830),L=function(P,T){if(P===T)return!0;if(!P||!T||I.default(P)||I.default(T))return!1;if(O.default(P)||O.default(T)){if(P.length!==T.length)return!1;for(var M=!0,E=0;E<P.length&&(M=L(P[E],T[E]),!!M);E++);return M}if(w.default(P)||w.default(T)){var p=Object.keys(P),b=Object.keys(T);if(p.length!==b.length)return!1;for(var M=!0,E=0;E<p.length&&(M=L(P[p[E]],T[p[E]]),!!M);E++);return M}return!1};S.default=L},14230:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(44235),O=function(I){return w.default(I,"Error")};S.default=O},45420:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(16185),O=function(I){return w.default(I)&&I%2==0};S.default=O},73420:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(16185);function O(I){return w.default(I)&&isFinite(I)}S.default=O},46812:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(44235);S.default=function(O){return w.default(O,"Function")}},68221:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(16185),O=Number.isInteger?Number.isInteger:function(I){return w.default(I)&&I%1==0};S.default=O},20253:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(73890),O=d(85050);function I(L,P){var T=O.default(P),M=T.length;if(w.default(L))return!M;for(var E=0;E<M;E+=1){var p=T[E];if(P[p]!==L[p]||!(p in L))return!1}return!0}S.default=I},58706:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(16185),O=function(I){return w.default(I)&&I<0};S.default=O},73890:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w){return w==null};S.default=d},85497:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w){return w===null};S.default=d},39984:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-5;function w(O,I,L){return L===void 0&&(L=d),Math.abs(O-I)<L}S.default=w},16185:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(44235),O=function(I){return w.default(I,"Number")};S.default=O},70441:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w){return typeof w=="object"&&w!==null};S.default=d},33643:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d){var w=typeof d;return d!==null&&w==="object"||w==="function"}},32705:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(16185),O=function(I){return w.default(I)&&I%2!=0};S.default=O},15907:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(70441),O=d(44235),I=function(L){if(!w.default(L)||!O.default(L,"Object"))return!1;if(Object.getPrototypeOf(L)===null)return!0;for(var P=L;Object.getPrototypeOf(P)!==null;)P=Object.getPrototypeOf(P);return Object.getPrototypeOf(L)===P};S.default=I},75732:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(16185),O=function(I){return w.default(I)&&I>0};S.default=O},26296:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Object.prototype,w=function(O){var I=O&&O.constructor,L=typeof I=="function"&&I.prototype||d;return O===L};S.default=w},7877:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(44235),O=function(I){return w.default(I,"RegExp")};S.default=O},21830:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(44235);S.default=function(O){return w.default(O,"String")}},44235:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={}.toString,w=function(O,I){return d.call(O)==="[object "+I+"]"};S.default=w},25523:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w){return w===void 0};S.default=d},85050:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(27154),O=d(46812),I=Object.keys?function(L){return Object.keys(L)}:function(L){var P=[];return w.default(L,function(T,M){O.default(L)&&M==="prototype"||P.push(M)}),P};S.default=I},95145:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(48102);function O(I){if(w.default(I)){var L=I;return L[L.length-1]}}S.default=O},88362:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(78127),O=function(I){return w.default(I).toLowerCase()};S.default=O},56095:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(78127),O=function(I){var L=w.default(I);return L.charAt(0).toLowerCase()+L.substring(1)};S.default=O},53497:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(73890),O=d(33643),I=function(L){return L};S.default=function(L,P){P===void 0&&(P=I);var T={};return O.default(L)&&!w.default(L)&&Object.keys(L).forEach(function(M){T[M]=P(L[M],M)}),T}},92693:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(48102),O=function(I,L){if(!w.default(I))return I;for(var P=[],T=0;T<I.length;T++){var M=I[T];P.push(L(M,T))}return P};S.default=O},38935:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),O=d(46812);S.default=function(I,L){if(!!w.default(I)){for(var P,T=-Infinity,M=0;M<I.length;M++){var E=I[M],p=O.default(L)?L(E):E[L];p>T&&(P=E,T=p)}return P}}},14705:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631);S.default=function(O){if(!!w.default(O))return O.reduce(function(I,L){return Math.max(I,L)},O[0])}},13754:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(70655),O=d(91161),I=d(99834),L=d(21830),P;S.default=I.default(function(T,M){M===void 0&&(M={});var E=M.fontSize,p=M.fontFamily,b=M.fontWeight,m=M.fontStyle,x=M.fontVariant;return P||(P=document.createElement("canvas").getContext("2d")),P.font=[m,x,b,E+"px",p].join(" "),P.measureText(L.default(T)?T:"").width},function(T,M){return M===void 0&&(M={}),w.__spreadArrays([T],O.default(M)).join("")})},99834:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(46812);S.default=function(O,I){if(!w.default(O))throw new TypeError("Expected a function");var L=function(){for(var P=[],T=0;T<arguments.length;T++)P[T]=arguments[T];var M=I?I.apply(this,P):P[0],E=L.cache;if(E.has(M))return E.get(M);var p=O.apply(this,P);return E.set(M,p),p};return L.cache=new Map,L}},89857:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),O=d(46812);S.default=function(I,L){if(!!w.default(I)){for(var P,T=Infinity,M=0;M<I.length;M++){var E=I[M],p=O.default(L)?L(E):E[L];p<T&&(P=E,T=p)}return P}}},45356:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631);S.default=function(O){if(!!w.default(O))return O.reduce(function(I,L){return Math.min(I,L)},O[0])}},66974:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(O,I){for(var L in I)I.hasOwnProperty(L)&&L!=="constructor"&&I[L]!==void 0&&(O[L]=I[L])}function w(O,I,L,P){return I&&d(O,I),L&&d(O,L),P&&d(O,P),O}S.default=w},5253:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w,O){return(w%O+O)%O};S.default=d},26851:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(){}},45145:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={};function w(O){var I=d[O];if(!I){for(var L=O.toString(16),P=L.length;P<6;P++)L="0"+L;I="#"+L,d[O]=I}return I}S.default=w},14179:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(13847);S.default=function(O,I){return w.default(O,function(L,P,T){return I.includes(T)||(L[T]=P),L},{})}},85418:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631);function O(I){var L=0,P=0,T=0,M=0;return w.default(I)?I.length===1?L=P=T=M=I[0]:I.length===2?(L=T=I[0],P=M=I[1]):I.length===3?(L=I[0],P=M=I[1],T=I[2]):(L=I[0],P=I[1],T=I[2],M=I[3]):L=P=T=M=I,{r1:L,r2:P,r3:T,r4:M}}S.default=O},24263:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(27154),O=d(15907),I=Object.prototype.hasOwnProperty;S.default=function(L,P){if(L===null||!O.default(L))return{};var T={};return w.default(P,function(M){I.call(L,M)&&(T[M]=L[M])}),T}},50779:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(48102),O=Array.prototype.splice,I=function(P,T){if(!w.default(P))return[];for(var M=P?T.length:0,E=M-1;M--;){var p=void 0,b=T[M];(M===E||b!==p)&&(p=b,O.call(P,b,1))}return P};S.default=I},5220:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Array.prototype,w=d.splice,O=d.indexOf,I=function(L){for(var P=[],T=1;T<arguments.length;T++)P[T-1]=arguments[T];for(var M=0;M<P.length;M++)for(var E=P[M],p=-1;(p=O.call(L,E))>-1;)w.call(L,p,1);return L};S.default=I},13847:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(27154),O=d(66631),I=d(15907),L=function(P,T,M){if(!O.default(P)&&!I.default(P))return P;var E=M;return w.default(P,function(p,b){E=T(E,p,b)}),E};S.default=L},89757:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(48102),O=d(50779),I=function(L,P){var T=[];if(!w.default(L))return T;for(var M=-1,E=[],p=L.length;++M<p;){var b=L[M];P(b,M,L)&&(T.push(b),E.push(M))}return O.default(L,E),T};S.default=I},98229:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w){var O=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(I){return setTimeout(I,16)};return O(w)}S.default=d},64119:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(33643),O=d(21830),I=d(16185);S.default=function(L,P,T){var M=L,E=O.default(P)?P.split("."):P;return E.forEach(function(p,b){b<E.length-1?(w.default(M[p])||(M[p]=I.default(E[b+1])?[]:{}),M=M[p]):M[p]=T}),L}},30597:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(73890),O=d(48102);function I(L){return w.default(L)?0:O.default(L)?L.length:Object.keys(L).length}S.default=I},58175:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w,O){for(var I=0;I<w.length;I++)if(O(w[I],I))return!0;return!1};S.default=d},27599:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),O=d(21830),I=d(46812);function L(P,T){var M;if(I.default(T))M=function(p,b){return T(p)-T(b)};else{var E=[];O.default(T)?E.push(T):w.default(T)&&(E=T),M=function(p,b){for(var m=0;m<E.length;m+=1){var x=E[m];if(p[x]>b[x])return 1;if(p[x]<b[x])return-1}return 0}}return P.sort(M),P}S.default=L},680:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),O=d(21830);function I(L,P){return w.default(L)||O.default(L)?L[0]===P:!1}S.default=I},35541:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w,O){return!w||!O?w:w.replace(/\\?\{([^{}]+)\}/g,function(I,L){return I.charAt(0)==="\\"?I.slice(1):O[L]===void 0?"":O[L]})}S.default=d},60979:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d,w,O){var I,L,P,T,M=0;O||(O={});var E=function(){M=O.leading===!1?0:Date.now(),I=null,T=d.apply(L,P),I||(L=P=null)},p=function(){var b=Date.now();!M&&O.leading===!1&&(M=b);var m=w-(b-M);return L=this,P=arguments,m<=0||m>w?(I&&(clearTimeout(I),I=null),M=b,T=d.apply(L,P),I||(L=P=null)):!I&&O.trailing!==!1&&(I=setTimeout(E,m)),T};return p.cancel=function(){clearTimeout(I),M=0,I=L=P=null},p}},66668:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(48102);S.default=function(O){return w.default(O)?Array.prototype.slice.call(O):[]}},2119:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=180/Math.PI,w=function(O){return d*O};S.default=w},23196:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=parseInt},9217:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Math.PI/180,w=function(O){return d*O};S.default=w},78127:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(73890);S.default=function(O){return w.default(O)?"":O.toString()}},58632:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(12619),O=function(){for(var I=[],L=0;L<arguments.length;L++)I[L]=arguments[L];return w.default([].concat.apply([],I))};S.default=O},12619:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w,O){O===void 0&&(O=new Map);var I=[];if(Array.isArray(w))for(var L=0,P=w.length;L<P;L++){var T=w[L];O.has(T)||(I.push(T),O.set(T,!0))}return I}S.default=d},67250:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={};S.default=function(w){return w=w||"g",d[w]?d[w]+=1:d[w]=1,w+d[w]}},72660:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(78127),O=function(I){return w.default(I).toUpperCase()};S.default=O},85260:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(78127),O=function(I){var L=w.default(I);return L.charAt(0).toUpperCase()+L.substring(1)};S.default=O},29208:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),O=d(73890);S.default=function(I,L){for(var P=[],T={},M=0;M<I.length;M++){var E=I[M],p=E[L];if(!O.default(p)){w.default(p)||(p=[p]);for(var b=0;b<p.length;b++){var m=p[b];T[m]||(P.push(m),T[m]=!0)}}}return P}},91161:function(xt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(27154),O=d(46812),I=Object.values?function(L){return Object.values(L)}:function(L){var P=[];return w.default(L,function(T,M){O.default(L)&&M==="prototype"||P.push(T)}),P};S.default=I},61262:function(xt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w,O){if(w["_wrap_"+O])return w["_wrap_"+O];var I=function(L){w[O](L)};return w["_wrap_"+O]=I,I}S.default=d},62117:function(xt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return L},__decorate:function(){return P},__param:function(){return T},__metadata:function(){return M},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return m},__values:function(){return x},__read:function(){return g},__spread:function(){return C},__spreadArrays:function(){return _},__await:function(){return B},__asyncGenerator:function(){return D},__asyncDelegator:function(){return W},__asyncValues:function(){return Z},__makeTemplateObject:function(){return X},__importStar:function(){return j},__importDefault:function(){return it},__classPrivateFieldGet:function(){return tt},__classPrivateFieldSet:function(){return yt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w=function(Ct,F){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,G){z.__proto__=G}||function(z,G){for(var Y in G)G.hasOwnProperty(Y)&&(z[Y]=G[Y])},w(Ct,F)};function O(dt,Ct){w(dt,Ct);function F(){this.constructor=dt}dt.prototype=Ct===null?Object.create(Ct):(F.prototype=Ct.prototype,new F)}var I=function(){return I=Object.assign||function(F){for(var z,G=1,Y=arguments.length;G<Y;G++){z=arguments[G];for(var q in z)Object.prototype.hasOwnProperty.call(z,q)&&(F[q]=z[q])}return F},I.apply(this,arguments)};function L(dt,Ct){var F={};for(var z in dt)Object.prototype.hasOwnProperty.call(dt,z)&&Ct.indexOf(z)<0&&(F[z]=dt[z]);if(dt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,z=Object.getOwnPropertySymbols(dt);G<z.length;G++)Ct.indexOf(z[G])<0&&Object.prototype.propertyIsEnumerable.call(dt,z[G])&&(F[z[G]]=dt[z[G]]);return F}function P(dt,Ct,F,z){var G=arguments.length,Y=G<3?Ct:z===null?z=Object.getOwnPropertyDescriptor(Ct,F):z,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(dt,Ct,F,z);else for(var $=dt.length-1;$>=0;$--)(q=dt[$])&&(Y=(G<3?q(Y):G>3?q(Ct,F,Y):q(Ct,F))||Y);return G>3&&Y&&Object.defineProperty(Ct,F,Y),Y}function T(dt,Ct){return function(F,z){Ct(F,z,dt)}}function M(dt,Ct){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(dt,Ct)}function E(dt,Ct,F,z){function G(Y){return Y instanceof F?Y:new F(function(q){q(Y)})}return new(F||(F=Promise))(function(Y,q){function $(K){try{U(z.next(K))}catch(f){q(f)}}function J(K){try{U(z.throw(K))}catch(f){q(f)}}function U(K){K.done?Y(K.value):G(K.value).then($,J)}U((z=z.apply(dt,Ct||[])).next())})}function p(dt,Ct){var F={label:0,sent:function(){if(Y[0]&1)throw Y[1];return Y[1]},trys:[],ops:[]},z,G,Y,q;return q={next:$(0),throw:$(1),return:$(2)},typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function $(U){return function(K){return J([U,K])}}function J(U){if(z)throw new TypeError("Generator is already executing.");for(;F;)try{if(z=1,G&&(Y=U[0]&2?G.return:U[0]?G.throw||((Y=G.return)&&Y.call(G),0):G.next)&&!(Y=Y.call(G,U[1])).done)return Y;switch(G=0,Y&&(U=[U[0]&2,Y.value]),U[0]){case 0:case 1:Y=U;break;case 4:return F.label++,{value:U[1],done:!1};case 5:F.label++,G=U[1],U=[0];continue;case 7:U=F.ops.pop(),F.trys.pop();continue;default:if(Y=F.trys,!(Y=Y.length>0&&Y[Y.length-1])&&(U[0]===6||U[0]===2)){F=0;continue}if(U[0]===3&&(!Y||U[1]>Y[0]&&U[1]<Y[3])){F.label=U[1];break}if(U[0]===6&&F.label<Y[1]){F.label=Y[1],Y=U;break}if(Y&&F.label<Y[2]){F.label=Y[2],F.ops.push(U);break}Y[2]&&F.ops.pop(),F.trys.pop();continue}U=Ct.call(dt,F)}catch(K){U=[6,K],G=0}finally{z=Y=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}}function b(dt,Ct,F,z){z===void 0&&(z=F),dt[z]=Ct[F]}function m(dt,Ct){for(var F in dt)F!=="default"&&!Ct.hasOwnProperty(F)&&(Ct[F]=dt[F])}function x(dt){var Ct=typeof Symbol=="function"&&Symbol.iterator,F=Ct&&dt[Ct],z=0;if(F)return F.call(dt);if(dt&&typeof dt.length=="number")return{next:function(){return dt&&z>=dt.length&&(dt=void 0),{value:dt&&dt[z++],done:!dt}}};throw new TypeError(Ct?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(dt,Ct){var F=typeof Symbol=="function"&&dt[Symbol.iterator];if(!F)return dt;var z=F.call(dt),G,Y=[],q;try{for(;(Ct===void 0||Ct-- >0)&&!(G=z.next()).done;)Y.push(G.value)}catch($){q={error:$}}finally{try{G&&!G.done&&(F=z.return)&&F.call(z)}finally{if(q)throw q.error}}return Y}function C(){for(var dt=[],Ct=0;Ct<arguments.length;Ct++)dt=dt.concat(g(arguments[Ct]));return dt}function _(){for(var dt=0,Ct=0,F=arguments.length;Ct<F;Ct++)dt+=arguments[Ct].length;for(var z=Array(dt),G=0,Ct=0;Ct<F;Ct++)for(var Y=arguments[Ct],q=0,$=Y.length;q<$;q++,G++)z[G]=Y[q];return z}function B(dt){return this instanceof B?(this.v=dt,this):new B(dt)}function D(dt,Ct,F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z=F.apply(dt,Ct||[]),G,Y=[];return G={},q("next"),q("throw"),q("return"),G[Symbol.asyncIterator]=function(){return this},G;function q(mt){z[mt]&&(G[mt]=function(Tt){return new Promise(function(at,Pt){Y.push([mt,Tt,at,Pt])>1||$(mt,Tt)})})}function $(mt,Tt){try{J(z[mt](Tt))}catch(at){f(Y[0][3],at)}}function J(mt){mt.value instanceof B?Promise.resolve(mt.value.v).then(U,K):f(Y[0][2],mt)}function U(mt){$("next",mt)}function K(mt){$("throw",mt)}function f(mt,Tt){mt(Tt),Y.shift(),Y.length&&$(Y[0][0],Y[0][1])}}function W(dt){var Ct,F;return Ct={},z("next"),z("throw",function(G){throw G}),z("return"),Ct[Symbol.iterator]=function(){return this},Ct;function z(G,Y){Ct[G]=dt[G]?function(q){return(F=!F)?{value:B(dt[G](q)),done:G==="return"}:Y?Y(q):q}:Y}}function Z(dt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ct=dt[Symbol.asyncIterator],F;return Ct?Ct.call(dt):(dt=typeof x=="function"?x(dt):dt[Symbol.iterator](),F={},z("next"),z("throw"),z("return"),F[Symbol.asyncIterator]=function(){return this},F);function z(Y){F[Y]=dt[Y]&&function(q){return new Promise(function($,J){q=dt[Y](q),G($,J,q.done,q.value)})}}function G(Y,q,$,J){Promise.resolve(J).then(function(U){Y({value:U,done:$})},q)}}function X(dt,Ct){return Object.defineProperty?Object.defineProperty(dt,"raw",{value:Ct}):dt.raw=Ct,dt}function j(dt){if(dt&&dt.__esModule)return dt;var Ct={};if(dt!=null)for(var F in dt)Object.hasOwnProperty.call(dt,F)&&(Ct[F]=dt[F]);return Ct.default=dt,Ct}function it(dt){return dt&&dt.__esModule?dt:{default:dt}}function tt(dt,Ct){if(!Ct.has(dt))throw new TypeError("attempted to get private field on non-instance");return Ct.get(dt)}function yt(dt,Ct,F){if(!Ct.has(dt))throw new TypeError("attempted to set private field on non-instance");return Ct.set(dt,F),F}},8108:function(xt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return L},__decorate:function(){return P},__param:function(){return T},__metadata:function(){return M},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return m},__values:function(){return x},__read:function(){return g},__spread:function(){return C},__spreadArrays:function(){return _},__await:function(){return B},__asyncGenerator:function(){return D},__asyncDelegator:function(){return W},__asyncValues:function(){return Z},__makeTemplateObject:function(){return X},__importStar:function(){return j},__importDefault:function(){return it},__classPrivateFieldGet:function(){return tt},__classPrivateFieldSet:function(){return yt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w=function(Ct,F){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,G){z.__proto__=G}||function(z,G){for(var Y in G)G.hasOwnProperty(Y)&&(z[Y]=G[Y])},w(Ct,F)};function O(dt,Ct){w(dt,Ct);function F(){this.constructor=dt}dt.prototype=Ct===null?Object.create(Ct):(F.prototype=Ct.prototype,new F)}var I=function(){return I=Object.assign||function(F){for(var z,G=1,Y=arguments.length;G<Y;G++){z=arguments[G];for(var q in z)Object.prototype.hasOwnProperty.call(z,q)&&(F[q]=z[q])}return F},I.apply(this,arguments)};function L(dt,Ct){var F={};for(var z in dt)Object.prototype.hasOwnProperty.call(dt,z)&&Ct.indexOf(z)<0&&(F[z]=dt[z]);if(dt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,z=Object.getOwnPropertySymbols(dt);G<z.length;G++)Ct.indexOf(z[G])<0&&Object.prototype.propertyIsEnumerable.call(dt,z[G])&&(F[z[G]]=dt[z[G]]);return F}function P(dt,Ct,F,z){var G=arguments.length,Y=G<3?Ct:z===null?z=Object.getOwnPropertyDescriptor(Ct,F):z,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(dt,Ct,F,z);else for(var $=dt.length-1;$>=0;$--)(q=dt[$])&&(Y=(G<3?q(Y):G>3?q(Ct,F,Y):q(Ct,F))||Y);return G>3&&Y&&Object.defineProperty(Ct,F,Y),Y}function T(dt,Ct){return function(F,z){Ct(F,z,dt)}}function M(dt,Ct){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(dt,Ct)}function E(dt,Ct,F,z){function G(Y){return Y instanceof F?Y:new F(function(q){q(Y)})}return new(F||(F=Promise))(function(Y,q){function $(K){try{U(z.next(K))}catch(f){q(f)}}function J(K){try{U(z.throw(K))}catch(f){q(f)}}function U(K){K.done?Y(K.value):G(K.value).then($,J)}U((z=z.apply(dt,Ct||[])).next())})}function p(dt,Ct){var F={label:0,sent:function(){if(Y[0]&1)throw Y[1];return Y[1]},trys:[],ops:[]},z,G,Y,q;return q={next:$(0),throw:$(1),return:$(2)},typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function $(U){return function(K){return J([U,K])}}function J(U){if(z)throw new TypeError("Generator is already executing.");for(;F;)try{if(z=1,G&&(Y=U[0]&2?G.return:U[0]?G.throw||((Y=G.return)&&Y.call(G),0):G.next)&&!(Y=Y.call(G,U[1])).done)return Y;switch(G=0,Y&&(U=[U[0]&2,Y.value]),U[0]){case 0:case 1:Y=U;break;case 4:return F.label++,{value:U[1],done:!1};case 5:F.label++,G=U[1],U=[0];continue;case 7:U=F.ops.pop(),F.trys.pop();continue;default:if(Y=F.trys,!(Y=Y.length>0&&Y[Y.length-1])&&(U[0]===6||U[0]===2)){F=0;continue}if(U[0]===3&&(!Y||U[1]>Y[0]&&U[1]<Y[3])){F.label=U[1];break}if(U[0]===6&&F.label<Y[1]){F.label=Y[1],Y=U;break}if(Y&&F.label<Y[2]){F.label=Y[2],F.ops.push(U);break}Y[2]&&F.ops.pop(),F.trys.pop();continue}U=Ct.call(dt,F)}catch(K){U=[6,K],G=0}finally{z=Y=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}}function b(dt,Ct,F,z){z===void 0&&(z=F),dt[z]=Ct[F]}function m(dt,Ct){for(var F in dt)F!=="default"&&!Ct.hasOwnProperty(F)&&(Ct[F]=dt[F])}function x(dt){var Ct=typeof Symbol=="function"&&Symbol.iterator,F=Ct&&dt[Ct],z=0;if(F)return F.call(dt);if(dt&&typeof dt.length=="number")return{next:function(){return dt&&z>=dt.length&&(dt=void 0),{value:dt&&dt[z++],done:!dt}}};throw new TypeError(Ct?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(dt,Ct){var F=typeof Symbol=="function"&&dt[Symbol.iterator];if(!F)return dt;var z=F.call(dt),G,Y=[],q;try{for(;(Ct===void 0||Ct-- >0)&&!(G=z.next()).done;)Y.push(G.value)}catch($){q={error:$}}finally{try{G&&!G.done&&(F=z.return)&&F.call(z)}finally{if(q)throw q.error}}return Y}function C(){for(var dt=[],Ct=0;Ct<arguments.length;Ct++)dt=dt.concat(g(arguments[Ct]));return dt}function _(){for(var dt=0,Ct=0,F=arguments.length;Ct<F;Ct++)dt+=arguments[Ct].length;for(var z=Array(dt),G=0,Ct=0;Ct<F;Ct++)for(var Y=arguments[Ct],q=0,$=Y.length;q<$;q++,G++)z[G]=Y[q];return z}function B(dt){return this instanceof B?(this.v=dt,this):new B(dt)}function D(dt,Ct,F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z=F.apply(dt,Ct||[]),G,Y=[];return G={},q("next"),q("throw"),q("return"),G[Symbol.asyncIterator]=function(){return this},G;function q(mt){z[mt]&&(G[mt]=function(Tt){return new Promise(function(at,Pt){Y.push([mt,Tt,at,Pt])>1||$(mt,Tt)})})}function $(mt,Tt){try{J(z[mt](Tt))}catch(at){f(Y[0][3],at)}}function J(mt){mt.value instanceof B?Promise.resolve(mt.value.v).then(U,K):f(Y[0][2],mt)}function U(mt){$("next",mt)}function K(mt){$("throw",mt)}function f(mt,Tt){mt(Tt),Y.shift(),Y.length&&$(Y[0][0],Y[0][1])}}function W(dt){var Ct,F;return Ct={},z("next"),z("throw",function(G){throw G}),z("return"),Ct[Symbol.iterator]=function(){return this},Ct;function z(G,Y){Ct[G]=dt[G]?function(q){return(F=!F)?{value:B(dt[G](q)),done:G==="return"}:Y?Y(q):q}:Y}}function Z(dt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ct=dt[Symbol.asyncIterator],F;return Ct?Ct.call(dt):(dt=typeof x=="function"?x(dt):dt[Symbol.iterator](),F={},z("next"),z("throw"),z("return"),F[Symbol.asyncIterator]=function(){return this},F);function z(Y){F[Y]=dt[Y]&&function(q){return new Promise(function($,J){q=dt[Y](q),G($,J,q.done,q.value)})}}function G(Y,q,$,J){Promise.resolve(J).then(function(U){Y({value:U,done:$})},q)}}function X(dt,Ct){return Object.defineProperty?Object.defineProperty(dt,"raw",{value:Ct}):dt.raw=Ct,dt}function j(dt){if(dt&&dt.__esModule)return dt;var Ct={};if(dt!=null)for(var F in dt)Object.hasOwnProperty.call(dt,F)&&(Ct[F]=dt[F]);return Ct.default=dt,Ct}function it(dt){return dt&&dt.__esModule?dt:{default:dt}}function tt(dt,Ct){if(!Ct.has(dt))throw new TypeError("attempted to get private field on non-instance");return Ct.get(dt)}function yt(dt,Ct,F){if(!Ct.has(dt))throw new TypeError("attempted to set private field on non-instance");return Ct.set(dt,F),F}},48168:function(xt,S,d){var w=d(39092),O={};for(var I in w)w.hasOwnProperty(I)&&(O[w[I]]=I);var L=xt.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var P in L)if(L.hasOwnProperty(P)){if(!("channels"in L[P]))throw new Error("missing channels property: "+P);if(!("labels"in L[P]))throw new Error("missing channel labels property: "+P);if(L[P].labels.length!==L[P].channels)throw new Error("channel and label counts mismatch: "+P);var T=L[P].channels,M=L[P].labels;delete L[P].channels,delete L[P].labels,Object.defineProperty(L[P],"channels",{value:T}),Object.defineProperty(L[P],"labels",{value:M})}L.rgb.hsl=function(p){var b=p[0]/255,m=p[1]/255,x=p[2]/255,g=Math.min(b,m,x),C=Math.max(b,m,x),_=C-g,B,D,W;return C===g?B=0:b===C?B=(m-x)/_:m===C?B=2+(x-b)/_:x===C&&(B=4+(b-m)/_),B=Math.min(B*60,360),B<0&&(B+=360),W=(g+C)/2,C===g?D=0:W<=.5?D=_/(C+g):D=_/(2-C-g),[B,D*100,W*100]},L.rgb.hsv=function(p){var b,m,x,g,C,_=p[0]/255,B=p[1]/255,D=p[2]/255,W=Math.max(_,B,D),Z=W-Math.min(_,B,D),X=function(j){return(W-j)/6/Z+1/2};return Z===0?g=C=0:(C=Z/W,b=X(_),m=X(B),x=X(D),_===W?g=x-m:B===W?g=1/3+b-x:D===W&&(g=2/3+m-b),g<0?g+=1:g>1&&(g-=1)),[g*360,C*100,W*100]},L.rgb.hwb=function(p){var b=p[0],m=p[1],x=p[2],g=L.rgb.hsl(p)[0],C=1/255*Math.min(b,Math.min(m,x));return x=1-1/255*Math.max(b,Math.max(m,x)),[g,C*100,x*100]},L.rgb.cmyk=function(p){var b=p[0]/255,m=p[1]/255,x=p[2]/255,g,C,_,B;return B=Math.min(1-b,1-m,1-x),g=(1-b-B)/(1-B)||0,C=(1-m-B)/(1-B)||0,_=(1-x-B)/(1-B)||0,[g*100,C*100,_*100,B*100]};function E(p,b){return Math.pow(p[0]-b[0],2)+Math.pow(p[1]-b[1],2)+Math.pow(p[2]-b[2],2)}L.rgb.keyword=function(p){var b=O[p];if(b)return b;var m=Infinity,x;for(var g in w)if(w.hasOwnProperty(g)){var C=w[g],_=E(p,C);_<m&&(m=_,x=g)}return x},L.keyword.rgb=function(p){return w[p]},L.rgb.xyz=function(p){var b=p[0]/255,m=p[1]/255,x=p[2]/255;b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92,m=m>.04045?Math.pow((m+.055)/1.055,2.4):m/12.92,x=x>.04045?Math.pow((x+.055)/1.055,2.4):x/12.92;var g=b*.4124+m*.3576+x*.1805,C=b*.2126+m*.7152+x*.0722,_=b*.0193+m*.1192+x*.9505;return[g*100,C*100,_*100]},L.rgb.lab=function(p){var b=L.rgb.xyz(p),m=b[0],x=b[1],g=b[2],C,_,B;return m/=95.047,x/=100,g/=108.883,m=m>.008856?Math.pow(m,1/3):7.787*m+16/116,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,C=116*x-16,_=500*(m-x),B=200*(x-g),[C,_,B]},L.hsl.rgb=function(p){var b=p[0]/360,m=p[1]/100,x=p[2]/100,g,C,_,B,D;if(m===0)return D=x*255,[D,D,D];x<.5?C=x*(1+m):C=x+m-x*m,g=2*x-C,B=[0,0,0];for(var W=0;W<3;W++)_=b+1/3*-(W-1),_<0&&_++,_>1&&_--,6*_<1?D=g+(C-g)*6*_:2*_<1?D=C:3*_<2?D=g+(C-g)*(2/3-_)*6:D=g,B[W]=D*255;return B},L.hsl.hsv=function(p){var b=p[0],m=p[1]/100,x=p[2]/100,g=m,C=Math.max(x,.01),_,B;return x*=2,m*=x<=1?x:2-x,g*=C<=1?C:2-C,B=(x+m)/2,_=x===0?2*g/(C+g):2*m/(x+m),[b,_*100,B*100]},L.hsv.rgb=function(p){var b=p[0]/60,m=p[1]/100,x=p[2]/100,g=Math.floor(b)%6,C=b-Math.floor(b),_=255*x*(1-m),B=255*x*(1-m*C),D=255*x*(1-m*(1-C));switch(x*=255,g){case 0:return[x,D,_];case 1:return[B,x,_];case 2:return[_,x,D];case 3:return[_,B,x];case 4:return[D,_,x];case 5:return[x,_,B]}},L.hsv.hsl=function(p){var b=p[0],m=p[1]/100,x=p[2]/100,g=Math.max(x,.01),C,_,B;return B=(2-m)*x,C=(2-m)*g,_=m*g,_/=C<=1?C:2-C,_=_||0,B/=2,[b,_*100,B*100]},L.hwb.rgb=function(p){var b=p[0]/360,m=p[1]/100,x=p[2]/100,g=m+x,C,_,B,D;g>1&&(m/=g,x/=g),C=Math.floor(6*b),_=1-x,B=6*b-C,(C&1)!=0&&(B=1-B),D=m+B*(_-m);var W,Z,X;switch(C){default:case 6:case 0:W=_,Z=D,X=m;break;case 1:W=D,Z=_,X=m;break;case 2:W=m,Z=_,X=D;break;case 3:W=m,Z=D,X=_;break;case 4:W=D,Z=m,X=_;break;case 5:W=_,Z=m,X=D;break}return[W*255,Z*255,X*255]},L.cmyk.rgb=function(p){var b=p[0]/100,m=p[1]/100,x=p[2]/100,g=p[3]/100,C,_,B;return C=1-Math.min(1,b*(1-g)+g),_=1-Math.min(1,m*(1-g)+g),B=1-Math.min(1,x*(1-g)+g),[C*255,_*255,B*255]},L.xyz.rgb=function(p){var b=p[0]/100,m=p[1]/100,x=p[2]/100,g,C,_;return g=b*3.2406+m*-1.5372+x*-.4986,C=b*-.9689+m*1.8758+x*.0415,_=b*.0557+m*-.204+x*1.057,g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:g*12.92,C=C>.0031308?1.055*Math.pow(C,1/2.4)-.055:C*12.92,_=_>.0031308?1.055*Math.pow(_,1/2.4)-.055:_*12.92,g=Math.min(Math.max(0,g),1),C=Math.min(Math.max(0,C),1),_=Math.min(Math.max(0,_),1),[g*255,C*255,_*255]},L.xyz.lab=function(p){var b=p[0],m=p[1],x=p[2],g,C,_;return b/=95.047,m/=100,x/=108.883,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,m=m>.008856?Math.pow(m,1/3):7.787*m+16/116,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,g=116*m-16,C=500*(b-m),_=200*(m-x),[g,C,_]},L.lab.xyz=function(p){var b=p[0],m=p[1],x=p[2],g,C,_;C=(b+16)/116,g=m/500+C,_=C-x/200;var B=Math.pow(C,3),D=Math.pow(g,3),W=Math.pow(_,3);return C=B>.008856?B:(C-16/116)/7.787,g=D>.008856?D:(g-16/116)/7.787,_=W>.008856?W:(_-16/116)/7.787,g*=95.047,C*=100,_*=108.883,[g,C,_]},L.lab.lch=function(p){var b=p[0],m=p[1],x=p[2],g,C,_;return g=Math.atan2(x,m),C=g*360/2/Math.PI,C<0&&(C+=360),_=Math.sqrt(m*m+x*x),[b,_,C]},L.lch.lab=function(p){var b=p[0],m=p[1],x=p[2],g,C,_;return _=x/360*2*Math.PI,g=m*Math.cos(_),C=m*Math.sin(_),[b,g,C]},L.rgb.ansi16=function(p){var b=p[0],m=p[1],x=p[2],g=1 in arguments?arguments[1]:L.rgb.hsv(p)[2];if(g=Math.round(g/50),g===0)return 30;var C=30+(Math.round(x/255)<<2|Math.round(m/255)<<1|Math.round(b/255));return g===2&&(C+=60),C},L.hsv.ansi16=function(p){return L.rgb.ansi16(L.hsv.rgb(p),p[2])},L.rgb.ansi256=function(p){var b=p[0],m=p[1],x=p[2];if(b===m&&m===x)return b<8?16:b>248?231:Math.round((b-8)/247*24)+232;var g=16+36*Math.round(b/255*5)+6*Math.round(m/255*5)+Math.round(x/255*5);return g},L.ansi16.rgb=function(p){var b=p%10;if(b===0||b===7)return p>50&&(b+=3.5),b=b/10.5*255,[b,b,b];var m=(~~(p>50)+1)*.5,x=(b&1)*m*255,g=(b>>1&1)*m*255,C=(b>>2&1)*m*255;return[x,g,C]},L.ansi256.rgb=function(p){if(p>=232){var b=(p-232)*10+8;return[b,b,b]}p-=16;var m,x=Math.floor(p/36)/5*255,g=Math.floor((m=p%36)/6)/5*255,C=m%6/5*255;return[x,g,C]},L.rgb.hex=function(p){var b=((Math.round(p[0])&255)<<16)+((Math.round(p[1])&255)<<8)+(Math.round(p[2])&255),m=b.toString(16).toUpperCase();return"000000".substring(m.length)+m},L.hex.rgb=function(p){var b=p.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!b)return[0,0,0];var m=b[0];b[0].length===3&&(m=m.split("").map(function(B){return B+B}).join(""));var x=parseInt(m,16),g=x>>16&255,C=x>>8&255,_=x&255;return[g,C,_]},L.rgb.hcg=function(p){var b=p[0]/255,m=p[1]/255,x=p[2]/255,g=Math.max(Math.max(b,m),x),C=Math.min(Math.min(b,m),x),_=g-C,B,D;return _<1?B=C/(1-_):B=0,_<=0?D=0:g===b?D=(m-x)/_%6:g===m?D=2+(x-b)/_:D=4+(b-m)/_+4,D/=6,D%=1,[D*360,_*100,B*100]},L.hsl.hcg=function(p){var b=p[1]/100,m=p[2]/100,x=1,g=0;return m<.5?x=2*b*m:x=2*b*(1-m),x<1&&(g=(m-.5*x)/(1-x)),[p[0],x*100,g*100]},L.hsv.hcg=function(p){var b=p[1]/100,m=p[2]/100,x=b*m,g=0;return x<1&&(g=(m-x)/(1-x)),[p[0],x*100,g*100]},L.hcg.rgb=function(p){var b=p[0]/360,m=p[1]/100,x=p[2]/100;if(m===0)return[x*255,x*255,x*255];var g=[0,0,0],C=b%1*6,_=C%1,B=1-_,D=0;switch(Math.floor(C)){case 0:g[0]=1,g[1]=_,g[2]=0;break;case 1:g[0]=B,g[1]=1,g[2]=0;break;case 2:g[0]=0,g[1]=1,g[2]=_;break;case 3:g[0]=0,g[1]=B,g[2]=1;break;case 4:g[0]=_,g[1]=0,g[2]=1;break;default:g[0]=1,g[1]=0,g[2]=B}return D=(1-m)*x,[(m*g[0]+D)*255,(m*g[1]+D)*255,(m*g[2]+D)*255]},L.hcg.hsv=function(p){var b=p[1]/100,m=p[2]/100,x=b+m*(1-b),g=0;return x>0&&(g=b/x),[p[0],g*100,x*100]},L.hcg.hsl=function(p){var b=p[1]/100,m=p[2]/100,x=m*(1-b)+.5*b,g=0;return x>0&&x<.5?g=b/(2*x):x>=.5&&x<1&&(g=b/(2*(1-x))),[p[0],g*100,x*100]},L.hcg.hwb=function(p){var b=p[1]/100,m=p[2]/100,x=b+m*(1-b);return[p[0],(x-b)*100,(1-x)*100]},L.hwb.hcg=function(p){var b=p[1]/100,m=p[2]/100,x=1-m,g=x-b,C=0;return g<1&&(C=(x-g)/(1-g)),[p[0],g*100,C*100]},L.apple.rgb=function(p){return[p[0]/65535*255,p[1]/65535*255,p[2]/65535*255]},L.rgb.apple=function(p){return[p[0]/255*65535,p[1]/255*65535,p[2]/255*65535]},L.gray.rgb=function(p){return[p[0]/100*255,p[0]/100*255,p[0]/100*255]},L.gray.hsl=L.gray.hsv=function(p){return[0,0,p[0]]},L.gray.hwb=function(p){return[0,100,p[0]]},L.gray.cmyk=function(p){return[0,0,0,p[0]]},L.gray.lab=function(p){return[p[0],0,0]},L.gray.hex=function(p){var b=Math.round(p[0]/100*255)&255,m=(b<<16)+(b<<8)+b,x=m.toString(16).toUpperCase();return"000000".substring(x.length)+x},L.rgb.gray=function(p){var b=(p[0]+p[1]+p[2])/3;return[b/255*100]}},12085:function(xt,S,d){var w=d(48168),O=d(4111),I={},L=Object.keys(w);function P(M){var E=function(p){return p==null?p:(arguments.length>1&&(p=Array.prototype.slice.call(arguments)),M(p))};return"conversion"in M&&(E.conversion=M.conversion),E}function T(M){var E=function(p){if(p==null)return p;arguments.length>1&&(p=Array.prototype.slice.call(arguments));var b=M(p);if(typeof b=="object")for(var m=b.length,x=0;x<m;x++)b[x]=Math.round(b[x]);return b};return"conversion"in M&&(E.conversion=M.conversion),E}L.forEach(function(M){I[M]={},Object.defineProperty(I[M],"channels",{value:w[M].channels}),Object.defineProperty(I[M],"labels",{value:w[M].labels});var E=O(M),p=Object.keys(E);p.forEach(function(b){var m=E[b];I[M][b]=T(m),I[M][b].raw=P(m)})}),xt.exports=I},39092:function(xt){"use strict";xt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4111:function(xt,S,d){var w=d(48168);function O(){for(var T={},M=Object.keys(w),E=M.length,p=0;p<E;p++)T[M[p]]={distance:-1,parent:null};return T}function I(T){var M=O(),E=[T];for(M[T].distance=0;E.length;)for(var p=E.pop(),b=Object.keys(w[p]),m=b.length,x=0;x<m;x++){var g=b[x],C=M[g];C.distance===-1&&(C.distance=M[p].distance+1,C.parent=p,E.unshift(g))}return M}function L(T,M){return function(E){return M(T(E))}}function P(T,M){for(var E=[M[T].parent,T],p=w[M[T].parent][T],b=M[T].parent;M[b].parent;)E.unshift(M[b].parent),p=L(w[M[b].parent][b],p),b=M[b].parent;return p.conversion=E,p}xt.exports=function(T){for(var M=I(T),E={},p=Object.keys(M),b=p.length,m=0;m<b;m++){var x=p[m],g=M[x];g.parent!==null&&(E[x]=P(x,M))}return E}},8874:function(xt){"use strict";xt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},19818:function(xt,S,d){var w=d(8874),O=d(86851),I=Object.hasOwnProperty,L={};for(var P in w)I.call(w,P)&&(L[w[P]]=P);var T=xt.exports={to:{},get:{}};T.get=function(p){var b=p.substring(0,3).toLowerCase(),m,x;switch(b){case"hsl":m=T.get.hsl(p),x="hsl";break;case"hwb":m=T.get.hwb(p),x="hwb";break;default:m=T.get.rgb(p),x="rgb";break}return m?{model:x,value:m}:null},T.get.rgb=function(p){if(!p)return null;var b=/^#([a-f0-9]{3,4})$/i,m=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,x=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,g=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,C=/^(\w+)$/,_=[0,0,0,1],B,D,W;if(B=p.match(m)){for(W=B[2],B=B[1],D=0;D<3;D++){var Z=D*2;_[D]=parseInt(B.slice(Z,Z+2),16)}W&&(_[3]=parseInt(W,16)/255)}else if(B=p.match(b)){for(B=B[1],W=B[3],D=0;D<3;D++)_[D]=parseInt(B[D]+B[D],16);W&&(_[3]=parseInt(W+W,16)/255)}else if(B=p.match(x)){for(D=0;D<3;D++)_[D]=parseInt(B[D+1],0);B[4]&&(B[5]?_[3]=parseFloat(B[4])*.01:_[3]=parseFloat(B[4]))}else if(B=p.match(g)){for(D=0;D<3;D++)_[D]=Math.round(parseFloat(B[D+1])*2.55);B[4]&&(B[5]?_[3]=parseFloat(B[4])*.01:_[3]=parseFloat(B[4]))}else return(B=p.match(C))?B[1]==="transparent"?[0,0,0,0]:I.call(w,B[1])?(_=w[B[1]],_[3]=1,_):null:null;for(D=0;D<3;D++)_[D]=M(_[D],0,255);return _[3]=M(_[3],0,1),_},T.get.hsl=function(p){if(!p)return null;var b=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,m=p.match(b);if(m){var x=parseFloat(m[4]),g=(parseFloat(m[1])%360+360)%360,C=M(parseFloat(m[2]),0,100),_=M(parseFloat(m[3]),0,100),B=M(isNaN(x)?1:x,0,1);return[g,C,_,B]}return null},T.get.hwb=function(p){if(!p)return null;var b=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,m=p.match(b);if(m){var x=parseFloat(m[4]),g=(parseFloat(m[1])%360+360)%360,C=M(parseFloat(m[2]),0,100),_=M(parseFloat(m[3]),0,100),B=M(isNaN(x)?1:x,0,1);return[g,C,_,B]}return null},T.to.hex=function(){var p=O(arguments);return"#"+E(p[0])+E(p[1])+E(p[2])+(p[3]<1?E(Math.round(p[3]*255)):"")},T.to.rgb=function(){var p=O(arguments);return p.length<4||p[3]===1?"rgb("+Math.round(p[0])+", "+Math.round(p[1])+", "+Math.round(p[2])+")":"rgba("+Math.round(p[0])+", "+Math.round(p[1])+", "+Math.round(p[2])+", "+p[3]+")"},T.to.rgb.percent=function(){var p=O(arguments),b=Math.round(p[0]/255*100),m=Math.round(p[1]/255*100),x=Math.round(p[2]/255*100);return p.length<4||p[3]===1?"rgb("+b+"%, "+m+"%, "+x+"%)":"rgba("+b+"%, "+m+"%, "+x+"%, "+p[3]+")"},T.to.hsl=function(){var p=O(arguments);return p.length<4||p[3]===1?"hsl("+p[0]+", "+p[1]+"%, "+p[2]+"%)":"hsla("+p[0]+", "+p[1]+"%, "+p[2]+"%, "+p[3]+")"},T.to.hwb=function(){var p=O(arguments),b="";return p.length>=4&&p[3]!==1&&(b=", "+p[3]),"hwb("+p[0]+", "+p[1]+"%, "+p[2]+"%"+b+")"},T.to.keyword=function(p){return L[p.slice(0,3)]};function M(p,b,m){return Math.min(Math.max(b,p),m)}function E(p){var b=Math.round(p).toString(16).toUpperCase();return b.length<2?"0"+b:b}},6767:function(xt,S,d){"use strict";var w=d(19818),O=d(12085),I=[].slice,L=["keyword","gray","hex"],P={};Object.keys(O).forEach(function(C){P[I.call(O[C].labels).sort().join("")]=C});var T={};function M(C,_){if(!(this instanceof M))return new M(C,_);if(_&&_ in L&&(_=null),_&&!(_ in O))throw new Error("Unknown model: "+_);var B,D;if(C==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(C instanceof M)this.model=C.model,this.color=C.color.slice(),this.valpha=C.valpha;else if(typeof C=="string"){var W=w.get(C);if(W===null)throw new Error("Unable to parse color from string: "+C);this.model=W.model,D=O[this.model].channels,this.color=W.value.slice(0,D),this.valpha=typeof W.value[D]=="number"?W.value[D]:1}else if(C.length){this.model=_||"rgb",D=O[this.model].channels;var Z=I.call(C,0,D);this.color=g(Z,D),this.valpha=typeof C[D]=="number"?C[D]:1}else if(typeof C=="number")C&=16777215,this.model="rgb",this.color=[C>>16&255,C>>8&255,C&255],this.valpha=1;else{this.valpha=1;var X=Object.keys(C);"alpha"in C&&(X.splice(X.indexOf("alpha"),1),this.valpha=typeof C.alpha=="number"?C.alpha:0);var j=X.sort().join("");if(!(j in P))throw new Error("Unable to parse color from object: "+JSON.stringify(C));this.model=P[j];var it=O[this.model].labels,tt=[];for(B=0;B<it.length;B++)tt.push(C[it[B]]);this.color=g(tt)}if(T[this.model])for(D=O[this.model].channels,B=0;B<D;B++){var yt=T[this.model][B];yt&&(this.color[B]=yt(this.color[B]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}M.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(C){var _=this.model in w.to?this:this.rgb();_=_.round(typeof C=="number"?C:1);var B=_.valpha===1?_.color:_.color.concat(this.valpha);return w.to[_.model](B)},percentString:function(C){var _=this.rgb().round(typeof C=="number"?C:1),B=_.valpha===1?_.color:_.color.concat(this.valpha);return w.to.rgb.percent(B)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var C={},_=O[this.model].channels,B=O[this.model].labels,D=0;D<_;D++)C[B[D]]=this.color[D];return this.valpha!==1&&(C.alpha=this.valpha),C},unitArray:function(){var C=this.rgb().color;return C[0]/=255,C[1]/=255,C[2]/=255,this.valpha!==1&&C.push(this.valpha),C},unitObject:function(){var C=this.rgb().object();return C.r/=255,C.g/=255,C.b/=255,this.valpha!==1&&(C.alpha=this.valpha),C},round:function(C){return C=Math.max(C||0,0),new M(this.color.map(p(C)).concat(this.valpha),this.model)},alpha:function(C){return arguments.length?new M(this.color.concat(Math.max(0,Math.min(1,C))),this.model):this.valpha},red:b("rgb",0,m(255)),green:b("rgb",1,m(255)),blue:b("rgb",2,m(255)),hue:b(["hsl","hsv","hsl","hwb","hcg"],0,function(C){return(C%360+360)%360}),saturationl:b("hsl",1,m(100)),lightness:b("hsl",2,m(100)),saturationv:b("hsv",1,m(100)),value:b("hsv",2,m(100)),chroma:b("hcg",1,m(100)),gray:b("hcg",2,m(100)),white:b("hwb",1,m(100)),wblack:b("hwb",2,m(100)),cyan:b("cmyk",0,m(100)),magenta:b("cmyk",1,m(100)),yellow:b("cmyk",2,m(100)),black:b("cmyk",3,m(100)),x:b("xyz",0,m(100)),y:b("xyz",1,m(100)),z:b("xyz",2,m(100)),l:b("lab",0,m(100)),a:b("lab",1),b:b("lab",2),keyword:function(C){return arguments.length?new M(C):O[this.model].keyword(this.color)},hex:function(C){return arguments.length?new M(C):w.to.hex(this.rgb().round().color)},rgbNumber:function(){var C=this.rgb().color;return(C[0]&255)<<16|(C[1]&255)<<8|C[2]&255},luminosity:function(){for(var C=this.rgb().color,_=[],B=0;B<C.length;B++){var D=C[B]/255;_[B]=D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4)}return .2126*_[0]+.7152*_[1]+.0722*_[2]},contrast:function(C){var _=this.luminosity(),B=C.luminosity();return _>B?(_+.05)/(B+.05):(B+.05)/(_+.05)},level:function(C){var _=this.contrast(C);return _>=7.1?"AAA":_>=4.5?"AA":""},isDark:function(){var C=this.rgb().color,_=(C[0]*299+C[1]*587+C[2]*114)/1e3;return _<128},isLight:function(){return!this.isDark()},negate:function(){for(var C=this.rgb(),_=0;_<3;_++)C.color[_]=255-C.color[_];return C},lighten:function(C){var _=this.hsl();return _.color[2]+=_.color[2]*C,_},darken:function(C){var _=this.hsl();return _.color[2]-=_.color[2]*C,_},saturate:function(C){var _=this.hsl();return _.color[1]+=_.color[1]*C,_},desaturate:function(C){var _=this.hsl();return _.color[1]-=_.color[1]*C,_},whiten:function(C){var _=this.hwb();return _.color[1]+=_.color[1]*C,_},blacken:function(C){var _=this.hwb();return _.color[2]+=_.color[2]*C,_},grayscale:function(){var C=this.rgb().color,_=C[0]*.3+C[1]*.59+C[2]*.11;return M.rgb(_,_,_)},fade:function(C){return this.alpha(this.valpha-this.valpha*C)},opaquer:function(C){return this.alpha(this.valpha+this.valpha*C)},rotate:function(C){var _=this.hsl(),B=_.color[0];return B=(B+C)%360,B=B<0?360+B:B,_.color[0]=B,_},mix:function(C,_){if(!C||!C.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof C);var B=C.rgb(),D=this.rgb(),W=_===void 0?.5:_,Z=2*W-1,X=B.alpha()-D.alpha(),j=((Z*X==-1?Z:(Z+X)/(1+Z*X))+1)/2,it=1-j;return M.rgb(j*B.red()+it*D.red(),j*B.green()+it*D.green(),j*B.blue()+it*D.blue(),B.alpha()*W+D.alpha()*(1-W))}},Object.keys(O).forEach(function(C){if(L.indexOf(C)===-1){var _=O[C].channels;M.prototype[C]=function(){if(this.model===C)return new M(this);if(arguments.length)return new M(arguments,C);var B=typeof arguments[_]=="number"?_:this.valpha;return new M(x(O[this.model][C].raw(this.color)).concat(B),C)},M[C]=function(B){return typeof B=="number"&&(B=g(I.call(arguments),_)),new M(B,C)}}});function E(C,_){return Number(C.toFixed(_))}function p(C){return function(_){return E(_,C)}}function b(C,_,B){return C=Array.isArray(C)?C:[C],C.forEach(function(D){(T[D]||(T[D]=[]))[_]=B}),C=C[0],function(D){var W;return arguments.length?(B&&(D=B(D)),W=this[C](),W.color[_]=D,W):(W=this[C]().color[_],B&&(W=B(W)),W)}}function m(C){return function(_){return Math.max(0,Math.min(C,_))}}function x(C){return Array.isArray(C)?C:[C]}function g(C,_){for(var B=0;B<_;B++)typeof C[B]!="number"&&(C[B]=0);return C}xt.exports=M},2650:function(xt,S,d){"use strict";d.d(S,{ZP:function(){return X},B8:function(){return yt}});function w(U,K,f){U.prototype=K.prototype=f,f.constructor=U}function O(U,K){var f=Object.create(U.prototype);for(var mt in K)f[mt]=K[mt];return f}function I(){}var L=.7,P=1/L,T="\\s*([+-]?\\d+)\\s*",M="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",E="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p=/^#([0-9a-f]{3,8})$/,b=new RegExp("^rgb\\("+[T,T,T]+"\\)$"),m=new RegExp("^rgb\\("+[E,E,E]+"\\)$"),x=new RegExp("^rgba\\("+[T,T,T,M]+"\\)$"),g=new RegExp("^rgba\\("+[E,E,E,M]+"\\)$"),C=new RegExp("^hsl\\("+[M,E,E]+"\\)$"),_=new RegExp("^hsla\\("+[M,E,E,M]+"\\)$"),B={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};w(I,X,{copy:function(U){return Object.assign(new this.constructor,this,U)},displayable:function(){return this.rgb().displayable()},hex:D,formatHex:D,formatHsl:W,formatRgb:Z,toString:Z});function D(){return this.rgb().formatHex()}function W(){return Y(this).formatHsl()}function Z(){return this.rgb().formatRgb()}function X(U){var K,f;return U=(U+"").trim().toLowerCase(),(K=p.exec(U))?(f=K[1].length,K=parseInt(K[1],16),f===6?j(K):f===3?new dt(K>>8&15|K>>4&240,K>>4&15|K&240,(K&15)<<4|K&15,1):f===8?it(K>>24&255,K>>16&255,K>>8&255,(K&255)/255):f===4?it(K>>12&15|K>>8&240,K>>8&15|K>>4&240,K>>4&15|K&240,((K&15)<<4|K&15)/255):null):(K=b.exec(U))?new dt(K[1],K[2],K[3],1):(K=m.exec(U))?new dt(K[1]*255/100,K[2]*255/100,K[3]*255/100,1):(K=x.exec(U))?it(K[1],K[2],K[3],K[4]):(K=g.exec(U))?it(K[1]*255/100,K[2]*255/100,K[3]*255/100,K[4]):(K=C.exec(U))?G(K[1],K[2]/100,K[3]/100,1):(K=_.exec(U))?G(K[1],K[2]/100,K[3]/100,K[4]):B.hasOwnProperty(U)?j(B[U]):U==="transparent"?new dt(NaN,NaN,NaN,0):null}function j(U){return new dt(U>>16&255,U>>8&255,U&255,1)}function it(U,K,f,mt){return mt<=0&&(U=K=f=NaN),new dt(U,K,f,mt)}function tt(U){return U instanceof I||(U=X(U)),U?(U=U.rgb(),new dt(U.r,U.g,U.b,U.opacity)):new dt}function yt(U,K,f,mt){return arguments.length===1?tt(U):new dt(U,K,f,mt==null?1:mt)}function dt(U,K,f,mt){this.r=+U,this.g=+K,this.b=+f,this.opacity=+mt}w(dt,yt,O(I,{brighter:function(U){return U=U==null?P:Math.pow(P,U),new dt(this.r*U,this.g*U,this.b*U,this.opacity)},darker:function(U){return U=U==null?L:Math.pow(L,U),new dt(this.r*U,this.g*U,this.b*U,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ct,formatHex:Ct,formatRgb:F,toString:F}));function Ct(){return"#"+z(this.r)+z(this.g)+z(this.b)}function F(){var U=this.opacity;return U=isNaN(U)?1:Math.max(0,Math.min(1,U)),(U===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(U===1?")":", "+U+")")}function z(U){return U=Math.max(0,Math.min(255,Math.round(U)||0)),(U<16?"0":"")+U.toString(16)}function G(U,K,f,mt){return mt<=0?U=K=f=NaN:f<=0||f>=1?U=K=NaN:K<=0&&(U=NaN),new $(U,K,f,mt)}function Y(U){if(U instanceof $)return new $(U.h,U.s,U.l,U.opacity);if(U instanceof I||(U=X(U)),!U)return new $;if(U instanceof $)return U;U=U.rgb();var K=U.r/255,f=U.g/255,mt=U.b/255,Tt=Math.min(K,f,mt),at=Math.max(K,f,mt),Pt=NaN,wt=at-Tt,Et=(at+Tt)/2;return wt?(K===at?Pt=(f-mt)/wt+(f<mt)*6:f===at?Pt=(mt-K)/wt+2:Pt=(K-f)/wt+4,wt/=Et<.5?at+Tt:2-at-Tt,Pt*=60):wt=Et>0&&Et<1?0:Pt,new $(Pt,wt,Et,U.opacity)}function q(U,K,f,mt){return arguments.length===1?Y(U):new $(U,K,f,mt==null?1:mt)}function $(U,K,f,mt){this.h=+U,this.s=+K,this.l=+f,this.opacity=+mt}w($,q,O(I,{brighter:function(U){return U=U==null?P:Math.pow(P,U),new $(this.h,this.s,this.l*U,this.opacity)},darker:function(U){return U=U==null?L:Math.pow(L,U),new $(this.h,this.s,this.l*U,this.opacity)},rgb:function(){var U=this.h%360+(this.h<0)*360,K=isNaN(U)||isNaN(this.s)?0:this.s,f=this.l,mt=f+(f<.5?f:1-f)*K,Tt=2*f-mt;return new dt(J(U>=240?U-240:U+120,Tt,mt),J(U,Tt,mt),J(U<120?U+240:U-120,Tt,mt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var U=this.opacity;return U=isNaN(U)?1:Math.max(0,Math.min(1,U)),(U===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(U===1?")":", "+U+")")}}));function J(U,K,f){return(U<60?K+(f-K)*U/60:U<180?f:U<240?K+(f-K)*(240-U)/60:K)*255}},68716:function(xt,S,d){"use strict";d.d(S,{yD:function(){return w},_e:function(){return O},tw:function(){return I}});function w(L){return L*L*L}function O(L){return--L*L*L+1}function I(L){return((L*=2)<=1?L*L*L:(L-=2)*L*L+2)/2}},13681:function(xt,S,d){"use strict";d.r(S),d.d(S,{easeBack:function(){return Tt},easeBackIn:function(){return f},easeBackInOut:function(){return Tt},easeBackOut:function(){return mt},easeBounce:function(){return J},easeBounceIn:function(){return $},easeBounceInOut:function(){return U},easeBounceOut:function(){return J},easeCircle:function(){return j},easeCircleIn:function(){return Z},easeCircleInOut:function(){return j},easeCircleOut:function(){return X},easeCubic:function(){return P.tw},easeCubicIn:function(){return P.yD},easeCubicInOut:function(){return P.tw},easeCubicOut:function(){return P._e},easeElastic:function(){return Rt},easeElasticIn:function(){return Et},easeElasticInOut:function(){return Nt},easeElasticOut:function(){return Rt},easeExp:function(){return W},easeExpIn:function(){return B},easeExpInOut:function(){return W},easeExpOut:function(){return D},easeLinear:function(){return w},easePoly:function(){return p},easePolyIn:function(){return M},easePolyInOut:function(){return p},easePolyOut:function(){return E},easeQuad:function(){return L},easeQuadIn:function(){return O},easeQuadInOut:function(){return L},easeQuadOut:function(){return I},easeSin:function(){return C},easeSinIn:function(){return x},easeSinInOut:function(){return C},easeSinOut:function(){return g}});function w(kt){return+kt}function O(kt){return kt*kt}function I(kt){return kt*(2-kt)}function L(kt){return((kt*=2)<=1?kt*kt:--kt*(2-kt)+1)/2}var P=d(68716),T=3,M=function kt(_t){_t=+_t;function ht(ft){return Math.pow(ft,_t)}return ht.exponent=kt,ht}(T),E=function kt(_t){_t=+_t;function ht(ft){return 1-Math.pow(1-ft,_t)}return ht.exponent=kt,ht}(T),p=function kt(_t){_t=+_t;function ht(ft){return((ft*=2)<=1?Math.pow(ft,_t):2-Math.pow(2-ft,_t))/2}return ht.exponent=kt,ht}(T),b=Math.PI,m=b/2;function x(kt){return+kt==1?1:1-Math.cos(kt*m)}function g(kt){return Math.sin(kt*m)}function C(kt){return(1-Math.cos(b*kt))/2}function _(kt){return(Math.pow(2,-10*kt)-.0009765625)*1.0009775171065494}function B(kt){return _(1-+kt)}function D(kt){return 1-_(kt)}function W(kt){return((kt*=2)<=1?_(1-kt):2-_(kt-1))/2}function Z(kt){return 1-Math.sqrt(1-kt*kt)}function X(kt){return Math.sqrt(1- --kt*kt)}function j(kt){return((kt*=2)<=1?1-Math.sqrt(1-kt*kt):Math.sqrt(1-(kt-=2)*kt)+1)/2}var it=4/11,tt=6/11,yt=8/11,dt=3/4,Ct=9/11,F=10/11,z=15/16,G=21/22,Y=63/64,q=1/it/it;function $(kt){return 1-J(1-kt)}function J(kt){return(kt=+kt)<it?q*kt*kt:kt<yt?q*(kt-=tt)*kt+dt:kt<F?q*(kt-=Ct)*kt+z:q*(kt-=G)*kt+Y}function U(kt){return((kt*=2)<=1?1-J(1-kt):J(kt-1)+1)/2}var K=1.70158,f=function kt(_t){_t=+_t;function ht(ft){return(ft=+ft)*ft*(_t*(ft-1)+ft)}return ht.overshoot=kt,ht}(K),mt=function kt(_t){_t=+_t;function ht(ft){return--ft*ft*((ft+1)*_t+ft)+1}return ht.overshoot=kt,ht}(K),Tt=function kt(_t){_t=+_t;function ht(ft){return((ft*=2)<1?ft*ft*((_t+1)*ft-_t):(ft-=2)*ft*((_t+1)*ft+_t)+2)/2}return ht.overshoot=kt,ht}(K),at=2*Math.PI,Pt=1,wt=.3,Et=function kt(_t,ht){var ft=Math.asin(1/(_t=Math.max(1,_t)))*(ht/=at);function Mt(rt){return _t*_(- --rt)*Math.sin((ft-rt)/ht)}return Mt.amplitude=function(rt){return kt(rt,ht*at)},Mt.period=function(rt){return kt(_t,rt)},Mt}(Pt,wt),Rt=function kt(_t,ht){var ft=Math.asin(1/(_t=Math.max(1,_t)))*(ht/=at);function Mt(rt){return 1-_t*_(rt=+rt)*Math.sin((rt+ft)/ht)}return Mt.amplitude=function(rt){return kt(rt,ht*at)},Mt.period=function(rt){return kt(_t,rt)},Mt}(Pt,wt),Nt=function kt(_t,ht){var ft=Math.asin(1/(_t=Math.max(1,_t)))*(ht/=at);function Mt(rt){return((rt=rt*2-1)<0?_t*_(-rt)*Math.sin((ft-rt)/ht):2-_t*_(rt)*Math.sin((ft+rt)/ht))/2}return Mt.amplitude=function(rt){return kt(rt,ht*at)},Mt.period=function(rt){return kt(_t,rt)},Mt}(Pt,wt)},88122:function(xt,S,d){"use strict";d.d(S,{Z:function(){return I},M:function(){return L}});var w=d(26257),O=d(67896);function I(P,T){return((0,O.v)(T)?O.Z:L)(P,T)}function L(P,T){var M=T?T.length:0,E=P?Math.min(M,P.length):0,p=new Array(E),b=new Array(M),m;for(m=0;m<E;++m)p[m]=(0,w.Z)(P[m],T[m]);for(;m<M;++m)b[m]=T[m];return function(x){for(m=0;m<E;++m)b[m]=p[m](x);return b}}},73626:function(xt,S,d){"use strict";d.d(S,{Z:function(){return w}});function w(O,I){return O=+O,I=+I,function(L){return O*(1-L)+I*L}}},67896:function(xt,S,d){"use strict";d.d(S,{Z:function(){return w},v:function(){return O}});function w(I,L){L||(L=[]);var P=I?Math.min(L.length,I.length):0,T=L.slice(),M;return function(E){for(M=0;M<P;++M)T[M]=I[M]*(1-E)+L[M]*E;return T}}function O(I){return ArrayBuffer.isView(I)&&!(I instanceof DataView)}},26257:function(xt,S,d){"use strict";d.d(S,{Z:function(){return dt}});var w=d(2650);function O(Ct,F,z,G,Y){var q=Ct*Ct,$=q*Ct;return((1-3*Ct+3*q-$)*F+(4-6*q+3*$)*z+(1+3*Ct+3*q-3*$)*G+$*Y)/6}function I(Ct){var F=Ct.length-1;return function(z){var G=z<=0?z=0:z>=1?(z=1,F-1):Math.floor(z*F),Y=Ct[G],q=Ct[G+1],$=G>0?Ct[G-1]:2*Y-q,J=G<F-1?Ct[G+2]:2*q-Y;return O((z-G/F)*F,$,Y,q,J)}}function L(Ct){var F=Ct.length;return function(z){var G=Math.floor(((z%=1)<0?++z:z)*F),Y=Ct[(G+F-1)%F],q=Ct[G%F],$=Ct[(G+1)%F],J=Ct[(G+2)%F];return O((z-G/F)*F,Y,q,$,J)}}function P(Ct){return function(){return Ct}}function T(Ct,F){return function(z){return Ct+z*F}}function M(Ct,F,z){return Ct=Math.pow(Ct,z),F=Math.pow(F,z)-Ct,z=1/z,function(G){return Math.pow(Ct+G*F,z)}}function E(Ct,F){var z=F-Ct;return z?T(Ct,z>180||z<-180?z-360*Math.round(z/360):z):constant(isNaN(Ct)?F:Ct)}function p(Ct){return(Ct=+Ct)==1?b:function(F,z){return z-F?M(F,z,Ct):P(isNaN(F)?z:F)}}function b(Ct,F){var z=F-Ct;return z?T(Ct,z):P(isNaN(Ct)?F:Ct)}var m=function Ct(F){var z=p(F);function G(Y,q){var $=z((Y=(0,w.B8)(Y)).r,(q=(0,w.B8)(q)).r),J=z(Y.g,q.g),U=z(Y.b,q.b),K=b(Y.opacity,q.opacity);return function(f){return Y.r=$(f),Y.g=J(f),Y.b=U(f),Y.opacity=K(f),Y+""}}return G.gamma=Ct,G}(1);function x(Ct){return function(F){var z=F.length,G=new Array(z),Y=new Array(z),q=new Array(z),$,J;for($=0;$<z;++$)J=(0,w.B8)(F[$]),G[$]=J.r||0,Y[$]=J.g||0,q[$]=J.b||0;return G=Ct(G),Y=Ct(Y),q=Ct(q),J.opacity=1,function(U){return J.r=G(U),J.g=Y(U),J.b=q(U),J+""}}}var g=x(I),C=x(L),_=d(88122);function B(Ct,F){var z=new Date;return Ct=+Ct,F=+F,function(G){return z.setTime(Ct*(1-G)+F*G),z}}var D=d(73626);function W(Ct,F){var z={},G={},Y;(Ct===null||typeof Ct!="object")&&(Ct={}),(F===null||typeof F!="object")&&(F={});for(Y in F)Y in Ct?z[Y]=dt(Ct[Y],F[Y]):G[Y]=F[Y];return function(q){for(Y in z)G[Y]=z[Y](q);return G}}var Z=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,X=new RegExp(Z.source,"g");function j(Ct){return function(){return Ct}}function it(Ct){return function(F){return Ct(F)+""}}function tt(Ct,F){var z=Z.lastIndex=X.lastIndex=0,G,Y,q,$=-1,J=[],U=[];for(Ct=Ct+"",F=F+"";(G=Z.exec(Ct))&&(Y=X.exec(F));)(q=Y.index)>z&&(q=F.slice(z,q),J[$]?J[$]+=q:J[++$]=q),(G=G[0])===(Y=Y[0])?J[$]?J[$]+=Y:J[++$]=Y:(J[++$]=null,U.push({i:$,x:(0,D.Z)(G,Y)})),z=X.lastIndex;return z<F.length&&(q=F.slice(z),J[$]?J[$]+=q:J[++$]=q),J.length<2?U[0]?it(U[0].x):j(F):(F=U.length,function(K){for(var f=0,mt;f<F;++f)J[(mt=U[f]).i]=mt.x(K);return J.join("")})}var yt=d(67896);function dt(Ct,F){var z=typeof F,G;return F==null||z==="boolean"?P(F):(z==="number"?D.Z:z==="string"?(G=(0,w.ZP)(F))?(F=G,m):tt:F instanceof w.ZP?m:F instanceof Date?B:(0,yt.v)(F)?yt.Z:Array.isArray(F)?_.M:typeof F.valueOf!="function"&&typeof F.toString!="function"||isNaN(F)?W:D.Z)(Ct,F)}},56645:function(xt,S){(function(d,w){w(S)})(this,function(d){"use strict";function w(F,z){return O(F)||I(F,z)||L()}function O(F){if(Array.isArray(F))return F}function I(F,z){var G=[],Y=!0,q=!1,$=void 0;try{for(var J=F[Symbol.iterator](),U;!(Y=(U=J.next()).done)&&(G.push(U.value),!(z&&G.length===z));Y=!0);}catch(K){q=!0,$=K}finally{try{!Y&&J.return!=null&&J.return()}finally{if(q)throw $}}return G}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function P(F,z,G,Y){F=F.filter(function(wt,Et){var Rt=z(wt,Et),Nt=G(wt,Et);return Rt!=null&&isFinite(Rt)&&Nt!=null&&isFinite(Nt)}),Y&&F.sort(function(wt,Et){return z(wt)-z(Et)});for(var q=F.length,$=new Float64Array(q),J=new Float64Array(q),U=0,K=0,f,mt,Tt,at=0;at<q;)Tt=F[at],$[at]=f=+z(Tt,at,F),J[at]=mt=+G(Tt,at,F),++at,U+=(f-U)/at,K+=(mt-K)/at;for(var Pt=0;Pt<q;++Pt)$[Pt]-=U,J[Pt]-=K;return[$,J,U,K]}function T(F,z,G,Y){for(var q=0,$=0,J=F.length;$<J;$++){var U=F[$],K=+z(U,$,F),f=+G(U,$,F);K!=null&&isFinite(K)&&f!=null&&isFinite(f)&&Y(K,f,q++)}}function M(F,z,G,Y,q){var $=0,J=0;return T(F,z,G,function(U,K){var f=K-q(U),mt=K-Y;$+=f*f,J+=mt*mt}),1-$/J}function E(F){return Math.atan2(F[1][1]-F[0][1],F[1][0]-F[0][0])*180/Math.PI}function p(F){return[(F[0][0]+F[1][0])/2,(F[0][1]+F[1][1])/2]}function b(F,z,G){for(var Y=Math.log(z-F)*Math.LOG10E+1|0,q=1*Math.pow(10,-Y/2-1),$=1e4,J=[K(F),K(z)],U=0;f(J)&&U<$;);return J;function K(mt){return[mt,G(mt)]}function f(mt){U++;for(var Tt=mt.length,at=!1,Pt=0;Pt<Tt-1;Pt++){var wt=mt[Pt],Et=mt[Pt+1],Rt=p([wt,Et]),Nt=K(Rt[0]),kt=E([wt,Rt]),_t=E([wt,Nt]),ht=Math.abs(kt-_t);ht>q&&(mt.splice(Pt+1,0,Nt),at=!0)}return at}}function m(F,z,G,Y){var q=Y-F*F,$=Math.abs(q)<1e-24?0:(G-F*z)/q,J=z-$*F;return[J,$]}function x(){var F=function($){return $[0]},z=function($){return $[1]},G;function Y(q){var $=0,J=0,U=0,K=0,f=0,mt=0,Tt=G?+G[0]:Infinity,at=G?+G[1]:-Infinity;T(q,F,z,function(_t,ht){var ft=Math.log(ht),Mt=_t*ht;++$,J+=(ht-J)/$,K+=(Mt-K)/$,mt+=(_t*Mt-mt)/$,U+=(ht*ft-U)/$,f+=(Mt*ft-f)/$,G||(_t<Tt&&(Tt=_t),_t>at&&(at=_t))});var Pt=m(K/J,U/J,f/J,mt/J),wt=w(Pt,2),Et=wt[0],Rt=wt[1];Et=Math.exp(Et);var Nt=function(ht){return Et*Math.exp(Rt*ht)},kt=b(Tt,at,Nt);return kt.a=Et,kt.b=Rt,kt.predict=Nt,kt.rSquared=M(q,F,z,J,Nt),kt}return Y.domain=function(q){return arguments.length?(G=q,Y):G},Y.x=function(q){return arguments.length?(F=q,Y):F},Y.y=function(q){return arguments.length?(z=q,Y):z},Y}function g(){var F=function($){return $[0]},z=function($){return $[1]},G;function Y(q){var $=0,J=0,U=0,K=0,f=0,mt=G?+G[0]:Infinity,Tt=G?+G[1]:-Infinity;T(q,F,z,function(kt,_t){++$,J+=(kt-J)/$,U+=(_t-U)/$,K+=(kt*_t-K)/$,f+=(kt*kt-f)/$,G||(kt<mt&&(mt=kt),kt>Tt&&(Tt=kt))});var at=m(J,U,K,f),Pt=w(at,2),wt=Pt[0],Et=Pt[1],Rt=function(_t){return Et*_t+wt},Nt=[[mt,Rt(mt)],[Tt,Rt(Tt)]];return Nt.a=Et,Nt.b=wt,Nt.predict=Rt,Nt.rSquared=M(q,F,z,U,Rt),Nt}return Y.domain=function(q){return arguments.length?(G=q,Y):G},Y.x=function(q){return arguments.length?(F=q,Y):F},Y.y=function(q){return arguments.length?(z=q,Y):z},Y}function C(F){F.sort(function(G,Y){return G-Y});var z=F.length/2;return z%1==0?(F[z-1]+F[z])/2:F[Math.floor(z)]}var _=2,B=1e-12;function D(){var F=function($){return $[0]},z=function($){return $[1]},G=.3;function Y(q){for(var $=P(q,F,z,!0),J=w($,4),U=J[0],K=J[1],f=J[2],mt=J[3],Tt=U.length,at=Math.max(2,~~(G*Tt)),Pt=new Float64Array(Tt),wt=new Float64Array(Tt),Et=new Float64Array(Tt).fill(1),Rt=-1;++Rt<=_;){for(var Nt=[0,at-1],kt=0;kt<Tt;++kt){for(var _t=U[kt],ht=Nt[0],ft=Nt[1],Mt=_t-U[ht]>U[ft]-_t?ht:ft,rt=0,et=0,lt=0,st=0,At=0,Ot=1/Math.abs(U[Mt]-_t||1),Qt=ht;Qt<=ft;++Qt){var ve=U[Qt],fe=K[Qt],ce=W(Math.abs(_t-ve)*Ot)*Et[Qt],Ae=ve*ce;rt+=ce,et+=Ae,lt+=fe*ce,st+=fe*Ae,At+=ve*Ae}var De=m(et/rt,lt/rt,st/rt,At/rt),rr=w(De,2),Je=rr[0],Er=rr[1];Pt[kt]=Je+Er*_t,wt[kt]=Math.abs(K[kt]-Pt[kt]),Z(U,kt+1,Nt)}if(Rt===_)break;var Jr=C(wt);if(Math.abs(Jr)<B)break;for(var Ar=0,Qr,Un;Ar<Tt;++Ar)Qr=wt[Ar]/(6*Jr),Et[Ar]=Qr>=1?B:(Un=1-Qr*Qr)*Un}return X(U,Pt,f,mt)}return Y.bandwidth=function(q){return arguments.length?(G=q,Y):G},Y.x=function(q){return arguments.length?(F=q,Y):F},Y.y=function(q){return arguments.length?(z=q,Y):z},Y}function W(F){return(F=1-F*F*F)*F*F}function Z(F,z,G){var Y=F[z],q=G[0],$=G[1]+1;if(!($>=F.length))for(;z>q&&F[$]-Y<=Y-F[q];)G[0]=++q,G[1]=$,++$}function X(F,z,G,Y){for(var q=F.length,$=[],J=0,U=0,K=[],f;J<q;++J)f=F[J]+G,K[0]===f?K[1]+=(z[J]-K[1])/++U:(U=0,K[1]+=Y,K=[f,z[J]],$.push(K));return K[1]+=Y,$}function j(){var F=function(J){return J[0]},z=function(J){return J[1]},G=Math.E,Y;function q($){var J=0,U=0,K=0,f=0,mt=0,Tt=Y?+Y[0]:Infinity,at=Y?+Y[1]:-Infinity,Pt=Math.log(G);T($,F,z,function(ht,ft){var Mt=Math.log(ht)/Pt;++J,U+=(Mt-U)/J,K+=(ft-K)/J,f+=(Mt*ft-f)/J,mt+=(Mt*Mt-mt)/J,Y||(ht<Tt&&(Tt=ht),ht>at&&(at=ht))});var wt=m(U,K,f,mt),Et=w(wt,2),Rt=Et[0],Nt=Et[1],kt=function(ft){return Nt*Math.log(ft)/Pt+Rt},_t=b(Tt,at,kt);return _t.a=Nt,_t.b=Rt,_t.predict=kt,_t.rSquared=M($,F,z,K,kt),_t}return q.domain=function($){return arguments.length?(Y=$,q):Y},q.x=function($){return arguments.length?(F=$,q):F},q.y=function($){return arguments.length?(z=$,q):z},q.base=function($){return arguments.length?(G=$,q):G},q}function it(){var F=function($){return $[0]},z=function($){return $[1]},G;function Y(q){var $=P(q,F,z),J=w($,4),U=J[0],K=J[1],f=J[2],mt=J[3],Tt=U.length,at=0,Pt=0,wt=0,Et=0,Rt=0,Nt,kt,_t,ht;for(Nt=0;Nt<Tt;)kt=U[Nt],_t=K[Nt++],ht=kt*kt,at+=(ht-at)/Nt,Pt+=(ht*kt-Pt)/Nt,wt+=(ht*ht-wt)/Nt,Et+=(kt*_t-Et)/Nt,Rt+=(ht*_t-Rt)/Nt;var ft=0,Mt=0,rt=G?+G[0]:Infinity,et=G?+G[1]:-Infinity;T(q,F,z,function(ce,Ae){Mt++,ft+=(Ae-ft)/Mt,G||(ce<rt&&(rt=ce),ce>et&&(et=ce))});var lt=wt-at*at,st=at*lt-Pt*Pt,At=(Rt*at-Et*Pt)/st,Ot=(Et*lt-Rt*Pt)/st,Qt=-At*at,ve=function(Ae){return Ae=Ae-f,At*Ae*Ae+Ot*Ae+Qt+mt},fe=b(rt,et,ve);return fe.a=At,fe.b=Ot-2*At*f,fe.c=Qt-Ot*f+At*f*f+mt,fe.predict=ve,fe.rSquared=M(q,F,z,ft,ve),fe}return Y.domain=function(q){return arguments.length?(G=q,Y):G},Y.x=function(q){return arguments.length?(F=q,Y):F},Y.y=function(q){return arguments.length?(z=q,Y):z},Y}function tt(){var F=function(J){return J[0]},z=function(J){return J[1]},G=3,Y;function q($){if(G===1){var J=g().x(F).y(z).domain(Y)($);return J.coefficients=[J.b,J.a],delete J.a,delete J.b,J}if(G===2){var U=it().x(F).y(z).domain(Y)($);return U.coefficients=[U.c,U.b,U.a],delete U.a,delete U.b,delete U.c,U}var K=P($,F,z),f=w(K,4),mt=f[0],Tt=f[1],at=f[2],Pt=f[3],wt=mt.length,Et=[],Rt=[],Nt=G+1,kt=0,_t=0,ht=Y?+Y[0]:Infinity,ft=Y?+Y[1]:-Infinity;T($,F,z,function(ve,fe){++_t,kt+=(fe-kt)/_t,Y||(ve<ht&&(ht=ve),ve>ft&&(ft=ve))});var Mt,rt,et,lt,st;for(Mt=0;Mt<Nt;++Mt){for(et=0,lt=0;et<wt;++et)lt+=Math.pow(mt[et],Mt)*Tt[et];for(Et.push(lt),st=new Float64Array(Nt),rt=0;rt<Nt;++rt){for(et=0,lt=0;et<wt;++et)lt+=Math.pow(mt[et],Mt+rt);st[rt]=lt}Rt.push(st)}Rt.push(Et);var At=dt(Rt),Ot=function(fe){fe-=at;var ce=Pt+At[0]+At[1]*fe+At[2]*fe*fe;for(Mt=3;Mt<Nt;++Mt)ce+=At[Mt]*Math.pow(fe,Mt);return ce},Qt=b(ht,ft,Ot);return Qt.coefficients=yt(Nt,At,-at,Pt),Qt.predict=Ot,Qt.rSquared=M($,F,z,kt,Ot),Qt}return q.domain=function($){return arguments.length?(Y=$,q):Y},q.x=function($){return arguments.length?(F=$,q):F},q.y=function($){return arguments.length?(z=$,q):z},q.order=function($){return arguments.length?(G=$,q):G},q}function yt(F,z,G,Y){var q=Array(F),$,J,U,K;for($=0;$<F;++$)q[$]=0;for($=F-1;$>=0;--$)for(U=z[$],K=1,q[$]+=U,J=1;J<=$;++J)K*=($+1-J)/J,q[$-J]+=U*Math.pow(G,J)*K;return q[0]+=Y,q}function dt(F){var z=F.length-1,G=[],Y,q,$,J,U;for(Y=0;Y<z;++Y){for(J=Y,q=Y+1;q<z;++q)Math.abs(F[Y][q])>Math.abs(F[Y][J])&&(J=q);for($=Y;$<z+1;++$)U=F[$][Y],F[$][Y]=F[$][J],F[$][J]=U;for(q=Y+1;q<z;++q)for($=z;$>=Y;$--)F[$][q]-=F[$][Y]*F[Y][q]/F[Y][Y]}for(q=z-1;q>=0;--q){for(U=0,$=q+1;$<z;++$)U+=F[$][q]*G[$];G[q]=(F[z][q]-U)/F[q][q]}return G}function Ct(){var F=function($){return $[0]},z=function($){return $[1]},G;function Y(q){var $=0,J=0,U=0,K=0,f=0,mt=0,Tt=G?+G[0]:Infinity,at=G?+G[1]:-Infinity;T(q,F,z,function(_t,ht){var ft=Math.log(_t),Mt=Math.log(ht);++$,J+=(ft-J)/$,U+=(Mt-U)/$,K+=(ft*Mt-K)/$,f+=(ft*ft-f)/$,mt+=(ht-mt)/$,G||(_t<Tt&&(Tt=_t),_t>at&&(at=_t))});var Pt=m(J,U,K,f),wt=w(Pt,2),Et=wt[0],Rt=wt[1];Et=Math.exp(Et);var Nt=function(ht){return Et*Math.pow(ht,Rt)},kt=b(Tt,at,Nt);return kt.a=Et,kt.b=Rt,kt.predict=Nt,kt.rSquared=M(q,F,z,mt,Nt),kt}return Y.domain=function(q){return arguments.length?(G=q,Y):G},Y.x=function(q){return arguments.length?(F=q,Y):F},Y.y=function(q){return arguments.length?(z=q,Y):z},Y}d.regressionExp=x,d.regressionLinear=g,d.regressionLoess=D,d.regressionLog=j,d.regressionPoly=tt,d.regressionPow=Ct,d.regressionQuad=it,Object.defineProperty(d,"__esModule",{value:!0})})},49772:function(xt,S,d){xt.exports={graphlib:d(70574),layout:d(98123),debug:d(27570),util:{time:d(11138).time,notime:d(11138).notime},version:d(88177)}},92188:function(xt,S,d){"use strict";var w=d(38436),O=d(74079);xt.exports={run:I,undo:P};function I(T){var M=T.graph().acyclicer==="greedy"?O(T,E(T)):L(T);w.forEach(M,function(p){var b=T.edge(p);T.removeEdge(p),b.forwardName=p.name,b.reversed=!0,T.setEdge(p.w,p.v,b,w.uniqueId("rev"))});function E(p){return function(b){return p.edge(b).weight}}}function L(T){var M=[],E={},p={};function b(m){w.has(p,m)||(p[m]=!0,E[m]=!0,w.forEach(T.outEdges(m),function(x){w.has(E,x.w)?M.push(x):b(x.w)}),delete E[m])}return w.forEach(T.nodes(),b),M}function P(T){w.forEach(T.edges(),function(M){var E=T.edge(M);if(E.reversed){T.removeEdge(M);var p=E.forwardName;delete E.reversed,delete E.forwardName,T.setEdge(M.w,M.v,E,p)}})}},61133:function(xt,S,d){var w=d(38436),O=d(11138);xt.exports=I;function I(P){function T(M){var E=P.children(M),p=P.node(M);if(E.length&&w.forEach(E,T),w.has(p,"minRank")){p.borderLeft=[],p.borderRight=[];for(var b=p.minRank,m=p.maxRank+1;b<m;++b)L(P,"borderLeft","_bl",M,p,b),L(P,"borderRight","_br",M,p,b)}}w.forEach(P.children(),T)}function L(P,T,M,E,p,b){var m={width:0,height:0,rank:b,borderType:T},x=p[T][b-1],g=O.addDummyNode(P,"border",m,M);p[T][b]=g,P.setParent(g,E),x&&P.setEdge(x,g,{weight:1})}},53258:function(xt,S,d){"use strict";var w=d(38436);xt.exports={adjust:O,undo:I};function O(b){var m=b.graph().rankdir.toLowerCase();(m==="lr"||m==="rl")&&L(b)}function I(b){var m=b.graph().rankdir.toLowerCase();(m==="bt"||m==="rl")&&T(b),(m==="lr"||m==="rl")&&(E(b),L(b))}function L(b){w.forEach(b.nodes(),function(m){P(b.node(m))}),w.forEach(b.edges(),function(m){P(b.edge(m))})}function P(b){var m=b.width;b.width=b.height,b.height=m}function T(b){w.forEach(b.nodes(),function(m){M(b.node(m))}),w.forEach(b.edges(),function(m){var x=b.edge(m);w.forEach(x.points,M),w.has(x,"y")&&M(x)})}function M(b){b.y=-b.y}function E(b){w.forEach(b.nodes(),function(m){p(b.node(m))}),w.forEach(b.edges(),function(m){var x=b.edge(m);w.forEach(x.points,p),w.has(x,"x")&&p(x)})}function p(b){var m=b.x;b.x=b.y,b.y=m}},77822:function(xt){xt.exports=S;function S(){var O={};O._next=O._prev=O,this._sentinel=O}S.prototype.dequeue=function(){var O=this._sentinel,I=O._prev;if(I!==O)return d(I),I},S.prototype.enqueue=function(O){var I=this._sentinel;O._prev&&O._next&&d(O),O._next=I._next,I._next._prev=O,I._next=O,O._prev=I},S.prototype.toString=function(){for(var O=[],I=this._sentinel,L=I._prev;L!==I;)O.push(JSON.stringify(L,w)),L=L._prev;return"["+O.join(", ")+"]"};function d(O){O._prev._next=O._next,O._next._prev=O._prev,delete O._next,delete O._prev}function w(O,I){if(O!=="_next"&&O!=="_prev")return I}},27570:function(xt,S,d){var w=d(38436),O=d(11138),I=d(70574).Graph;xt.exports={debugOrdering:L};function L(P){var T=O.buildLayerMatrix(P),M=new I({compound:!0,multigraph:!0}).setGraph({});return w.forEach(P.nodes(),function(E){M.setNode(E,{label:E}),M.setParent(E,"layer"+P.node(E).rank)}),w.forEach(P.edges(),function(E){M.setEdge(E.v,E.w,{},E.name)}),w.forEach(T,function(E,p){var b="layer"+p;M.setNode(b,{rank:"same"}),w.reduce(E,function(m,x){return M.setEdge(m,x,{style:"invis"}),x})}),M}},70574:function(xt,S,d){var w;try{w=d(28282)}catch(O){}w||(w=window.graphlib),xt.exports=w},74079:function(xt,S,d){var w=d(38436),O=d(70574).Graph,I=d(77822);xt.exports=P;var L=w.constant(1);function P(b,m){if(b.nodeCount()<=1)return[];var x=E(b,m||L),g=T(x.graph,x.buckets,x.zeroIdx);return w.flatten(w.map(g,function(C){return b.outEdges(C.v,C.w)}),!0)}function T(b,m,x){for(var g=[],C=m[m.length-1],_=m[0],B;b.nodeCount();){for(;B=_.dequeue();)M(b,m,x,B);for(;B=C.dequeue();)M(b,m,x,B);if(b.nodeCount()){for(var D=m.length-2;D>0;--D)if(B=m[D].dequeue(),B){g=g.concat(M(b,m,x,B,!0));break}}}return g}function M(b,m,x,g,C){var _=C?[]:void 0;return w.forEach(b.inEdges(g.v),function(B){var D=b.edge(B),W=b.node(B.v);C&&_.push({v:B.v,w:B.w}),W.out-=D,p(m,x,W)}),w.forEach(b.outEdges(g.v),function(B){var D=b.edge(B),W=B.w,Z=b.node(W);Z.in-=D,p(m,x,Z)}),b.removeNode(g.v),_}function E(b,m){var x=new O,g=0,C=0;w.forEach(b.nodes(),function(D){x.setNode(D,{v:D,in:0,out:0})}),w.forEach(b.edges(),function(D){var W=x.edge(D.v,D.w)||0,Z=m(D),X=W+Z;x.setEdge(D.v,D.w,X),C=Math.max(C,x.node(D.v).out+=Z),g=Math.max(g,x.node(D.w).in+=Z)});var _=w.range(C+g+3).map(function(){return new I}),B=g+1;return w.forEach(x.nodes(),function(D){p(_,B,x.node(D))}),{graph:x,buckets:_,zeroIdx:B}}function p(b,m,x){x.out?x.in?b[x.out-x.in+m].enqueue(x):b[b.length-1].enqueue(x):b[0].enqueue(x)}},98123:function(xt,S,d){"use strict";var w=d(38436),O=d(92188),I=d(45995),L=d(78093),P=d(11138).normalizeRanks,T=d(24219),M=d(11138).removeEmptyRanks,E=d(72981),p=d(61133),b=d(53258),m=d(53408),x=d(17873),g=d(11138),C=d(70574).Graph;xt.exports=_;function _(wt,Et){var Rt=Et&&Et.debugTiming?g.time:g.notime;Rt("layout",function(){var Nt=Rt("  buildLayoutGraph",function(){return Ct(wt)});Rt("  runLayout",function(){B(Nt,Rt)}),Rt("  updateInputGraph",function(){D(wt,Nt)})})}function B(wt,Et){Et("    makeSpaceForEdgeLabels",function(){F(wt)}),Et("    removeSelfEdges",function(){f(wt)}),Et("    acyclic",function(){O.run(wt)}),Et("    nestingGraph.run",function(){E.run(wt)}),Et("    rank",function(){L(g.asNonCompoundGraph(wt))}),Et("    injectEdgeLabelProxies",function(){z(wt)}),Et("    removeEmptyRanks",function(){M(wt)}),Et("    nestingGraph.cleanup",function(){E.cleanup(wt)}),Et("    normalizeRanks",function(){P(wt)}),Et("    assignRankMinMax",function(){G(wt)}),Et("    removeEdgeLabelProxies",function(){Y(wt)}),Et("    normalize.run",function(){I.run(wt)}),Et("    parentDummyChains",function(){T(wt)}),Et("    addBorderSegments",function(){p(wt)}),Et("    order",function(){m(wt)}),Et("    insertSelfEdges",function(){mt(wt)}),Et("    adjustCoordinateSystem",function(){b.adjust(wt)}),Et("    position",function(){x(wt)}),Et("    positionSelfEdges",function(){Tt(wt)}),Et("    removeBorderNodes",function(){K(wt)}),Et("    normalize.undo",function(){I.undo(wt)}),Et("    fixupEdgeLabelCoords",function(){J(wt)}),Et("    undoCoordinateSystem",function(){b.undo(wt)}),Et("    translateGraph",function(){q(wt)}),Et("    assignNodeIntersects",function(){$(wt)}),Et("    reversePoints",function(){U(wt)}),Et("    acyclic.undo",function(){O.undo(wt)})}function D(wt,Et){w.forEach(wt.nodes(),function(Rt){var Nt=wt.node(Rt),kt=Et.node(Rt);Nt&&(Nt.x=kt.x,Nt.y=kt.y,Et.children(Rt).length&&(Nt.width=kt.width,Nt.height=kt.height))}),w.forEach(wt.edges(),function(Rt){var Nt=wt.edge(Rt),kt=Et.edge(Rt);Nt.points=kt.points,w.has(kt,"x")&&(Nt.x=kt.x,Nt.y=kt.y)}),wt.graph().width=Et.graph().width,wt.graph().height=Et.graph().height}var W=["nodesep","edgesep","ranksep","marginx","marginy"],Z={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},X=["acyclicer","ranker","rankdir","align"],j=["width","height"],it={width:0,height:0},tt=["minlen","weight","width","height","labeloffset"],yt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},dt=["labelpos"];function Ct(wt){var Et=new C({multigraph:!0,compound:!0}),Rt=Pt(wt.graph());return Et.setGraph(w.merge({},Z,at(Rt,W),w.pick(Rt,X))),w.forEach(wt.nodes(),function(Nt){var kt=Pt(wt.node(Nt));Et.setNode(Nt,w.defaults(at(kt,j),it)),Et.setParent(Nt,wt.parent(Nt))}),w.forEach(wt.edges(),function(Nt){var kt=Pt(wt.edge(Nt));Et.setEdge(Nt,w.merge({},yt,at(kt,tt),w.pick(kt,dt)))}),Et}function F(wt){var Et=wt.graph();Et.ranksep/=2,w.forEach(wt.edges(),function(Rt){var Nt=wt.edge(Rt);Nt.minlen*=2,Nt.labelpos.toLowerCase()!=="c"&&(Et.rankdir==="TB"||Et.rankdir==="BT"?Nt.width+=Nt.labeloffset:Nt.height+=Nt.labeloffset)})}function z(wt){w.forEach(wt.edges(),function(Et){var Rt=wt.edge(Et);if(Rt.width&&Rt.height){var Nt=wt.node(Et.v),kt=wt.node(Et.w),_t={rank:(kt.rank-Nt.rank)/2+Nt.rank,e:Et};g.addDummyNode(wt,"edge-proxy",_t,"_ep")}})}function G(wt){var Et=0;w.forEach(wt.nodes(),function(Rt){var Nt=wt.node(Rt);Nt.borderTop&&(Nt.minRank=wt.node(Nt.borderTop).rank,Nt.maxRank=wt.node(Nt.borderBottom).rank,Et=w.max(Et,Nt.maxRank))}),wt.graph().maxRank=Et}function Y(wt){w.forEach(wt.nodes(),function(Et){var Rt=wt.node(Et);Rt.dummy==="edge-proxy"&&(wt.edge(Rt.e).labelRank=Rt.rank,wt.removeNode(Et))})}function q(wt){var Et=Number.POSITIVE_INFINITY,Rt=0,Nt=Number.POSITIVE_INFINITY,kt=0,_t=wt.graph(),ht=_t.marginx||0,ft=_t.marginy||0;function Mt(rt){var et=rt.x,lt=rt.y,st=rt.width,At=rt.height;Et=Math.min(Et,et-st/2),Rt=Math.max(Rt,et+st/2),Nt=Math.min(Nt,lt-At/2),kt=Math.max(kt,lt+At/2)}w.forEach(wt.nodes(),function(rt){Mt(wt.node(rt))}),w.forEach(wt.edges(),function(rt){var et=wt.edge(rt);w.has(et,"x")&&Mt(et)}),Et-=ht,Nt-=ft,w.forEach(wt.nodes(),function(rt){var et=wt.node(rt);et.x-=Et,et.y-=Nt}),w.forEach(wt.edges(),function(rt){var et=wt.edge(rt);w.forEach(et.points,function(lt){lt.x-=Et,lt.y-=Nt}),w.has(et,"x")&&(et.x-=Et),w.has(et,"y")&&(et.y-=Nt)}),_t.width=Rt-Et+ht,_t.height=kt-Nt+ft}function $(wt){w.forEach(wt.edges(),function(Et){var Rt=wt.edge(Et),Nt=wt.node(Et.v),kt=wt.node(Et.w),_t,ht;Rt.points?(_t=Rt.points[0],ht=Rt.points[Rt.points.length-1]):(Rt.points=[],_t=kt,ht=Nt),Rt.points.unshift(g.intersectRect(Nt,_t)),Rt.points.push(g.intersectRect(kt,ht))})}function J(wt){w.forEach(wt.edges(),function(Et){var Rt=wt.edge(Et);if(w.has(Rt,"x"))switch((Rt.labelpos==="l"||Rt.labelpos==="r")&&(Rt.width-=Rt.labeloffset),Rt.labelpos){case"l":Rt.x-=Rt.width/2+Rt.labeloffset;break;case"r":Rt.x+=Rt.width/2+Rt.labeloffset;break}})}function U(wt){w.forEach(wt.edges(),function(Et){var Rt=wt.edge(Et);Rt.reversed&&Rt.points.reverse()})}function K(wt){w.forEach(wt.nodes(),function(Et){if(wt.children(Et).length){var Rt=wt.node(Et),Nt=wt.node(Rt.borderTop),kt=wt.node(Rt.borderBottom),_t=wt.node(w.last(Rt.borderLeft)),ht=wt.node(w.last(Rt.borderRight));Rt.width=Math.abs(ht.x-_t.x),Rt.height=Math.abs(kt.y-Nt.y),Rt.x=_t.x+Rt.width/2,Rt.y=Nt.y+Rt.height/2}}),w.forEach(wt.nodes(),function(Et){wt.node(Et).dummy==="border"&&wt.removeNode(Et)})}function f(wt){w.forEach(wt.edges(),function(Et){if(Et.v===Et.w){var Rt=wt.node(Et.v);Rt.selfEdges||(Rt.selfEdges=[]),Rt.selfEdges.push({e:Et,label:wt.edge(Et)}),wt.removeEdge(Et)}})}function mt(wt){var Et=g.buildLayerMatrix(wt);w.forEach(Et,function(Rt){var Nt=0;w.forEach(Rt,function(kt,_t){var ht=wt.node(kt);ht.order=_t+Nt,w.forEach(ht.selfEdges,function(ft){g.addDummyNode(wt,"selfedge",{width:ft.label.width,height:ft.label.height,rank:ht.rank,order:_t+ ++Nt,e:ft.e,label:ft.label},"_se")}),delete ht.selfEdges})})}function Tt(wt){w.forEach(wt.nodes(),function(Et){var Rt=wt.node(Et);if(Rt.dummy==="selfedge"){var Nt=wt.node(Rt.e.v),kt=Nt.x+Nt.width/2,_t=Nt.y,ht=Rt.x-kt,ft=Nt.height/2;wt.setEdge(Rt.e,Rt.label),wt.removeNode(Et),Rt.label.points=[{x:kt+2*ht/3,y:_t-ft},{x:kt+5*ht/6,y:_t-ft},{x:kt+ht,y:_t},{x:kt+5*ht/6,y:_t+ft},{x:kt+2*ht/3,y:_t+ft}],Rt.label.x=Rt.x,Rt.label.y=Rt.y}})}function at(wt,Et){return w.mapValues(w.pick(wt,Et),Number)}function Pt(wt){var Et={};return w.forEach(wt,function(Rt,Nt){Et[Nt.toLowerCase()]=Rt}),Et}},38436:function(xt,S,d){var w;try{w={cloneDeep:d(50361),constant:d(75703),defaults:d(91747),each:d(66073),filter:d(63105),find:d(13311),flatten:d(85564),forEach:d(84486),forIn:d(62620),has:d(18721),isUndefined:d(52353),last:d(10928),map:d(35161),mapValues:d(66604),max:d(6162),merge:d(82492),min:d(53632),minBy:d(22762),now:d(7771),pick:d(78718),range:d(96026),reduce:d(54061),sortBy:d(89734),uniqueId:d(73955),values:d(52628),zipObject:d(7287)}}catch(O){}w||(w=window._),xt.exports=w},72981:function(xt,S,d){var w=d(38436),O=d(11138);xt.exports={run:I,cleanup:M};function I(E){var p=O.addDummyNode(E,"root",{},"_root"),b=P(E),m=w.max(w.values(b))-1,x=2*m+1;E.graph().nestingRoot=p,w.forEach(E.edges(),function(C){E.edge(C).minlen*=x});var g=T(E)+1;w.forEach(E.children(),function(C){L(E,p,x,g,m,b,C)}),E.graph().nodeRankFactor=x}function L(E,p,b,m,x,g,C){var _=E.children(C);if(!_.length){C!==p&&E.setEdge(p,C,{weight:0,minlen:b});return}var B=O.addBorderNode(E,"_bt"),D=O.addBorderNode(E,"_bb"),W=E.node(C);E.setParent(B,C),W.borderTop=B,E.setParent(D,C),W.borderBottom=D,w.forEach(_,function(Z){L(E,p,b,m,x,g,Z);var X=E.node(Z),j=X.borderTop?X.borderTop:Z,it=X.borderBottom?X.borderBottom:Z,tt=X.borderTop?m:2*m,yt=j!==it?1:x-g[C]+1;E.setEdge(B,j,{weight:tt,minlen:yt,nestingEdge:!0}),E.setEdge(it,D,{weight:tt,minlen:yt,nestingEdge:!0})}),E.parent(C)||E.setEdge(p,B,{weight:0,minlen:x+g[C]})}function P(E){var p={};function b(m,x){var g=E.children(m);g&&g.length&&w.forEach(g,function(C){b(C,x+1)}),p[m]=x}return w.forEach(E.children(),function(m){b(m,1)}),p}function T(E){return w.reduce(E.edges(),function(p,b){return p+E.edge(b).weight},0)}function M(E){var p=E.graph();E.removeNode(p.nestingRoot),delete p.nestingRoot,w.forEach(E.edges(),function(b){var m=E.edge(b);m.nestingEdge&&E.removeEdge(b)})}},45995:function(xt,S,d){"use strict";var w=d(38436),O=d(11138);xt.exports={run:I,undo:P};function I(T){T.graph().dummyChains=[],w.forEach(T.edges(),function(M){L(T,M)})}function L(T,M){var E=M.v,p=T.node(E).rank,b=M.w,m=T.node(b).rank,x=M.name,g=T.edge(M),C=g.labelRank;if(m!==p+1){T.removeEdge(M);var _,B,D;for(D=0,++p;p<m;++D,++p)g.points=[],B={width:0,height:0,edgeLabel:g,edgeObj:M,rank:p},_=O.addDummyNode(T,"edge",B,"_d"),p===C&&(B.width=g.width,B.height=g.height,B.dummy="edge-label",B.labelpos=g.labelpos),T.setEdge(E,_,{weight:g.weight},x),D===0&&T.graph().dummyChains.push(_),E=_;T.setEdge(E,b,{weight:g.weight},x)}}function P(T){w.forEach(T.graph().dummyChains,function(M){var E=T.node(M),p=E.edgeLabel,b;for(T.setEdge(E.edgeObj,p);E.dummy;)b=T.successors(M)[0],T.removeNode(M),p.points.push({x:E.x,y:E.y}),E.dummy==="edge-label"&&(p.x=E.x,p.y=E.y,p.width=E.width,p.height=E.height),M=b,E=T.node(M)})}},55093:function(xt,S,d){var w=d(38436);xt.exports=O;function O(I,L,P){var T={},M;w.forEach(P,function(E){for(var p=I.parent(E),b,m;p;){if(b=I.parent(p),b?(m=T[b],T[b]=p):(m=M,M=p),m&&m!==p){L.setEdge(m,p);return}p=b}})}},35439:function(xt,S,d){var w=d(38436);xt.exports=O;function O(I,L){return w.map(L,function(P){var T=I.inEdges(P);if(T.length){var M=w.reduce(T,function(E,p){var b=I.edge(p),m=I.node(p.v);return{sum:E.sum+b.weight*m.order,weight:E.weight+b.weight}},{sum:0,weight:0});return{v:P,barycenter:M.sum/M.weight,weight:M.weight}}else return{v:P}})}},23128:function(xt,S,d){var w=d(38436),O=d(70574).Graph;xt.exports=I;function I(P,T,M){var E=L(P),p=new O({compound:!0}).setGraph({root:E}).setDefaultNodeLabel(function(b){return P.node(b)});return w.forEach(P.nodes(),function(b){var m=P.node(b),x=P.parent(b);(m.rank===T||m.minRank<=T&&T<=m.maxRank)&&(p.setNode(b),p.setParent(b,x||E),w.forEach(P[M](b),function(g){var C=g.v===b?g.w:g.v,_=p.edge(C,b),B=w.isUndefined(_)?0:_.weight;p.setEdge(C,b,{weight:P.edge(g).weight+B})}),w.has(m,"minRank")&&p.setNode(b,{borderLeft:m.borderLeft[T],borderRight:m.borderRight[T]}))}),p}function L(P){for(var T;P.hasNode(T=w.uniqueId("_root")););return T}},56630:function(xt,S,d){"use strict";var w=d(38436);xt.exports=O;function O(L,P){for(var T=0,M=1;M<P.length;++M)T+=I(L,P[M-1],P[M]);return T}function I(L,P,T){for(var M=w.zipObject(T,w.map(T,function(g,C){return C})),E=w.flatten(w.map(P,function(g){return w.sortBy(w.map(L.outEdges(g),function(C){return{pos:M[C.w],weight:L.edge(C).weight}}),"pos")}),!0),p=1;p<T.length;)p<<=1;var b=2*p-1;p-=1;var m=w.map(new Array(b),function(){return 0}),x=0;return w.forEach(E.forEach(function(g){var C=g.pos+p;m[C]+=g.weight;for(var _=0;C>0;)C%2&&(_+=m[C+1]),C=C-1>>1,m[C]+=g.weight;x+=g.weight*_})),x}},53408:function(xt,S,d){"use strict";var w=d(38436),O=d(2588),I=d(56630),L=d(61026),P=d(23128),T=d(55093),M=d(70574).Graph,E=d(11138);xt.exports=p;function p(g){var C=E.maxRank(g),_=b(g,w.range(1,C+1),"inEdges"),B=b(g,w.range(C-1,-1,-1),"outEdges"),D=O(g);x(g,D);for(var W=Number.POSITIVE_INFINITY,Z,X=0,j=0;j<4;++X,++j){m(X%2?_:B,X%4>=2),D=E.buildLayerMatrix(g);var it=I(g,D);it<W&&(j=0,Z=w.cloneDeep(D),W=it)}x(g,Z)}function b(g,C,_){return w.map(C,function(B){return P(g,B,_)})}function m(g,C){var _=new M;w.forEach(g,function(B){var D=B.graph().root,W=L(B,D,_,C);w.forEach(W.vs,function(Z,X){B.node(Z).order=X}),T(B,_,W.vs)})}function x(g,C){w.forEach(C,function(_){w.forEach(_,function(B,D){g.node(B).order=D})})}},2588:function(xt,S,d){"use strict";var w=d(38436);xt.exports=O;function O(I){var L={},P=w.filter(I.nodes(),function(b){return!I.children(b).length}),T=w.max(w.map(P,function(b){return I.node(b).rank})),M=w.map(w.range(T+1),function(){return[]});function E(b){if(!w.has(L,b)){L[b]=!0;var m=I.node(b);M[m.rank].push(b),w.forEach(I.successors(b),E)}}var p=w.sortBy(P,function(b){return I.node(b).rank});return w.forEach(p,E),M}},83678:function(xt,S,d){"use strict";var w=d(38436);xt.exports=O;function O(P,T){var M={};w.forEach(P,function(p,b){var m=M[p.v]={indegree:0,in:[],out:[],vs:[p.v],i:b};w.isUndefined(p.barycenter)||(m.barycenter=p.barycenter,m.weight=p.weight)}),w.forEach(T.edges(),function(p){var b=M[p.v],m=M[p.w];!w.isUndefined(b)&&!w.isUndefined(m)&&(m.indegree++,b.out.push(M[p.w]))});var E=w.filter(M,function(p){return!p.indegree});return I(E)}function I(P){var T=[];function M(b){return function(m){m.merged||(w.isUndefined(m.barycenter)||w.isUndefined(b.barycenter)||m.barycenter>=b.barycenter)&&L(b,m)}}function E(b){return function(m){m.in.push(b),--m.indegree==0&&P.push(m)}}for(;P.length;){var p=P.pop();T.push(p),w.forEach(p.in.reverse(),M(p)),w.forEach(p.out,E(p))}return w.map(w.filter(T,function(b){return!b.merged}),function(b){return w.pick(b,["vs","i","barycenter","weight"])})}function L(P,T){var M=0,E=0;P.weight&&(M+=P.barycenter*P.weight,E+=P.weight),T.weight&&(M+=T.barycenter*T.weight,E+=T.weight),P.vs=T.vs.concat(P.vs),P.barycenter=M/E,P.weight=E,P.i=Math.min(T.i,P.i),T.merged=!0}},61026:function(xt,S,d){var w=d(38436),O=d(35439),I=d(83678),L=d(87304);xt.exports=P;function P(E,p,b,m){var x=E.children(p),g=E.node(p),C=g?g.borderLeft:void 0,_=g?g.borderRight:void 0,B={};C&&(x=w.filter(x,function(it){return it!==C&&it!==_}));var D=O(E,x);w.forEach(D,function(it){if(E.children(it.v).length){var tt=P(E,it.v,b,m);B[it.v]=tt,w.has(tt,"barycenter")&&M(it,tt)}});var W=I(D,b);T(W,B);var Z=L(W,m);if(C&&(Z.vs=w.flatten([C,Z.vs,_],!0),E.predecessors(C).length)){var X=E.node(E.predecessors(C)[0]),j=E.node(E.predecessors(_)[0]);w.has(Z,"barycenter")||(Z.barycenter=0,Z.weight=0),Z.barycenter=(Z.barycenter*Z.weight+X.order+j.order)/(Z.weight+2),Z.weight+=2}return Z}function T(E,p){w.forEach(E,function(b){b.vs=w.flatten(b.vs.map(function(m){return p[m]?p[m].vs:m}),!0)})}function M(E,p){w.isUndefined(E.barycenter)?(E.barycenter=p.barycenter,E.weight=p.weight):(E.barycenter=(E.barycenter*E.weight+p.barycenter*p.weight)/(E.weight+p.weight),E.weight+=p.weight)}},87304:function(xt,S,d){var w=d(38436),O=d(11138);xt.exports=I;function I(T,M){var E=O.partition(T,function(B){return w.has(B,"barycenter")}),p=E.lhs,b=w.sortBy(E.rhs,function(B){return-B.i}),m=[],x=0,g=0,C=0;p.sort(P(!!M)),C=L(m,b,C),w.forEach(p,function(B){C+=B.vs.length,m.push(B.vs),x+=B.barycenter*B.weight,g+=B.weight,C=L(m,b,C)});var _={vs:w.flatten(m,!0)};return g&&(_.barycenter=x/g,_.weight=g),_}function L(T,M,E){for(var p;M.length&&(p=w.last(M)).i<=E;)M.pop(),T.push(p.vs),E++;return E}function P(T){return function(M,E){return M.barycenter<E.barycenter?-1:M.barycenter>E.barycenter?1:T?E.i-M.i:M.i-E.i}}},24219:function(xt,S,d){var w=d(38436);xt.exports=O;function O(P){var T=L(P);w.forEach(P.graph().dummyChains,function(M){for(var E=P.node(M),p=E.edgeObj,b=I(P,T,p.v,p.w),m=b.path,x=b.lca,g=0,C=m[g],_=!0;M!==p.w;){if(E=P.node(M),_){for(;(C=m[g])!==x&&P.node(C).maxRank<E.rank;)g++;C===x&&(_=!1)}if(!_){for(;g<m.length-1&&P.node(C=m[g+1]).minRank<=E.rank;)g++;C=m[g]}P.setParent(M,C),M=P.successors(M)[0]}})}function I(P,T,M,E){var p=[],b=[],m=Math.min(T[M].low,T[E].low),x=Math.max(T[M].lim,T[E].lim),g,C;g=M;do g=P.parent(g),p.push(g);while(g&&(T[g].low>m||x>T[g].lim));for(C=g,g=E;(g=P.parent(g))!==C;)b.push(g);return{path:p.concat(b.reverse()),lca:C}}function L(P){var T={},M=0;function E(p){var b=M;w.forEach(P.children(p),E),T[p]={low:b,lim:M++}}return w.forEach(P.children(),E),T}},3573:function(xt,S,d){"use strict";var w=d(38436),O=d(70574).Graph,I=d(11138);xt.exports={positionX:_,findType1Conflicts:L,findType2Conflicts:P,addConflict:M,hasConflict:E,verticalAlignment:p,horizontalCompaction:b,alignCoordinates:g,findSmallestWidthAlignment:x,balance:C};function L(W,Z){var X={};function j(it,tt){var yt=0,dt=0,Ct=it.length,F=w.last(tt);return w.forEach(tt,function(z,G){var Y=T(W,z),q=Y?W.node(Y).order:Ct;(Y||z===F)&&(w.forEach(tt.slice(dt,G+1),function($){w.forEach(W.predecessors($),function(J){var U=W.node(J),K=U.order;(K<yt||q<K)&&!(U.dummy&&W.node($).dummy)&&M(X,J,$)})}),dt=G+1,yt=q)}),tt}return w.reduce(Z,j),X}function P(W,Z){var X={};function j(tt,yt,dt,Ct,F){var z;w.forEach(w.range(yt,dt),function(G){z=tt[G],W.node(z).dummy&&w.forEach(W.predecessors(z),function(Y){var q=W.node(Y);q.dummy&&(q.order<Ct||q.order>F)&&M(X,Y,z)})})}function it(tt,yt){var dt=-1,Ct,F=0;return w.forEach(yt,function(z,G){if(W.node(z).dummy==="border"){var Y=W.predecessors(z);Y.length&&(Ct=W.node(Y[0]).order,j(yt,F,G,dt,Ct),F=G,dt=Ct)}j(yt,F,yt.length,Ct,tt.length)}),yt}return w.reduce(Z,it),X}function T(W,Z){if(W.node(Z).dummy)return w.find(W.predecessors(Z),function(X){return W.node(X).dummy})}function M(W,Z,X){if(Z>X){var j=Z;Z=X,X=j}var it=W[Z];it||(W[Z]=it={}),it[X]=!0}function E(W,Z,X){if(Z>X){var j=Z;Z=X,X=j}return w.has(W[Z],X)}function p(W,Z,X,j){var it={},tt={},yt={};return w.forEach(Z,function(dt){w.forEach(dt,function(Ct,F){it[Ct]=Ct,tt[Ct]=Ct,yt[Ct]=F})}),w.forEach(Z,function(dt){var Ct=-1;w.forEach(dt,function(F){var z=j(F);if(z.length){z=w.sortBy(z,function(J){return yt[J]});for(var G=(z.length-1)/2,Y=Math.floor(G),q=Math.ceil(G);Y<=q;++Y){var $=z[Y];tt[F]===F&&Ct<yt[$]&&!E(X,F,$)&&(tt[$]=F,tt[F]=it[F]=it[$],Ct=yt[$])}}})}),{root:it,align:tt}}function b(W,Z,X,j,it){var tt={},yt=m(W,Z,X,it),dt=it?"borderLeft":"borderRight";function Ct(G,Y){for(var q=yt.nodes(),$=q.pop(),J={};$;)J[$]?G($):(J[$]=!0,q.push($),q=q.concat(Y($))),$=q.pop()}function F(G){tt[G]=yt.inEdges(G).reduce(function(Y,q){return Math.max(Y,tt[q.v]+yt.edge(q))},0)}function z(G){var Y=yt.outEdges(G).reduce(function($,J){return Math.min($,tt[J.w]-yt.edge(J))},Number.POSITIVE_INFINITY),q=W.node(G);Y!==Number.POSITIVE_INFINITY&&q.borderType!==dt&&(tt[G]=Math.max(tt[G],Y))}return Ct(F,yt.predecessors.bind(yt)),Ct(z,yt.successors.bind(yt)),w.forEach(j,function(G){tt[G]=tt[X[G]]}),tt}function m(W,Z,X,j){var it=new O,tt=W.graph(),yt=B(tt.nodesep,tt.edgesep,j);return w.forEach(Z,function(dt){var Ct;w.forEach(dt,function(F){var z=X[F];if(it.setNode(z),Ct){var G=X[Ct],Y=it.edge(G,z);it.setEdge(G,z,Math.max(yt(W,F,Ct),Y||0))}Ct=F})}),it}function x(W,Z){return w.minBy(w.values(Z),function(X){var j=Number.NEGATIVE_INFINITY,it=Number.POSITIVE_INFINITY;return w.forIn(X,function(tt,yt){var dt=D(W,yt)/2;j=Math.max(tt+dt,j),it=Math.min(tt-dt,it)}),j-it})}function g(W,Z){var X=w.values(Z),j=w.min(X),it=w.max(X);w.forEach(["u","d"],function(tt){w.forEach(["l","r"],function(yt){var dt=tt+yt,Ct=W[dt],F;if(Ct!==Z){var z=w.values(Ct);F=yt==="l"?j-w.min(z):it-w.max(z),F&&(W[dt]=w.mapValues(Ct,function(G){return G+F}))}})})}function C(W,Z){return w.mapValues(W.ul,function(X,j){if(Z)return W[Z.toLowerCase()][j];var it=w.sortBy(w.map(W,j));return(it[1]+it[2])/2})}function _(W){var Z=I.buildLayerMatrix(W),X=w.merge(L(W,Z),P(W,Z)),j={},it;w.forEach(["u","d"],function(yt){it=yt==="u"?Z:w.values(Z).reverse(),w.forEach(["l","r"],function(dt){dt==="r"&&(it=w.map(it,function(G){return w.values(G).reverse()}));var Ct=(yt==="u"?W.predecessors:W.successors).bind(W),F=p(W,it,X,Ct),z=b(W,it,F.root,F.align,dt==="r");dt==="r"&&(z=w.mapValues(z,function(G){return-G})),j[yt+dt]=z})});var tt=x(W,j);return g(j,tt),C(j,W.graph().align)}function B(W,Z,X){return function(j,it,tt){var yt=j.node(it),dt=j.node(tt),Ct=0,F;if(Ct+=yt.width/2,w.has(yt,"labelpos"))switch(yt.labelpos.toLowerCase()){case"l":F=-yt.width/2;break;case"r":F=yt.width/2;break}if(F&&(Ct+=X?F:-F),F=0,Ct+=(yt.dummy?Z:W)/2,Ct+=(dt.dummy?Z:W)/2,Ct+=dt.width/2,w.has(dt,"labelpos"))switch(dt.labelpos.toLowerCase()){case"l":F=dt.width/2;break;case"r":F=-dt.width/2;break}return F&&(Ct+=X?F:-F),F=0,Ct}}function D(W,Z){return W.node(Z).width}},17873:function(xt,S,d){"use strict";var w=d(38436),O=d(11138),I=d(3573).positionX;xt.exports=L;function L(T){T=O.asNonCompoundGraph(T),P(T),w.forEach(I(T),function(M,E){T.node(E).x=M})}function P(T){var M=O.buildLayerMatrix(T),E=T.graph().ranksep,p=0;w.forEach(M,function(b){var m=w.max(w.map(b,function(x){return T.node(x).height}));w.forEach(b,function(x){T.node(x).y=p+m/2}),p+=m+E})}},20300:function(xt,S,d){"use strict";var w=d(38436),O=d(70574).Graph,I=d(76681).slack;xt.exports=L;function L(E){var p=new O({directed:!1}),b=E.nodes()[0],m=E.nodeCount();p.setNode(b,{});for(var x,g;P(p,E)<m;)x=T(p,E),g=p.hasNode(x.v)?I(E,x):-I(E,x),M(p,E,g);return p}function P(E,p){function b(m){w.forEach(p.nodeEdges(m),function(x){var g=x.v,C=m===g?x.w:g;!E.hasNode(C)&&!I(p,x)&&(E.setNode(C,{}),E.setEdge(m,C,{}),b(C))})}return w.forEach(E.nodes(),b),E.nodeCount()}function T(E,p){return w.minBy(p.edges(),function(b){if(E.hasNode(b.v)!==E.hasNode(b.w))return I(p,b)})}function M(E,p,b){w.forEach(E.nodes(),function(m){p.node(m).rank+=b})}},78093:function(xt,S,d){"use strict";var w=d(76681),O=w.longestPath,I=d(20300),L=d(42472);xt.exports=P;function P(p){switch(p.graph().ranker){case"network-simplex":E(p);break;case"tight-tree":M(p);break;case"longest-path":T(p);break;default:E(p)}}var T=O;function M(p){O(p),I(p)}function E(p){L(p)}},42472:function(xt,S,d){"use strict";var w=d(38436),O=d(20300),I=d(76681).slack,L=d(76681).longestPath,P=d(70574).alg.preorder,T=d(70574).alg.postorder,M=d(11138).simplify;xt.exports=E,E.initLowLimValues=x,E.initCutValues=p,E.calcCutValue=m,E.leaveEdge=C,E.enterEdge=_,E.exchangeEdges=B;function E(X){X=M(X),L(X);var j=O(X);x(j),p(j,X);for(var it,tt;it=C(j);)tt=_(j,X,it),B(j,X,it,tt)}function p(X,j){var it=T(X,X.nodes());it=it.slice(0,it.length-1),w.forEach(it,function(tt){b(X,j,tt)})}function b(X,j,it){var tt=X.node(it),yt=tt.parent;X.edge(it,yt).cutvalue=m(X,j,it)}function m(X,j,it){var tt=X.node(it),yt=tt.parent,dt=!0,Ct=j.edge(it,yt),F=0;return Ct||(dt=!1,Ct=j.edge(yt,it)),F=Ct.weight,w.forEach(j.nodeEdges(it),function(z){var G=z.v===it,Y=G?z.w:z.v;if(Y!==yt){var q=G===dt,$=j.edge(z).weight;if(F+=q?$:-$,W(X,it,Y)){var J=X.edge(it,Y).cutvalue;F+=q?-J:J}}}),F}function x(X,j){arguments.length<2&&(j=X.nodes()[0]),g(X,{},1,j)}function g(X,j,it,tt,yt){var dt=it,Ct=X.node(tt);return j[tt]=!0,w.forEach(X.neighbors(tt),function(F){w.has(j,F)||(it=g(X,j,it,F,tt))}),Ct.low=dt,Ct.lim=it++,yt?Ct.parent=yt:delete Ct.parent,it}function C(X){return w.find(X.edges(),function(j){return X.edge(j).cutvalue<0})}function _(X,j,it){var tt=it.v,yt=it.w;j.hasEdge(tt,yt)||(tt=it.w,yt=it.v);var dt=X.node(tt),Ct=X.node(yt),F=dt,z=!1;dt.lim>Ct.lim&&(F=Ct,z=!0);var G=w.filter(j.edges(),function(Y){return z===Z(X,X.node(Y.v),F)&&z!==Z(X,X.node(Y.w),F)});return w.minBy(G,function(Y){return I(j,Y)})}function B(X,j,it,tt){var yt=it.v,dt=it.w;X.removeEdge(yt,dt),X.setEdge(tt.v,tt.w,{}),x(X),p(X,j),D(X,j)}function D(X,j){var it=w.find(X.nodes(),function(yt){return!j.node(yt).parent}),tt=P(X,it);tt=tt.slice(1),w.forEach(tt,function(yt){var dt=X.node(yt).parent,Ct=j.edge(yt,dt),F=!1;Ct||(Ct=j.edge(dt,yt),F=!0),j.node(yt).rank=j.node(dt).rank+(F?Ct.minlen:-Ct.minlen)})}function W(X,j,it){return X.hasEdge(j,it)}function Z(X,j,it){return it.low<=j.lim&&j.lim<=it.lim}},76681:function(xt,S,d){"use strict";var w=d(38436);xt.exports={longestPath:O,slack:I};function O(L){var P={};function T(M){var E=L.node(M);if(w.has(P,M))return E.rank;P[M]=!0;var p=w.min(w.map(L.outEdges(M),function(b){return T(b.w)-L.edge(b).minlen}));return(p===Number.POSITIVE_INFINITY||p===void 0||p===null)&&(p=0),E.rank=p}w.forEach(L.sources(),T)}function I(L,P){return L.node(P.w).rank-L.node(P.v).rank-L.edge(P).minlen}},11138:function(xt,S,d){"use strict";var w=d(38436),O=d(70574).Graph;xt.exports={addDummyNode:I,simplify:L,asNonCompoundGraph:P,successorWeights:T,predecessorWeights:M,intersectRect:E,buildLayerMatrix:p,normalizeRanks:b,removeEmptyRanks:m,addBorderNode:x,maxRank:g,partition:C,time:_,notime:B};function I(D,W,Z,X){var j;do j=w.uniqueId(X);while(D.hasNode(j));return Z.dummy=W,D.setNode(j,Z),j}function L(D){var W=new O().setGraph(D.graph());return w.forEach(D.nodes(),function(Z){W.setNode(Z,D.node(Z))}),w.forEach(D.edges(),function(Z){var X=W.edge(Z.v,Z.w)||{weight:0,minlen:1},j=D.edge(Z);W.setEdge(Z.v,Z.w,{weight:X.weight+j.weight,minlen:Math.max(X.minlen,j.minlen)})}),W}function P(D){var W=new O({multigraph:D.isMultigraph()}).setGraph(D.graph());return w.forEach(D.nodes(),function(Z){D.children(Z).length||W.setNode(Z,D.node(Z))}),w.forEach(D.edges(),function(Z){W.setEdge(Z,D.edge(Z))}),W}function T(D){var W=w.map(D.nodes(),function(Z){var X={};return w.forEach(D.outEdges(Z),function(j){X[j.w]=(X[j.w]||0)+D.edge(j).weight}),X});return w.zipObject(D.nodes(),W)}function M(D){var W=w.map(D.nodes(),function(Z){var X={};return w.forEach(D.inEdges(Z),function(j){X[j.v]=(X[j.v]||0)+D.edge(j).weight}),X});return w.zipObject(D.nodes(),W)}function E(D,W){var Z=D.x,X=D.y,j=W.x-Z,it=W.y-X,tt=D.width/2,yt=D.height/2;if(!j&&!it)throw new Error("Not possible to find intersection inside of the rectangle");var dt,Ct;return Math.abs(it)*tt>Math.abs(j)*yt?(it<0&&(yt=-yt),dt=yt*j/it,Ct=yt):(j<0&&(tt=-tt),dt=tt,Ct=tt*it/j),{x:Z+dt,y:X+Ct}}function p(D){var W=w.map(w.range(g(D)+1),function(){return[]});return w.forEach(D.nodes(),function(Z){var X=D.node(Z),j=X.rank;w.isUndefined(j)||(W[j][X.order]=Z)}),W}function b(D){var W=w.min(w.map(D.nodes(),function(Z){return D.node(Z).rank}));w.forEach(D.nodes(),function(Z){var X=D.node(Z);w.has(X,"rank")&&(X.rank-=W)})}function m(D){var W=w.min(w.map(D.nodes(),function(it){return D.node(it).rank})),Z=[];w.forEach(D.nodes(),function(it){var tt=D.node(it).rank-W;Z[tt]||(Z[tt]=[]),Z[tt].push(it)});var X=0,j=D.graph().nodeRankFactor;w.forEach(Z,function(it,tt){w.isUndefined(it)&&tt%j!=0?--X:X&&w.forEach(it,function(yt){D.node(yt).rank+=X})})}function x(D,W,Z,X){var j={width:0,height:0};return arguments.length>=4&&(j.rank=Z,j.order=X),I(D,"border",j,W)}function g(D){return w.max(w.map(D.nodes(),function(W){var Z=D.node(W).rank;if(!w.isUndefined(Z))return Z}))}function C(D,W){var Z={lhs:[],rhs:[]};return w.forEach(D,function(X){W(X)?Z.lhs.push(X):Z.rhs.push(X)}),Z}function _(D,W){var Z=w.now();try{return W()}finally{console.log(D+" time: "+(w.now()-Z)+"ms")}}function B(D,W){return W()}},88177:function(xt){xt.exports="0.8.5"},43631:function(xt,S,d){"use strict";d.r(S),d.d(S,{BrowserInfo:function(){return I},NodeInfo:function(){return L},SearchBotDeviceInfo:function(){return P},BotInfo:function(){return T},ReactNativeInfo:function(){return M},detect:function(){return g},browserName:function(){return _},parseUserAgent:function(){return B},detectOS:function(){return D},getNodeVersion:function(){return W}});var w=d(34155),O=function(X,j,it){if(it||arguments.length===2)for(var tt=0,yt=j.length,dt;tt<yt;tt++)(dt||!(tt in j))&&(dt||(dt=Array.prototype.slice.call(j,0,tt)),dt[tt]=j[tt]);return X.concat(dt||Array.prototype.slice.call(j))},I=function(){function X(j,it,tt){this.name=j,this.version=it,this.os=tt,this.type="browser"}return X}(),L=function(){function X(j){this.version=j,this.type="node",this.name="node",this.os=w.platform}return X}(),P=function(){function X(j,it,tt,yt){this.name=j,this.version=it,this.os=tt,this.bot=yt,this.type="bot-device"}return X}(),T=function(){function X(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return X}(),M=function(){function X(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return X}(),E=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,p=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,b=3,m=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",E]],x=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function g(X){return X?B(X):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new M:typeof navigator!="undefined"?B(navigator.userAgent):W()}function C(X){return X!==""&&m.reduce(function(j,it){var tt=it[0],yt=it[1];if(j)return j;var dt=yt.exec(X);return!!dt&&[tt,dt]},!1)}function _(X){var j=C(X);return j?j[0]:null}function B(X){var j=C(X);if(!j)return null;var it=j[0],tt=j[1];if(it==="searchbot")return new T;var yt=tt[1]&&tt[1].split(".").join("_").split("_").slice(0,3);yt?yt.length<b&&(yt=O(O([],yt,!0),Z(b-yt.length),!0)):yt=[];var dt=yt.join("."),Ct=D(X),F=p.exec(X);return F&&F[1]?new P(it,dt,Ct,F[1]):new I(it,dt,Ct)}function D(X){for(var j=0,it=x.length;j<it;j++){var tt=x[j],yt=tt[0],dt=tt[1],Ct=dt.exec(X);if(Ct)return yt}return null}function W(){var X=typeof w!="undefined"&&w.version;return X?new L(w.version.slice(1)):null}function Z(X){for(var j=[],it=0;it<X;it++)j.push("0");return j}},82097:function(xt,S,d){var w;(function(O){"use strict";var I={},L=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,P=/\d\d?/,T=/\d{3}/,M=/\d{4}/,E=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,p=/\[([^]*?)\]/gm,b=function(){};function m(X,j){for(var it=[],tt=0,yt=X.length;tt<yt;tt++)it.push(X[tt].substr(0,j));return it}function x(X){return function(j,it,tt){var yt=tt[X].indexOf(it.charAt(0).toUpperCase()+it.substr(1).toLowerCase());~yt&&(j.month=yt)}}function g(X,j){for(X=String(X),j=j||2;X.length<j;)X="0"+X;return X}var C=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_=["January","February","March","April","May","June","July","August","September","October","November","December"],B=m(_,3),D=m(C,3);I.i18n={dayNamesShort:D,dayNames:C,monthNamesShort:B,monthNames:_,amPm:["am","pm"],DoFn:function(j){return j+["th","st","nd","rd"][j%10>3?0:(j-j%10!=10)*j%10]}};var W={D:function(X){return X.getDate()},DD:function(X){return g(X.getDate())},Do:function(X,j){return j.DoFn(X.getDate())},d:function(X){return X.getDay()},dd:function(X){return g(X.getDay())},ddd:function(X,j){return j.dayNamesShort[X.getDay()]},dddd:function(X,j){return j.dayNames[X.getDay()]},M:function(X){return X.getMonth()+1},MM:function(X){return g(X.getMonth()+1)},MMM:function(X,j){return j.monthNamesShort[X.getMonth()]},MMMM:function(X,j){return j.monthNames[X.getMonth()]},YY:function(X){return String(X.getFullYear()).substr(2)},YYYY:function(X){return g(X.getFullYear(),4)},h:function(X){return X.getHours()%12||12},hh:function(X){return g(X.getHours()%12||12)},H:function(X){return X.getHours()},HH:function(X){return g(X.getHours())},m:function(X){return X.getMinutes()},mm:function(X){return g(X.getMinutes())},s:function(X){return X.getSeconds()},ss:function(X){return g(X.getSeconds())},S:function(X){return Math.round(X.getMilliseconds()/100)},SS:function(X){return g(Math.round(X.getMilliseconds()/10),2)},SSS:function(X){return g(X.getMilliseconds(),3)},a:function(X,j){return X.getHours()<12?j.amPm[0]:j.amPm[1]},A:function(X,j){return X.getHours()<12?j.amPm[0].toUpperCase():j.amPm[1].toUpperCase()},ZZ:function(X){var j=X.getTimezoneOffset();return(j>0?"-":"+")+g(Math.floor(Math.abs(j)/60)*100+Math.abs(j)%60,4)}},Z={D:[P,function(X,j){X.day=j}],Do:[new RegExp(P.source+E.source),function(X,j){X.day=parseInt(j,10)}],M:[P,function(X,j){X.month=j-1}],YY:[P,function(X,j){var it=new Date,tt=+(""+it.getFullYear()).substr(0,2);X.year=""+(j>68?tt-1:tt)+j}],h:[P,function(X,j){X.hour=j}],m:[P,function(X,j){X.minute=j}],s:[P,function(X,j){X.second=j}],YYYY:[M,function(X,j){X.year=j}],S:[/\d/,function(X,j){X.millisecond=j*100}],SS:[/\d{2}/,function(X,j){X.millisecond=j*10}],SSS:[T,function(X,j){X.millisecond=j}],d:[P,b],ddd:[E,b],MMM:[E,x("monthNamesShort")],MMMM:[E,x("monthNames")],a:[E,function(X,j,it){var tt=j.toLowerCase();tt===it.amPm[0]?X.isPm=!1:tt===it.amPm[1]&&(X.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(X,j){j==="Z"&&(j="+00:00");var it=(j+"").match(/([\+\-]|\d\d)/gi),tt;it&&(tt=+(it[1]*60)+parseInt(it[2],10),X.timezoneOffset=it[0]==="+"?tt:-tt)}]};Z.dd=Z.d,Z.dddd=Z.ddd,Z.DD=Z.D,Z.mm=Z.m,Z.hh=Z.H=Z.HH=Z.h,Z.MM=Z.M,Z.ss=Z.s,Z.A=Z.a,I.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},I.format=function(X,j,it){var tt=it||I.i18n;if(typeof X=="number"&&(X=new Date(X)),Object.prototype.toString.call(X)!=="[object Date]"||isNaN(X.getTime()))throw new Error("Invalid Date in fecha.format");j=I.masks[j]||j||I.masks.default;var yt=[];return j=j.replace(p,function(dt,Ct){return yt.push(Ct),"??"}),j=j.replace(L,function(dt){return dt in W?W[dt](X,tt):dt.slice(1,dt.length-1)}),j.replace(/\?\?/g,function(){return yt.shift()})},I.parse=function(X,j,it){var tt=it||I.i18n;if(typeof j!="string")throw new Error("Invalid format in fecha.parse");if(j=I.masks[j]||j,X.length>1e3)return!1;var yt=!0,dt={};if(j.replace(L,function(z){if(Z[z]){var G=Z[z],Y=X.search(G[0]);~Y?X.replace(G[0],function(q){return G[1](dt,q,tt),X=X.substr(Y+q.length),q}):yt=!1}return Z[z]?"":z.slice(1,z.length-1)}),!yt)return!1;var Ct=new Date;dt.isPm===!0&&dt.hour!=null&&+dt.hour!=12?dt.hour=+dt.hour+12:dt.isPm===!1&&+dt.hour==12&&(dt.hour=0);var F;return dt.timezoneOffset!=null?(dt.minute=+(dt.minute||0)-+dt.timezoneOffset,F=new Date(Date.UTC(dt.year||Ct.getFullYear(),dt.month||0,dt.day||1,dt.hour||0,dt.minute||0,dt.second||0,dt.millisecond||0))):F=new Date(dt.year||Ct.getFullYear(),dt.month||0,dt.day||1,dt.hour||0,dt.minute||0,dt.second||0,dt.millisecond||0),F},xt.exports?xt.exports=I:(w=function(){return I}.call(S,d,S,xt),w!==void 0&&(xt.exports=w))})(this)},49685:function(xt,S,d){"use strict";d.d(S,{Ib:function(){return w},WT:function(){return O},FD:function(){return I}});var w=1e-6,O=typeof Float32Array!="undefined"?Float32Array:Array,I=Math.random;function L(E){O=E}var P=Math.PI/180;function T(E){return E*P}function M(E,p){return Math.abs(E-p)<=w*Math.max(1,Math.abs(E),Math.abs(p))}Math.hypot||(Math.hypot=function(){for(var E=0,p=arguments.length;p--;)E+=arguments[p]*arguments[p];return Math.sqrt(E)})},35600:function(xt,S,d){"use strict";d.r(S),d.d(S,{create:function(){return O},fromMat4:function(){return I},clone:function(){return L},copy:function(){return P},fromValues:function(){return T},set:function(){return M},identity:function(){return E},transpose:function(){return p},invert:function(){return b},adjoint:function(){return m},determinant:function(){return x},multiply:function(){return g},translate:function(){return C},rotate:function(){return _},scale:function(){return B},fromTranslation:function(){return D},fromRotation:function(){return W},fromScaling:function(){return Z},fromMat2d:function(){return X},fromQuat:function(){return j},normalFromMat4:function(){return it},projection:function(){return tt},str:function(){return yt},frob:function(){return dt},add:function(){return Ct},subtract:function(){return F},multiplyScalar:function(){return z},multiplyScalarAndAdd:function(){return G},exactEquals:function(){return Y},equals:function(){return q},mul:function(){return $},sub:function(){return J}});var w=d(49685);function O(){var U=new w.WT(9);return w.WT!=Float32Array&&(U[1]=0,U[2]=0,U[3]=0,U[5]=0,U[6]=0,U[7]=0),U[0]=1,U[4]=1,U[8]=1,U}function I(U,K){return U[0]=K[0],U[1]=K[1],U[2]=K[2],U[3]=K[4],U[4]=K[5],U[5]=K[6],U[6]=K[8],U[7]=K[9],U[8]=K[10],U}function L(U){var K=new w.WT(9);return K[0]=U[0],K[1]=U[1],K[2]=U[2],K[3]=U[3],K[4]=U[4],K[5]=U[5],K[6]=U[6],K[7]=U[7],K[8]=U[8],K}function P(U,K){return U[0]=K[0],U[1]=K[1],U[2]=K[2],U[3]=K[3],U[4]=K[4],U[5]=K[5],U[6]=K[6],U[7]=K[7],U[8]=K[8],U}function T(U,K,f,mt,Tt,at,Pt,wt,Et){var Rt=new w.WT(9);return Rt[0]=U,Rt[1]=K,Rt[2]=f,Rt[3]=mt,Rt[4]=Tt,Rt[5]=at,Rt[6]=Pt,Rt[7]=wt,Rt[8]=Et,Rt}function M(U,K,f,mt,Tt,at,Pt,wt,Et,Rt){return U[0]=K,U[1]=f,U[2]=mt,U[3]=Tt,U[4]=at,U[5]=Pt,U[6]=wt,U[7]=Et,U[8]=Rt,U}function E(U){return U[0]=1,U[1]=0,U[2]=0,U[3]=0,U[4]=1,U[5]=0,U[6]=0,U[7]=0,U[8]=1,U}function p(U,K){if(U===K){var f=K[1],mt=K[2],Tt=K[5];U[1]=K[3],U[2]=K[6],U[3]=f,U[5]=K[7],U[6]=mt,U[7]=Tt}else U[0]=K[0],U[1]=K[3],U[2]=K[6],U[3]=K[1],U[4]=K[4],U[5]=K[7],U[6]=K[2],U[7]=K[5],U[8]=K[8];return U}function b(U,K){var f=K[0],mt=K[1],Tt=K[2],at=K[3],Pt=K[4],wt=K[5],Et=K[6],Rt=K[7],Nt=K[8],kt=Nt*Pt-wt*Rt,_t=-Nt*at+wt*Et,ht=Rt*at-Pt*Et,ft=f*kt+mt*_t+Tt*ht;return ft?(ft=1/ft,U[0]=kt*ft,U[1]=(-Nt*mt+Tt*Rt)*ft,U[2]=(wt*mt-Tt*Pt)*ft,U[3]=_t*ft,U[4]=(Nt*f-Tt*Et)*ft,U[5]=(-wt*f+Tt*at)*ft,U[6]=ht*ft,U[7]=(-Rt*f+mt*Et)*ft,U[8]=(Pt*f-mt*at)*ft,U):null}function m(U,K){var f=K[0],mt=K[1],Tt=K[2],at=K[3],Pt=K[4],wt=K[5],Et=K[6],Rt=K[7],Nt=K[8];return U[0]=Pt*Nt-wt*Rt,U[1]=Tt*Rt-mt*Nt,U[2]=mt*wt-Tt*Pt,U[3]=wt*Et-at*Nt,U[4]=f*Nt-Tt*Et,U[5]=Tt*at-f*wt,U[6]=at*Rt-Pt*Et,U[7]=mt*Et-f*Rt,U[8]=f*Pt-mt*at,U}function x(U){var K=U[0],f=U[1],mt=U[2],Tt=U[3],at=U[4],Pt=U[5],wt=U[6],Et=U[7],Rt=U[8];return K*(Rt*at-Pt*Et)+f*(-Rt*Tt+Pt*wt)+mt*(Et*Tt-at*wt)}function g(U,K,f){var mt=K[0],Tt=K[1],at=K[2],Pt=K[3],wt=K[4],Et=K[5],Rt=K[6],Nt=K[7],kt=K[8],_t=f[0],ht=f[1],ft=f[2],Mt=f[3],rt=f[4],et=f[5],lt=f[6],st=f[7],At=f[8];return U[0]=_t*mt+ht*Pt+ft*Rt,U[1]=_t*Tt+ht*wt+ft*Nt,U[2]=_t*at+ht*Et+ft*kt,U[3]=Mt*mt+rt*Pt+et*Rt,U[4]=Mt*Tt+rt*wt+et*Nt,U[5]=Mt*at+rt*Et+et*kt,U[6]=lt*mt+st*Pt+At*Rt,U[7]=lt*Tt+st*wt+At*Nt,U[8]=lt*at+st*Et+At*kt,U}function C(U,K,f){var mt=K[0],Tt=K[1],at=K[2],Pt=K[3],wt=K[4],Et=K[5],Rt=K[6],Nt=K[7],kt=K[8],_t=f[0],ht=f[1];return U[0]=mt,U[1]=Tt,U[2]=at,U[3]=Pt,U[4]=wt,U[5]=Et,U[6]=_t*mt+ht*Pt+Rt,U[7]=_t*Tt+ht*wt+Nt,U[8]=_t*at+ht*Et+kt,U}function _(U,K,f){var mt=K[0],Tt=K[1],at=K[2],Pt=K[3],wt=K[4],Et=K[5],Rt=K[6],Nt=K[7],kt=K[8],_t=Math.sin(f),ht=Math.cos(f);return U[0]=ht*mt+_t*Pt,U[1]=ht*Tt+_t*wt,U[2]=ht*at+_t*Et,U[3]=ht*Pt-_t*mt,U[4]=ht*wt-_t*Tt,U[5]=ht*Et-_t*at,U[6]=Rt,U[7]=Nt,U[8]=kt,U}function B(U,K,f){var mt=f[0],Tt=f[1];return U[0]=mt*K[0],U[1]=mt*K[1],U[2]=mt*K[2],U[3]=Tt*K[3],U[4]=Tt*K[4],U[5]=Tt*K[5],U[6]=K[6],U[7]=K[7],U[8]=K[8],U}function D(U,K){return U[0]=1,U[1]=0,U[2]=0,U[3]=0,U[4]=1,U[5]=0,U[6]=K[0],U[7]=K[1],U[8]=1,U}function W(U,K){var f=Math.sin(K),mt=Math.cos(K);return U[0]=mt,U[1]=f,U[2]=0,U[3]=-f,U[4]=mt,U[5]=0,U[6]=0,U[7]=0,U[8]=1,U}function Z(U,K){return U[0]=K[0],U[1]=0,U[2]=0,U[3]=0,U[4]=K[1],U[5]=0,U[6]=0,U[7]=0,U[8]=1,U}function X(U,K){return U[0]=K[0],U[1]=K[1],U[2]=0,U[3]=K[2],U[4]=K[3],U[5]=0,U[6]=K[4],U[7]=K[5],U[8]=1,U}function j(U,K){var f=K[0],mt=K[1],Tt=K[2],at=K[3],Pt=f+f,wt=mt+mt,Et=Tt+Tt,Rt=f*Pt,Nt=mt*Pt,kt=mt*wt,_t=Tt*Pt,ht=Tt*wt,ft=Tt*Et,Mt=at*Pt,rt=at*wt,et=at*Et;return U[0]=1-kt-ft,U[3]=Nt-et,U[6]=_t+rt,U[1]=Nt+et,U[4]=1-Rt-ft,U[7]=ht-Mt,U[2]=_t-rt,U[5]=ht+Mt,U[8]=1-Rt-kt,U}function it(U,K){var f=K[0],mt=K[1],Tt=K[2],at=K[3],Pt=K[4],wt=K[5],Et=K[6],Rt=K[7],Nt=K[8],kt=K[9],_t=K[10],ht=K[11],ft=K[12],Mt=K[13],rt=K[14],et=K[15],lt=f*wt-mt*Pt,st=f*Et-Tt*Pt,At=f*Rt-at*Pt,Ot=mt*Et-Tt*wt,Qt=mt*Rt-at*wt,ve=Tt*Rt-at*Et,fe=Nt*Mt-kt*ft,ce=Nt*rt-_t*ft,Ae=Nt*et-ht*ft,De=kt*rt-_t*Mt,rr=kt*et-ht*Mt,Je=_t*et-ht*rt,Er=lt*Je-st*rr+At*De+Ot*Ae-Qt*ce+ve*fe;return Er?(Er=1/Er,U[0]=(wt*Je-Et*rr+Rt*De)*Er,U[1]=(Et*Ae-Pt*Je-Rt*ce)*Er,U[2]=(Pt*rr-wt*Ae+Rt*fe)*Er,U[3]=(Tt*rr-mt*Je-at*De)*Er,U[4]=(f*Je-Tt*Ae+at*ce)*Er,U[5]=(mt*Ae-f*rr-at*fe)*Er,U[6]=(Mt*ve-rt*Qt+et*Ot)*Er,U[7]=(rt*At-ft*ve-et*st)*Er,U[8]=(ft*Qt-Mt*At+et*lt)*Er,U):null}function tt(U,K,f){return U[0]=2/K,U[1]=0,U[2]=0,U[3]=0,U[4]=-2/f,U[5]=0,U[6]=-1,U[7]=1,U[8]=1,U}function yt(U){return"mat3("+U[0]+", "+U[1]+", "+U[2]+", "+U[3]+", "+U[4]+", "+U[5]+", "+U[6]+", "+U[7]+", "+U[8]+")"}function dt(U){return Math.hypot(U[0],U[1],U[2],U[3],U[4],U[5],U[6],U[7],U[8])}function Ct(U,K,f){return U[0]=K[0]+f[0],U[1]=K[1]+f[1],U[2]=K[2]+f[2],U[3]=K[3]+f[3],U[4]=K[4]+f[4],U[5]=K[5]+f[5],U[6]=K[6]+f[6],U[7]=K[7]+f[7],U[8]=K[8]+f[8],U}function F(U,K,f){return U[0]=K[0]-f[0],U[1]=K[1]-f[1],U[2]=K[2]-f[2],U[3]=K[3]-f[3],U[4]=K[4]-f[4],U[5]=K[5]-f[5],U[6]=K[6]-f[6],U[7]=K[7]-f[7],U[8]=K[8]-f[8],U}function z(U,K,f){return U[0]=K[0]*f,U[1]=K[1]*f,U[2]=K[2]*f,U[3]=K[3]*f,U[4]=K[4]*f,U[5]=K[5]*f,U[6]=K[6]*f,U[7]=K[7]*f,U[8]=K[8]*f,U}function G(U,K,f,mt){return U[0]=K[0]+f[0]*mt,U[1]=K[1]+f[1]*mt,U[2]=K[2]+f[2]*mt,U[3]=K[3]+f[3]*mt,U[4]=K[4]+f[4]*mt,U[5]=K[5]+f[5]*mt,U[6]=K[6]+f[6]*mt,U[7]=K[7]+f[7]*mt,U[8]=K[8]+f[8]*mt,U}function Y(U,K){return U[0]===K[0]&&U[1]===K[1]&&U[2]===K[2]&&U[3]===K[3]&&U[4]===K[4]&&U[5]===K[5]&&U[6]===K[6]&&U[7]===K[7]&&U[8]===K[8]}function q(U,K){var f=U[0],mt=U[1],Tt=U[2],at=U[3],Pt=U[4],wt=U[5],Et=U[6],Rt=U[7],Nt=U[8],kt=K[0],_t=K[1],ht=K[2],ft=K[3],Mt=K[4],rt=K[5],et=K[6],lt=K[7],st=K[8];return Math.abs(f-kt)<=w.Ib*Math.max(1,Math.abs(f),Math.abs(kt))&&Math.abs(mt-_t)<=w.Ib*Math.max(1,Math.abs(mt),Math.abs(_t))&&Math.abs(Tt-ht)<=w.Ib*Math.max(1,Math.abs(Tt),Math.abs(ht))&&Math.abs(at-ft)<=w.Ib*Math.max(1,Math.abs(at),Math.abs(ft))&&Math.abs(Pt-Mt)<=w.Ib*Math.max(1,Math.abs(Pt),Math.abs(Mt))&&Math.abs(wt-rt)<=w.Ib*Math.max(1,Math.abs(wt),Math.abs(rt))&&Math.abs(Et-et)<=w.Ib*Math.max(1,Math.abs(Et),Math.abs(et))&&Math.abs(Rt-lt)<=w.Ib*Math.max(1,Math.abs(Rt),Math.abs(lt))&&Math.abs(Nt-st)<=w.Ib*Math.max(1,Math.abs(Nt),Math.abs(st))}var $=g,J=F},31437:function(xt,S,d){"use strict";d.r(S),d.d(S,{create:function(){return O},clone:function(){return I},fromValues:function(){return L},copy:function(){return P},set:function(){return T},add:function(){return M},subtract:function(){return E},multiply:function(){return p},divide:function(){return b},ceil:function(){return m},floor:function(){return x},min:function(){return g},max:function(){return C},round:function(){return _},scale:function(){return B},scaleAndAdd:function(){return D},distance:function(){return W},squaredDistance:function(){return Z},length:function(){return X},squaredLength:function(){return j},negate:function(){return it},inverse:function(){return tt},normalize:function(){return yt},dot:function(){return dt},cross:function(){return Ct},lerp:function(){return F},random:function(){return z},transformMat2:function(){return G},transformMat2d:function(){return Y},transformMat3:function(){return q},transformMat4:function(){return $},rotate:function(){return J},angle:function(){return U},zero:function(){return K},str:function(){return f},exactEquals:function(){return mt},equals:function(){return Tt},len:function(){return at},sub:function(){return Pt},mul:function(){return wt},div:function(){return Et},dist:function(){return Rt},sqrDist:function(){return Nt},sqrLen:function(){return kt},forEach:function(){return _t}});var w=d(49685);function O(){var ht=new w.WT(2);return w.WT!=Float32Array&&(ht[0]=0,ht[1]=0),ht}function I(ht){var ft=new w.WT(2);return ft[0]=ht[0],ft[1]=ht[1],ft}function L(ht,ft){var Mt=new w.WT(2);return Mt[0]=ht,Mt[1]=ft,Mt}function P(ht,ft){return ht[0]=ft[0],ht[1]=ft[1],ht}function T(ht,ft,Mt){return ht[0]=ft,ht[1]=Mt,ht}function M(ht,ft,Mt){return ht[0]=ft[0]+Mt[0],ht[1]=ft[1]+Mt[1],ht}function E(ht,ft,Mt){return ht[0]=ft[0]-Mt[0],ht[1]=ft[1]-Mt[1],ht}function p(ht,ft,Mt){return ht[0]=ft[0]*Mt[0],ht[1]=ft[1]*Mt[1],ht}function b(ht,ft,Mt){return ht[0]=ft[0]/Mt[0],ht[1]=ft[1]/Mt[1],ht}function m(ht,ft){return ht[0]=Math.ceil(ft[0]),ht[1]=Math.ceil(ft[1]),ht}function x(ht,ft){return ht[0]=Math.floor(ft[0]),ht[1]=Math.floor(ft[1]),ht}function g(ht,ft,Mt){return ht[0]=Math.min(ft[0],Mt[0]),ht[1]=Math.min(ft[1],Mt[1]),ht}function C(ht,ft,Mt){return ht[0]=Math.max(ft[0],Mt[0]),ht[1]=Math.max(ft[1],Mt[1]),ht}function _(ht,ft){return ht[0]=Math.round(ft[0]),ht[1]=Math.round(ft[1]),ht}function B(ht,ft,Mt){return ht[0]=ft[0]*Mt,ht[1]=ft[1]*Mt,ht}function D(ht,ft,Mt,rt){return ht[0]=ft[0]+Mt[0]*rt,ht[1]=ft[1]+Mt[1]*rt,ht}function W(ht,ft){var Mt=ft[0]-ht[0],rt=ft[1]-ht[1];return Math.hypot(Mt,rt)}function Z(ht,ft){var Mt=ft[0]-ht[0],rt=ft[1]-ht[1];return Mt*Mt+rt*rt}function X(ht){var ft=ht[0],Mt=ht[1];return Math.hypot(ft,Mt)}function j(ht){var ft=ht[0],Mt=ht[1];return ft*ft+Mt*Mt}function it(ht,ft){return ht[0]=-ft[0],ht[1]=-ft[1],ht}function tt(ht,ft){return ht[0]=1/ft[0],ht[1]=1/ft[1],ht}function yt(ht,ft){var Mt=ft[0],rt=ft[1],et=Mt*Mt+rt*rt;return et>0&&(et=1/Math.sqrt(et)),ht[0]=ft[0]*et,ht[1]=ft[1]*et,ht}function dt(ht,ft){return ht[0]*ft[0]+ht[1]*ft[1]}function Ct(ht,ft,Mt){var rt=ft[0]*Mt[1]-ft[1]*Mt[0];return ht[0]=ht[1]=0,ht[2]=rt,ht}function F(ht,ft,Mt,rt){var et=ft[0],lt=ft[1];return ht[0]=et+rt*(Mt[0]-et),ht[1]=lt+rt*(Mt[1]-lt),ht}function z(ht,ft){ft=ft||1;var Mt=w.FD()*2*Math.PI;return ht[0]=Math.cos(Mt)*ft,ht[1]=Math.sin(Mt)*ft,ht}function G(ht,ft,Mt){var rt=ft[0],et=ft[1];return ht[0]=Mt[0]*rt+Mt[2]*et,ht[1]=Mt[1]*rt+Mt[3]*et,ht}function Y(ht,ft,Mt){var rt=ft[0],et=ft[1];return ht[0]=Mt[0]*rt+Mt[2]*et+Mt[4],ht[1]=Mt[1]*rt+Mt[3]*et+Mt[5],ht}function q(ht,ft,Mt){var rt=ft[0],et=ft[1];return ht[0]=Mt[0]*rt+Mt[3]*et+Mt[6],ht[1]=Mt[1]*rt+Mt[4]*et+Mt[7],ht}function $(ht,ft,Mt){var rt=ft[0],et=ft[1];return ht[0]=Mt[0]*rt+Mt[4]*et+Mt[12],ht[1]=Mt[1]*rt+Mt[5]*et+Mt[13],ht}function J(ht,ft,Mt,rt){var et=ft[0]-Mt[0],lt=ft[1]-Mt[1],st=Math.sin(rt),At=Math.cos(rt);return ht[0]=et*At-lt*st+Mt[0],ht[1]=et*st+lt*At+Mt[1],ht}function U(ht,ft){var Mt=ht[0],rt=ht[1],et=ft[0],lt=ft[1],st=Math.sqrt(Mt*Mt+rt*rt)*Math.sqrt(et*et+lt*lt),At=st&&(Mt*et+rt*lt)/st;return Math.acos(Math.min(Math.max(At,-1),1))}function K(ht){return ht[0]=0,ht[1]=0,ht}function f(ht){return"vec2("+ht[0]+", "+ht[1]+")"}function mt(ht,ft){return ht[0]===ft[0]&&ht[1]===ft[1]}function Tt(ht,ft){var Mt=ht[0],rt=ht[1],et=ft[0],lt=ft[1];return Math.abs(Mt-et)<=w.Ib*Math.max(1,Math.abs(Mt),Math.abs(et))&&Math.abs(rt-lt)<=w.Ib*Math.max(1,Math.abs(rt),Math.abs(lt))}var at=X,Pt=E,wt=p,Et=b,Rt=W,Nt=Z,kt=j,_t=function(){var ht=O();return function(ft,Mt,rt,et,lt,st){var At,Ot;for(Mt||(Mt=2),rt||(rt=0),et?Ot=Math.min(et*Mt+rt,ft.length):Ot=ft.length,At=rt;At<Ot;At+=Mt)ht[0]=ft[At],ht[1]=ft[At+1],lt(ht,ht,st),ft[At]=ht[0],ft[At+1]=ht[1];return ft}}()},77160:function(xt,S,d){"use strict";d.r(S),d.d(S,{create:function(){return O},clone:function(){return I},length:function(){return L},fromValues:function(){return P},copy:function(){return T},set:function(){return M},add:function(){return E},subtract:function(){return p},multiply:function(){return b},divide:function(){return m},ceil:function(){return x},floor:function(){return g},min:function(){return C},max:function(){return _},round:function(){return B},scale:function(){return D},scaleAndAdd:function(){return W},distance:function(){return Z},squaredDistance:function(){return X},squaredLength:function(){return j},negate:function(){return it},inverse:function(){return tt},normalize:function(){return yt},dot:function(){return dt},cross:function(){return Ct},lerp:function(){return F},hermite:function(){return z},bezier:function(){return G},random:function(){return Y},transformMat4:function(){return q},transformMat3:function(){return $},transformQuat:function(){return J},rotateX:function(){return U},rotateY:function(){return K},rotateZ:function(){return f},angle:function(){return mt},zero:function(){return Tt},str:function(){return at},exactEquals:function(){return Pt},equals:function(){return wt},sub:function(){return Et},mul:function(){return Rt},div:function(){return Nt},dist:function(){return kt},sqrDist:function(){return _t},len:function(){return ht},sqrLen:function(){return ft},forEach:function(){return Mt}});var w=d(49685);function O(){var rt=new w.WT(3);return w.WT!=Float32Array&&(rt[0]=0,rt[1]=0,rt[2]=0),rt}function I(rt){var et=new w.WT(3);return et[0]=rt[0],et[1]=rt[1],et[2]=rt[2],et}function L(rt){var et=rt[0],lt=rt[1],st=rt[2];return Math.hypot(et,lt,st)}function P(rt,et,lt){var st=new w.WT(3);return st[0]=rt,st[1]=et,st[2]=lt,st}function T(rt,et){return rt[0]=et[0],rt[1]=et[1],rt[2]=et[2],rt}function M(rt,et,lt,st){return rt[0]=et,rt[1]=lt,rt[2]=st,rt}function E(rt,et,lt){return rt[0]=et[0]+lt[0],rt[1]=et[1]+lt[1],rt[2]=et[2]+lt[2],rt}function p(rt,et,lt){return rt[0]=et[0]-lt[0],rt[1]=et[1]-lt[1],rt[2]=et[2]-lt[2],rt}function b(rt,et,lt){return rt[0]=et[0]*lt[0],rt[1]=et[1]*lt[1],rt[2]=et[2]*lt[2],rt}function m(rt,et,lt){return rt[0]=et[0]/lt[0],rt[1]=et[1]/lt[1],rt[2]=et[2]/lt[2],rt}function x(rt,et){return rt[0]=Math.ceil(et[0]),rt[1]=Math.ceil(et[1]),rt[2]=Math.ceil(et[2]),rt}function g(rt,et){return rt[0]=Math.floor(et[0]),rt[1]=Math.floor(et[1]),rt[2]=Math.floor(et[2]),rt}function C(rt,et,lt){return rt[0]=Math.min(et[0],lt[0]),rt[1]=Math.min(et[1],lt[1]),rt[2]=Math.min(et[2],lt[2]),rt}function _(rt,et,lt){return rt[0]=Math.max(et[0],lt[0]),rt[1]=Math.max(et[1],lt[1]),rt[2]=Math.max(et[2],lt[2]),rt}function B(rt,et){return rt[0]=Math.round(et[0]),rt[1]=Math.round(et[1]),rt[2]=Math.round(et[2]),rt}function D(rt,et,lt){return rt[0]=et[0]*lt,rt[1]=et[1]*lt,rt[2]=et[2]*lt,rt}function W(rt,et,lt,st){return rt[0]=et[0]+lt[0]*st,rt[1]=et[1]+lt[1]*st,rt[2]=et[2]+lt[2]*st,rt}function Z(rt,et){var lt=et[0]-rt[0],st=et[1]-rt[1],At=et[2]-rt[2];return Math.hypot(lt,st,At)}function X(rt,et){var lt=et[0]-rt[0],st=et[1]-rt[1],At=et[2]-rt[2];return lt*lt+st*st+At*At}function j(rt){var et=rt[0],lt=rt[1],st=rt[2];return et*et+lt*lt+st*st}function it(rt,et){return rt[0]=-et[0],rt[1]=-et[1],rt[2]=-et[2],rt}function tt(rt,et){return rt[0]=1/et[0],rt[1]=1/et[1],rt[2]=1/et[2],rt}function yt(rt,et){var lt=et[0],st=et[1],At=et[2],Ot=lt*lt+st*st+At*At;return Ot>0&&(Ot=1/Math.sqrt(Ot)),rt[0]=et[0]*Ot,rt[1]=et[1]*Ot,rt[2]=et[2]*Ot,rt}function dt(rt,et){return rt[0]*et[0]+rt[1]*et[1]+rt[2]*et[2]}function Ct(rt,et,lt){var st=et[0],At=et[1],Ot=et[2],Qt=lt[0],ve=lt[1],fe=lt[2];return rt[0]=At*fe-Ot*ve,rt[1]=Ot*Qt-st*fe,rt[2]=st*ve-At*Qt,rt}function F(rt,et,lt,st){var At=et[0],Ot=et[1],Qt=et[2];return rt[0]=At+st*(lt[0]-At),rt[1]=Ot+st*(lt[1]-Ot),rt[2]=Qt+st*(lt[2]-Qt),rt}function z(rt,et,lt,st,At,Ot){var Qt=Ot*Ot,ve=Qt*(2*Ot-3)+1,fe=Qt*(Ot-2)+Ot,ce=Qt*(Ot-1),Ae=Qt*(3-2*Ot);return rt[0]=et[0]*ve+lt[0]*fe+st[0]*ce+At[0]*Ae,rt[1]=et[1]*ve+lt[1]*fe+st[1]*ce+At[1]*Ae,rt[2]=et[2]*ve+lt[2]*fe+st[2]*ce+At[2]*Ae,rt}function G(rt,et,lt,st,At,Ot){var Qt=1-Ot,ve=Qt*Qt,fe=Ot*Ot,ce=ve*Qt,Ae=3*Ot*ve,De=3*fe*Qt,rr=fe*Ot;return rt[0]=et[0]*ce+lt[0]*Ae+st[0]*De+At[0]*rr,rt[1]=et[1]*ce+lt[1]*Ae+st[1]*De+At[1]*rr,rt[2]=et[2]*ce+lt[2]*Ae+st[2]*De+At[2]*rr,rt}function Y(rt,et){et=et||1;var lt=w.FD()*2*Math.PI,st=w.FD()*2-1,At=Math.sqrt(1-st*st)*et;return rt[0]=Math.cos(lt)*At,rt[1]=Math.sin(lt)*At,rt[2]=st*et,rt}function q(rt,et,lt){var st=et[0],At=et[1],Ot=et[2],Qt=lt[3]*st+lt[7]*At+lt[11]*Ot+lt[15];return Qt=Qt||1,rt[0]=(lt[0]*st+lt[4]*At+lt[8]*Ot+lt[12])/Qt,rt[1]=(lt[1]*st+lt[5]*At+lt[9]*Ot+lt[13])/Qt,rt[2]=(lt[2]*st+lt[6]*At+lt[10]*Ot+lt[14])/Qt,rt}function $(rt,et,lt){var st=et[0],At=et[1],Ot=et[2];return rt[0]=st*lt[0]+At*lt[3]+Ot*lt[6],rt[1]=st*lt[1]+At*lt[4]+Ot*lt[7],rt[2]=st*lt[2]+At*lt[5]+Ot*lt[8],rt}function J(rt,et,lt){var st=lt[0],At=lt[1],Ot=lt[2],Qt=lt[3],ve=et[0],fe=et[1],ce=et[2],Ae=At*ce-Ot*fe,De=Ot*ve-st*ce,rr=st*fe-At*ve,Je=At*rr-Ot*De,Er=Ot*Ae-st*rr,Jr=st*De-At*Ae,Ar=Qt*2;return Ae*=Ar,De*=Ar,rr*=Ar,Je*=2,Er*=2,Jr*=2,rt[0]=ve+Ae+Je,rt[1]=fe+De+Er,rt[2]=ce+rr+Jr,rt}function U(rt,et,lt,st){var At=[],Ot=[];return At[0]=et[0]-lt[0],At[1]=et[1]-lt[1],At[2]=et[2]-lt[2],Ot[0]=At[0],Ot[1]=At[1]*Math.cos(st)-At[2]*Math.sin(st),Ot[2]=At[1]*Math.sin(st)+At[2]*Math.cos(st),rt[0]=Ot[0]+lt[0],rt[1]=Ot[1]+lt[1],rt[2]=Ot[2]+lt[2],rt}function K(rt,et,lt,st){var At=[],Ot=[];return At[0]=et[0]-lt[0],At[1]=et[1]-lt[1],At[2]=et[2]-lt[2],Ot[0]=At[2]*Math.sin(st)+At[0]*Math.cos(st),Ot[1]=At[1],Ot[2]=At[2]*Math.cos(st)-At[0]*Math.sin(st),rt[0]=Ot[0]+lt[0],rt[1]=Ot[1]+lt[1],rt[2]=Ot[2]+lt[2],rt}function f(rt,et,lt,st){var At=[],Ot=[];return At[0]=et[0]-lt[0],At[1]=et[1]-lt[1],At[2]=et[2]-lt[2],Ot[0]=At[0]*Math.cos(st)-At[1]*Math.sin(st),Ot[1]=At[0]*Math.sin(st)+At[1]*Math.cos(st),Ot[2]=At[2],rt[0]=Ot[0]+lt[0],rt[1]=Ot[1]+lt[1],rt[2]=Ot[2]+lt[2],rt}function mt(rt,et){var lt=rt[0],st=rt[1],At=rt[2],Ot=et[0],Qt=et[1],ve=et[2],fe=Math.sqrt(lt*lt+st*st+At*At),ce=Math.sqrt(Ot*Ot+Qt*Qt+ve*ve),Ae=fe*ce,De=Ae&&dt(rt,et)/Ae;return Math.acos(Math.min(Math.max(De,-1),1))}function Tt(rt){return rt[0]=0,rt[1]=0,rt[2]=0,rt}function at(rt){return"vec3("+rt[0]+", "+rt[1]+", "+rt[2]+")"}function Pt(rt,et){return rt[0]===et[0]&&rt[1]===et[1]&&rt[2]===et[2]}function wt(rt,et){var lt=rt[0],st=rt[1],At=rt[2],Ot=et[0],Qt=et[1],ve=et[2];return Math.abs(lt-Ot)<=w.Ib*Math.max(1,Math.abs(lt),Math.abs(Ot))&&Math.abs(st-Qt)<=w.Ib*Math.max(1,Math.abs(st),Math.abs(Qt))&&Math.abs(At-ve)<=w.Ib*Math.max(1,Math.abs(At),Math.abs(ve))}var Et=p,Rt=b,Nt=m,kt=Z,_t=X,ht=L,ft=j,Mt=function(){var rt=O();return function(et,lt,st,At,Ot,Qt){var ve,fe;for(lt||(lt=3),st||(st=0),At?fe=Math.min(At*lt+st,et.length):fe=et.length,ve=st;ve<fe;ve+=lt)rt[0]=et[ve],rt[1]=et[ve+1],rt[2]=et[ve+2],Ot(rt,rt,Qt),et[ve]=rt[0],et[ve+1]=rt[1],et[ve+2]=rt[2];return et}}()},28282:function(xt,S,d){var w=d(82354);xt.exports={Graph:w.Graph,json:d(28974),alg:d(12440),version:w.version}},2842:function(xt,S,d){var w=d(89126);xt.exports=O;function O(I){var L={},P=[],T;function M(E){w.has(L,E)||(L[E]=!0,T.push(E),w.each(I.successors(E),M),w.each(I.predecessors(E),M))}return w.each(I.nodes(),function(E){T=[],M(E),T.length&&P.push(T)}),P}},53984:function(xt,S,d){var w=d(89126);xt.exports=O;function O(L,P,T){w.isArray(P)||(P=[P]);var M=(L.isDirected()?L.successors:L.neighbors).bind(L),E=[],p={};return w.each(P,function(b){if(!L.hasNode(b))throw new Error("Graph does not have node: "+b);I(L,b,T==="post",p,M,E)}),E}function I(L,P,T,M,E,p){w.has(M,P)||(M[P]=!0,T||p.push(P),w.each(E(P),function(b){I(L,b,T,M,E,p)}),T&&p.push(P))}},84847:function(xt,S,d){var w=d(63763),O=d(89126);xt.exports=I;function I(L,P,T){return O.transform(L.nodes(),function(M,E){M[E]=w(L,E,P,T)},{})}},63763:function(xt,S,d){var w=d(89126),O=d(75639);xt.exports=L;var I=w.constant(1);function L(T,M,E,p){return P(T,String(M),E||I,p||function(b){return T.outEdges(b)})}function P(T,M,E,p){var b={},m=new O,x,g,C=function(_){var B=_.v!==x?_.v:_.w,D=b[B],W=E(_),Z=g.distance+W;if(W<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+_+" Weight: "+W);Z<D.distance&&(D.distance=Z,D.predecessor=x,m.decrease(B,Z))};for(T.nodes().forEach(function(_){var B=_===M?0:Number.POSITIVE_INFINITY;b[_]={distance:B},m.add(_,B)});m.size()>0&&(x=m.removeMin(),g=b[x],g.distance!==Number.POSITIVE_INFINITY);)p(x).forEach(C);return b}},9096:function(xt,S,d){var w=d(89126),O=d(5023);xt.exports=I;function I(L){return w.filter(O(L),function(P){return P.length>1||P.length===1&&L.hasEdge(P[0],P[0])})}},38924:function(xt,S,d){var w=d(89126);xt.exports=I;var O=w.constant(1);function I(P,T,M){return L(P,T||O,M||function(E){return P.outEdges(E)})}function L(P,T,M){var E={},p=P.nodes();return p.forEach(function(b){E[b]={},E[b][b]={distance:0},p.forEach(function(m){b!==m&&(E[b][m]={distance:Number.POSITIVE_INFINITY})}),M(b).forEach(function(m){var x=m.v===b?m.w:m.v,g=T(m);E[b][x]={distance:g,predecessor:b}})}),p.forEach(function(b){var m=E[b];p.forEach(function(x){var g=E[x];p.forEach(function(C){var _=g[b],B=m[C],D=g[C],W=_.distance+B.distance;W<D.distance&&(D.distance=W,D.predecessor=B.predecessor)})})}),E}},12440:function(xt,S,d){xt.exports={components:d(2842),dijkstra:d(63763),dijkstraAll:d(84847),findCycles:d(9096),floydWarshall:d(38924),isAcyclic:d(62707),postorder:d(58828),preorder:d(92648),prim:d(80514),tarjan:d(5023),topsort:d(2166)}},62707:function(xt,S,d){var w=d(2166);xt.exports=O;function O(I){try{w(I)}catch(L){if(L instanceof w.CycleException)return!1;throw L}return!0}},58828:function(xt,S,d){var w=d(53984);xt.exports=O;function O(I,L){return w(I,L,"post")}},92648:function(xt,S,d){var w=d(53984);xt.exports=O;function O(I,L){return w(I,L,"pre")}},80514:function(xt,S,d){var w=d(89126),O=d(30771),I=d(75639);xt.exports=L;function L(P,T){var M=new O,E={},p=new I,b;function m(g){var C=g.v===b?g.w:g.v,_=p.priority(C);if(_!==void 0){var B=T(g);B<_&&(E[C]=b,p.decrease(C,B))}}if(P.nodeCount()===0)return M;w.each(P.nodes(),function(g){p.add(g,Number.POSITIVE_INFINITY),M.setNode(g)}),p.decrease(P.nodes()[0],0);for(var x=!1;p.size()>0;){if(b=p.removeMin(),w.has(E,b))M.setEdge(b,E[b]);else{if(x)throw new Error("Input graph is not connected: "+P);x=!0}P.nodeEdges(b).forEach(m)}return M}},5023:function(xt,S,d){var w=d(89126);xt.exports=O;function O(I){var L=0,P=[],T={},M=[];function E(p){var b=T[p]={onStack:!0,lowlink:L,index:L++};if(P.push(p),I.successors(p).forEach(function(g){w.has(T,g)?T[g].onStack&&(b.lowlink=Math.min(b.lowlink,T[g].index)):(E(g),b.lowlink=Math.min(b.lowlink,T[g].lowlink))}),b.lowlink===b.index){var m=[],x;do x=P.pop(),T[x].onStack=!1,m.push(x);while(p!==x);M.push(m)}}return I.nodes().forEach(function(p){w.has(T,p)||E(p)}),M}},2166:function(xt,S,d){var w=d(89126);xt.exports=O,O.CycleException=I;function O(L){var P={},T={},M=[];function E(p){if(w.has(T,p))throw new I;w.has(P,p)||(T[p]=!0,P[p]=!0,w.each(L.predecessors(p),E),delete T[p],M.push(p))}if(w.each(L.sinks(),E),w.size(P)!==L.nodeCount())throw new I;return M}function I(){}I.prototype=new Error},75639:function(xt,S,d){var w=d(89126);xt.exports=O;function O(){this._arr=[],this._keyIndices={}}O.prototype.size=function(){return this._arr.length},O.prototype.keys=function(){return this._arr.map(function(I){return I.key})},O.prototype.has=function(I){return w.has(this._keyIndices,I)},O.prototype.priority=function(I){var L=this._keyIndices[I];if(L!==void 0)return this._arr[L].priority},O.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},O.prototype.add=function(I,L){var P=this._keyIndices;if(I=String(I),!w.has(P,I)){var T=this._arr,M=T.length;return P[I]=M,T.push({key:I,priority:L}),this._decrease(M),!0}return!1},O.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var I=this._arr.pop();return delete this._keyIndices[I.key],this._heapify(0),I.key},O.prototype.decrease=function(I,L){var P=this._keyIndices[I];if(L>this._arr[P].priority)throw new Error("New priority is greater than current priority. Key: "+I+" Old: "+this._arr[P].priority+" New: "+L);this._arr[P].priority=L,this._decrease(P)},O.prototype._heapify=function(I){var L=this._arr,P=2*I,T=P+1,M=I;P<L.length&&(M=L[P].priority<L[M].priority?P:M,T<L.length&&(M=L[T].priority<L[M].priority?T:M),M!==I&&(this._swap(I,M),this._heapify(M)))},O.prototype._decrease=function(I){for(var L=this._arr,P=L[I].priority,T;I!==0&&(T=I>>1,!(L[T].priority<P));)this._swap(I,T),I=T},O.prototype._swap=function(I,L){var P=this._arr,T=this._keyIndices,M=P[I],E=P[L];P[I]=E,P[L]=M,T[E.key]=I,T[M.key]=L}},30771:function(xt,S,d){"use strict";var w=d(89126);xt.exports=P;var O="\0",I="\0",L="";function P(m){this._isDirected=w.has(m,"directed")?m.directed:!0,this._isMultigraph=w.has(m,"multigraph")?m.multigraph:!1,this._isCompound=w.has(m,"compound")?m.compound:!1,this._label=void 0,this._defaultNodeLabelFn=w.constant(void 0),this._defaultEdgeLabelFn=w.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[I]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}P.prototype._nodeCount=0,P.prototype._edgeCount=0,P.prototype.isDirected=function(){return this._isDirected},P.prototype.isMultigraph=function(){return this._isMultigraph},P.prototype.isCompound=function(){return this._isCompound},P.prototype.setGraph=function(m){return this._label=m,this},P.prototype.graph=function(){return this._label},P.prototype.setDefaultNodeLabel=function(m){return w.isFunction(m)||(m=w.constant(m)),this._defaultNodeLabelFn=m,this},P.prototype.nodeCount=function(){return this._nodeCount},P.prototype.nodes=function(){return w.keys(this._nodes)},P.prototype.sources=function(){var m=this;return w.filter(this.nodes(),function(x){return w.isEmpty(m._in[x])})},P.prototype.sinks=function(){var m=this;return w.filter(this.nodes(),function(x){return w.isEmpty(m._out[x])})},P.prototype.setNodes=function(m,x){var g=arguments,C=this;return w.each(m,function(_){g.length>1?C.setNode(_,x):C.setNode(_)}),this},P.prototype.setNode=function(m,x){return w.has(this._nodes,m)?(arguments.length>1&&(this._nodes[m]=x),this):(this._nodes[m]=arguments.length>1?x:this._defaultNodeLabelFn(m),this._isCompound&&(this._parent[m]=I,this._children[m]={},this._children[I][m]=!0),this._in[m]={},this._preds[m]={},this._out[m]={},this._sucs[m]={},++this._nodeCount,this)},P.prototype.node=function(m){return this._nodes[m]},P.prototype.hasNode=function(m){return w.has(this._nodes,m)},P.prototype.removeNode=function(m){var x=this;if(w.has(this._nodes,m)){var g=function(C){x.removeEdge(x._edgeObjs[C])};delete this._nodes[m],this._isCompound&&(this._removeFromParentsChildList(m),delete this._parent[m],w.each(this.children(m),function(C){x.setParent(C)}),delete this._children[m]),w.each(w.keys(this._in[m]),g),delete this._in[m],delete this._preds[m],w.each(w.keys(this._out[m]),g),delete this._out[m],delete this._sucs[m],--this._nodeCount}return this},P.prototype.setParent=function(m,x){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(w.isUndefined(x))x=I;else{x+="";for(var g=x;!w.isUndefined(g);g=this.parent(g))if(g===m)throw new Error("Setting "+x+" as parent of "+m+" would create a cycle");this.setNode(x)}return this.setNode(m),this._removeFromParentsChildList(m),this._parent[m]=x,this._children[x][m]=!0,this},P.prototype._removeFromParentsChildList=function(m){delete this._children[this._parent[m]][m]},P.prototype.parent=function(m){if(this._isCompound){var x=this._parent[m];if(x!==I)return x}},P.prototype.children=function(m){if(w.isUndefined(m)&&(m=I),this._isCompound){var x=this._children[m];if(x)return w.keys(x)}else{if(m===I)return this.nodes();if(this.hasNode(m))return[]}},P.prototype.predecessors=function(m){var x=this._preds[m];if(x)return w.keys(x)},P.prototype.successors=function(m){var x=this._sucs[m];if(x)return w.keys(x)},P.prototype.neighbors=function(m){var x=this.predecessors(m);if(x)return w.union(x,this.successors(m))},P.prototype.isLeaf=function(m){var x;return this.isDirected()?x=this.successors(m):x=this.neighbors(m),x.length===0},P.prototype.filterNodes=function(m){var x=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});x.setGraph(this.graph());var g=this;w.each(this._nodes,function(B,D){m(D)&&x.setNode(D,B)}),w.each(this._edgeObjs,function(B){x.hasNode(B.v)&&x.hasNode(B.w)&&x.setEdge(B,g.edge(B))});var C={};function _(B){var D=g.parent(B);return D===void 0||x.hasNode(D)?(C[B]=D,D):D in C?C[D]:_(D)}return this._isCompound&&w.each(x.nodes(),function(B){x.setParent(B,_(B))}),x},P.prototype.setDefaultEdgeLabel=function(m){return w.isFunction(m)||(m=w.constant(m)),this._defaultEdgeLabelFn=m,this},P.prototype.edgeCount=function(){return this._edgeCount},P.prototype.edges=function(){return w.values(this._edgeObjs)},P.prototype.setPath=function(m,x){var g=this,C=arguments;return w.reduce(m,function(_,B){return C.length>1?g.setEdge(_,B,x):g.setEdge(_,B),B}),this},P.prototype.setEdge=function(){var m,x,g,C,_=!1,B=arguments[0];typeof B=="object"&&B!==null&&"v"in B?(m=B.v,x=B.w,g=B.name,arguments.length===2&&(C=arguments[1],_=!0)):(m=B,x=arguments[1],g=arguments[3],arguments.length>2&&(C=arguments[2],_=!0)),m=""+m,x=""+x,w.isUndefined(g)||(g=""+g);var D=E(this._isDirected,m,x,g);if(w.has(this._edgeLabels,D))return _&&(this._edgeLabels[D]=C),this;if(!w.isUndefined(g)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(m),this.setNode(x),this._edgeLabels[D]=_?C:this._defaultEdgeLabelFn(m,x,g);var W=p(this._isDirected,m,x,g);return m=W.v,x=W.w,Object.freeze(W),this._edgeObjs[D]=W,T(this._preds[x],m),T(this._sucs[m],x),this._in[x][D]=W,this._out[m][D]=W,this._edgeCount++,this},P.prototype.edge=function(m,x,g){var C=arguments.length===1?b(this._isDirected,arguments[0]):E(this._isDirected,m,x,g);return this._edgeLabels[C]},P.prototype.hasEdge=function(m,x,g){var C=arguments.length===1?b(this._isDirected,arguments[0]):E(this._isDirected,m,x,g);return w.has(this._edgeLabels,C)},P.prototype.removeEdge=function(m,x,g){var C=arguments.length===1?b(this._isDirected,arguments[0]):E(this._isDirected,m,x,g),_=this._edgeObjs[C];return _&&(m=_.v,x=_.w,delete this._edgeLabels[C],delete this._edgeObjs[C],M(this._preds[x],m),M(this._sucs[m],x),delete this._in[x][C],delete this._out[m][C],this._edgeCount--),this},P.prototype.inEdges=function(m,x){var g=this._in[m];if(g){var C=w.values(g);return x?w.filter(C,function(_){return _.v===x}):C}},P.prototype.outEdges=function(m,x){var g=this._out[m];if(g){var C=w.values(g);return x?w.filter(C,function(_){return _.w===x}):C}},P.prototype.nodeEdges=function(m,x){var g=this.inEdges(m,x);if(g)return g.concat(this.outEdges(m,x))};function T(m,x){m[x]?m[x]++:m[x]=1}function M(m,x){--m[x]||delete m[x]}function E(m,x,g,C){var _=""+x,B=""+g;if(!m&&_>B){var D=_;_=B,B=D}return _+L+B+L+(w.isUndefined(C)?O:C)}function p(m,x,g,C){var _=""+x,B=""+g;if(!m&&_>B){var D=_;_=B,B=D}var W={v:_,w:B};return C&&(W.name=C),W}function b(m,x){return E(m,x.v,x.w,x.name)}},82354:function(xt,S,d){xt.exports={Graph:d(30771),version:d(49631)}},28974:function(xt,S,d){var w=d(89126),O=d(30771);xt.exports={write:I,read:T};function I(M){var E={options:{directed:M.isDirected(),multigraph:M.isMultigraph(),compound:M.isCompound()},nodes:L(M),edges:P(M)};return w.isUndefined(M.graph())||(E.value=w.clone(M.graph())),E}function L(M){return w.map(M.nodes(),function(E){var p=M.node(E),b=M.parent(E),m={v:E};return w.isUndefined(p)||(m.value=p),w.isUndefined(b)||(m.parent=b),m})}function P(M){return w.map(M.edges(),function(E){var p=M.edge(E),b={v:E.v,w:E.w};return w.isUndefined(E.name)||(b.name=E.name),w.isUndefined(p)||(b.value=p),b})}function T(M){var E=new O(M.options).setGraph(M.value);return w.each(M.nodes,function(p){E.setNode(p.v,p.value),p.parent&&E.setParent(p.v,p.parent)}),w.each(M.edges,function(p){E.setEdge({v:p.v,w:p.w,name:p.name},p.value)}),E}},89126:function(xt,S,d){var w;try{w={clone:d(66678),constant:d(75703),each:d(66073),filter:d(63105),has:d(18721),isArray:d(1469),isEmpty:d(41609),isFunction:d(23560),isUndefined:d(52353),keys:d(3674),map:d(35161),reduce:d(54061),size:d(84238),transform:d(68718),union:d(93386),values:d(52628)}}catch(O){}w||(w=window._),xt.exports=w},49631:function(xt){xt.exports="2.1.8"},38186:function(xt){var S=[],d=[],w="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function O(L,P){if(P=P||{},L===void 0)throw new Error(w);var T=P.prepend===!0?"prepend":"append",M=P.container!==void 0?P.container:document.querySelector("head"),E=S.indexOf(M);E===-1&&(E=S.push(M)-1,d[E]={});var p;return d[E]!==void 0&&d[E][T]!==void 0?p=d[E][T]:(p=d[E][T]=I(),T==="prepend"?M.insertBefore(p,M.childNodes[0]):M.appendChild(p)),L.charCodeAt(0)===65279&&(L=L.substr(1,L.length)),p.styleSheet?p.styleSheet.cssText+=L:p.textContent+=L,p}function I(){var L=document.createElement("style");return L.setAttribute("type","text/css"),L}xt.exports=O,xt.exports.insertCss=O},47443:function(xt,S,d){var w=d(42118);function O(I,L){var P=I==null?0:I.length;return!!P&&w(I,L,0)>-1}xt.exports=O},1196:function(xt){function S(d,w,O){for(var I=-1,L=d==null?0:d.length;++I<L;)if(O(w,d[I]))return!0;return!1}xt.exports=S},62663:function(xt){function S(d,w,O,I){var L=-1,P=d==null?0:d.length;for(I&&P&&(O=d[++L]);++L<P;)O=w(O,d[L],L,d);return O}xt.exports=S},56029:function(xt,S,d){var w=d(33448);function O(I,L,P){for(var T=-1,M=I.length;++T<M;){var E=I[T],p=L(E);if(p!=null&&(b===void 0?p===p&&!w(p):P(p,b)))var b=p,m=E}return m}xt.exports=O},80760:function(xt,S,d){var w=d(89881);function O(I,L){var P=[];return w(I,function(T,M,E){L(T,M,E)&&P.push(T)}),P}xt.exports=O},41848:function(xt){function S(d,w,O,I){for(var L=d.length,P=O+(I?1:-1);I?P--:++P<L;)if(w(d[P],P,d))return P;return-1}xt.exports=S},53325:function(xt){function S(d,w){return d>w}xt.exports=S},78565:function(xt){var S=Object.prototype,d=S.hasOwnProperty;function w(O,I){return O!=null&&d.call(O,I)}xt.exports=w},42118:function(xt,S,d){var w=d(41848),O=d(62722),I=d(42351);function L(P,T,M){return T===T?I(P,T,M):w(P,O,M)}xt.exports=L},62722:function(xt){function S(d){return d!==d}xt.exports=S},70433:function(xt){function S(d,w){return d<w}xt.exports=S},82689:function(xt,S,d){var w=d(29932),O=d(97786),I=d(67206),L=d(69199),P=d(71131),T=d(7518),M=d(85022),E=d(6557),p=d(1469);function b(m,x,g){x.length?x=w(x,function(B){return p(B)?function(D){return O(D,B.length===1?B[0]:B)}:B}):x=[E];var C=-1;x=w(x,T(I));var _=L(m,function(B,D,W){var Z=w(x,function(X){return X(B)});return{criteria:Z,index:++C,value:B}});return P(_,function(B,D){return M(B,D,g)})}xt.exports=b},40098:function(xt){var S=Math.ceil,d=Math.max;function w(O,I,L,P){for(var T=-1,M=d(S((I-O)/(L||1)),0),E=Array(M);M--;)E[P?M:++T]=O,O+=L;return E}xt.exports=w},10107:function(xt){function S(d,w,O,I,L){return L(d,function(P,T,M){O=I?(I=!1,P):w(O,P,T,M)}),O}xt.exports=S},71131:function(xt){function S(d,w){var O=d.length;for(d.sort(w);O--;)d[O]=d[O].value;return d}xt.exports=S},45652:function(xt,S,d){var w=d(88668),O=d(47443),I=d(1196),L=d(74757),P=d(23593),T=d(21814),M=200;function E(p,b,m){var x=-1,g=O,C=p.length,_=!0,B=[],D=B;if(m)_=!1,g=I;else if(C>=M){var W=b?null:P(p);if(W)return T(W);_=!1,g=L,D=new w}else D=b?[]:B;t:for(;++x<C;){var Z=p[x],X=b?b(Z):Z;if(Z=m||Z!==0?Z:0,_&&X===X){for(var j=D.length;j--;)if(D[j]===X)continue t;b&&D.push(X),B.push(Z)}else g(D,X,m)||(D!==B&&D.push(X),B.push(Z))}return B}xt.exports=E},47415:function(xt,S,d){var w=d(29932);function O(I,L){return w(L,function(P){return I[P]})}xt.exports=O},1757:function(xt){function S(d,w,O){for(var I=-1,L=d.length,P=w.length,T={};++I<L;){var M=I<P?w[I]:void 0;O(T,d[I],M)}return T}xt.exports=S},26393:function(xt,S,d){var w=d(33448);function O(I,L){if(I!==L){var P=I!==void 0,T=I===null,M=I===I,E=w(I),p=L!==void 0,b=L===null,m=L===L,x=w(L);if(!b&&!x&&!E&&I>L||E&&p&&m&&!b&&!x||T&&p&&m||!P&&m||!M)return 1;if(!T&&!E&&!x&&I<L||x&&P&&M&&!T&&!E||b&&P&&M||!p&&M||!m)return-1}return 0}xt.exports=O},85022:function(xt,S,d){var w=d(26393);function O(I,L,P){for(var T=-1,M=I.criteria,E=L.criteria,p=M.length,b=P.length;++T<p;){var m=w(M[T],E[T]);if(m){if(T>=b)return m;var x=P[T];return m*(x=="desc"?-1:1)}}return I.index-L.index}xt.exports=O},67740:function(xt,S,d){var w=d(67206),O=d(98612),I=d(3674);function L(P){return function(T,M,E){var p=Object(T);if(!O(T)){var b=w(M,3);T=I(T),M=function(x){return b(p[x],x,p)}}var m=P(T,M,E);return m>-1?p[b?T[m]:m]:void 0}}xt.exports=L},47445:function(xt,S,d){var w=d(40098),O=d(16612),I=d(18601);function L(P){return function(T,M,E){return E&&typeof E!="number"&&O(T,M,E)&&(M=E=void 0),T=I(T),M===void 0?(M=T,T=0):M=I(M),E=E===void 0?T<M?1:-1:I(E),w(T,M,E,P)}}xt.exports=L},23593:function(xt,S,d){var w=d(58525),O=d(50308),I=d(21814),L=1/0,P=w&&1/I(new w([,-0]))[1]==L?function(T){return new w(T)}:O;xt.exports=P},42351:function(xt){function S(d,w,O){for(var I=O-1,L=d.length;++I<L;)if(d[I]===w)return I;return-1}xt.exports=S},66678:function(xt,S,d){var w=d(85990),O=4;function I(L){return w(L,O)}xt.exports=I},91747:function(xt,S,d){var w=d(5976),O=d(77813),I=d(16612),L=d(81704),P=Object.prototype,T=P.hasOwnProperty,M=w(function(E,p){E=Object(E);var b=-1,m=p.length,x=m>2?p[2]:void 0;for(x&&I(p[0],p[1],x)&&(m=1);++b<m;)for(var g=p[b],C=L(g),_=-1,B=C.length;++_<B;){var D=C[_],W=E[D];(W===void 0||O(W,P[D])&&!T.call(E,D))&&(E[D]=g[D])}return E});xt.exports=M},66073:function(xt,S,d){xt.exports=d(84486)},63105:function(xt,S,d){var w=d(34963),O=d(80760),I=d(67206),L=d(1469);function P(T,M){var E=L(T)?w:O;return E(T,I(M,3))}xt.exports=P},13311:function(xt,S,d){var w=d(67740),O=d(30998),I=w(O);xt.exports=I},30998:function(xt,S,d){var w=d(41848),O=d(67206),I=d(40554),L=Math.max;function P(T,M,E){var p=T==null?0:T.length;if(!p)return-1;var b=E==null?0:I(E);return b<0&&(b=L(p+b,0)),w(T,O(M,3),b)}xt.exports=P},84486:function(xt,S,d){var w=d(77412),O=d(89881),I=d(54290),L=d(1469);function P(T,M){var E=L(T)?w:O;return E(T,I(M))}xt.exports=P},62620:function(xt,S,d){var w=d(28483),O=d(54290),I=d(81704);function L(P,T){return P==null?P:w(P,O(T),I)}xt.exports=L},18721:function(xt,S,d){var w=d(78565),O=d(222);function I(L,P){return L!=null&&O(L,P,w)}xt.exports=I},41609:function(xt,S,d){var w=d(280),O=d(64160),I=d(35694),L=d(1469),P=d(98612),T=d(44144),M=d(25726),E=d(36719),p="[object Map]",b="[object Set]",m=Object.prototype,x=m.hasOwnProperty;function g(C){if(C==null)return!0;if(P(C)&&(L(C)||typeof C=="string"||typeof C.splice=="function"||T(C)||E(C)||I(C)))return!C.length;var _=O(C);if(_==p||_==b)return!C.size;if(M(C))return!w(C).length;for(var B in C)if(x.call(C,B))return!1;return!0}xt.exports=g},52353:function(xt){function S(d){return d===void 0}xt.exports=S},10928:function(xt){function S(d){var w=d==null?0:d.length;return w?d[w-1]:void 0}xt.exports=S},66604:function(xt,S,d){var w=d(89465),O=d(47816),I=d(67206);function L(P,T){var M={};return T=I(T,3),O(P,function(E,p,b){w(M,p,T(E,p,b))}),M}xt.exports=L},6162:function(xt,S,d){var w=d(56029),O=d(53325),I=d(6557);function L(P){return P&&P.length?w(P,I,O):void 0}xt.exports=L},53632:function(xt,S,d){var w=d(56029),O=d(70433),I=d(6557);function L(P){return P&&P.length?w(P,I,O):void 0}xt.exports=L},22762:function(xt,S,d){var w=d(56029),O=d(67206),I=d(70433);function L(P,T){return P&&P.length?w(P,O(T,2),I):void 0}xt.exports=L},50308:function(xt){function S(){}xt.exports=S},96026:function(xt,S,d){var w=d(47445),O=w();xt.exports=O},54061:function(xt,S,d){var w=d(62663),O=d(89881),I=d(67206),L=d(10107),P=d(1469);function T(M,E,p){var b=P(M)?w:L,m=arguments.length<3;return b(M,I(E,4),p,m,O)}xt.exports=T},84238:function(xt,S,d){var w=d(280),O=d(64160),I=d(98612),L=d(47037),P=d(88016),T="[object Map]",M="[object Set]";function E(p){if(p==null)return 0;if(I(p))return L(p)?P(p):p.length;var b=O(p);return b==T||b==M?p.size:w(p).length}xt.exports=E},89734:function(xt,S,d){var w=d(21078),O=d(82689),I=d(5976),L=d(16612),P=I(function(T,M){if(T==null)return[];var E=M.length;return E>1&&L(T,M[0],M[1])?M=[]:E>2&&L(M[0],M[1],M[2])&&(M=[M[0]]),O(T,w(M,1),[])});xt.exports=P},68718:function(xt,S,d){var w=d(77412),O=d(3118),I=d(47816),L=d(67206),P=d(85924),T=d(1469),M=d(44144),E=d(23560),p=d(13218),b=d(36719);function m(x,g,C){var _=T(x),B=_||M(x)||b(x);if(g=L(g,4),C==null){var D=x&&x.constructor;B?C=_?new D:[]:p(x)?C=E(D)?O(P(x)):{}:C={}}return(B?w:I)(x,function(W,Z,X){return g(C,W,Z,X)}),C}xt.exports=m},93386:function(xt,S,d){var w=d(21078),O=d(5976),I=d(45652),L=d(29246),P=O(function(T){return I(w(T,1,L,!0))});xt.exports=P},52628:function(xt,S,d){var w=d(47415),O=d(3674);function I(L){return L==null?[]:w(L,O(L))}xt.exports=I},7287:function(xt,S,d){var w=d(34865),O=d(1757);function I(L,P){return O(L||[],P||[],w)}xt.exports=I},86851:function(xt,S,d){"use strict";var w=d(89594),O=Array.prototype.concat,I=Array.prototype.slice,L=xt.exports=function(T){for(var M=[],E=0,p=T.length;E<p;E++){var b=T[E];w(b)?M=O.call(M,I.call(b)):M.push(b)}return M};L.wrap=function(P){return function(){return P(L(arguments))}}},89594:function(xt){xt.exports=function(d){return!d||typeof d=="string"?!1:d instanceof Array||Array.isArray(d)||d.length>=0&&(d.splice instanceof Function||Object.getOwnPropertyDescriptor(d,d.length-1)&&d.constructor.name!=="String")}},70655:function(xt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return L},__decorate:function(){return P},__param:function(){return T},__metadata:function(){return M},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return m},__values:function(){return x},__read:function(){return g},__spread:function(){return C},__spreadArrays:function(){return _},__spreadArray:function(){return B},__await:function(){return D},__asyncGenerator:function(){return W},__asyncDelegator:function(){return Z},__asyncValues:function(){return X},__makeTemplateObject:function(){return j},__importStar:function(){return tt},__importDefault:function(){return yt},__classPrivateFieldGet:function(){return dt},__classPrivateFieldSet:function(){return Ct}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w=function(F,z){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,Y){G.__proto__=Y}||function(G,Y){for(var q in Y)Object.prototype.hasOwnProperty.call(Y,q)&&(G[q]=Y[q])},w(F,z)};function O(F,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");w(F,z);function G(){this.constructor=F}F.prototype=z===null?Object.create(z):(G.prototype=z.prototype,new G)}var I=function(){return I=Object.assign||function(z){for(var G,Y=1,q=arguments.length;Y<q;Y++){G=arguments[Y];for(var $ in G)Object.prototype.hasOwnProperty.call(G,$)&&(z[$]=G[$])}return z},I.apply(this,arguments)};function L(F,z){var G={};for(var Y in F)Object.prototype.hasOwnProperty.call(F,Y)&&z.indexOf(Y)<0&&(G[Y]=F[Y]);if(F!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,Y=Object.getOwnPropertySymbols(F);q<Y.length;q++)z.indexOf(Y[q])<0&&Object.prototype.propertyIsEnumerable.call(F,Y[q])&&(G[Y[q]]=F[Y[q]]);return G}function P(F,z,G,Y){var q=arguments.length,$=q<3?z:Y===null?Y=Object.getOwnPropertyDescriptor(z,G):Y,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(F,z,G,Y);else for(var U=F.length-1;U>=0;U--)(J=F[U])&&($=(q<3?J($):q>3?J(z,G,$):J(z,G))||$);return q>3&&$&&Object.defineProperty(z,G,$),$}function T(F,z){return function(G,Y){z(G,Y,F)}}function M(F,z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(F,z)}function E(F,z,G,Y){function q($){return $ instanceof G?$:new G(function(J){J($)})}return new(G||(G=Promise))(function($,J){function U(mt){try{f(Y.next(mt))}catch(Tt){J(Tt)}}function K(mt){try{f(Y.throw(mt))}catch(Tt){J(Tt)}}function f(mt){mt.done?$(mt.value):q(mt.value).then(U,K)}f((Y=Y.apply(F,z||[])).next())})}function p(F,z){var G={label:0,sent:function(){if($[0]&1)throw $[1];return $[1]},trys:[],ops:[]},Y,q,$,J;return J={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(J[Symbol.iterator]=function(){return this}),J;function U(f){return function(mt){return K([f,mt])}}function K(f){if(Y)throw new TypeError("Generator is already executing.");for(;G;)try{if(Y=1,q&&($=f[0]&2?q.return:f[0]?q.throw||(($=q.return)&&$.call(q),0):q.next)&&!($=$.call(q,f[1])).done)return $;switch(q=0,$&&(f=[f[0]&2,$.value]),f[0]){case 0:case 1:$=f;break;case 4:return G.label++,{value:f[1],done:!1};case 5:G.label++,q=f[1],f=[0];continue;case 7:f=G.ops.pop(),G.trys.pop();continue;default:if($=G.trys,!($=$.length>0&&$[$.length-1])&&(f[0]===6||f[0]===2)){G=0;continue}if(f[0]===3&&(!$||f[1]>$[0]&&f[1]<$[3])){G.label=f[1];break}if(f[0]===6&&G.label<$[1]){G.label=$[1],$=f;break}if($&&G.label<$[2]){G.label=$[2],G.ops.push(f);break}$[2]&&G.ops.pop(),G.trys.pop();continue}f=z.call(F,G)}catch(mt){f=[6,mt],q=0}finally{Y=$=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var b=Object.create?function(F,z,G,Y){Y===void 0&&(Y=G),Object.defineProperty(F,Y,{enumerable:!0,get:function(){return z[G]}})}:function(F,z,G,Y){Y===void 0&&(Y=G),F[Y]=z[G]};function m(F,z){for(var G in F)G!=="default"&&!Object.prototype.hasOwnProperty.call(z,G)&&b(z,F,G)}function x(F){var z=typeof Symbol=="function"&&Symbol.iterator,G=z&&F[z],Y=0;if(G)return G.call(F);if(F&&typeof F.length=="number")return{next:function(){return F&&Y>=F.length&&(F=void 0),{value:F&&F[Y++],done:!F}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(F,z){var G=typeof Symbol=="function"&&F[Symbol.iterator];if(!G)return F;var Y=G.call(F),q,$=[],J;try{for(;(z===void 0||z-- >0)&&!(q=Y.next()).done;)$.push(q.value)}catch(U){J={error:U}}finally{try{q&&!q.done&&(G=Y.return)&&G.call(Y)}finally{if(J)throw J.error}}return $}function C(){for(var F=[],z=0;z<arguments.length;z++)F=F.concat(g(arguments[z]));return F}function _(){for(var F=0,z=0,G=arguments.length;z<G;z++)F+=arguments[z].length;for(var Y=Array(F),q=0,z=0;z<G;z++)for(var $=arguments[z],J=0,U=$.length;J<U;J++,q++)Y[q]=$[J];return Y}function B(F,z,G){if(G||arguments.length===2)for(var Y=0,q=z.length,$;Y<q;Y++)($||!(Y in z))&&($||($=Array.prototype.slice.call(z,0,Y)),$[Y]=z[Y]);return F.concat($||Array.prototype.slice.call(z))}function D(F){return this instanceof D?(this.v=F,this):new D(F)}function W(F,z,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=G.apply(F,z||[]),q,$=[];return q={},J("next"),J("throw"),J("return"),q[Symbol.asyncIterator]=function(){return this},q;function J(at){Y[at]&&(q[at]=function(Pt){return new Promise(function(wt,Et){$.push([at,Pt,wt,Et])>1||U(at,Pt)})})}function U(at,Pt){try{K(Y[at](Pt))}catch(wt){Tt($[0][3],wt)}}function K(at){at.value instanceof D?Promise.resolve(at.value.v).then(f,mt):Tt($[0][2],at)}function f(at){U("next",at)}function mt(at){U("throw",at)}function Tt(at,Pt){at(Pt),$.shift(),$.length&&U($[0][0],$[0][1])}}function Z(F){var z,G;return z={},Y("next"),Y("throw",function(q){throw q}),Y("return"),z[Symbol.iterator]=function(){return this},z;function Y(q,$){z[q]=F[q]?function(J){return(G=!G)?{value:D(F[q](J)),done:q==="return"}:$?$(J):J}:$}}function X(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z=F[Symbol.asyncIterator],G;return z?z.call(F):(F=typeof x=="function"?x(F):F[Symbol.iterator](),G={},Y("next"),Y("throw"),Y("return"),G[Symbol.asyncIterator]=function(){return this},G);function Y($){G[$]=F[$]&&function(J){return new Promise(function(U,K){J=F[$](J),q(U,K,J.done,J.value)})}}function q($,J,U,K){Promise.resolve(K).then(function(f){$({value:f,done:U})},J)}}function j(F,z){return Object.defineProperty?Object.defineProperty(F,"raw",{value:z}):F.raw=z,F}var it=Object.create?function(F,z){Object.defineProperty(F,"default",{enumerable:!0,value:z})}:function(F,z){F.default=z};function tt(F){if(F&&F.__esModule)return F;var z={};if(F!=null)for(var G in F)G!=="default"&&Object.prototype.hasOwnProperty.call(F,G)&&b(z,F,G);return it(z,F),z}function yt(F){return F&&F.__esModule?F:{default:F}}function dt(F,z,G,Y){if(G==="a"&&!Y)throw new TypeError("Private accessor was defined without a getter");if(typeof z=="function"?F!==z||!Y:!z.has(F))throw new TypeError("Cannot read private member from an object whose class did not declare it");return G==="m"?Y:G==="a"?Y.call(F):Y?Y.value:z.get(F)}function Ct(F,z,G,Y,q){if(Y==="m")throw new TypeError("Private method is not writable");if(Y==="a"&&!q)throw new TypeError("Private accessor was defined without a setter");if(typeof z=="function"?F!==z||!q:!z.has(F))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Y==="a"?q.call(F,G):q?q.value=G:z.set(F,G),G}},91496:function(xt){typeof Object.create=="function"?xt.exports=function(d,w){d.super_=w,d.prototype=Object.create(w.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:xt.exports=function(d,w){d.super_=w;var O=function(){};O.prototype=w.prototype,d.prototype=new O,d.prototype.constructor=d}},20384:function(xt){xt.exports=function(d){return d&&typeof d=="object"&&typeof d.copy=="function"&&typeof d.fill=="function"&&typeof d.readUInt8=="function"}},89539:function(xt,S,d){var w=d(34155),O=Object.getOwnPropertyDescriptors||function(at){for(var Pt=Object.keys(at),wt={},Et=0;Et<Pt.length;Et++)wt[Pt[Et]]=Object.getOwnPropertyDescriptor(at,Pt[Et]);return wt},I=/%[sdj%]/g;S.format=function(Tt){if(!j(Tt)){for(var at=[],Pt=0;Pt<arguments.length;Pt++)at.push(T(arguments[Pt]));return at.join(" ")}for(var Pt=1,wt=arguments,Et=wt.length,Rt=String(Tt).replace(I,function(kt){if(kt==="%%")return"%";if(Pt>=Et)return kt;switch(kt){case"%s":return String(wt[Pt++]);case"%d":return Number(wt[Pt++]);case"%j":try{return JSON.stringify(wt[Pt++])}catch(_t){return"[Circular]"}default:return kt}}),Nt=wt[Pt];Pt<Et;Nt=wt[++Pt])W(Nt)||!dt(Nt)?Rt+=" "+Nt:Rt+=" "+T(Nt);return Rt},S.deprecate=function(Tt,at){if(typeof w!="undefined"&&w.noDeprecation===!0)return Tt;if(typeof w=="undefined")return function(){return S.deprecate(Tt,at).apply(this,arguments)};var Pt=!1;function wt(){if(!Pt){if(w.throwDeprecation)throw new Error(at);w.traceDeprecation?console.trace(at):console.error(at),Pt=!0}return Tt.apply(this,arguments)}return wt};var L={},P;S.debuglog=function(Tt){if(tt(P)&&(P={NODE_ENV:"production"}.NODE_DEBUG||""),Tt=Tt.toUpperCase(),!L[Tt])if(new RegExp("\\b"+Tt+"\\b","i").test(P)){var at=w.pid;L[Tt]=function(){var Pt=S.format.apply(S,arguments);console.error("%s %d: %s",Tt,at,Pt)}}else L[Tt]=function(){};return L[Tt]};function T(Tt,at){var Pt={seen:[],stylize:E};return arguments.length>=3&&(Pt.depth=arguments[2]),arguments.length>=4&&(Pt.colors=arguments[3]),D(at)?Pt.showHidden=at:at&&S._extend(Pt,at),tt(Pt.showHidden)&&(Pt.showHidden=!1),tt(Pt.depth)&&(Pt.depth=2),tt(Pt.colors)&&(Pt.colors=!1),tt(Pt.customInspect)&&(Pt.customInspect=!0),Pt.colors&&(Pt.stylize=M),b(Pt,Tt,Pt.depth)}S.inspect=T,T.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},T.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function M(Tt,at){var Pt=T.styles[at];return Pt?"["+T.colors[Pt][0]+"m"+Tt+"["+T.colors[Pt][1]+"m":Tt}function E(Tt,at){return Tt}function p(Tt){var at={};return Tt.forEach(function(Pt,wt){at[Pt]=!0}),at}function b(Tt,at,Pt){if(Tt.customInspect&&at&&z(at.inspect)&&at.inspect!==S.inspect&&!(at.constructor&&at.constructor.prototype===at)){var wt=at.inspect(Pt,Tt);return j(wt)||(wt=b(Tt,wt,Pt)),wt}var Et=m(Tt,at);if(Et)return Et;var Rt=Object.keys(at),Nt=p(Rt);if(Tt.showHidden&&(Rt=Object.getOwnPropertyNames(at)),F(at)&&(Rt.indexOf("message")>=0||Rt.indexOf("description")>=0))return x(at);if(Rt.length===0){if(z(at)){var kt=at.name?": "+at.name:"";return Tt.stylize("[Function"+kt+"]","special")}if(yt(at))return Tt.stylize(RegExp.prototype.toString.call(at),"regexp");if(Ct(at))return Tt.stylize(Date.prototype.toString.call(at),"date");if(F(at))return x(at)}var _t="",ht=!1,ft=["{","}"];if(B(at)&&(ht=!0,ft=["[","]"]),z(at)){var Mt=at.name?": "+at.name:"";_t=" [Function"+Mt+"]"}if(yt(at)&&(_t=" "+RegExp.prototype.toString.call(at)),Ct(at)&&(_t=" "+Date.prototype.toUTCString.call(at)),F(at)&&(_t=" "+x(at)),Rt.length===0&&(!ht||at.length==0))return ft[0]+_t+ft[1];if(Pt<0)return yt(at)?Tt.stylize(RegExp.prototype.toString.call(at),"regexp"):Tt.stylize("[Object]","special");Tt.seen.push(at);var rt;return ht?rt=g(Tt,at,Pt,Nt,Rt):rt=Rt.map(function(et){return C(Tt,at,Pt,Nt,et,ht)}),Tt.seen.pop(),_(rt,_t,ft)}function m(Tt,at){if(tt(at))return Tt.stylize("undefined","undefined");if(j(at)){var Pt="'"+JSON.stringify(at).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Tt.stylize(Pt,"string")}if(X(at))return Tt.stylize(""+at,"number");if(D(at))return Tt.stylize(""+at,"boolean");if(W(at))return Tt.stylize("null","null")}function x(Tt){return"["+Error.prototype.toString.call(Tt)+"]"}function g(Tt,at,Pt,wt,Et){for(var Rt=[],Nt=0,kt=at.length;Nt<kt;++Nt)U(at,String(Nt))?Rt.push(C(Tt,at,Pt,wt,String(Nt),!0)):Rt.push("");return Et.forEach(function(_t){_t.match(/^\d+$/)||Rt.push(C(Tt,at,Pt,wt,_t,!0))}),Rt}function C(Tt,at,Pt,wt,Et,Rt){var Nt,kt,_t;if(_t=Object.getOwnPropertyDescriptor(at,Et)||{value:at[Et]},_t.get?_t.set?kt=Tt.stylize("[Getter/Setter]","special"):kt=Tt.stylize("[Getter]","special"):_t.set&&(kt=Tt.stylize("[Setter]","special")),U(wt,Et)||(Nt="["+Et+"]"),kt||(Tt.seen.indexOf(_t.value)<0?(W(Pt)?kt=b(Tt,_t.value,null):kt=b(Tt,_t.value,Pt-1),kt.indexOf(`
`)>-1&&(Rt?kt=kt.split(`
`).map(function(ht){return"  "+ht}).join(`
`).substr(2):kt=`
`+kt.split(`
`).map(function(ht){return"   "+ht}).join(`
`))):kt=Tt.stylize("[Circular]","special")),tt(Nt)){if(Rt&&Et.match(/^\d+$/))return kt;Nt=JSON.stringify(""+Et),Nt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Nt=Nt.substr(1,Nt.length-2),Nt=Tt.stylize(Nt,"name")):(Nt=Nt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Nt=Tt.stylize(Nt,"string"))}return Nt+": "+kt}function _(Tt,at,Pt){var wt=0,Et=Tt.reduce(function(Rt,Nt){return wt++,Nt.indexOf(`
`)>=0&&wt++,Rt+Nt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Et>60?Pt[0]+(at===""?"":at+`
 `)+" "+Tt.join(`,
  `)+" "+Pt[1]:Pt[0]+at+" "+Tt.join(", ")+" "+Pt[1]}function B(Tt){return Array.isArray(Tt)}S.isArray=B;function D(Tt){return typeof Tt=="boolean"}S.isBoolean=D;function W(Tt){return Tt===null}S.isNull=W;function Z(Tt){return Tt==null}S.isNullOrUndefined=Z;function X(Tt){return typeof Tt=="number"}S.isNumber=X;function j(Tt){return typeof Tt=="string"}S.isString=j;function it(Tt){return typeof Tt=="symbol"}S.isSymbol=it;function tt(Tt){return Tt===void 0}S.isUndefined=tt;function yt(Tt){return dt(Tt)&&Y(Tt)==="[object RegExp]"}S.isRegExp=yt;function dt(Tt){return typeof Tt=="object"&&Tt!==null}S.isObject=dt;function Ct(Tt){return dt(Tt)&&Y(Tt)==="[object Date]"}S.isDate=Ct;function F(Tt){return dt(Tt)&&(Y(Tt)==="[object Error]"||Tt instanceof Error)}S.isError=F;function z(Tt){return typeof Tt=="function"}S.isFunction=z;function G(Tt){return Tt===null||typeof Tt=="boolean"||typeof Tt=="number"||typeof Tt=="string"||typeof Tt=="symbol"||typeof Tt=="undefined"}S.isPrimitive=G,S.isBuffer=d(20384);function Y(Tt){return Object.prototype.toString.call(Tt)}function q(Tt){return Tt<10?"0"+Tt.toString(10):Tt.toString(10)}var $=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function J(){var Tt=new Date,at=[q(Tt.getHours()),q(Tt.getMinutes()),q(Tt.getSeconds())].join(":");return[Tt.getDate(),$[Tt.getMonth()],at].join(" ")}S.log=function(){console.log("%s - %s",J(),S.format.apply(S,arguments))},S.inherits=d(91496),S._extend=function(Tt,at){if(!at||!dt(at))return Tt;for(var Pt=Object.keys(at),wt=Pt.length;wt--;)Tt[Pt[wt]]=at[Pt[wt]];return Tt};function U(Tt,at){return Object.prototype.hasOwnProperty.call(Tt,at)}var K=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;S.promisify=function(at){if(typeof at!="function")throw new TypeError('The "original" argument must be of type Function');if(K&&at[K]){var Pt=at[K];if(typeof Pt!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Pt,K,{value:Pt,enumerable:!1,writable:!1,configurable:!0}),Pt}function Pt(){for(var wt,Et,Rt=new Promise(function(_t,ht){wt=_t,Et=ht}),Nt=[],kt=0;kt<arguments.length;kt++)Nt.push(arguments[kt]);Nt.push(function(_t,ht){_t?Et(_t):wt(ht)});try{at.apply(this,Nt)}catch(_t){Et(_t)}return Rt}return Object.setPrototypeOf(Pt,Object.getPrototypeOf(at)),K&&Object.defineProperty(Pt,K,{value:Pt,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Pt,O(at))},S.promisify.custom=K;function f(Tt,at){if(!Tt){var Pt=new Error("Promise was rejected with a falsy value");Pt.reason=Tt,Tt=Pt}return at(Tt)}function mt(Tt){if(typeof Tt!="function")throw new TypeError('The "original" argument must be of type Function');function at(){for(var Pt=[],wt=0;wt<arguments.length;wt++)Pt.push(arguments[wt]);var Et=Pt.pop();if(typeof Et!="function")throw new TypeError("The last argument must be of type Function");var Rt=this,Nt=function(){return Et.apply(Rt,arguments)};Tt.apply(this,Pt).then(function(kt){w.nextTick(Nt,null,kt)},function(kt){w.nextTick(f,kt,Nt)})}return Object.setPrototypeOf(at,Object.getPrototypeOf(Tt)),Object.defineProperties(at,O(Tt)),at}S.callbackify=mt}}]);
