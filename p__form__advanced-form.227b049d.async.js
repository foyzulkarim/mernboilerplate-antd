(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8529],{34540:function(X,A,e){"use strict";var S=e(22122),y=e(28991),K=e(81253),u=e(67294),$=e(98757),s=e(86190),D=e(66758),w=["fieldProps","proFieldProps"],M="dateRange",W=u.forwardRef(function(B,P){var T=B.fieldProps,p=B.proFieldProps,o=(0,K.Z)(B,w),a=(0,u.useContext)(D.Z);return u.createElement($.Z,(0,S.Z)({ref:P,mode:"edit",fieldProps:(0,y.Z)({getPopupContainer:a.getPopupContainer},T),valueType:M,proFieldProps:p,filedConfig:{valueType:M,lightFilterLabelFormatter:function(h){return(0,s.Z)(h,(T==null?void 0:T.format)||"YYYY-MM-DD")}}},o))});A.Z=W},64317:function(X,A,e){"use strict";var S=e(22122),y=e(28991),K=e(81253),u=e(67294),$=e(98757),s=e(22270),D=e(66758),w=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],M=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],W=u.forwardRef(function(o,a){var R=o.fieldProps,h=o.children,V=o.params,Y=o.proFieldProps,k=o.mode,H=o.valueEnum,q=o.request,_=o.showSearch,G=o.options,ee=(0,K.Z)(o,w),re=(0,u.useContext)(D.Z);return u.createElement($.Z,(0,S.Z)({mode:"edit",valueEnum:(0,s.h)(H),request:q,params:V,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,y.Z)({options:G,mode:k,showSearch:_,getPopupContainer:re.getPopupContainer},R),ref:a,proFieldProps:Y},ee),h)}),B=u.forwardRef(function(o,a){var R=o.fieldProps,h=o.children,V=o.params,Y=o.proFieldProps,k=o.mode,H=o.valueEnum,q=o.request,_=o.options,G=(0,K.Z)(o,M),ee=(0,y.Z)({options:_,mode:k||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},R),re=(0,u.useContext)(D.Z);return u.createElement($.Z,(0,S.Z)({mode:"edit",valueEnum:(0,s.h)(H),request:q,params:V,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,y.Z)({getPopupContainer:re.getPopupContainer},ee),ref:a,proFieldProps:Y},G),h)}),P=W,T=B,p=P;p.SearchSelect=T,p.displayName="ProFormComponent",A.Z=p},5966:function(X,A,e){"use strict";var S=e(22122),y=e(81253),K=e(67294),u=e(98757),$=["fieldProps","proFieldProps"],s=["fieldProps","proFieldProps"],D="text",w=function(P){var T=P.fieldProps,p=P.proFieldProps,o=(0,y.Z)(P,$);return K.createElement(u.Z,(0,S.Z)({mode:"edit",valueType:D,fieldProps:T,filedConfig:{valueType:D},proFieldProps:p},o))},M=function(P){var T=P.fieldProps,p=P.proFieldProps,o=(0,y.Z)(P,s);return K.createElement(u.Z,(0,S.Z)({mode:"edit",valueType:"password",fieldProps:T,proFieldProps:p,filedConfig:{valueType:D}},o))},W=w;W.Password=M,W.displayName="ProFormComponent",A.Z=W},5393:function(X){X.exports={card:"card___1dsH6",errorIcon:"errorIcon___3jptF",anticon:"anticon___A0Hdx",errorPopover:"errorPopover___FGjVx",errorListItem:"errorListItem___1rmVg",errorField:"errorField___2Y7eW",editable:"editable___WRDur"}},64878:function(X,A,e){"use strict";e.r(A),e.d(A,{default:function(){return Ue}});var S=e(58024),y=e(39144),K=e(13062),u=e(71230),$=e(89032),s=e(15746),D=e(34792),w=e(48086),M=e(3182),W=e(20136),B=e(55241),P=e(2824),T=e(94043),p=e.n(T),o=e(73218),a=e(67294),R=e(22122),h=e(28991),V=e(81253),Y=e(98757),k=e(86190),H=e(66758),q=["fieldProps","proFieldProps"],_=["fieldProps","proFieldProps"],G="time",ee=a.forwardRef(function(r,i){var g=r.fieldProps,d=r.proFieldProps,I=(0,V.Z)(r,q),b=(0,a.useContext)(H.Z);return a.createElement(Y.Z,(0,R.Z)({ref:i,mode:"edit",fieldProps:(0,h.Z)({getPopupContainer:b.getPopupContainer},g),valueType:"timeRange",proFieldProps:d,filedConfig:{valueType:"timeRange",lightFilterLabelFormatter:function(z){return(0,k.Z)(z,"HH:mm:SS")}}},I))}),re=function(i){var g=i.fieldProps,d=i.proFieldProps,I=(0,V.Z)(i,_),b=(0,a.useContext)(H.Z);return a.createElement(Y.Z,(0,R.Z)({mode:"edit",fieldProps:(0,h.Z)({getPopupContainer:b.getPopupContainer},g),valueType:G,proFieldProps:d,filedConfig:{customLightMode:!0,valueType:G}},I))},se=re;se.RangePicker=ee;var Ee=se,ie=e(15196),ne=e(5966),J=e(64317),ge=e(34540),Qe=e(9715),Fe=e(93766),Xe=e(57663),xe=e(71577),Ce=e(96156),Ze=e(28481),ye=e(87757),de=e.n(ye),Te=e(92137),Re=e(21770),be=e(49101),ue=e(22270),je=e(48171),De=e(66646),Me=e(29443),Be=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue"],Ie=["record","position","creatorButtonText","newRecordType","parentKey"],me=a.createContext(void 0);function ce(r){var i=r.children,g=r.record,d=r.position,I=r.newRecordType,b=r.parentKey,F=(0,a.useContext)(me);return a.cloneElement(i,(0,h.Z)((0,h.Z)({},i.props),{},{onClick:function(){var z=(0,Te.Z)(de().mark(function x(m){var c,U,l,n;return de().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(c=(U=i.props).onClick)===null||c===void 0?void 0:c.call(U,m);case 2:if(n=Z.sent,n!==!1){Z.next=5;break}return Z.abrupt("return");case 5:F==null||(l=F.current)===null||l===void 0||l.addEditRecord(g,{position:d,newRecordType:I,parentKey:b});case 6:case"end":return Z.stop()}},x)}));function te(x){return z.apply(this,arguments)}return te}()}))}function ve(r){var i,g=r.onTableChange,d=r.maxLength,I=r.formItemProps,b=r.recordCreatorProps,F=r.rowKey,z=r.controlled,te=r.defaultValue,x=(0,V.Z)(r,Be),m=(0,a.useRef)(),c=(0,a.useRef)();(0,a.useImperativeHandle)(x.actionRef,function(){return m.current});var U=(0,Re.Z)(function(){return r.value||te||[]},{value:r.value,onChange:r.onChange}),l=(0,Ze.Z)(U,2),n=l[0],C=l[1],Z=a.useMemo(function(){return typeof F=="function"&&F?F:function(j,f){return j[F]||f}},[F]);(0,a.useEffect)(function(){!r.controlled||n.forEach(function(j,f){var v;(v=c.current)===null||v===void 0||v.setFieldsValue((0,Ce.Z)({},Z(j,f),j))},{})},[n,r.controlled]);var Q=b||{},$e=Q.record,fe=Q.position,we=Q.creatorButtonText,Ye=Q.newRecordType,He=Q.parentKey,Ge=(0,V.Z)(Q,Ie),Pe=fe==="top",ae=(0,a.useMemo)(function(){return d&&d<=(n==null?void 0:n.length)?!1:b!==!1&&a.createElement(ce,{record:(0,ue.h)($e,n==null?void 0:n.length,n)||{},position:fe,parentKey:(0,ue.h)(He,n==null?void 0:n.length,n),newRecordType:Ye},a.createElement(xe.Z,(0,R.Z)({type:"dashed",style:{display:"block",margin:"10px 0",width:"100%"},icon:a.createElement(be.Z,null)},Ge),we||"\u6DFB\u52A0\u4E00\u884C\u6570\u636E"))},[b,d,n==null?void 0:n.length]),Je=(0,a.useMemo)(function(){return ae?Pe?{components:{header:{wrapper:function(f){var v,O=f.className,L=f.children;return a.createElement("thead",{className:O},L,a.createElement("tr",{style:{position:"relative"}},a.createElement("td",{colSpan:0,style:{visibility:"hidden"}},ae),a.createElement("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(v=x.columns)===null||v===void 0?void 0:v.length},ae)))}}}}:{tableViewRender:function(f,v){var O,L;return a.createElement(a.Fragment,null,(O=(L=r.tableViewRender)===null||L===void 0?void 0:L.call(r,f,v))!==null&&O!==void 0?O:v,ae)}}:{}},[Pe,ae]),he=(0,h.Z)({},r.editable),ze=(0,je.J)(function(j,f){var v,O,L;if((v=r.editable)===null||v===void 0||(O=v.onValuesChange)===null||O===void 0||O.call(v,j,f),(L=r.onValuesChange)===null||L===void 0||L.call(r,f,j),r.controlled){var le;r==null||(le=r.onChange)===null||le===void 0||le.call(r,f)}});return((r==null?void 0:r.onValuesChange)||((i=r.editable)===null||i===void 0?void 0:i.onValuesChange)||r.controlled&&(r==null?void 0:r.onChange))&&(he.onValuesChange=ze),a.createElement(me.Provider,{value:m},a.createElement(Me.Z,(0,R.Z)({search:!1,options:!1,pagination:!1,rowKey:F,revalidateOnFocus:!1},x,Je,{tableLayout:"fixed",actionRef:m,onChange:g,dataSource:n,editable:(0,h.Z)((0,h.Z)({},he),{},{formProps:{formRef:c}}),onDataSourceChange:function(f){C(f)}})))}function pe(r){var i=r.name,g=r.formItemProps;return i?a.createElement(Fe.Z.Item,(0,R.Z)({style:{maxWidth:"100%"}},g,{name:r.name}),a.createElement(a.Fragment,null,a.createElement(De.gN,{shouldUpdate:!0,name:r.name,isList:!0},function(d){return a.createElement(ve,(0,R.Z)({},r,{value:d.value,onChange:d.onChange}))}))):a.createElement(ve,r)}pe.RecordCreator=ce;var Oe=pe,Le=e(85224),Ae=e(75362),Se=e(43581);function Ke(r){return oe.apply(this,arguments)}function oe(){return oe=(0,M.Z)(p().mark(function r(i){return p().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,Se.WY)("/api/advancedForm",{method:"POST",data:i}));case 1:case"end":return d.stop()}},r)})),oe.apply(this,arguments)}var We=e(5393),N=e.n(We),t=e(85893),E={name:"\u4ED3\u5E93\u540D",url:"\u4ED3\u5E93\u57DF\u540D",owner:"\u4ED3\u5E93\u7BA1\u7406\u5458",approver:"\u5BA1\u6279\u4EBA",dateRange:"\u751F\u6548\u65E5\u671F",type:"\u4ED3\u5E93\u7C7B\u578B",name2:"\u4EFB\u52A1\u540D",url2:"\u4EFB\u52A1\u63CF\u8FF0",owner2:"\u6267\u884C\u4EBA",approver2:"\u8D23\u4EFB\u4EBA",dateRange2:"\u751F\u6548\u65E5\u671F",type2:"\u4EFB\u52A1\u7C7B\u578B"},Ve=[{key:"1",workId:"00001",name:"John Brown",department:"New York No. 1 Lake Park"},{key:"2",workId:"00002",name:"Jim Green",department:"London No. 1 Lake Park"},{key:"3",workId:"00003",name:"Joe Black",department:"Sidney No. 1 Lake Park"}],Ne=function(){var i=(0,a.useState)([]),g=(0,P.Z)(i,2),d=g[0],I=g[1],b=function(m){var c=m.filter(function(n){return n.errors.length>0}).length;if(!m||c===0)return null;var U=function(C){var Z=document.querySelector('label[for="'.concat(C,'"]'));Z&&Z.scrollIntoView(!0)},l=m.map(function(n){if(!n||n.errors.length===0)return null;var C=n.name[0];return(0,t.jsxs)("li",{className:N().errorListItem,onClick:function(){return U(C)},children:[(0,t.jsx)(o.Z,{className:N().errorIcon}),(0,t.jsx)("div",{className:N().errorMessage,children:n.errors[0]}),(0,t.jsx)("div",{className:N().errorField,children:E[C]})]},C)});return(0,t.jsxs)("span",{className:N().errorIcon,children:[(0,t.jsx)(B.Z,{title:"\u8868\u5355\u6821\u9A8C\u4FE1\u606F",content:l,overlayClassName:N().errorPopover,trigger:"click",getPopupContainer:function(C){return C&&C.parentNode?C.parentNode:C},children:(0,t.jsx)(o.Z,{})}),c]})},F=function(){var x=(0,M.Z)(p().mark(function m(c){return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return I([]),l.prev=1,l.next=4,Ke(c);case 4:w.default.success("\u63D0\u4EA4\u6210\u529F"),l.next=9;break;case 7:l.prev=7,l.t0=l.catch(1);case 9:case"end":return l.stop()}},m,null,[[1,7]])}));return function(c){return x.apply(this,arguments)}}(),z=function(m){I(m.errorFields)},te=[{title:"\u6210\u5458\u59D3\u540D",dataIndex:"name",key:"name",width:"20%"},{title:"\u5DE5\u53F7",dataIndex:"workId",key:"workId",width:"20%"},{title:"\u6240\u5C5E\u90E8\u95E8",dataIndex:"department",key:"department",width:"40%"},{title:"\u64CD\u4F5C",key:"action",valueType:"option",render:function(m,c,U,l){return[(0,t.jsx)("a",{onClick:function(){l==null||l.startEditable(c.key)},children:"\u7F16\u8F91"},"eidit")]}}];return(0,t.jsx)(ie.ZP,{layout:"vertical",hideRequiredMark:!0,submitter:{render:function(m,c){return(0,t.jsxs)(Le.Z,{children:[b(d),c]})}},initialValues:{members:Ve},onFinish:F,onFinishFailed:z,children:(0,t.jsxs)(Ae.ZP,{content:"\u9AD8\u7EA7\u8868\u5355\u5E38\u89C1\u4E8E\u4E00\u6B21\u6027\u8F93\u5165\u548C\u63D0\u4EA4\u5927\u6279\u91CF\u6570\u636E\u7684\u573A\u666F\u3002",children:[(0,t.jsxs)(y.Z,{title:"\u4ED3\u5E93\u7BA1\u7406",className:N().card,bordered:!1,children:[(0,t.jsxs)(u.Z,{gutter:16,children:[(0,t.jsx)(s.Z,{lg:6,md:12,sm:24,children:(0,t.jsx)(ne.Z,{label:E.name,name:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4ED3\u5E93\u540D\u79F0"}],placeholder:"\u8BF7\u8F93\u5165\u4ED3\u5E93\u540D\u79F0"})}),(0,t.jsx)(s.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,t.jsx)(ne.Z,{label:E.url,name:"url",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}],fieldProps:{style:{width:"100%"},addonBefore:"http://",addonAfter:".com"},placeholder:"\u8BF7\u8F93\u5165"})}),(0,t.jsx)(s.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,t.jsx)(J.Z,{label:E.owner,name:"owner",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}],placeholder:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"})})]}),(0,t.jsxs)(u.Z,{gutter:16,children:[(0,t.jsx)(s.Z,{lg:6,md:12,sm:24,children:(0,t.jsx)(J.Z,{label:E.approver,name:"approver",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}],placeholder:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"})}),(0,t.jsx)(s.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,t.jsx)(ge.Z,{label:E.dateRange,name:"dateRange",fieldProps:{style:{width:"100%"}},rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u751F\u6548\u65E5\u671F"}]})}),(0,t.jsx)(s.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,t.jsx)(J.Z,{label:E.type,name:"type",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"}],options:[{label:"\u79C1\u5BC6",value:"private"},{label:"\u516C\u5F00",value:"public"}],placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"})})]})]}),(0,t.jsxs)(y.Z,{title:"\u4EFB\u52A1\u7BA1\u7406",className:N().card,bordered:!1,children:[(0,t.jsxs)(u.Z,{gutter:16,children:[(0,t.jsx)(s.Z,{lg:6,md:12,sm:24,children:(0,t.jsx)(ne.Z,{label:E.name2,name:"name2",rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}]})}),(0,t.jsx)(s.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,t.jsx)(ne.Z,{label:E.url2,name:"url2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}]})}),(0,t.jsx)(s.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,t.jsx)(J.Z,{label:E.owner2,name:"owner2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}]})})]}),(0,t.jsxs)(u.Z,{gutter:16,children:[(0,t.jsx)(s.Z,{lg:6,md:12,sm:24,children:(0,t.jsx)(J.Z,{label:E.approver2,name:"approver2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}],placeholder:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"})}),(0,t.jsx)(s.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,t.jsx)(Ee,{label:E.dateRange2,name:"dateRange2",rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}],placeholder:"\u63D0\u9192\u65F6\u95F4",fieldProps:{style:{width:"100%"}}})}),(0,t.jsx)(s.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,t.jsx)(J.Z,{label:E.type2,name:"type2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"}],options:[{label:"\u79C1\u5BC6",value:"private"},{label:"\u516C\u5F00",value:"public"}],placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"})})]})]}),(0,t.jsx)(y.Z,{title:"\u6210\u5458\u7BA1\u7406",bordered:!1,children:(0,t.jsx)(ie.ZP.Item,{name:"members",children:(0,t.jsx)(Oe,{recordCreatorProps:{record:function(){return{key:"0".concat(Date.now())}}},columns:te,rowKey:"key"})})})]})})},Ue=Ne}}]);
